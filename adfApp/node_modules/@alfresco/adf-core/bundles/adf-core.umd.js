(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/common/http'), require('@angular/core'), require('rxjs'), require('rxjs/operators'), require('alfresco-js-api'), require('@angular/material'), require('moment'), require('moment-es6'), require('@mat-datetimepicker/core'), require('@angular/cdk/overlay'), require('@angular/cdk/scrolling'), require('@angular/animations'), require('@angular/cdk/keycodes'), require('@angular/cdk/a11y'), require('@angular/cdk/portal'), require('@angular/common'), require('@ngx-translate/core'), require('@angular/platform-browser'), require('@angular/router'), require('@angular/forms'), require('@angular/flex-layout'), require('@mat-datetimepicker/moment'), require('@angular/cdk/layout'), require('minimatch-browser'), require('@angular/core/testing')) :
    typeof define === 'function' && define.amd ? define('@alfresco/adf-core', ['exports', '@angular/common/http', '@angular/core', 'rxjs', 'rxjs/operators', 'alfresco-js-api', '@angular/material', 'moment', 'moment-es6', '@mat-datetimepicker/core', '@angular/cdk/overlay', '@angular/cdk/scrolling', '@angular/animations', '@angular/cdk/keycodes', '@angular/cdk/a11y', '@angular/cdk/portal', '@angular/common', '@ngx-translate/core', '@angular/platform-browser', '@angular/router', '@angular/forms', '@angular/flex-layout', '@mat-datetimepicker/moment', '@angular/cdk/layout', 'minimatch-browser', '@angular/core/testing'], factory) :
    (factory((global.alfresco = global.alfresco || {}, global.alfresco['adf-core'] = {}),global.ng.common.http,global.ng.core,global.rxjs,global.rxjs.operators,global['alfresco-js-api'],global['@angular/material'],global.moment,global['moment-es6'],global['@mat-datetimepicker/core'],global.ng.cdk.overlay,global.ng.cdk.scrolling,global['@angular/animations'],global.ng.cdk.keycodes,global.ng.cdk.a11y,global.ng.cdk.portal,global.ng.common,global['@ngx-translate/core'],global.ng.platformBrowser,global.ng.router,global.ng.forms,global['@angular/flex-layout'],global['@mat-datetimepicker/moment'],global.ng.cdk.layout,global.minimatchBrowser,global.ng.core.testing));
}(this, (function (exports,http,i0,rxjs,operators,alfrescoApi,material,moment,moment$1,core,overlay,scrolling,animations,keycodes,a11y,portal,common,core$1,platformBrowser,router,forms,flexLayout,moment$2,layout,minimatchBrowser,testing) { 'use strict';

    moment$1 = moment$1 && moment$1.hasOwnProperty('default') ? moment$1['default'] : moment$1;

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    /* global Reflect, Promise */
    var extendStatics = function (d, b) {
        extendStatics = Object.setPrototypeOf ||
            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||
            function (d, b) { for (var p in b)
                if (b.hasOwnProperty(p))
                    d[p] = b[p]; };
        return extendStatics(d, b);
    };
    function __extends(d, b) {
        extendStatics(d, b);
        function __() { this.constructor = d; }
        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());
    }
    var __assign = function () {
        __assign = Object.assign || function __assign(t) {
            for (var s, i = 1, n = arguments.length; i < n; i++) {
                s = arguments[i];
                for (var p in s)
                    if (Object.prototype.hasOwnProperty.call(s, p))
                        t[p] = s[p];
            }
            return t;
        };
        return __assign.apply(this, arguments);
    };
    function __awaiter(thisArg, _arguments, P, generator) {
        return new (P || (P = Promise))(function (resolve, reject) {
            function fulfilled(value) { try {
                step(generator.next(value));
            }
            catch (e) {
                reject(e);
            } }
            function rejected(value) { try {
                step(generator["throw"](value));
            }
            catch (e) {
                reject(e);
            } }
            function step(result) { result.done ? resolve(result.value) : new P(function (resolve) { resolve(result.value); }).then(fulfilled, rejected); }
            step((generator = generator.apply(thisArg, _arguments || [])).next());
        });
    }
    function __generator(thisArg, body) {
        var _ = { label: 0, sent: function () { if (t[0] & 1)
                throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;
        return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function () { return this; }), g;
        function verb(n) { return function (v) { return step([n, v]); }; }
        function step(op) {
            if (f)
                throw new TypeError("Generator is already executing.");
            while (_)
                try {
                    if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done)
                        return t;
                    if (y = 0, t)
                        op = [op[0] & 2, t.value];
                    switch (op[0]) {
                        case 0:
                        case 1:
                            t = op;
                            break;
                        case 4:
                            _.label++;
                            return { value: op[1], done: false };
                        case 5:
                            _.label++;
                            y = op[1];
                            op = [0];
                            continue;
                        case 7:
                            op = _.ops.pop();
                            _.trys.pop();
                            continue;
                        default:
                            if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) {
                                _ = 0;
                                continue;
                            }
                            if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) {
                                _.label = op[1];
                                break;
                            }
                            if (op[0] === 6 && _.label < t[1]) {
                                _.label = t[1];
                                t = op;
                                break;
                            }
                            if (t && _.label < t[2]) {
                                _.label = t[2];
                                _.ops.push(op);
                                break;
                            }
                            if (t[2])
                                _.ops.pop();
                            _.trys.pop();
                            continue;
                    }
                    op = body.call(thisArg, _);
                }
                catch (e) {
                    op = [6, e];
                    y = 0;
                }
                finally {
                    f = t = 0;
                }
            if (op[0] & 5)
                throw op[1];
            return { value: op[0] ? op[1] : void 0, done: true };
        }
    }
    function __values(o) {
        var m = typeof Symbol === "function" && o[Symbol.iterator], i = 0;
        if (m)
            return m.call(o);
        return {
            next: function () {
                if (o && i >= o.length)
                    o = void 0;
                return { value: o && o[i++], done: !o };
            }
        };
    }
    function __read(o, n) {
        var m = typeof Symbol === "function" && o[Symbol.iterator];
        if (!m)
            return o;
        var i = m.call(o), r, ar = [], e;
        try {
            while ((n === void 0 || n-- > 0) && !(r = i.next()).done)
                ar.push(r.value);
        }
        catch (error) {
            e = { error: error };
        }
        finally {
            try {
                if (r && !r.done && (m = i["return"]))
                    m.call(i);
            }
            finally {
                if (e)
                    throw e.error;
            }
        }
        return ar;
    }
    function __spread() {
        for (var ar = [], i = 0; i < arguments.length; i++)
            ar = ar.concat(__read(arguments[i]));
        return ar;
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var ObjectUtils = /** @class */ (function () {
        function ObjectUtils() {
        }
        /**
         * Gets a value from an object by composed key
         * ObjectUtils.getValue({ item: { nodeType: 'cm:folder' }}, 'item.nodeType') ==> 'cm:folder'
         * @param target
         * @param key
         */
        /**
         * Gets a value from an object by composed key
         * ObjectUtils.getValue({ item: { nodeType: 'cm:folder' }}, 'item.nodeType') ==> 'cm:folder'
         * @param {?} target
         * @param {?} key
         * @return {?}
         */
        ObjectUtils.getValue = /**
         * Gets a value from an object by composed key
         * ObjectUtils.getValue({ item: { nodeType: 'cm:folder' }}, 'item.nodeType') ==> 'cm:folder'
         * @param {?} target
         * @param {?} key
         * @return {?}
         */
            function (target, key) {
                if (!target) {
                    return undefined;
                }
                /** @type {?} */
                var keys = key.split('.');
                key = '';
                do {
                    key += keys.shift();
                    /** @type {?} */
                    var value = target[key];
                    if (value !== undefined && (typeof value === 'object' || !keys.length)) {
                        target = value;
                        key = '';
                    }
                    else if (!keys.length) {
                        target = undefined;
                    }
                    else {
                        key += '.';
                    }
                } while (keys.length);
                return target;
            };
        /**
         * @param {...?} objects
         * @return {?}
         */
        ObjectUtils.merge = /**
         * @param {...?} objects
         * @return {?}
         */
            function () {
                var objects = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    objects[_i] = arguments[_i];
                }
                /** @type {?} */
                var result = {};
                objects.forEach(function (source) {
                    Object.keys(source).forEach(function (prop) {
                        if (prop in result && Array.isArray(result[prop])) {
                            result[prop] = result[prop].concat(source[prop]);
                        }
                        else if (prop in result && typeof result[prop] === 'object') {
                            result[prop] = ObjectUtils.merge(result[prop], source[prop]);
                        }
                        else {
                            result[prop] = source[prop];
                        }
                    });
                });
                return result;
            };
        return ObjectUtils;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @enum {string} */
    var AppConfigValues = {
        APP_CONFIG_LANGUAGES_KEY: 'languages',
        PROVIDERS: 'providers',
        OAUTHCONFIG: 'oauth2',
        ECMHOST: 'ecmHost',
        BASESHAREURL: 'baseShareUrl',
        BPMHOST: 'bpmHost',
        AUTHTYPE: 'authType',
        CONTEXTROOTECM: 'contextRootEcm',
        CONTEXTROOTBPM: 'contextRootBpm',
        ALFRESCO_REPOSITORY_NAME: 'alfrescoRepositoryName',
        LOG_LEVEL: 'logLevel',
        LOGIN_ROUTE: 'loginRoute',
        DISABLECSRF: 'disableCSRF',
    };
    var AppConfigService = /** @class */ (function () {
        function AppConfigService(http$$1) {
            this.http = http$$1;
            this.config = {
                application: {
                    name: 'Alfresco ADF Application'
                },
                ecmHost: 'http://{hostname}{:port}/ecm',
                bpmHost: 'http://{hostname}{:port}/bpm',
                logLevel: 'silent',
                alfrescoRepositoryName: 'alfresco-1'
            };
            this.onLoadSubject = new rxjs.Subject();
            this.onLoad = this.onLoadSubject.asObservable();
        }
        /**
         * Requests notification of a property value when it is loaded.
         * @param property The desired property value
         * @returns Property value, when loaded
         */
        /**
         * Requests notification of a property value when it is loaded.
         * @param {?} property The desired property value
         * @return {?} Property value, when loaded
         */
        AppConfigService.prototype.select = /**
         * Requests notification of a property value when it is loaded.
         * @param {?} property The desired property value
         * @return {?} Property value, when loaded
         */
            function (property) {
                return this.onLoadSubject
                    .pipe(operators.map(function (config) { return config[property]; }), operators.distinctUntilChanged());
            };
        /**
         * Gets the value of a named property.
         * @param key Name of the property
         * @param defaultValue Value to return if the key is not found
         * @returns Value of the property
         */
        /**
         * Gets the value of a named property.
         * @template T
         * @param {?} key Name of the property
         * @param {?=} defaultValue Value to return if the key is not found
         * @return {?} Value of the property
         */
        AppConfigService.prototype.get = /**
         * Gets the value of a named property.
         * @template T
         * @param {?} key Name of the property
         * @param {?=} defaultValue Value to return if the key is not found
         * @return {?} Value of the property
         */
            function (key, defaultValue) {
                /** @type {?} */
                var result = ObjectUtils.getValue(this.config, key);
                if (typeof result === 'string') {
                    /** @type {?} */
                    var keywords = new Map();
                    keywords.set('hostname', this.getLocationHostname());
                    keywords.set(':port', this.getLocationPort(':'));
                    keywords.set('port', this.getLocationPort());
                    keywords.set('protocol', this.getLocationProtocol());
                    result = this.formatString(result, keywords);
                }
                if (result === undefined) {
                    return defaultValue;
                }
                return /** @type {?} */ (result);
            };
        /**
         * Gets the location.protocol value.
         * @returns The location.protocol string
         */
        /**
         * Gets the location.protocol value.
         * @return {?} The location.protocol string
         */
        AppConfigService.prototype.getLocationProtocol = /**
         * Gets the location.protocol value.
         * @return {?} The location.protocol string
         */
            function () {
                return location.protocol;
            };
        /**
         * Gets the location.hostname property.
         * @returns Value of the property
         */
        /**
         * Gets the location.hostname property.
         * @return {?} Value of the property
         */
        AppConfigService.prototype.getLocationHostname = /**
         * Gets the location.hostname property.
         * @return {?} Value of the property
         */
            function () {
                return location.hostname;
            };
        /**
         * Gets the location.port property.
         * @param prefix Text added before port value
         * @returns Port with prefix
         */
        /**
         * Gets the location.port property.
         * @param {?=} prefix Text added before port value
         * @return {?} Port with prefix
         */
        AppConfigService.prototype.getLocationPort = /**
         * Gets the location.port property.
         * @param {?=} prefix Text added before port value
         * @return {?} Port with prefix
         */
            function (prefix) {
                if (prefix === void 0) {
                    prefix = '';
                }
                return location.port ? prefix + location.port : '';
            };
        /**
         * Loads the config file.
         * @returns Notification when loading is complete
         */
        /**
         * Loads the config file.
         * @return {?} Notification when loading is complete
         */
        AppConfigService.prototype.load = /**
         * Loads the config file.
         * @return {?} Notification when loading is complete
         */
            function () {
                var _this = this;
                return new Promise(function (resolve) {
                    /** @type {?} */
                    var configUrl = "app.config.json?v=" + Date.now();
                    _this.http.get(configUrl).subscribe(function (data) {
                        _this.config = Object.assign({}, _this.config, data || {});
                        _this.onLoadSubject.next(_this.config);
                        resolve(_this.config);
                    }, function () {
                        resolve(_this.config);
                    });
                });
            };
        /**
         * @param {?} str
         * @param {?} keywords
         * @return {?}
         */
        AppConfigService.prototype.formatString = /**
         * @param {?} str
         * @param {?} keywords
         * @return {?}
         */
            function (str, keywords) {
                /** @type {?} */
                var result = str;
                keywords.forEach(function (value, key) {
                    /** @type {?} */
                    var expr = new RegExp('{' + key + '}', 'gm');
                    result = result.replace(expr, value);
                });
                return result;
            };
        AppConfigService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        AppConfigService.ctorParameters = function () {
            return [
                { type: http.HttpClient }
            ];
        };
        return AppConfigService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var StorageService = /** @class */ (function () {
        function StorageService() {
            this.memoryStore = {};
            this.useLocalStorage = false;
            this.useLocalStorage = this.storageAvailable('localStorage');
        }
        /**
         * Gets an item.
         * @param key Key to identify the item
         * @returns The item (if any) retrieved by the key
         */
        /**
         * Gets an item.
         * @param {?} key Key to identify the item
         * @return {?} The item (if any) retrieved by the key
         */
        StorageService.prototype.getItem = /**
         * Gets an item.
         * @param {?} key Key to identify the item
         * @return {?} The item (if any) retrieved by the key
         */
            function (key) {
                if (this.useLocalStorage) {
                    return localStorage.getItem(key);
                }
                else {
                    return this.memoryStore.hasOwnProperty(key) ? this.memoryStore[key] : null;
                }
            };
        /**
         * Stores an item
         * @param key Key to identify the item
         * @param data Data to store
         */
        /**
         * Stores an item
         * @param {?} key Key to identify the item
         * @param {?} data Data to store
         * @return {?}
         */
        StorageService.prototype.setItem = /**
         * Stores an item
         * @param {?} key Key to identify the item
         * @param {?} data Data to store
         * @return {?}
         */
            function (key, data) {
                if (this.useLocalStorage) {
                    localStorage.setItem(key, data);
                }
                else {
                    this.memoryStore[key] = data.toString();
                }
            };
        /** Removes all currently stored items. */
        /**
         * Removes all currently stored items.
         * @return {?}
         */
        StorageService.prototype.clear = /**
         * Removes all currently stored items.
         * @return {?}
         */
            function () {
                if (this.useLocalStorage) {
                    localStorage.clear();
                }
                else {
                    this.memoryStore = {};
                }
            };
        /**
         * Removes a single item.
         * @param key Key to identify the item
         */
        /**
         * Removes a single item.
         * @param {?} key Key to identify the item
         * @return {?}
         */
        StorageService.prototype.removeItem = /**
         * Removes a single item.
         * @param {?} key Key to identify the item
         * @return {?}
         */
            function (key) {
                if (this.useLocalStorage) {
                    localStorage.removeItem(key);
                }
                else {
                    delete this.memoryStore[key];
                }
            };
        /**
         * Is any item currently stored under `key`?
         * @param key Key identifying item to check
         * @returns True if key retrieves an item, false otherwise
         */
        /**
         * Is any item currently stored under `key`?
         * @param {?} key Key identifying item to check
         * @return {?} True if key retrieves an item, false otherwise
         */
        StorageService.prototype.hasItem = /**
         * Is any item currently stored under `key`?
         * @param {?} key Key identifying item to check
         * @return {?} True if key retrieves an item, false otherwise
         */
            function (key) {
                if (this.useLocalStorage) {
                    return localStorage.getItem(key) ? true : false;
                }
                else {
                    return this.memoryStore.hasOwnProperty(key);
                }
            };
        /**
         * @param {?} type
         * @return {?}
         */
        StorageService.prototype.storageAvailable = /**
         * @param {?} type
         * @return {?}
         */
            function (type) {
                try {
                    /** @type {?} */
                    var storage = window[type];
                    /** @type {?} */
                    var key = '__storage_test__';
                    storage.setItem(key, key);
                    storage.removeItem(key, key);
                    return true;
                }
                catch (e) {
                    return false;
                }
            };
        StorageService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        StorageService.ctorParameters = function () { return []; };
        return StorageService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AlfrescoApiService = /** @class */ (function () {
        function AlfrescoApiService(appConfig, storage) {
            this.appConfig = appConfig;
            this.storage = storage;
            /**
             * Publish/subscribe to events related to node updates.
             */
            this.nodeUpdated = new rxjs.Subject();
        }
        /**
         * @return {?}
         */
        AlfrescoApiService.prototype.getInstance = /**
         * @return {?}
         */
            function () {
                return this.alfrescoApi;
            };
        Object.defineProperty(AlfrescoApiService.prototype, "taskApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().activiti.taskApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AlfrescoApiService.prototype, "modelsApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().activiti.modelsApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AlfrescoApiService.prototype, "contentApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().content;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AlfrescoApiService.prototype, "nodesApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().nodes;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AlfrescoApiService.prototype, "renditionsApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().core.renditionsApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AlfrescoApiService.prototype, "sharedLinksApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().core.sharedlinksApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AlfrescoApiService.prototype, "sitesApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().core.sitesApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AlfrescoApiService.prototype, "favoritesApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().core.favoritesApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AlfrescoApiService.prototype, "peopleApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().core.peopleApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AlfrescoApiService.prototype, "searchApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().search.searchApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AlfrescoApiService.prototype, "versionsApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().core.versionsApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AlfrescoApiService.prototype, "classesApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().core.classesApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AlfrescoApiService.prototype, "groupsApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().core.groupsApi;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        AlfrescoApiService.prototype.load = /**
         * @return {?}
         */
            function () {
                return __awaiter(this, void 0, void 0, function () {
                    var _this = this;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0: return [4 /*yield*/, this.appConfig.load().then(function () {
                                    _this.initAlfrescoApi();
                                })];
                            case 1:
                                _a.sent();
                                return [2 /*return*/];
                        }
                    });
                });
            };
        /**
         * @return {?}
         */
        AlfrescoApiService.prototype.reset = /**
         * @return {?}
         */
            function () {
                return __awaiter(this, void 0, void 0, function () {
                    return __generator(this, function (_a) {
                        this.initAlfrescoApi();
                        return [2 /*return*/];
                    });
                });
            };
        /**
         * @return {?}
         */
        AlfrescoApiService.prototype.initAlfrescoApi = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var oauth = Object.assign({}, this.appConfig.get(AppConfigValues.OAUTHCONFIG, null));
                if (oauth) {
                    oauth.redirectUri = window.location.origin + (oauth.redirectUri || '/');
                    oauth.redirectUriLogout = window.location.origin + (oauth.redirectUriLogout || '/');
                }
                /** @type {?} */
                var config = {
                    provider: this.getProvider(),
                    hostEcm: this.appConfig.get(AppConfigValues.ECMHOST),
                    hostBpm: this.appConfig.get(AppConfigValues.BPMHOST),
                    authType: this.appConfig.get(AppConfigValues.AUTHTYPE, 'BASIC'),
                    contextRootBpm: this.appConfig.get(AppConfigValues.CONTEXTROOTBPM),
                    contextRoot: this.appConfig.get(AppConfigValues.CONTEXTROOTECM),
                    disableCsrf: this.getDisableCSRF(),
                    oauth2: oauth
                };
                if (this.alfrescoApi) {
                    this.alfrescoApi.configureJsApi(config);
                }
                else {
                    this.alfrescoApi = /** @type {?} */ (new alfrescoApi(config));
                }
            };
        /**
         * @return {?}
         */
        AlfrescoApiService.prototype.getDisableCSRF = /**
         * @return {?}
         */
            function () {
                if (this.storage.getItem(AppConfigValues.DISABLECSRF) === 'true') {
                    return true;
                }
                else {
                    return this.appConfig.get(AppConfigValues.DISABLECSRF);
                }
            };
        /**
         * @return {?}
         */
        AlfrescoApiService.prototype.getProvider = /**
         * @return {?}
         */
            function () {
                return this.storage.getItem(AppConfigValues.PROVIDERS) || this.appConfig.get(AppConfigValues.PROVIDERS);
            };
        AlfrescoApiService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        AlfrescoApiService.ctorParameters = function () {
            return [
                { type: AppConfigService },
                { type: StorageService }
            ];
        };
        return AlfrescoApiService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CookieService = /** @class */ (function () {
        function CookieService() {
        }
        /**
         * Checks if cookies are enabled.
         * @returns True if enabled, false otherwise
         */
        /**
         * Checks if cookies are enabled.
         * @return {?} True if enabled, false otherwise
         */
        CookieService.prototype.isEnabled = /**
         * Checks if cookies are enabled.
         * @return {?} True if enabled, false otherwise
         */
            function () {
                // for certain scenarios Chrome may say 'true' but have cookies still disabled
                if (navigator.cookieEnabled === false) {
                    return false;
                }
                document.cookie = 'test-cookie';
                return document.cookie.indexOf('test-cookie') >= 0;
            };
        /**
         * Retrieves a cookie by its key.
         * @param key Key to identify the cookie
         * @returns The cookie data or null if it is not found
         */
        /**
         * Retrieves a cookie by its key.
         * @param {?} key Key to identify the cookie
         * @return {?} The cookie data or null if it is not found
         */
        CookieService.prototype.getItem = /**
         * Retrieves a cookie by its key.
         * @param {?} key Key to identify the cookie
         * @return {?} The cookie data or null if it is not found
         */
            function (key) {
                /** @type {?} */
                var regexp = new RegExp('(?:' + key + '|;\s*' + key + ')=(.*?)(?:;|$)', 'g');
                /** @type {?} */
                var result = regexp.exec(document.cookie);
                return (result === null) ? null : result[1];
            };
        /**
         * Sets a cookie.
         * @param key Key to identify the cookie
         * @param data Data value to set for the cookie
         * @param expiration Expiration date of the data
         * @param path "Pathname" to store the cookie
         */
        /**
         * Sets a cookie.
         * @param {?} key Key to identify the cookie
         * @param {?} data Data value to set for the cookie
         * @param {?} expiration Expiration date of the data
         * @param {?} path "Pathname" to store the cookie
         * @return {?}
         */
        CookieService.prototype.setItem = /**
         * Sets a cookie.
         * @param {?} key Key to identify the cookie
         * @param {?} data Data value to set for the cookie
         * @param {?} expiration Expiration date of the data
         * @param {?} path "Pathname" to store the cookie
         * @return {?}
         */
            function (key, data, expiration, path) {
                document.cookie = key + "=" + data +
                    (expiration ? ';expires=' + expiration.toUTCString() : '') +
                    (path ? ";path=" + path : ';path=/');
            };
        /** Placeholder for testing purposes - do not use. */
        /**
         * Placeholder for testing purposes - do not use.
         * @return {?}
         */
        CookieService.prototype.clear = /**
         * Placeholder for testing purposes - do not use.
         * @return {?}
         */
            function () {
                /* placeholder for testing purposes */
            };
        CookieService.decorators = [
            { type: i0.Injectable }
        ];
        return CookieService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LogLevelsEnum = /** @class */ (function (_super) {
        __extends(LogLevelsEnum, _super);
        function LogLevelsEnum() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        LogLevelsEnum.TRACE = 5;
        LogLevelsEnum.DEBUG = 4;
        LogLevelsEnum.INFO = 3;
        LogLevelsEnum.WARN = 2;
        LogLevelsEnum.ERROR = 1;
        LogLevelsEnum.SILENT = 0;
        return LogLevelsEnum;
    }(Number));
    /** @type {?} */
    var logLevels = [
        { level: LogLevelsEnum.TRACE, name: 'TRACE' },
        { level: LogLevelsEnum.DEBUG, name: 'DEBUG' },
        { level: LogLevelsEnum.INFO, name: 'INFO' },
        { level: LogLevelsEnum.WARN, name: 'WARN' },
        { level: LogLevelsEnum.ERROR, name: 'ERROR' },
        { level: LogLevelsEnum.SILENT, name: 'SILENT' }
    ];

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LogService = /** @class */ (function () {
        function LogService(appConfig) {
            this.appConfig = appConfig;
            this.onMessage = new rxjs.Subject();
        }
        Object.defineProperty(LogService.prototype, "currentLogLevel", {
            get: /**
             * @return {?}
             */ function () {
                /** @type {?} */
                var configLevel = this.appConfig.get(AppConfigValues.LOG_LEVEL);
                if (configLevel) {
                    return this.getLogLevel(configLevel);
                }
                return LogLevelsEnum.TRACE;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Logs a message at the "ERROR" level.
         * @param message Message to log
         * @param optionalParams Interpolation values for the message in "printf" format
         */
        /**
         * Logs a message at the "ERROR" level.
         * @param {?=} message Message to log
         * @param {...?} optionalParams Interpolation values for the message in "printf" format
         * @return {?}
         */
        LogService.prototype.error = /**
         * Logs a message at the "ERROR" level.
         * @param {?=} message Message to log
         * @param {...?} optionalParams Interpolation values for the message in "printf" format
         * @return {?}
         */
            function (message) {
                var optionalParams = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    optionalParams[_i - 1] = arguments[_i];
                }
                if (this.currentLogLevel >= LogLevelsEnum.ERROR) {
                    this.messageBus(message, 'ERROR');
                    console.error.apply(console, __spread([message], optionalParams));
                }
            };
        /**
         * Logs a message at the "DEBUG" level.
         * @param message Message to log
         * @param optionalParams Interpolation values for the message in "printf" format
         */
        /**
         * Logs a message at the "DEBUG" level.
         * @param {?=} message Message to log
         * @param {...?} optionalParams Interpolation values for the message in "printf" format
         * @return {?}
         */
        LogService.prototype.debug = /**
         * Logs a message at the "DEBUG" level.
         * @param {?=} message Message to log
         * @param {...?} optionalParams Interpolation values for the message in "printf" format
         * @return {?}
         */
            function (message) {
                var optionalParams = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    optionalParams[_i - 1] = arguments[_i];
                }
                if (this.currentLogLevel >= LogLevelsEnum.DEBUG) {
                    this.messageBus(message, 'DEBUG');
                    console.debug.apply(console, __spread([message], optionalParams));
                }
            };
        /**
         * Logs a message at the "INFO" level.
         * @param message Message to log
         * @param optionalParams Interpolation values for the message in "printf" format
         */
        /**
         * Logs a message at the "INFO" level.
         * @param {?=} message Message to log
         * @param {...?} optionalParams Interpolation values for the message in "printf" format
         * @return {?}
         */
        LogService.prototype.info = /**
         * Logs a message at the "INFO" level.
         * @param {?=} message Message to log
         * @param {...?} optionalParams Interpolation values for the message in "printf" format
         * @return {?}
         */
            function (message) {
                var optionalParams = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    optionalParams[_i - 1] = arguments[_i];
                }
                if (this.currentLogLevel >= LogLevelsEnum.INFO) {
                    this.messageBus(message, 'INFO');
                    console.info.apply(console, __spread([message], optionalParams));
                }
            };
        /**
         * Logs a message at any level from "TRACE" upwards.
         * @param message Message to log
         * @param optionalParams Interpolation values for the message in "printf" format
         */
        /**
         * Logs a message at any level from "TRACE" upwards.
         * @param {?=} message Message to log
         * @param {...?} optionalParams Interpolation values for the message in "printf" format
         * @return {?}
         */
        LogService.prototype.log = /**
         * Logs a message at any level from "TRACE" upwards.
         * @param {?=} message Message to log
         * @param {...?} optionalParams Interpolation values for the message in "printf" format
         * @return {?}
         */
            function (message) {
                var optionalParams = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    optionalParams[_i - 1] = arguments[_i];
                }
                if (this.currentLogLevel >= LogLevelsEnum.TRACE) {
                    this.messageBus(message, 'LOG');
                    console.log.apply(console, __spread([message], optionalParams));
                }
            };
        /**
         * Logs a message at the "TRACE" level.
         * @param message Message to log
         * @param optionalParams Interpolation values for the message in "printf" format
         */
        /**
         * Logs a message at the "TRACE" level.
         * @param {?=} message Message to log
         * @param {...?} optionalParams Interpolation values for the message in "printf" format
         * @return {?}
         */
        LogService.prototype.trace = /**
         * Logs a message at the "TRACE" level.
         * @param {?=} message Message to log
         * @param {...?} optionalParams Interpolation values for the message in "printf" format
         * @return {?}
         */
            function (message) {
                var optionalParams = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    optionalParams[_i - 1] = arguments[_i];
                }
                if (this.currentLogLevel >= LogLevelsEnum.TRACE) {
                    this.messageBus(message, 'TRACE');
                    console.trace.apply(console, __spread([message], optionalParams));
                }
            };
        /**
         * Logs a message at the "WARN" level.
         * @param message Message to log
         * @param optionalParams Interpolation values for the message in "printf" format
         */
        /**
         * Logs a message at the "WARN" level.
         * @param {?=} message Message to log
         * @param {...?} optionalParams Interpolation values for the message in "printf" format
         * @return {?}
         */
        LogService.prototype.warn = /**
         * Logs a message at the "WARN" level.
         * @param {?=} message Message to log
         * @param {...?} optionalParams Interpolation values for the message in "printf" format
         * @return {?}
         */
            function (message) {
                var optionalParams = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    optionalParams[_i - 1] = arguments[_i];
                }
                if (this.currentLogLevel >= LogLevelsEnum.WARN) {
                    this.messageBus(message, 'WARN');
                    console.warn.apply(console, __spread([message], optionalParams));
                }
            };
        /**
         * Logs a message if a boolean test fails.
         * @param test Test value (typically a boolean expression)
         * @param message Message to show if test is false
         * @param optionalParams Interpolation values for the message in "printf" format
         */
        /**
         * Logs a message if a boolean test fails.
         * @param {?=} test Test value (typically a boolean expression)
         * @param {?=} message Message to show if test is false
         * @param {...?} optionalParams Interpolation values for the message in "printf" format
         * @return {?}
         */
        LogService.prototype.assert = /**
         * Logs a message if a boolean test fails.
         * @param {?=} test Test value (typically a boolean expression)
         * @param {?=} message Message to show if test is false
         * @param {...?} optionalParams Interpolation values for the message in "printf" format
         * @return {?}
         */
            function (test, message) {
                var optionalParams = [];
                for (var _i = 2; _i < arguments.length; _i++) {
                    optionalParams[_i - 2] = arguments[_i];
                }
                if (this.currentLogLevel !== LogLevelsEnum.SILENT) {
                    this.messageBus(message, 'ASSERT');
                    console.assert.apply(console, __spread([test, message], optionalParams));
                }
            };
        /**
         * Starts an indented group of log messages.
         * @param groupTitle Title shown at the start of the group
         * @param optionalParams Interpolation values for the title in "printf" format
         */
        /**
         * Starts an indented group of log messages.
         * @param {?=} groupTitle Title shown at the start of the group
         * @param {...?} optionalParams Interpolation values for the title in "printf" format
         * @return {?}
         */
        LogService.prototype.group = /**
         * Starts an indented group of log messages.
         * @param {?=} groupTitle Title shown at the start of the group
         * @param {...?} optionalParams Interpolation values for the title in "printf" format
         * @return {?}
         */
            function (groupTitle) {
                var optionalParams = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    optionalParams[_i - 1] = arguments[_i];
                }
                if (this.currentLogLevel !== LogLevelsEnum.SILENT) {
                    console.group.apply(console, __spread([groupTitle], optionalParams));
                }
            };
        /**
         * Ends a indented group of log messages.
         */
        /**
         * Ends a indented group of log messages.
         * @return {?}
         */
        LogService.prototype.groupEnd = /**
         * Ends a indented group of log messages.
         * @return {?}
         */
            function () {
                if (this.currentLogLevel !== LogLevelsEnum.SILENT) {
                    console.groupEnd();
                }
            };
        /**
         * Converts a log level name string into its numeric equivalent.
         * @param level Level name
         * @returns Numeric log level
         */
        /**
         * Converts a log level name string into its numeric equivalent.
         * @param {?} level Level name
         * @return {?} Numeric log level
         */
        LogService.prototype.getLogLevel = /**
         * Converts a log level name string into its numeric equivalent.
         * @param {?} level Level name
         * @return {?} Numeric log level
         */
            function (level) {
                /** @type {?} */
                var referencedLevel = logLevels.find(function (currentLevel) {
                    return currentLevel.name.toLocaleLowerCase() === level.toLocaleLowerCase();
                });
                return referencedLevel ? referencedLevel.level : 5;
            };
        /**
         * Triggers notification callback for log messages.
         * @param text Message text
         * @param logLevel Log level for the message
         */
        /**
         * Triggers notification callback for log messages.
         * @param {?} text Message text
         * @param {?} logLevel Log level for the message
         * @return {?}
         */
        LogService.prototype.messageBus = /**
         * Triggers notification callback for log messages.
         * @param {?} text Message text
         * @param {?} logLevel Log level for the message
         * @return {?}
         */
            function (text, logLevel) {
                this.onMessage.next({ text: text, type: logLevel });
            };
        LogService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        LogService.ctorParameters = function () {
            return [
                { type: AppConfigService }
            ];
        };
        return LogService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var REMEMBER_ME_COOKIE_KEY = 'ALFRESCO_REMEMBER_ME';
    /** @type {?} */
    var REMEMBER_ME_UNTIL = 1000 * 60 * 60 * 24 * 30;
    var AuthenticationService = /** @class */ (function () {
        function AuthenticationService(appConfig, alfrescoApi$$1, cookie, logService) {
            this.appConfig = appConfig;
            this.alfrescoApi = alfrescoApi$$1;
            this.cookie = cookie;
            this.logService = logService;
            this.redirectUrl = null;
            this.bearerExcludedUrls = ['auth/realms', 'resources/', 'assets/'];
            this.onLogin = new rxjs.Subject();
            this.onLogout = new rxjs.Subject();
        }
        /**
         * Checks if the user logged in.
         * @returns True if logged in, false otherwise
         */
        /**
         * Checks if the user logged in.
         * @return {?} True if logged in, false otherwise
         */
        AuthenticationService.prototype.isLoggedIn = /**
         * Checks if the user logged in.
         * @return {?} True if logged in, false otherwise
         */
            function () {
                if (!this.isOauth() && this.cookie.isEnabled() && !this.isRememberMeSet()) {
                    return false;
                }
                return this.alfrescoApi.getInstance().isLoggedIn();
            };
        /**
         * Does the provider support OAuth?
         * @returns True if supported, false otherwise
         */
        /**
         * Does the provider support OAuth?
         * @return {?} True if supported, false otherwise
         */
        AuthenticationService.prototype.isOauth = /**
         * Does the provider support OAuth?
         * @return {?} True if supported, false otherwise
         */
            function () {
                return this.alfrescoApi.getInstance().isOauthConfiguration();
            };
        /**
         * Does the provider support ECM?
         * @returns True if supported, false otherwise
         */
        /**
         * Does the provider support ECM?
         * @return {?} True if supported, false otherwise
         */
        AuthenticationService.prototype.isECMProvider = /**
         * Does the provider support ECM?
         * @return {?} True if supported, false otherwise
         */
            function () {
                return this.alfrescoApi.getInstance().isEcmConfiguration();
            };
        /**
         * Does the provider support BPM?
         * @returns True if supported, false otherwise
         */
        /**
         * Does the provider support BPM?
         * @return {?} True if supported, false otherwise
         */
        AuthenticationService.prototype.isBPMProvider = /**
         * Does the provider support BPM?
         * @return {?} True if supported, false otherwise
         */
            function () {
                return this.alfrescoApi.getInstance().isBpmConfiguration();
            };
        /**
         * Does the provider support both ECM and BPM?
         * @returns True if both are supported, false otherwise
         */
        /**
         * Does the provider support both ECM and BPM?
         * @return {?} True if both are supported, false otherwise
         */
        AuthenticationService.prototype.isALLProvider = /**
         * Does the provider support both ECM and BPM?
         * @return {?} True if both are supported, false otherwise
         */
            function () {
                return this.alfrescoApi.getInstance().isEcmBpmConfiguration();
            };
        /**
         * Logs the user in.
         * @param username Username for the login
         * @param password Password for the login
         * @param rememberMe Stores the user's login details if true
         * @returns Object with auth type ("ECM", "BPM" or "ALL") and auth ticket
         */
        /**
         * Logs the user in.
         * @param {?} username Username for the login
         * @param {?} password Password for the login
         * @param {?=} rememberMe Stores the user's login details if true
         * @return {?} Object with auth type ("ECM", "BPM" or "ALL") and auth ticket
         */
        AuthenticationService.prototype.login = /**
         * Logs the user in.
         * @param {?} username Username for the login
         * @param {?} password Password for the login
         * @param {?=} rememberMe Stores the user's login details if true
         * @return {?} Object with auth type ("ECM", "BPM" or "ALL") and auth ticket
         */
            function (username, password, rememberMe) {
                var _this = this;
                if (rememberMe === void 0) {
                    rememberMe = false;
                }
                return rxjs.from(this.alfrescoApi.getInstance().login(username, password))
                    .pipe(operators.map(function (response) {
                    _this.saveRememberMeCookie(rememberMe);
                    _this.onLogin.next(response);
                    return {
                        type: _this.appConfig.get(AppConfigValues.PROVIDERS),
                        ticket: response
                    };
                }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Logs the user in with SSO
         */
        /**
         * Logs the user in with SSO
         * @return {?}
         */
        AuthenticationService.prototype.ssoImplicitLogin = /**
         * Logs the user in with SSO
         * @return {?}
         */
            function () {
                this.alfrescoApi.getInstance().implicitLogin();
            };
        /**
         * Saves the "remember me" cookie as either a long-life cookie or a session cookie.
         * @param {?} rememberMe Enables a long-life cookie
         * @return {?}
         */
        AuthenticationService.prototype.saveRememberMeCookie = /**
         * Saves the "remember me" cookie as either a long-life cookie or a session cookie.
         * @param {?} rememberMe Enables a long-life cookie
         * @return {?}
         */
            function (rememberMe) {
                /** @type {?} */
                var expiration = null;
                if (rememberMe) {
                    expiration = new Date();
                    /** @type {?} */
                    var time = expiration.getTime();
                    /** @type {?} */
                    var expireTime = time + REMEMBER_ME_UNTIL;
                    expiration.setTime(expireTime);
                }
                this.cookie.setItem(REMEMBER_ME_COOKIE_KEY, '1', expiration, null);
            };
        /**
         * Checks whether the "remember me" cookie was set or not.
         * @returns True if set, false otherwise
         */
        /**
         * Checks whether the "remember me" cookie was set or not.
         * @return {?} True if set, false otherwise
         */
        AuthenticationService.prototype.isRememberMeSet = /**
         * Checks whether the "remember me" cookie was set or not.
         * @return {?} True if set, false otherwise
         */
            function () {
                return (this.cookie.getItem(REMEMBER_ME_COOKIE_KEY) === null) ? false : true;
            };
        /**
         * Logs the user out.
         * @returns Response event called when logout is complete
         */
        /**
         * Logs the user out.
         * @return {?} Response event called when logout is complete
         */
        AuthenticationService.prototype.logout = /**
         * Logs the user out.
         * @return {?} Response event called when logout is complete
         */
            function () {
                var _this = this;
                return rxjs.from(this.callApiLogout())
                    .pipe(operators.tap(function (response) {
                    _this.onLogout.next(response);
                    return response;
                }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @return {?}
         */
        AuthenticationService.prototype.callApiLogout = /**
         * @return {?}
         */
            function () {
                if (this.alfrescoApi.getInstance()) {
                    return this.alfrescoApi.getInstance().logout();
                }
            };
        /**
         * Gets the ECM ticket stored in the Storage.
         * @returns The ticket or `null` if none was found
         */
        /**
         * Gets the ECM ticket stored in the Storage.
         * @return {?} The ticket or `null` if none was found
         */
        AuthenticationService.prototype.getTicketEcm = /**
         * Gets the ECM ticket stored in the Storage.
         * @return {?} The ticket or `null` if none was found
         */
            function () {
                return this.alfrescoApi.getInstance().getTicketEcm();
            };
        /**
         * Gets the BPM ticket stored in the Storage.
         * @returns The ticket or `null` if none was found
         */
        /**
         * Gets the BPM ticket stored in the Storage.
         * @return {?} The ticket or `null` if none was found
         */
        AuthenticationService.prototype.getTicketBpm = /**
         * Gets the BPM ticket stored in the Storage.
         * @return {?} The ticket or `null` if none was found
         */
            function () {
                return this.alfrescoApi.getInstance().getTicketBpm();
            };
        /**
         * Gets the BPM ticket from the Storage in Base 64 format.
         * @returns The ticket or `null` if none was found
         */
        /**
         * Gets the BPM ticket from the Storage in Base 64 format.
         * @return {?} The ticket or `null` if none was found
         */
        AuthenticationService.prototype.getTicketEcmBase64 = /**
         * Gets the BPM ticket from the Storage in Base 64 format.
         * @return {?} The ticket or `null` if none was found
         */
            function () {
                /** @type {?} */
                var ticket = this.alfrescoApi.getInstance().getTicketEcm();
                if (ticket) {
                    return 'Basic ' + btoa(ticket);
                }
                return null;
            };
        /**
         * Checks if the user is logged in on an ECM provider.
         * @returns True if logged in, false otherwise
         */
        /**
         * Checks if the user is logged in on an ECM provider.
         * @return {?} True if logged in, false otherwise
         */
        AuthenticationService.prototype.isEcmLoggedIn = /**
         * Checks if the user is logged in on an ECM provider.
         * @return {?} True if logged in, false otherwise
         */
            function () {
                if (this.isECMProvider() || this.isALLProvider()) {
                    if (!this.isOauth() && this.cookie.isEnabled() && !this.isRememberMeSet()) {
                        return false;
                    }
                    return this.alfrescoApi.getInstance().isEcmLoggedIn();
                }
                return false;
            };
        /**
         * Checks if the user is logged in on a BPM provider.
         * @returns True if logged in, false otherwise
         */
        /**
         * Checks if the user is logged in on a BPM provider.
         * @return {?} True if logged in, false otherwise
         */
        AuthenticationService.prototype.isBpmLoggedIn = /**
         * Checks if the user is logged in on a BPM provider.
         * @return {?} True if logged in, false otherwise
         */
            function () {
                if (this.isBPMProvider() || this.isALLProvider()) {
                    if (!this.isOauth() && this.cookie.isEnabled() && !this.isRememberMeSet()) {
                        return false;
                    }
                    return this.alfrescoApi.getInstance().isBpmLoggedIn();
                }
                return false;
            };
        /**
         * Gets the ECM username.
         * @returns The ECM username
         */
        /**
         * Gets the ECM username.
         * @return {?} The ECM username
         */
        AuthenticationService.prototype.getEcmUsername = /**
         * Gets the ECM username.
         * @return {?} The ECM username
         */
            function () {
                return this.alfrescoApi.getInstance().getEcmUsername();
            };
        /**
         * Gets the BPM username
         * @returns The BPM username
         */
        /**
         * Gets the BPM username
         * @return {?} The BPM username
         */
        AuthenticationService.prototype.getBpmUsername = /**
         * Gets the BPM username
         * @return {?} The BPM username
         */
            function () {
                return this.alfrescoApi.getInstance().getBpmUsername();
            };
        /** Sets the URL to redirect to after login.
         * @param url URL to redirect to
         */
        /**
         * Sets the URL to redirect to after login.
         * @param {?} url URL to redirect to
         * @return {?}
         */
        AuthenticationService.prototype.setRedirect = /**
         * Sets the URL to redirect to after login.
         * @param {?} url URL to redirect to
         * @return {?}
         */
            function (url) {
                this.redirectUrl = url;
            };
        /** Gets the URL to redirect to after login.
         * @param provider Service provider. Can be "ECM", "BPM" or "ALL".
         * @returns The redirect URL
         */
        /**
         * Gets the URL to redirect to after login.
         * @param {?} provider Service provider. Can be "ECM", "BPM" or "ALL".
         * @return {?} The redirect URL
         */
        AuthenticationService.prototype.getRedirect = /**
         * Gets the URL to redirect to after login.
         * @param {?} provider Service provider. Can be "ECM", "BPM" or "ALL".
         * @return {?} The redirect URL
         */
            function (provider) {
                return this.hasValidRedirection(provider) ? this.redirectUrl.url : null;
            };
        /**
         * Gets information about the user currently logged into APS.
         * @returns User information
         */
        /**
         * Gets information about the user currently logged into APS.
         * @return {?} User information
         */
        AuthenticationService.prototype.getBpmLoggedUser = /**
         * Gets information about the user currently logged into APS.
         * @return {?} User information
         */
            function () {
                return rxjs.from(this.alfrescoApi.getInstance().activiti.profileApi.getProfile());
            };
        /**
         * @param {?} provider
         * @return {?}
         */
        AuthenticationService.prototype.hasValidRedirection = /**
         * @param {?} provider
         * @return {?}
         */
            function (provider) {
                return this.redirectUrl && (this.redirectUrl.provider === provider || this.hasSelectedProviderAll(provider));
            };
        /**
         * @param {?} provider
         * @return {?}
         */
        AuthenticationService.prototype.hasSelectedProviderAll = /**
         * @param {?} provider
         * @return {?}
         */
            function (provider) {
                return this.redirectUrl && (this.redirectUrl.provider === 'ALL' || provider === 'ALL');
            };
        /**
         * Prints an error message in the console browser
         * @param error Error message
         * @returns Object representing the error message
         */
        /**
         * Prints an error message in the console browser
         * @param {?} error Error message
         * @return {?} Object representing the error message
         */
        AuthenticationService.prototype.handleError = /**
         * Prints an error message in the console browser
         * @param {?} error Error message
         * @return {?} Object representing the error message
         */
            function (error) {
                this.logService.error('Error when logging in', error);
                return rxjs.throwError(error || 'Server error');
            };
        /**
         * @return {?}
         */
        AuthenticationService.prototype.getBearerExcludedUrls = /**
         * @return {?}
         */
            function () {
                return this.bearerExcludedUrls;
            };
        /**
         * @return {?}
         */
        AuthenticationService.prototype.getToken = /**
         * @return {?}
         */
            function () {
                return localStorage.getItem('access_token');
            };
        /**
         * @param {?=} headersArg
         * @return {?}
         */
        AuthenticationService.prototype.addTokenToHeader = /**
         * @param {?=} headersArg
         * @return {?}
         */
            function (headersArg) {
                var _this = this;
                return rxjs.Observable.create(function (observer) {
                    return __awaiter(_this, void 0, void 0, function () {
                        var headers, token;
                        return __generator(this, function (_a) {
                            headers = headersArg;
                            if (!headers) {
                                headers = new http.HttpHeaders();
                            }
                            try {
                                token = this.getToken();
                                headers = headers.set('Authorization', 'bearer ' + token);
                                observer.next(headers);
                                observer.complete();
                            }
                            catch (error) {
                                observer.error(error);
                            }
                            return [2 /*return*/];
                        });
                    });
                });
            };
        AuthenticationService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        AuthenticationService.ctorParameters = function () {
            return [
                { type: AppConfigService },
                { type: AlfrescoApiService },
                { type: CookieService },
                { type: LogService }
            ];
        };
        return AuthenticationService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var BpmProductVersionModel = /** @class */ (function () {
        function BpmProductVersionModel(obj) {
            if (obj) {
                this.edition = obj.edition || null;
                this.majorVersion = obj.majorVersion || null;
                this.revisionVersion = obj.revisionVersion || null;
                this.minorVersion = obj.minorVersion || null;
                this.type = obj.type || null;
            }
        }
        return BpmProductVersionModel;
    }());
    var VersionModel = /** @class */ (function () {
        function VersionModel(obj) {
            if (obj) {
                this.major = obj.major || null;
                this.minor = obj.minor || null;
                this.patch = obj.patch || null;
                this.hotfix = obj.hotfix || null;
                this.schema = obj.schema || null;
                this.label = obj.label || null;
                this.display = obj.display || null;
            }
        }
        return VersionModel;
    }());
    var LicenseModel = /** @class */ (function () {
        function LicenseModel(obj) {
            if (obj) {
                this.issuedAt = obj.issuedAt || null;
                this.expiresAt = obj.expiresAt || null;
                this.remainingDays = obj.remainingDays || null;
                this.holder = obj.holder || null;
                this.mode = obj.mode || null;
                this.isClusterEnabled = obj.isClusterEnabled ? true : false;
                this.isCryptodocEnabled = obj.isCryptodocEnabled ? true : false;
            }
        }
        return LicenseModel;
    }());
    var VersionStatusModel = /** @class */ (function () {
        function VersionStatusModel(obj) {
            if (obj) {
                this.isReadOnly = obj.isReadOnly ? true : false;
                this.isAuditEnabled = obj.isAuditEnabled ? true : false;
                this.isQuickShareEnabled = obj.isQuickShareEnabled ? true : false;
                this.isThumbnailGenerationEnabled = obj.isThumbnailGenerationEnabled ? true : false;
            }
        }
        return VersionStatusModel;
    }());
    var VersionModuleModel = /** @class */ (function () {
        function VersionModuleModel(obj) {
            if (obj) {
                this.id = obj.id || null;
                this.title = obj.title || null;
                this.description = obj.description || null;
                this.version = obj.version || null;
                this.installDate = obj.installDate || null;
                this.installState = obj.installState || null;
                this.versionMin = obj.versionMin || null;
                this.versionMax = obj.versionMax || null;
            }
        }
        return VersionModuleModel;
    }());
    var EcmProductVersionModel = /** @class */ (function () {
        function EcmProductVersionModel(obj) {
            var _this = this;
            this.modules = [];
            if (obj && obj.entry && obj.entry.repository) {
                this.edition = obj.entry.repository.edition || null;
                this.version = new VersionModel(obj.entry.repository.version);
                this.license = new LicenseModel(obj.entry.repository.license);
                this.status = new VersionStatusModel(obj.entry.repository.status);
                if (obj.entry.repository.modules) {
                    obj.entry.repository.modules.forEach(function (module) {
                        _this.modules.push(new VersionModuleModel(module));
                    });
                }
            }
        }
        return EcmProductVersionModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DiscoveryApiService = /** @class */ (function () {
        function DiscoveryApiService(apiService) {
            this.apiService = apiService;
        }
        /**
         * Gets product information for Content Services.
         * @return {?} ProductVersionModel containing product details
         */
        DiscoveryApiService.prototype.getEcmProductInfo = /**
         * Gets product information for Content Services.
         * @return {?} ProductVersionModel containing product details
         */
            function () {
                return rxjs.from(this.apiService.getInstance().discovery.discoveryApi.getRepositoryInformation())
                    .pipe(operators.map(function (res) { return new EcmProductVersionModel(res); }), operators.catchError(function (err) { return rxjs.throwError(err); }));
            };
        /**
         * Gets product information for Process Services.
         * @return {?} ProductVersionModel containing product details
         */
        DiscoveryApiService.prototype.getBpmProductInfo = /**
         * Gets product information for Process Services.
         * @return {?} ProductVersionModel containing product details
         */
            function () {
                return rxjs.from(this.apiService.getInstance().activiti.aboutApi.getAppVersion())
                    .pipe(operators.map(function (res) { return new BpmProductVersionModel(res); }), operators.catchError(function (err) { return rxjs.throwError(err); }));
            };
        DiscoveryApiService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        DiscoveryApiService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService }
            ];
        };
        return DiscoveryApiService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FileUtils = /** @class */ (function () {
        function FileUtils() {
        }
        /**
         * @param {?} folder
         * @return {?}
         */
        FileUtils.flattern = /**
         * @param {?} folder
         * @return {?}
         */
            function (folder) {
                /** @type {?} */
                var reader = folder.createReader();
                /** @type {?} */
                var files = [];
                return new Promise(function (resolve) {
                    /** @type {?} */
                    var iterations = [];
                    (function traverse() {
                        reader.readEntries(function (entries) {
                            if (!entries.length) {
                                Promise.all(iterations).then(function (result) { return resolve(files); });
                            }
                            else {
                                iterations.push(Promise.all(entries.map(function (entry) {
                                    if (entry.isFile) {
                                        return new Promise(function (resolveFile) {
                                            entry.file(function (file) {
                                                files.push({
                                                    entry: entry,
                                                    file: file,
                                                    relativeFolder: entry.fullPath.replace(/\/[^\/]*$/, '')
                                                });
                                                resolveFile();
                                            });
                                        });
                                    }
                                    else {
                                        return FileUtils.flattern(entry).then(function (result) {
                                            files.push.apply(files, __spread(result));
                                        });
                                    }
                                })));
                                // Try calling traverse() again for the same dir, according to spec
                                traverse();
                            }
                        });
                    })();
                });
            };
        /**
         * @param {?} fileList
         * @return {?}
         */
        FileUtils.toFileArray = /**
         * @param {?} fileList
         * @return {?}
         */
            function (fileList) {
                /** @type {?} */
                var result = [];
                if (fileList && fileList.length > 0) {
                    for (var i = 0; i < fileList.length; i++) {
                        result.push(fileList[i]);
                    }
                }
                return result;
            };
        return FileUtils;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /** @type {?} */
    var MOMENT_DATE_FORMATS = {
        parse: {
            dateInput: 'DD/MM/YYYY'
        },
        display: {
            dateInput: 'DD/MM/YYYY',
            monthYearLabel: 'MMMM Y',
            dateA11yLabel: 'LL',
            monthYearA11yLabel: 'MMMM Y'
        }
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var MomentDateAdapter = /** @class */ (function (_super) {
        __extends(MomentDateAdapter, _super);
        function MomentDateAdapter() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.localeData = moment$1.localeData();
            return _this;
        }
        /**
         * @param {?} date
         * @return {?}
         */
        MomentDateAdapter.prototype.getYear = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                return date.year();
            };
        /**
         * @param {?} date
         * @return {?}
         */
        MomentDateAdapter.prototype.getMonth = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                return date.month();
            };
        /**
         * @param {?} date
         * @return {?}
         */
        MomentDateAdapter.prototype.getDate = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                return date.date();
            };
        /**
         * @param {?} date
         * @return {?}
         */
        MomentDateAdapter.prototype.getDayOfWeek = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                return date.day();
            };
        /**
         * @param {?} style
         * @return {?}
         */
        MomentDateAdapter.prototype.getMonthNames = /**
         * @param {?} style
         * @return {?}
         */
            function (style) {
                switch (style) {
                    case 'long':
                        return this.localeData.months();
                    case 'short':
                        return this.localeData.monthsShort();
                    case 'narrow':
                        return this.localeData.monthsShort().map(function (month) { return month[0]; });
                    default:
                        return;
                }
            };
        /**
         * @return {?}
         */
        MomentDateAdapter.prototype.getDateNames = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var dateNames = [];
                for (var date = 1; date <= 31; date++) {
                    dateNames.push(String(date));
                }
                return dateNames;
            };
        /**
         * @param {?} style
         * @return {?}
         */
        MomentDateAdapter.prototype.getDayOfWeekNames = /**
         * @param {?} style
         * @return {?}
         */
            function (style) {
                switch (style) {
                    case 'long':
                        return this.localeData.weekdays();
                    case 'short':
                        return this.localeData.weekdaysShort();
                    case 'narrow':
                        return this.localeData.weekdaysShort();
                    default:
                        return;
                }
            };
        /**
         * @param {?} date
         * @return {?}
         */
        MomentDateAdapter.prototype.getYearName = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                return String(date.year());
            };
        /**
         * @return {?}
         */
        MomentDateAdapter.prototype.getFirstDayOfWeek = /**
         * @return {?}
         */
            function () {
                return this.localeData.firstDayOfWeek();
            };
        /**
         * @param {?} date
         * @return {?}
         */
        MomentDateAdapter.prototype.getNumDaysInMonth = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                return date.daysInMonth();
            };
        /**
         * @param {?} date
         * @return {?}
         */
        MomentDateAdapter.prototype.clone = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                /** @type {?} */
                var locale = this.locale || 'en';
                return date.clone().locale(locale);
            };
        /**
         * @param {?} year
         * @param {?} month
         * @param {?} date
         * @return {?}
         */
        MomentDateAdapter.prototype.createDate = /**
         * @param {?} year
         * @param {?} month
         * @param {?} date
         * @return {?}
         */
            function (year, month, date) {
                return moment$1([year, month, date]);
            };
        /**
         * @return {?}
         */
        MomentDateAdapter.prototype.today = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var locale = this.locale || 'en';
                return moment$1().locale(locale);
            };
        /**
         * @param {?} value
         * @param {?} parseFormat
         * @return {?}
         */
        MomentDateAdapter.prototype.parse = /**
         * @param {?} value
         * @param {?} parseFormat
         * @return {?}
         */
            function (value, parseFormat) {
                /** @type {?} */
                var locale = this.locale || 'en';
                if (value && typeof value === 'string') {
                    /** @type {?} */
                    var m = moment$1(value, parseFormat, locale, true);
                    if (!m.isValid()) {
                        // use strict parsing because Moment's parser is very forgiving, and this can lead to undesired behavior.
                        m = moment$1(value, this.overrideDisplyaFormat, locale, true);
                    }
                    if (m.isValid()) {
                        // if user omits year, it defaults to 2001, so check for that issue.
                        if (m.year() === 2001 && value.indexOf('2001') === -1) {
                            /** @type {?} */
                            var currentYear = new Date().getFullYear();
                            m.set('year', currentYear);
                            // if date is in the future, set previous year
                            if (m.isAfter(moment$1())) {
                                m.set('year', currentYear - 1);
                            }
                        }
                    }
                    return m;
                }
                return value ? moment$1(value).locale(locale) : null;
            };
        /**
         * @param {?} date
         * @param {?} displayFormat
         * @return {?}
         */
        MomentDateAdapter.prototype.format = /**
         * @param {?} date
         * @param {?} displayFormat
         * @return {?}
         */
            function (date, displayFormat) {
                date = this.clone(date);
                displayFormat = this.overrideDisplyaFormat ? this.overrideDisplyaFormat : displayFormat;
                if (date && date.format) {
                    return date.format(displayFormat);
                }
                else {
                    return '';
                }
            };
        /**
         * @param {?} date
         * @param {?} years
         * @return {?}
         */
        MomentDateAdapter.prototype.addCalendarYears = /**
         * @param {?} date
         * @param {?} years
         * @return {?}
         */
            function (date, years) {
                return date.clone().add(years, 'y');
            };
        /**
         * @param {?} date
         * @param {?} months
         * @return {?}
         */
        MomentDateAdapter.prototype.addCalendarMonths = /**
         * @param {?} date
         * @param {?} months
         * @return {?}
         */
            function (date, months) {
                return date.clone().add(months, 'M');
            };
        /**
         * @param {?} date
         * @param {?} days
         * @return {?}
         */
        MomentDateAdapter.prototype.addCalendarDays = /**
         * @param {?} date
         * @param {?} days
         * @return {?}
         */
            function (date, days) {
                return date.clone().add(days, 'd');
            };
        /**
         * @param {?} date
         * @return {?}
         */
        MomentDateAdapter.prototype.getISODateString = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                return date.toISOString();
            };
        /**
         * @param {?} locale
         * @return {?}
         */
        MomentDateAdapter.prototype.setLocale = /**
         * @param {?} locale
         * @return {?}
         */
            function (locale) {
                _super.prototype.setLocale.call(this, locale);
                this.localeData = moment$1.localeData(locale);
            };
        /**
         * @param {?} first
         * @param {?} second
         * @return {?}
         */
        MomentDateAdapter.prototype.compareDate = /**
         * @param {?} first
         * @param {?} second
         * @return {?}
         */
            function (first, second) {
                return first.diff(second, 'seconds', true);
            };
        /**
         * @param {?} first
         * @param {?} second
         * @return {?}
         */
        MomentDateAdapter.prototype.sameDate = /**
         * @param {?} first
         * @param {?} second
         * @return {?}
         */
            function (first, second) {
                if (first == null) {
                    // same if both null
                    return second == null;
                }
                else if (moment.isMoment(first)) {
                    return first.isSame(second);
                }
                else {
                    /** @type {?} */
                    var isSame = _super.prototype.sameDate.call(this, first, second);
                    return isSame;
                }
            };
        /**
         * @param {?} date
         * @param {?=} min
         * @param {?=} max
         * @return {?}
         */
        MomentDateAdapter.prototype.clampDate = /**
         * @param {?} date
         * @param {?=} min
         * @param {?=} max
         * @return {?}
         */
            function (date, min, max) {
                if (min && date.isBefore(min)) {
                    return min;
                }
                else if (max && date.isAfter(max)) {
                    return max;
                }
                else {
                    return date;
                }
            };
        /**
         * @param {?} date
         * @return {?}
         */
        MomentDateAdapter.prototype.isDateInstance = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                /** @type {?} */
                var isValidDateInstance = false;
                if (date) {
                    isValidDateInstance = date._isAMomentObject;
                }
                return isValidDateInstance;
            };
        /**
         * @param {?} date
         * @return {?}
         */
        MomentDateAdapter.prototype.isValid = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                return date.isValid();
            };
        /**
         * @param {?} date
         * @return {?}
         */
        MomentDateAdapter.prototype.toIso8601 = /**
         * @param {?} date
         * @return {?}
         */
            function (date) {
                return this.clone(date).format();
            };
        /**
         * @param {?} iso8601String
         * @return {?}
         */
        MomentDateAdapter.prototype.fromIso8601 = /**
         * @param {?} iso8601String
         * @return {?}
         */
            function (iso8601String) {
                /** @type {?} */
                var locale = this.locale || 'en';
                /** @type {?} */
                var d = moment$1(iso8601String, moment$1.ISO_8601).locale(locale);
                return this.isValid(d) ? d : null;
            };
        /**
         * @return {?}
         */
        MomentDateAdapter.prototype.invalid = /**
         * @return {?}
         */
            function () {
                return moment$1.invalid();
            };
        return MomentDateAdapter;
    }(material.DateAdapter));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ObjectDataRow = /** @class */ (function () {
        function ObjectDataRow(obj, isSelected) {
            if (isSelected === void 0) {
                isSelected = false;
            }
            this.obj = obj;
            this.isSelected = isSelected;
            if (!obj) {
                throw new Error('Object source not found');
            }
        }
        /**
         * @param {?} key
         * @return {?}
         */
        ObjectDataRow.prototype.getValue = /**
         * @param {?} key
         * @return {?}
         */
            function (key) {
                return ObjectUtils.getValue(this.obj, key);
            };
        /**
         * @param {?} key
         * @return {?}
         */
        ObjectDataRow.prototype.hasValue = /**
         * @param {?} key
         * @return {?}
         */
            function (key) {
                return this.getValue(key) !== undefined;
            };
        /**
         * @param {?} event
         * @return {?}
         */
        ObjectDataRow.prototype.imageErrorResolver = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                return '';
            };
        return ObjectDataRow;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var ObjectDataColumn = /** @class */ (function () {
        function ObjectDataColumn(obj) {
            this.key = obj.key;
            this.type = obj.type || 'text';
            this.format = obj.format;
            this.sortable = obj.sortable;
            this.title = obj.title;
            this.srTitle = obj.srTitle;
            this.cssClass = obj.cssClass;
            this.template = obj.template;
        }
        return ObjectDataColumn;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var DataSorting = /** @class */ (function () {
        function DataSorting(key, direction) {
            this.key = key;
            this.direction = direction;
        }
        return DataSorting;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ObjectDataTableAdapter = /** @class */ (function () {
        function ObjectDataTableAdapter(data, schema) {
            if (data === void 0) {
                data = [];
            }
            if (schema === void 0) {
                schema = [];
            }
            this._rows = [];
            this._columns = [];
            if (data && data.length > 0) {
                this._rows = data.map(function (item) {
                    return new ObjectDataRow(item);
                });
            }
            if (schema && schema.length > 0) {
                this._columns = schema.map(function (item) {
                    return new ObjectDataColumn(item);
                });
                /** @type {?} */
                var sortable = this._columns.filter(function (c) { return c.sortable; });
                if (sortable.length > 0) {
                    this.sort(sortable[0].key, 'asc');
                }
            }
            this.rowsChanged = new rxjs.Subject();
        }
        /**
         * @param {?} data
         * @return {?}
         */
        ObjectDataTableAdapter.generateSchema = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                /** @type {?} */
                var schema = [];
                if (data && data.length) {
                    /** @type {?} */
                    var rowToExaminate = data[0];
                    if (typeof rowToExaminate === 'object') {
                        for (var key in rowToExaminate) {
                            if (rowToExaminate.hasOwnProperty(key)) {
                                schema.push({
                                    type: 'text',
                                    key: key,
                                    title: key,
                                    sortable: false
                                });
                            }
                        }
                    }
                }
                return schema;
            };
        /**
         * @return {?}
         */
        ObjectDataTableAdapter.prototype.getRows = /**
         * @return {?}
         */
            function () {
                return this._rows;
            };
        /**
         * @param {?} rows
         * @return {?}
         */
        ObjectDataTableAdapter.prototype.setRows = /**
         * @param {?} rows
         * @return {?}
         */
            function (rows) {
                this._rows = rows || [];
                this.sort();
                this.rowsChanged.next(this._rows);
            };
        /**
         * @return {?}
         */
        ObjectDataTableAdapter.prototype.getColumns = /**
         * @return {?}
         */
            function () {
                return this._columns;
            };
        /**
         * @param {?} columns
         * @return {?}
         */
        ObjectDataTableAdapter.prototype.setColumns = /**
         * @param {?} columns
         * @return {?}
         */
            function (columns) {
                this._columns = columns || [];
            };
        /**
         * @param {?} row
         * @param {?} col
         * @return {?}
         */
        ObjectDataTableAdapter.prototype.getValue = /**
         * @param {?} row
         * @param {?} col
         * @return {?}
         */
            function (row, col) {
                if (!row) {
                    throw new Error('Row not found');
                }
                if (!col) {
                    throw new Error('Column not found');
                }
                /** @type {?} */
                var value = row.getValue(col.key);
                if (col.type === 'icon') {
                    /** @type {?} */
                    var icon = row.getValue(col.key);
                    return icon;
                }
                return value;
            };
        /**
         * @return {?}
         */
        ObjectDataTableAdapter.prototype.getSorting = /**
         * @return {?}
         */
            function () {
                return this._sorting;
            };
        /**
         * @param {?} sorting
         * @return {?}
         */
        ObjectDataTableAdapter.prototype.setSorting = /**
         * @param {?} sorting
         * @return {?}
         */
            function (sorting) {
                this._sorting = sorting;
                if (sorting && sorting.key) {
                    this._rows.sort(function (a, b) {
                        /** @type {?} */
                        var left = a.getValue(sorting.key);
                        if (left) {
                            left = (left instanceof Date) ? left.valueOf().toString() : left.toString();
                        }
                        else {
                            left = '';
                        }
                        /** @type {?} */
                        var right = b.getValue(sorting.key);
                        if (right) {
                            right = (right instanceof Date) ? right.valueOf().toString() : right.toString();
                        }
                        else {
                            right = '';
                        }
                        return sorting.direction === 'asc'
                            ? left.localeCompare(right)
                            : right.localeCompare(left);
                    });
                }
            };
        /**
         * @param {?=} key
         * @param {?=} direction
         * @return {?}
         */
        ObjectDataTableAdapter.prototype.sort = /**
         * @param {?=} key
         * @param {?=} direction
         * @return {?}
         */
            function (key, direction) {
                /** @type {?} */
                var sorting = this._sorting || new DataSorting();
                if (key) {
                    sorting.key = key;
                    sorting.direction = direction || 'asc';
                }
                this.setSorting(sorting);
            };
        return ObjectDataTableAdapter;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AboutComponent = /** @class */ (function () {
        function AboutComponent(http$$1, appConfig, authService, discovery) {
            this.http = http$$1;
            this.appConfig = appConfig;
            this.authService = authService;
            this.discovery = discovery;
            this.githubUrlCommitAlpha = 'https://github.com/Alfresco/alfresco-ng2-components/commits/';
            this.ecmHost = '';
            this.bpmHost = '';
            this.ecmVersion = null;
            this.bpmVersion = null;
        }
        /**
         * @return {?}
         */
        AboutComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.authService.isEcmLoggedIn()) {
                    this.discovery.getEcmProductInfo().subscribe(function (ecmVers) {
                        _this.ecmVersion = ecmVers;
                        _this.modules = new ObjectDataTableAdapter(_this.ecmVersion.modules, [
                            { type: 'text', key: 'id', title: 'ID', sortable: true },
                            { type: 'text', key: 'title', title: 'Title', sortable: true },
                            { type: 'text', key: 'version', title: 'Description', sortable: true },
                            { type: 'text', key: 'installDate', title: 'Install Date', sortable: true },
                            { type: 'text', key: 'installState', title: 'Install State', sortable: true },
                            { type: 'text', key: 'versionMin', title: 'Version Minor', sortable: true },
                            { type: 'text', key: 'versionMax', title: 'Version Max', sortable: true }
                        ]);
                        _this.status = new ObjectDataTableAdapter([_this.ecmVersion.status], [
                            { type: 'text', key: 'isReadOnly', title: 'ReadOnly', sortable: true },
                            { type: 'text', key: 'isAuditEnabled', title: 'Is Audit Enable', sortable: true },
                            { type: 'text', key: 'isQuickShareEnabled', title: 'Is quick shared enable', sortable: true },
                            { type: 'text', key: 'isThumbnailGenerationEnabled', title: 'Thumbnail Generation', sortable: true }
                        ]);
                        _this.license = new ObjectDataTableAdapter([_this.ecmVersion.license], [
                            { type: 'text', key: 'issuedAt', title: 'Issued At', sortable: true },
                            { type: 'text', key: 'expiresAt', title: 'Expires At', sortable: true },
                            { type: 'text', key: 'remainingDays', title: 'Remaining Days', sortable: true },
                            { type: 'text', key: 'holder', title: 'Holder', sortable: true },
                            { type: 'text', key: 'mode', title: 'Mode', sortable: true },
                            { type: 'text', key: 'isClusterEnabled', title: 'Is Cluster Enabled', sortable: true },
                            { type: 'text', key: 'isCryptodocEnabled', title: 'Is Cryptodoc Enable', sortable: true }
                        ]);
                    });
                }
                if (this.authService.isBpmLoggedIn()) {
                    this.discovery.getBpmProductInfo().subscribe(function (bpmVers) {
                        _this.bpmVersion = bpmVers;
                    });
                }
                this.http.get('/versions.json?' + new Date()).subscribe(function (response) {
                    /** @type {?} */
                    var regexp = new RegExp('^(@alfresco)');
                    /** @type {?} */
                    var alfrescoPackages = Object.keys(response.dependencies).filter(function (val) {
                        return regexp.test(val);
                    });
                    /** @type {?} */
                    var alfrescoPackagesTableRepresentation = [];
                    alfrescoPackages.forEach(function (val) {
                        alfrescoPackagesTableRepresentation.push({
                            name: val,
                            version: response.dependencies[val].version
                        });
                    });
                    _this.gitHubLinkCreation(alfrescoPackagesTableRepresentation);
                    _this.data = new ObjectDataTableAdapter(alfrescoPackagesTableRepresentation, [
                        { type: 'text', key: 'name', title: 'Name', sortable: true },
                        { type: 'text', key: 'version', title: 'Version', sortable: true }
                    ]);
                });
                this.ecmHost = this.appConfig.get(AppConfigValues.ECMHOST);
                this.bpmHost = this.appConfig.get(AppConfigValues.BPMHOST);
            };
        /**
         * @param {?} alfrescoPackagesTableRepresentation
         * @return {?}
         */
        AboutComponent.prototype.gitHubLinkCreation = /**
         * @param {?} alfrescoPackagesTableRepresentation
         * @return {?}
         */
            function (alfrescoPackagesTableRepresentation) {
                /** @type {?} */
                var corePackage = alfrescoPackagesTableRepresentation.find(function (packageUp) {
                    return packageUp.name === '@alfresco/adf-core';
                });
                if (corePackage) {
                    /** @type {?} */
                    var commitIsh = corePackage.version.split('-');
                    if (commitIsh.length > 1) {
                        this.githubUrlCommitAlpha = this.githubUrlCommitAlpha + commitIsh[1];
                    }
                    else {
                        this.githubUrlCommitAlpha = this.githubUrlCommitAlpha + corePackage.version;
                    }
                }
            };
        AboutComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-about',
                        template: "<div class=\"about-container\">\n    <h3>Server settings</h3>\n    <mat-list>\n        <small>The values below are taken from the AppConfigService </small>\n        <mat-list-item>\n            <h4 matLine> Alfresco Process Services URL: {{ bpmHost }}</h4>\n        </mat-list-item>\n        <mat-divider></mat-divider>\n        <mat-list-item>\n            <h4 matLine>Alfresco Content Services URL: {{ ecmHost }}</h4>\n        </mat-list-item>\n    </mat-list>\n\n    <h3>Product Versions</h3>\n    <div *ngIf=\"bpmVersion\">\n        <h3>BPM</h3>\n        <label> Edition </label> {{ bpmVersion.edition }}\n        <p></p>\n        <label> Version </label> {{ bpmVersion.majorVersion }}.{{ bpmVersion.minorVersion }}.{{ bpmVersion.revisionVersion }}\n    </div>\n    <div *ngIf=\"ecmVersion\">\n        <h3>ECM</h3>\n        <label> Edition </label> {{ ecmVersion.edition }}\n        <p></p>\n        <label> Version </label> {{ ecmVersion.version.display }}\n        <p></p>\n        <h4>License</h4>\n        <adf-datatable [data]=\"license\"></adf-datatable>\n\n        <h4> Status</h4>\n        <adf-datatable [data]=\"status\"></adf-datatable>\n\n        <h4>Modules</h4>\n\n        <adf-datatable [data]=\"modules\"></adf-datatable>\n    </div>\n\n    <div *ngIf=\"githubUrlCommitAlpha\">\n        <h3>Source code</h3>\n        <small>You are running the project based on the following commit:</small>\n        <div>\n            <a [href]=\"githubUrlCommitAlpha\">{{githubUrlCommitAlpha}}</a>\n        </div>\n    </div>\n\n    <h3>Packages</h3>\n    <small>Current project is using the following ADF libraries:</small>\n    <adf-datatable [data]=\"data\"></adf-datatable>\n</div>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".about-container{padding:10px}.adf-table-version{width:60%;border:0;border-spacing:0;text-align:center}"]
                    }] }
        ];
        /** @nocollapse */
        AboutComponent.ctorParameters = function () {
            return [
                { type: http.HttpClient },
                { type: AppConfigService },
                { type: AuthenticationService },
                { type: DiscoveryApiService }
            ];
        };
        return AboutComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * @return {?}
     */
    function modules() {
        return [
            material.MatAutocompleteModule, material.MatButtonModule, material.MatCardModule, material.MatCheckboxModule,
            material.MatChipsModule, material.MatDatepickerModule, material.MatDialogModule, material.MatGridListModule, material.MatIconModule,
            material.MatInputModule, material.MatListModule, material.MatNativeDateModule, material.MatOptionModule, material.MatProgressSpinnerModule, material.MatRadioModule,
            material.MatRippleModule, material.MatSelectModule, material.MatSlideToggleModule, material.MatTableModule, material.MatTabsModule,
            material.MatMenuModule, material.MatProgressBarModule, material.MatSidenavModule, material.MatSnackBarModule, material.MatToolbarModule,
            material.MatTooltipModule, core.MatDatetimepickerModule, core.MatNativeDatetimeModule, material.MatExpansionModule
        ];
    }
    var MaterialModule = /** @class */ (function () {
        function MaterialModule() {
        }
        MaterialModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: modules(),
                        exports: modules()
                    },] }
        ];
        return MaterialModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ContextMenuService = /** @class */ (function () {
        function ContextMenuService() {
            this.show = new rxjs.Subject();
        }
        ContextMenuService.decorators = [
            { type: i0.Injectable }
        ];
        return ContextMenuService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * \@deprecated: context-menu-holder is deprecated, use adf-context-menu-holder instead.
     */
    var ContextMenuHolderComponent = /** @class */ (function () {
        function ContextMenuHolderComponent(viewport, overlayContainer, contextMenuService, renderer) {
            this.viewport = viewport;
            this.overlayContainer = overlayContainer;
            this.contextMenuService = contextMenuService;
            this.renderer = renderer;
            this.links = [];
            this.mouseLocation = { left: 0, top: 0 };
            this.menuElement = null;
            this.subscriptions = [];
            this.showIcons = false;
        }
        /**
         * @param {?=} event
         * @return {?}
         */
        ContextMenuHolderComponent.prototype.onShowContextMenu = /**
         * @param {?=} event
         * @return {?}
         */
            function (event) {
                if (event) {
                    event.preventDefault();
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        ContextMenuHolderComponent.prototype.onResize = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.mdMenuElement) {
                    this.updatePosition();
                }
            };
        /**
         * @return {?}
         */
        ContextMenuHolderComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.subscriptions.push(this.contextMenuService.show.subscribe(function (e) { return _this.showMenu(e.event, e.obj); }), this.menuTrigger.onMenuOpen.subscribe(function () {
                    /** @type {?} */
                    var container = _this.overlayContainer.getContainerElement();
                    if (container) {
                        _this.contextMenuListenerFn = _this.renderer.listen(container, 'contextmenu', function (e) {
                            e.preventDefault();
                        });
                    }
                    _this.menuElement = _this.getContextMenuElement();
                }), this.menuTrigger.onMenuClose.subscribe(function () {
                    _this.menuElement = null;
                    if (_this.contextMenuListenerFn) {
                        _this.contextMenuListenerFn();
                    }
                }));
            };
        /**
         * @return {?}
         */
        ContextMenuHolderComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                if (this.contextMenuListenerFn) {
                    this.contextMenuListenerFn();
                }
                this.subscriptions.forEach(function (subscription) { return subscription.unsubscribe(); });
                this.subscriptions = [];
                this.menuElement = null;
            };
        /**
         * @param {?} event
         * @param {?} menuItem
         * @return {?}
         */
        ContextMenuHolderComponent.prototype.onMenuItemClick = /**
         * @param {?} event
         * @param {?} menuItem
         * @return {?}
         */
            function (event, menuItem) {
                if (menuItem && menuItem.model && menuItem.model.disabled) {
                    event.preventDefault();
                    event.stopImmediatePropagation();
                    return;
                }
                menuItem.subject.next(menuItem);
            };
        /**
         * @param {?} e
         * @param {?} links
         * @return {?}
         */
        ContextMenuHolderComponent.prototype.showMenu = /**
         * @param {?} e
         * @param {?} links
         * @return {?}
         */
            function (e, links) {
                this.links = links;
                if (e) {
                    this.mouseLocation = {
                        left: e.clientX,
                        top: e.clientY
                    };
                }
                this.menuTrigger.openMenu();
                if (this.mdMenuElement) {
                    this.updatePosition();
                }
            };
        Object.defineProperty(ContextMenuHolderComponent.prototype, "mdMenuElement", {
            get: /**
             * @return {?}
             */ function () {
                return this.menuElement;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        ContextMenuHolderComponent.prototype.locationCss = /**
         * @return {?}
         */
            function () {
                return {
                    left: this.mouseLocation.left + 'px',
                    top: this.mouseLocation.top + 'px'
                };
            };
        /**
         * @return {?}
         */
        ContextMenuHolderComponent.prototype.updatePosition = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout(function () {
                    if (_this.mdMenuElement.parentElement) {
                        if (_this.mdMenuElement.clientWidth + _this.mouseLocation.left > _this.viewport.getViewportRect().width) {
                            _this.menuTrigger.menu.xPosition = 'before';
                            _this.mdMenuElement.parentElement.style.left = _this.mouseLocation.left - _this.mdMenuElement.clientWidth + 'px';
                        }
                        else {
                            _this.menuTrigger.menu.xPosition = 'after';
                            _this.mdMenuElement.parentElement.style.left = _this.locationCss().left;
                        }
                        if (_this.mdMenuElement.clientHeight + _this.mouseLocation.top > _this.viewport.getViewportRect().height) {
                            _this.menuTrigger.menu.yPosition = 'above';
                            _this.mdMenuElement.parentElement.style.top = _this.mouseLocation.top - _this.mdMenuElement.clientHeight + 'px';
                        }
                        else {
                            _this.menuTrigger.menu.yPosition = 'below';
                            _this.mdMenuElement.parentElement.style.top = _this.locationCss().top;
                        }
                    }
                }, 0);
            };
        /**
         * @return {?}
         */
        ContextMenuHolderComponent.prototype.getContextMenuElement = /**
         * @return {?}
         */
            function () {
                return this.overlayContainer.getContainerElement().querySelector('.context-menu');
            };
        ContextMenuHolderComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-context-menu-holder, context-menu-holder',
                        template: "\n        <button mat-button [matMenuTriggerFor]=\"contextMenu\"></button>\n        <mat-menu #contextMenu=\"matMenu\" class=\"context-menu\">\n            <ng-container *ngFor=\"let link of links\">\n                <button *ngIf=\"link.model?.visible\"\n                        [attr.data-automation-id]=\"'context-'+((link.title || link.model?.title) | translate)\"\n                        mat-menu-item\n                        [disabled]=\"link.model?.disabled\"\n                        (click)=\"onMenuItemClick($event, link)\">\n                    <mat-icon *ngIf=\"showIcons && link.model?.icon\">{{ link.model.icon }}</mat-icon>\n                    {{ (link.title || link.model?.title) | translate }}\n                </button>\n            </ng-container>\n        </mat-menu>\n    "
                    }] }
        ];
        /** @nocollapse */
        ContextMenuHolderComponent.ctorParameters = function () {
            return [
                { type: scrolling.ViewportRuler },
                { type: overlay.OverlayContainer },
                { type: ContextMenuService },
                { type: i0.Renderer2 }
            ];
        };
        ContextMenuHolderComponent.propDecorators = {
            showIcons: [{ type: i0.Input }],
            menuTrigger: [{ type: i0.ViewChild, args: [material.MatMenuTrigger,] }],
            onShowContextMenu: [{ type: i0.HostListener, args: ['contextmenu', ['$event'],] }],
            onResize: [{ type: i0.HostListener, args: ['window:resize', ['$event'],] }]
        };
        return ContextMenuHolderComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var ContextMenuOverlayRef = /** @class */ (function () {
        function ContextMenuOverlayRef(overlayRef) {
            this.overlayRef = overlayRef;
        }
        /**
         * @return {?}
         */
        ContextMenuOverlayRef.prototype.close = /**
         * @return {?}
         */
            function () {
                this.overlayRef.dispose();
            };
        return ContextMenuOverlayRef;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var CONTEXT_MENU_DATA = new i0.InjectionToken('CONTEXT_MENU_DATA');

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var contextMenuAnimation = [
        animations.state('void', animations.style({
            opacity: 0,
            transform: 'scale(0.01, 0.01)'
        })),
        animations.transition('void => *', animations.sequence([
            animations.query('.mat-menu-content', animations.style({ opacity: 0 })),
            animations.animate('100ms linear', animations.style({ opacity: 1, transform: 'scale(1, 0.5)' })),
            animations.group([
                animations.query('.mat-menu-content', animations.animate('400ms cubic-bezier(0.55, 0, 0.55, 0.2)', animations.style({ opacity: 1 }))),
                animations.animate('300ms cubic-bezier(0.25, 0.8, 0.25, 1)', animations.style({ transform: 'scale(1, 1)' }))
            ])
        ])),
        animations.transition('* => void', animations.animate('150ms 50ms linear', animations.style({ opacity: 0 })))
    ];

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ContextMenuListComponent = /** @class */ (function () {
        function ContextMenuListComponent(contextMenuOverlayRef, data) {
            this.contextMenuOverlayRef = contextMenuOverlayRef;
            this.data = data;
            this.links = this.data;
        }
        /**
         * @param {?} event
         * @return {?}
         */
        ContextMenuListComponent.prototype.handleKeydownEscape = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (event) {
                    this.contextMenuOverlayRef.close();
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        ContextMenuListComponent.prototype.handleKeydownEvent = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (event) {
                    /** @type {?} */
                    var keyCode = event.keyCode;
                    if (keyCode === keycodes.UP_ARROW || keyCode === keycodes.DOWN_ARROW) {
                        this.keyManager.onKeydown(event);
                    }
                }
            };
        /**
         * @param {?} event
         * @param {?} menuItem
         * @return {?}
         */
        ContextMenuListComponent.prototype.onMenuItemClick = /**
         * @param {?} event
         * @param {?} menuItem
         * @return {?}
         */
            function (event, menuItem) {
                if (menuItem && menuItem.model && menuItem.model.disabled) {
                    event.preventDefault();
                    event.stopImmediatePropagation();
                    return;
                }
                menuItem.subject.next(menuItem);
                this.contextMenuOverlayRef.close();
            };
        /**
         * @return {?}
         */
        ContextMenuListComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
            function () {
                this.keyManager = new a11y.FocusKeyManager(this.items);
                this.keyManager.setFirstItemActive();
            };
        ContextMenuListComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-context-menu',
                        template: "\n        <div mat-menu class=\"mat-menu-panel\" @panelAnimation>\n            <div id=\"adf-context-menu-content\" class=\"mat-menu-content\">\n                <ng-container *ngFor=\"let link of links\">\n                    <button *ngIf=\"link.model?.visible\"\n                            [attr.data-automation-id]=\"'context-'+((link.title || link.model?.title) | translate)\"\n                            mat-menu-item\n                            [disabled]=\"link.model?.disabled\"\n                            (click)=\"onMenuItemClick($event, link)\">\n                        <mat-icon *ngIf=\"link.model?.icon\">{{ link.model.icon }}</mat-icon>\n                        <span>{{ (link.title || link.model?.title) | translate }}</span>\n                    </button>\n                </ng-container>\n            </div>\n        </div>\n    ",
                        host: {
                            role: 'menu',
                            class: 'adf-context-menu'
                        },
                        encapsulation: i0.ViewEncapsulation.None,
                        animations: [
                            animations.trigger('panelAnimation', contextMenuAnimation)
                        ]
                    }] }
        ];
        /** @nocollapse */
        ContextMenuListComponent.ctorParameters = function () {
            return [
                { type: ContextMenuOverlayRef, decorators: [{ type: i0.Inject, args: [ContextMenuOverlayRef,] }] },
                { type: undefined, decorators: [{ type: i0.Optional }, { type: i0.Inject, args: [CONTEXT_MENU_DATA,] }] }
            ];
        };
        ContextMenuListComponent.propDecorators = {
            items: [{ type: i0.ViewChildren, args: [material.MatMenuItem,] }],
            handleKeydownEscape: [{ type: i0.HostListener, args: ['document:keydown.Escape', ['$event'],] }],
            handleKeydownEvent: [{ type: i0.HostListener, args: ['document:keydown', ['$event'],] }]
        };
        return ContextMenuListComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var DEFAULT_CONFIG = {
        panelClass: 'cdk-overlay-pane',
        backdropClass: 'cdk-overlay-transparent-backdrop',
        hasBackdrop: true
    };
    var ContextMenuOverlayService = /** @class */ (function () {
        function ContextMenuOverlayService(injector, overlay$$1) {
            this.injector = injector;
            this.overlay = overlay$$1;
        }
        /**
         * @param {?} config
         * @return {?}
         */
        ContextMenuOverlayService.prototype.open = /**
         * @param {?} config
         * @return {?}
         */
            function (config) {
                /** @type {?} */
                var overlayConfig = __assign({}, DEFAULT_CONFIG, config);
                /** @type {?} */
                var overlay$$1 = this.createOverlay(overlayConfig);
                /** @type {?} */
                var overlayRef = new ContextMenuOverlayRef(overlay$$1);
                this.attachDialogContainer(overlay$$1, config, overlayRef);
                overlay$$1.backdropClick().subscribe(function () { return overlayRef.close(); });
                // prevent native contextmenu on overlay element if config.hasBackdrop is true
                if (overlayConfig.hasBackdrop) {
                    ( /** @type {?} */(overlay$$1))._backdropElement
                        .addEventListener('contextmenu', function (event) {
                        event.preventDefault();
                        ( /** @type {?} */(overlay$$1))._backdropClick.next(null);
                    }, true);
                }
                return overlayRef;
            };
        /**
         * @param {?} config
         * @return {?}
         */
        ContextMenuOverlayService.prototype.createOverlay = /**
         * @param {?} config
         * @return {?}
         */
            function (config) {
                /** @type {?} */
                var overlayConfig = this.getOverlayConfig(config);
                return this.overlay.create(overlayConfig);
            };
        /**
         * @param {?} overlay
         * @param {?} config
         * @param {?} contextMenuOverlayRef
         * @return {?}
         */
        ContextMenuOverlayService.prototype.attachDialogContainer = /**
         * @param {?} overlay
         * @param {?} config
         * @param {?} contextMenuOverlayRef
         * @return {?}
         */
            function (overlay$$1, config, contextMenuOverlayRef) {
                /** @type {?} */
                var injector = this.createInjector(config, contextMenuOverlayRef);
                /** @type {?} */
                var containerPortal = new portal.ComponentPortal(ContextMenuListComponent, null, injector);
                /** @type {?} */
                var containerRef = overlay$$1.attach(containerPortal);
                return containerRef.instance;
            };
        /**
         * @param {?} config
         * @param {?} contextMenuOverlayRef
         * @return {?}
         */
        ContextMenuOverlayService.prototype.createInjector = /**
         * @param {?} config
         * @param {?} contextMenuOverlayRef
         * @return {?}
         */
            function (config, contextMenuOverlayRef) {
                /** @type {?} */
                var injectionTokens = new WeakMap();
                injectionTokens.set(ContextMenuOverlayRef, contextMenuOverlayRef);
                injectionTokens.set(CONTEXT_MENU_DATA, config.data);
                return new portal.PortalInjector(this.injector, injectionTokens);
            };
        /**
         * @param {?} config
         * @return {?}
         */
        ContextMenuOverlayService.prototype.getOverlayConfig = /**
         * @param {?} config
         * @return {?}
         */
            function (config) {
                var _a = config.source, clientY = _a.clientY, clientX = _a.clientX;
                /** @type {?} */
                var fakeElement = {
                    getBoundingClientRect: function () {
                        return ({
                            bottom: clientY,
                            height: 0,
                            left: clientX,
                            right: clientX,
                            top: clientY,
                            width: 0
                        });
                    }
                };
                /** @type {?} */
                var positionStrategy = this.overlay.position()
                    .connectedTo(new i0.ElementRef(fakeElement), { originX: 'start', originY: 'bottom' }, { overlayX: 'start', overlayY: 'top' })
                    .withFallbackPosition({ originX: 'start', originY: 'top' }, { overlayX: 'start', overlayY: 'bottom' })
                    .withFallbackPosition({ originX: 'end', originY: 'top' }, { overlayX: 'start', overlayY: 'top' })
                    .withFallbackPosition({ originX: 'start', originY: 'top' }, { overlayX: 'end', overlayY: 'top' })
                    .withFallbackPosition({ originX: 'end', originY: 'center' }, { overlayX: 'start', overlayY: 'center' })
                    .withFallbackPosition({ originX: 'start', originY: 'center' }, { overlayX: 'end', overlayY: 'center' });
                /** @type {?} */
                var overlayConfig = new overlay.OverlayConfig({
                    hasBackdrop: config.hasBackdrop,
                    backdropClass: config.backdropClass,
                    panelClass: config.panelClass,
                    scrollStrategy: this.overlay.scrollStrategies.close(),
                    positionStrategy: positionStrategy
                });
                return overlayConfig;
            };
        ContextMenuOverlayService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        ContextMenuOverlayService.ctorParameters = function () {
            return [
                { type: i0.Injector },
                { type: overlay.Overlay }
            ];
        };
        return ContextMenuOverlayService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ContextMenuDirective = /** @class */ (function () {
        function ContextMenuDirective(contextMenuService) {
            this.contextMenuService = contextMenuService;
            /**
             * Is the menu enabled?
             */
            this.enabled = false;
        }
        /**
         * @param {?=} event
         * @return {?}
         */
        ContextMenuDirective.prototype.onShowContextMenu = /**
         * @param {?=} event
         * @return {?}
         */
            function (event) {
                if (this.enabled) {
                    if (event) {
                        event.preventDefault();
                    }
                    if (this.links && this.links.length > 0) {
                        this.contextMenuService.open({
                            source: event,
                            data: this.links
                        });
                    }
                }
            };
        ContextMenuDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: '[adf-context-menu], [context-menu]'
                    },] }
        ];
        /** @nocollapse */
        ContextMenuDirective.ctorParameters = function () {
            return [
                { type: ContextMenuOverlayService }
            ];
        };
        ContextMenuDirective.propDecorators = {
            links: [{ type: i0.Input, args: ['context-menu',] }],
            enabled: [{ type: i0.Input, args: ['context-menu-enabled',] }],
            onShowContextMenu: [{ type: i0.HostListener, args: ['contextmenu', ['$event'],] }]
        };
        return ContextMenuDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ContextMenuModule = /** @class */ (function () {
        function ContextMenuModule() {
        }
        ContextMenuModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            MaterialModule,
                            core$1.TranslateModule.forChild()
                        ],
                        declarations: [
                            ContextMenuHolderComponent,
                            ContextMenuDirective,
                            ContextMenuListComponent
                        ],
                        exports: [
                            ContextMenuHolderComponent,
                            ContextMenuDirective
                        ],
                        entryComponents: [
                            ContextMenuListComponent
                        ]
                    },] }
        ];
        return ContextMenuModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @enum {string} */
    var UserPreferenceValues = {
        PaginationSize: 'PAGINATION_SIZE',
        Locale: 'LOCALE',
        SupportedPageSizes: 'supportedPageSizes',
    };
    var UserPreferencesService = /** @class */ (function () {
        function UserPreferencesService(translate, appConfig, storage) {
            this.translate = translate;
            this.appConfig = appConfig;
            this.storage = storage;
            this.defaults = {
                paginationSize: 25,
                supportedPageSizes: [5, 10, 15, 20],
                locale: 'en'
            };
            this.userPreferenceStatus = this.defaults;
            this.appConfig.onLoad.subscribe(this.initUserPreferenceStatus.bind(this));
            this.localeSubject = new rxjs.BehaviorSubject(this.get(UserPreferenceValues.Locale, this.getDefaultLocale()));
            this.locale$ = this.localeSubject.asObservable();
            this.onChangeSubject = new rxjs.BehaviorSubject(this.userPreferenceStatus);
            this.onChange = this.onChangeSubject.asObservable();
        }
        /**
         * @return {?}
         */
        UserPreferencesService.prototype.initUserPreferenceStatus = /**
         * @return {?}
         */
            function () {
                this.userPreferenceStatus[UserPreferenceValues.Locale] = this.locale || this.getDefaultLocale();
                this.userPreferenceStatus[UserPreferenceValues.PaginationSize] = this.appConfig.get('pagination.size', this.defaults.paginationSize);
                this.userPreferenceStatus[UserPreferenceValues.SupportedPageSizes] = this.appConfig.get('pagination.supportedPageSizes', this.defaults.supportedPageSizes);
            };
        /**
         * Sets up a callback to notify when a property has changed.
         * @param property The property to watch
         * @returns Notification callback
         */
        /**
         * Sets up a callback to notify when a property has changed.
         * @param {?} property The property to watch
         * @return {?} Notification callback
         */
        UserPreferencesService.prototype.select = /**
         * Sets up a callback to notify when a property has changed.
         * @param {?} property The property to watch
         * @return {?} Notification callback
         */
            function (property) {
                return this.onChange
                    .pipe(operators.map(function (userPreferenceStatus) { return userPreferenceStatus[property]; }), operators.distinctUntilChanged());
            };
        /**
         * Gets a preference property.
         * @param property Name of the property
         * @param defaultValue Default to return if the property is not found
         * @returns Preference property
         */
        /**
         * Gets a preference property.
         * @param {?} property Name of the property
         * @param {?=} defaultValue Default to return if the property is not found
         * @return {?} Preference property
         */
        UserPreferencesService.prototype.get = /**
         * Gets a preference property.
         * @param {?} property Name of the property
         * @param {?=} defaultValue Default to return if the property is not found
         * @return {?} Preference property
         */
            function (property, defaultValue) {
                /** @type {?} */
                var key = this.getPropertyKey(property);
                /** @type {?} */
                var value = this.storage.getItem(key);
                if (value === undefined || value === null) {
                    return defaultValue;
                }
                return value;
            };
        /**
         * Sets a preference property.
         * @param property Name of the property
         * @param value New value for the property
         */
        /**
         * Sets a preference property.
         * @param {?} property Name of the property
         * @param {?} value New value for the property
         * @return {?}
         */
        UserPreferencesService.prototype.set = /**
         * Sets a preference property.
         * @param {?} property Name of the property
         * @param {?} value New value for the property
         * @return {?}
         */
            function (property, value) {
                if (!property) {
                    return;
                }
                this.storage.setItem(this.getPropertyKey(property), value);
                this.userPreferenceStatus[property] = value;
                this.onChangeSubject.next(this.userPreferenceStatus);
            };
        /**
         * Check if an item is present in the storage
         * @param property Name of the property
         * @returns True if the item is present, false otherwise
         */
        /**
         * Check if an item is present in the storage
         * @param {?} property Name of the property
         * @return {?} True if the item is present, false otherwise
         */
        UserPreferencesService.prototype.hasItem = /**
         * Check if an item is present in the storage
         * @param {?} property Name of the property
         * @return {?} True if the item is present, false otherwise
         */
            function (property) {
                if (!property) {
                    return;
                }
                return this.storage.hasItem(this.getPropertyKey(property));
            };
        /**
         * Gets the active storage prefix for preferences.
         * @returns Storage prefix
         */
        /**
         * Gets the active storage prefix for preferences.
         * @return {?} Storage prefix
         */
        UserPreferencesService.prototype.getStoragePrefix = /**
         * Gets the active storage prefix for preferences.
         * @return {?} Storage prefix
         */
            function () {
                return this.storage.getItem('USER_PROFILE') || 'GUEST';
            };
        /**
         * Sets the active storage prefix for preferences.
         * @param value Name of the prefix
         */
        /**
         * Sets the active storage prefix for preferences.
         * @param {?} value Name of the prefix
         * @return {?}
         */
        UserPreferencesService.prototype.setStoragePrefix = /**
         * Sets the active storage prefix for preferences.
         * @param {?} value Name of the prefix
         * @return {?}
         */
            function (value) {
                this.storage.setItem('USER_PROFILE', value || 'GUEST');
            };
        /**
         * Gets the full property key with prefix.
         * @param property The property name
         * @returns Property key
         */
        /**
         * Gets the full property key with prefix.
         * @param {?} property The property name
         * @return {?} Property key
         */
        UserPreferencesService.prototype.getPropertyKey = /**
         * Gets the full property key with prefix.
         * @param {?} property The property name
         * @return {?} Property key
         */
            function (property) {
                return this.getStoragePrefix() + "__" + property;
            };
        /**
         * Gets an array containing the available page sizes.
         * @returns Array of page size values
         */
        /**
         * Gets an array containing the available page sizes.
         * @return {?} Array of page size values
         */
        UserPreferencesService.prototype.getDefaultPageSizes = /**
         * Gets an array containing the available page sizes.
         * @return {?} Array of page size values
         */
            function () {
                return this.userPreferenceStatus[UserPreferenceValues.SupportedPageSizes];
            };
        Object.defineProperty(UserPreferencesService.prototype, "paginationSize", {
            get: /**
             * @return {?}
             */ function () {
                return Number(this.get(UserPreferenceValues.PaginationSize, this.userPreferenceStatus[UserPreferenceValues.PaginationSize])) || this.defaults.paginationSize;
            },
            /** Pagination size. */
            set: /**
             * Pagination size.
             * @param {?} value
             * @return {?}
             */ function (value) {
                this.set(UserPreferenceValues.PaginationSize, value);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(UserPreferencesService.prototype, "locale", {
            /** Current locale setting. */
            get: /**
             * Current locale setting.
             * @return {?}
             */ function () {
                /** @type {?} */
                var locale = this.get(UserPreferenceValues.Locale, this.userPreferenceStatus[UserPreferenceValues.Locale]);
                return locale;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this.localeSubject.next(value);
                this.set(UserPreferenceValues.Locale, value);
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Gets the default locale.
         * @return {?} Default locale language code
         */
        UserPreferencesService.prototype.getDefaultLocale = /**
         * Gets the default locale.
         * @return {?} Default locale language code
         */
            function () {
                return this.appConfig.get('locale') || this.translate.getBrowserLang() || 'en';
            };
        UserPreferencesService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        UserPreferencesService.ctorParameters = function () {
            return [
                { type: core$1.TranslateService },
                { type: AppConfigService },
                { type: StorageService }
            ];
        };
        return UserPreferencesService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var TRANSLATION_PROVIDER = new i0.InjectionToken('Injection token for translation providers.');
    var TranslationService = /** @class */ (function () {
        function TranslationService(translate, userPreference, providers) {
            var e_1, _a;
            var _this = this;
            this.translate = translate;
            this.customLoader = /** @type {?} */ (this.translate.currentLoader);
            this.defaultLang = 'en';
            translate.setDefaultLang(this.defaultLang);
            if (providers && providers.length > 0) {
                try {
                    for (var providers_1 = __values(providers), providers_1_1 = providers_1.next(); !providers_1_1.done; providers_1_1 = providers_1.next()) {
                        var provider = providers_1_1.value;
                        this.addTranslationFolder(provider.name, provider.source);
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (providers_1_1 && !providers_1_1.done && (_a = providers_1.return))
                            _a.call(providers_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
            }
            userPreference.locale$.subscribe(function (locale) {
                _this.userLang = locale;
                _this.use(_this.userLang);
            });
        }
        /**
         * Adds a new folder of translation source files.
         * @param name Name for the translation provider
         * @param path Path to the folder
         */
        /**
         * Adds a new folder of translation source files.
         * @param {?=} name Name for the translation provider
         * @param {?=} path Path to the folder
         * @return {?}
         */
        TranslationService.prototype.addTranslationFolder = /**
         * Adds a new folder of translation source files.
         * @param {?=} name Name for the translation provider
         * @param {?=} path Path to the folder
         * @return {?}
         */
            function (name, path) {
                if (name === void 0) {
                    name = '';
                }
                if (path === void 0) {
                    path = '';
                }
                if (!this.customLoader.providerRegistered(name)) {
                    this.customLoader.registerProvider(name, path);
                    if (this.userLang) {
                        this.loadTranslation(this.userLang, this.defaultLang);
                    }
                    else {
                        this.loadTranslation(this.defaultLang);
                    }
                }
            };
        /**
         * @param {?} lang
         * @param {?=} fallback
         * @return {?}
         */
        TranslationService.prototype.loadTranslation = /**
         * @param {?} lang
         * @param {?=} fallback
         * @return {?}
         */
            function (lang, fallback) {
                var _this = this;
                this.translate.getTranslation(lang).subscribe(function () {
                    _this.translate.use(lang);
                    _this.onTranslationChanged(lang);
                }, function () {
                    if (fallback && fallback !== lang) {
                        _this.loadTranslation(fallback);
                    }
                });
            };
        /**
         * Triggers a notification callback when the translation language changes.
         * @param lang The new language code
         */
        /**
         * Triggers a notification callback when the translation language changes.
         * @param {?} lang The new language code
         * @return {?}
         */
        TranslationService.prototype.onTranslationChanged = /**
         * Triggers a notification callback when the translation language changes.
         * @param {?} lang The new language code
         * @return {?}
         */
            function (lang) {
                this.translate.onTranslationChange.next({
                    lang: lang,
                    translations: this.customLoader.getFullTranslationJSON(lang)
                });
            };
        /**
         * Sets the target language for translations.
         * @param lang Code name for the language
         * @returns Translations available for the language
         */
        /**
         * Sets the target language for translations.
         * @param {?} lang Code name for the language
         * @return {?} Translations available for the language
         */
        TranslationService.prototype.use = /**
         * Sets the target language for translations.
         * @param {?} lang Code name for the language
         * @return {?} Translations available for the language
         */
            function (lang) {
                this.customLoader.init(lang);
                return this.translate.use(lang);
            };
        /**
         * Gets the translation for the supplied key.
         * @param key Key to translate
         * @param interpolateParams String(s) to be interpolated into the main message
         * @returns Translated text
         */
        /**
         * Gets the translation for the supplied key.
         * @param {?} key Key to translate
         * @param {?=} interpolateParams String(s) to be interpolated into the main message
         * @return {?} Translated text
         */
        TranslationService.prototype.get = /**
         * Gets the translation for the supplied key.
         * @param {?} key Key to translate
         * @param {?=} interpolateParams String(s) to be interpolated into the main message
         * @return {?} Translated text
         */
            function (key, interpolateParams) {
                return this.translate.get(key, interpolateParams);
            };
        /**
         * Directly returns the translation for the supplied key.
         * @param key Key to translate
         * @param interpolateParams String(s) to be interpolated into the main message
         * @returns Translated text
         */
        /**
         * Directly returns the translation for the supplied key.
         * @param {?} key Key to translate
         * @param {?=} interpolateParams String(s) to be interpolated into the main message
         * @return {?} Translated text
         */
        TranslationService.prototype.instant = /**
         * Directly returns the translation for the supplied key.
         * @param {?} key Key to translate
         * @param {?=} interpolateParams String(s) to be interpolated into the main message
         * @return {?} Translated text
         */
            function (key, interpolateParams) {
                return key ? this.translate.instant(key, interpolateParams) : '';
            };
        TranslationService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        TranslationService.ctorParameters = function () {
            return [
                { type: core$1.TranslateService },
                { type: UserPreferencesService },
                { type: Array, decorators: [{ type: i0.Optional }, { type: i0.Inject, args: [TRANSLATION_PROVIDER,] }] }
            ];
        };
        return TranslationService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FileSizePipe = /** @class */ (function () {
        function FileSizePipe(translation) {
            this.translation = translation;
        }
        /**
         * @param {?} bytes
         * @param {?=} decimals
         * @return {?}
         */
        FileSizePipe.prototype.transform = /**
         * @param {?} bytes
         * @param {?=} decimals
         * @return {?}
         */
            function (bytes, decimals) {
                if (decimals === void 0) {
                    decimals = 2;
                }
                if (bytes == null || bytes === undefined) {
                    return '';
                }
                if (bytes === 0) {
                    return '0 ' + this.translation.instant('CORE.FILE_SIZE.BYTES');
                }
                /** @type {?} */
                var k = 1024;
                /** @type {?} */
                var dm = decimals || 2;
                /** @type {?} */
                var sizes = ['BYTES', 'KB', 'MB', 'GB', 'TB', 'PB', 'EB', 'ZB', 'YB'];
                /** @type {?} */
                var i = Math.floor(Math.log(bytes) / Math.log(k));
                /** @type {?} */
                var i18nSize = this.translation.instant("CORE.FILE_SIZE." + sizes[i]);
                return parseFloat((bytes / Math.pow(k, i)).toFixed(dm)) + ' ' + i18nSize;
            };
        FileSizePipe.decorators = [
            { type: i0.Pipe, args: [{
                        name: 'adfFileSize',
                        pure: false
                    },] }
        ];
        /** @nocollapse */
        FileSizePipe.ctorParameters = function () {
            return [
                { type: TranslationService }
            ];
        };
        return FileSizePipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var PermissionsEnum = /** @class */ (function (_super) {
        __extends(PermissionsEnum, _super);
        function PermissionsEnum() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        PermissionsEnum.DELETE = 'delete';
        PermissionsEnum.UPDATE = 'update';
        PermissionsEnum.CREATE = 'create';
        PermissionsEnum.COPY = 'copy';
        PermissionsEnum.LOCK = 'lock';
        PermissionsEnum.UPDATEPERMISSIONS = 'updatePermissions';
        PermissionsEnum.NOT_DELETE = '!delete';
        PermissionsEnum.NOT_UPDATE = '!update';
        PermissionsEnum.NOT_CREATE = '!create';
        PermissionsEnum.NOT_UPDATEPERMISSIONS = '!updatePermissions';
        return PermissionsEnum;
    }(String));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ContentService = /** @class */ (function () {
        function ContentService(authService, apiService, logService, sanitizer) {
            this.authService = authService;
            this.apiService = apiService;
            this.logService = logService;
            this.sanitizer = sanitizer;
            this.folderCreated = new rxjs.Subject();
            this.folderCreate = new rxjs.Subject();
            this.folderEdit = new rxjs.Subject();
            this.saveData = (function () {
                /** @type {?} */
                var a = document.createElement('a');
                document.body.appendChild(a);
                a.style.display = 'none';
                return function (data, format, fileName) {
                    /** @type {?} */
                    var blob = null;
                    if (format === 'blob' || format === 'data') {
                        blob = new Blob([data], { type: 'octet/stream' });
                    }
                    if (format === 'object' || format === 'json') {
                        /** @type {?} */
                        var json = JSON.stringify(data);
                        blob = new Blob([json], { type: 'octet/stream' });
                    }
                    if (blob) {
                        if (typeof window.navigator !== 'undefined' && window.navigator.msSaveOrOpenBlob) {
                            navigator.msSaveOrOpenBlob(blob, fileName);
                        }
                        else {
                            /** @type {?} */
                            var url = window.URL.createObjectURL(blob);
                            a.href = url;
                            a.download = fileName;
                            a.click();
                            window.URL.revokeObjectURL(url);
                        }
                    }
                };
            }());
        }
        /**
         * Invokes content download for a Blob with a file name.
         * @param blob Content to download.
         * @param fileName Name of the resulting file.
         */
        /**
         * Invokes content download for a Blob with a file name.
         * @param {?} blob Content to download.
         * @param {?} fileName Name of the resulting file.
         * @return {?}
         */
        ContentService.prototype.downloadBlob = /**
         * Invokes content download for a Blob with a file name.
         * @param {?} blob Content to download.
         * @param {?} fileName Name of the resulting file.
         * @return {?}
         */
            function (blob, fileName) {
                this.saveData(blob, 'blob', fileName);
            };
        /**
         * Invokes content download for a data array with a file name.
         * @param data Data to download.
         * @param fileName Name of the resulting file.
         */
        /**
         * Invokes content download for a data array with a file name.
         * @param {?} data Data to download.
         * @param {?} fileName Name of the resulting file.
         * @return {?}
         */
        ContentService.prototype.downloadData = /**
         * Invokes content download for a data array with a file name.
         * @param {?} data Data to download.
         * @param {?} fileName Name of the resulting file.
         * @return {?}
         */
            function (data, fileName) {
                this.saveData(data, 'data', fileName);
            };
        /**
         * Invokes content download for a JSON object with a file name.
         * @param json JSON object to download.
         * @param fileName Name of the resulting file.
         */
        /**
         * Invokes content download for a JSON object with a file name.
         * @param {?} json JSON object to download.
         * @param {?} fileName Name of the resulting file.
         * @return {?}
         */
        ContentService.prototype.downloadJSON = /**
         * Invokes content download for a JSON object with a file name.
         * @param {?} json JSON object to download.
         * @param {?} fileName Name of the resulting file.
         * @return {?}
         */
            function (json, fileName) {
                this.saveData(json, 'json', fileName);
            };
        /**
         * Creates a trusted object URL from the Blob.
         * WARNING: calling this method with untrusted user data exposes your application to XSS security risks!
         * @param  blob Data to wrap into object URL
         * @returns URL string
         */
        /**
         * Creates a trusted object URL from the Blob.
         * WARNING: calling this method with untrusted user data exposes your application to XSS security risks!
         * @param {?} blob Data to wrap into object URL
         * @return {?} URL string
         */
        ContentService.prototype.createTrustedUrl = /**
         * Creates a trusted object URL from the Blob.
         * WARNING: calling this method with untrusted user data exposes your application to XSS security risks!
         * @param {?} blob Data to wrap into object URL
         * @return {?} URL string
         */
            function (blob) {
                /** @type {?} */
                var url = window.URL.createObjectURL(blob);
                return /** @type {?} */ (this.sanitizer.bypassSecurityTrustUrl(url));
            };
        Object.defineProperty(ContentService.prototype, "contentApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.apiService.getInstance().content;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Gets a thumbnail URL for the given document node.
         * @param node Node to get URL for.
         * @param attachment Toggles whether to retrieve content as an attachment for download
         * @param ticket Custom ticket to use for authentication
         * @returns URL string
         */
        /**
         * Gets a thumbnail URL for the given document node.
         * @param {?} node Node to get URL for.
         * @param {?=} attachment Toggles whether to retrieve content as an attachment for download
         * @param {?=} ticket Custom ticket to use for authentication
         * @return {?} URL string
         */
        ContentService.prototype.getDocumentThumbnailUrl = /**
         * Gets a thumbnail URL for the given document node.
         * @param {?} node Node to get URL for.
         * @param {?=} attachment Toggles whether to retrieve content as an attachment for download
         * @param {?=} ticket Custom ticket to use for authentication
         * @return {?} URL string
         */
            function (node, attachment, ticket) {
                if (node && node.entry) {
                    node = node.entry.id;
                }
                return this.contentApi.getDocumentThumbnailUrl(node, attachment, ticket);
            };
        /**
         * Gets a content URL for the given node.
         * @param node Node to get URL for.
         * @param attachment Toggles whether to retrieve content as an attachment for download
         * @param ticket Custom ticket to use for authentication
         * @returns URL string
         */
        /**
         * Gets a content URL for the given node.
         * @param {?} node Node to get URL for.
         * @param {?=} attachment Toggles whether to retrieve content as an attachment for download
         * @param {?=} ticket Custom ticket to use for authentication
         * @return {?} URL string
         */
        ContentService.prototype.getContentUrl = /**
         * Gets a content URL for the given node.
         * @param {?} node Node to get URL for.
         * @param {?=} attachment Toggles whether to retrieve content as an attachment for download
         * @param {?=} ticket Custom ticket to use for authentication
         * @return {?} URL string
         */
            function (node, attachment, ticket) {
                if (node && node.entry) {
                    node = node.entry.id;
                }
                return this.contentApi.getContentUrl(node, attachment, ticket);
            };
        /**
         * Gets content for the given node.
         * @param nodeId ID of the target node
         * @returns Content data
         */
        /**
         * Gets content for the given node.
         * @param {?} nodeId ID of the target node
         * @return {?} Content data
         */
        ContentService.prototype.getNodeContent = /**
         * Gets content for the given node.
         * @param {?} nodeId ID of the target node
         * @return {?} Content data
         */
            function (nodeId) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().core.nodesApi.getFileContent(nodeId))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Creates a folder.
         * @param relativePath Location to create the folder
         * @param name Folder name
         * @param parentId Node ID of parent folder
         * @returns Information about the new folder
         */
        /**
         * Creates a folder.
         * @param {?} relativePath Location to create the folder
         * @param {?} name Folder name
         * @param {?=} parentId Node ID of parent folder
         * @return {?} Information about the new folder
         */
        ContentService.prototype.createFolder = /**
         * Creates a folder.
         * @param {?} relativePath Location to create the folder
         * @param {?} name Folder name
         * @param {?=} parentId Node ID of parent folder
         * @return {?} Information about the new folder
         */
            function (relativePath, name, parentId) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().nodes.createFolder(name, relativePath, parentId))
                    .pipe(operators.tap(function (data) {
                    _this.folderCreated.next(/** @type {?} */ ({
                        relativePath: relativePath,
                        name: name,
                        parentId: parentId,
                        node: data
                    }));
                }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets a Node via its node ID.
         * @param nodeId ID of the target node
         * @param opts Options supported by JSAPI
         * @returns Details of the folder
         */
        /**
         * Gets a Node via its node ID.
         * @param {?} nodeId ID of the target node
         * @param {?=} opts Options supported by JSAPI
         * @return {?} Details of the folder
         */
        ContentService.prototype.getNode = /**
         * Gets a Node via its node ID.
         * @param {?} nodeId ID of the target node
         * @param {?=} opts Options supported by JSAPI
         * @return {?} Details of the folder
         */
            function (nodeId, opts) {
                return rxjs.from(this.apiService.getInstance().nodes.getNode(nodeId, opts));
            };
        /**
         * Checks if the user has permissions on that node
         * @param node Node to check allowableOperations
         * @param permission Create, delete, update, updatePermissions, !create, !delete, !update, !updatePermissions
         * @returns True if the user has the required permissions, false otherwise
         */
        /**
         * Checks if the user has permissions on that node
         * @param {?} node Node to check allowableOperations
         * @param {?} permission Create, delete, update, updatePermissions, !create, !delete, !update, !updatePermissions
         * @return {?} True if the user has the required permissions, false otherwise
         */
        ContentService.prototype.hasPermission = /**
         * Checks if the user has permissions on that node
         * @param {?} node Node to check allowableOperations
         * @param {?} permission Create, delete, update, updatePermissions, !create, !delete, !update, !updatePermissions
         * @return {?} True if the user has the required permissions, false otherwise
         */
            function (node, permission) {
                /** @type {?} */
                var hasPermission = false;
                if (this.hasAllowableOperations(node)) {
                    if (permission && permission.startsWith('!')) {
                        hasPermission = node.allowableOperations.find(function (currentPermission) { return currentPermission === permission.replace('!', ''); }) ? false : true;
                    }
                    else {
                        hasPermission = node.allowableOperations.find(function (currentPermission) { return currentPermission === permission; }) ? true : false;
                    }
                }
                else {
                    if (permission && permission.startsWith('!')) {
                        hasPermission = true;
                    }
                }
                if (permission === PermissionsEnum.COPY) {
                    hasPermission = true;
                }
                if (permission === PermissionsEnum.LOCK) {
                    hasPermission = node.isFile;
                    if (node.isLocked && this.hasAllowableOperations(node)) {
                        hasPermission = !!~node.allowableOperations.indexOf('updatePermissions');
                    }
                }
                return hasPermission;
            };
        /**
         * Checks if the node has the properties allowableOperations
         * @param node Node to check allowableOperations
         * @returns True if the node has the property, false otherwise
         */
        /**
         * Checks if the node has the properties allowableOperations
         * @param {?} node Node to check allowableOperations
         * @return {?} True if the node has the property, false otherwise
         */
        ContentService.prototype.hasAllowableOperations = /**
         * Checks if the node has the properties allowableOperations
         * @param {?} node Node to check allowableOperations
         * @return {?} True if the node has the property, false otherwise
         */
            function (node) {
                return node && node.allowableOperations ? true : false;
            };
        /**
         * @param {?} error
         * @return {?}
         */
        ContentService.prototype.handleError = /**
         * @param {?} error
         * @return {?}
         */
            function (error) {
                this.logService.error(error);
                return rxjs.throwError(error || 'Server error');
            };
        ContentService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        ContentService.ctorParameters = function () {
            return [
                { type: AuthenticationService },
                { type: AlfrescoApiService },
                { type: LogService },
                { type: platformBrowser.DomSanitizer }
            ];
        };
        return ContentService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ThumbnailService = /** @class */ (function () {
        function ThumbnailService(contentService, matIconRegistry, sanitizer) {
            var _this = this;
            this.contentService = contentService;
            this.DEFAULT_ICON = './assets/images/ft_ic_miscellaneous.svg';
            this.mimeTypeIcons = {
                'image/png': './assets/images/ft_ic_raster_image.svg',
                'image/jpeg': './assets/images/ft_ic_raster_image.svg',
                'image/gif': './assets/images/ft_ic_raster_image.svg',
                'image/bmp': './assets/images/ft_ic_raster_image.svg',
                'image/cgm': './assets/images/ft_ic_raster_image.svg',
                'image/ief': './assets/images/ft_ic_raster_image.svg',
                'image/jp2': './assets/images/ft_ic_raster_image.svg',
                'image/tiff': './assets/images/ft_ic_raster_image.svg',
                'image/vnd.adobe.photoshop': './assets/images/ft_ic_raster_image.svg',
                'image/vnd.adobe.premiere': './assets/images/ft_ic_raster_image.svg',
                'image/x-cmu-raster': './assets/images/ft_ic_raster_image.svg',
                'image/x-dwt': './assets/images/ft_ic_raster_image.svg',
                'image/x-portable-anymap': './assets/images/ft_ic_raster_image.svg',
                'image/x-portable-bitmap': './assets/images/ft_ic_raster_image.svg',
                'image/x-portable-graymap': './assets/images/ft_ic_raster_image.svg',
                'image/x-portable-pixmap': './assets/images/ft_ic_raster_image.svg',
                'image/x-raw-adobe': './assets/images/ft_ic_raster_image.svg',
                'image/x-raw-canon': './assets/images/ft_ic_raster_image.svg',
                'image/x-raw-fuji': './assets/images/ft_ic_raster_image.svg',
                'image/x-raw-hasselblad': './assets/images/ft_ic_raster_image.svg',
                'image/x-raw-kodak': './assets/images/ft_ic_raster_image.svg',
                'image/x-raw-leica': './assets/images/ft_ic_raster_image.svg',
                'image/x-raw-minolta': './assets/images/ft_ic_raster_image.svg',
                'image/x-raw-nikon': './assets/images/ft_ic_raster_image.svg',
                'image/x-raw-olympus': './assets/images/ft_ic_raster_image.svg',
                'image/x-raw-panasonic': './assets/images/ft_ic_raster_image.svg',
                'image/x-raw-pentax': './assets/images/ft_ic_raster_image.svg',
                'image/x-raw-red': './assets/images/ft_ic_raster_image.svg',
                'image/x-raw-sigma': './assets/images/ft_ic_raster_image.svg',
                'image/x-raw-sony': './assets/images/ft_ic_raster_image.svg',
                'image/x-xbitmap': './assets/images/ft_ic_raster_image.svg',
                'image/x-xpixmap': './assets/images/ft_ic_raster_image.svg',
                'image/x-xwindowdump': './assets/images/ft_ic_raster_image.svg',
                'image/svg+xml': './assets/images/ft_ic_vector_image.svg',
                'application/eps': './assets/images/ft_ic_raster_image.svg',
                'application/illustrator': './assets/images/ft_ic_raster_image.svg',
                'application/pdf': './assets/images/ft_ic_pdf.svg',
                'application/vnd.ms-excel': './assets/images/ft_ic_ms_excel.svg',
                'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet': './assets/images/ft_ic_ms_excel.svg',
                'application/vnd.openxmlformats-officedocument.spreadsheetml.template': './assets/images/ft_ic_ms_excel.svg',
                'application/vnd.ms-excel.addin.macroenabled.12': './assets/images/ft_ic_ms_excel.svg',
                'application/vnd.ms-excel.sheet.binary.macroenabled.12': './assets/images/ft_ic_ms_excel.svg',
                'application/vnd.ms-excel.sheet.macroenabled.12': './assets/images/ft_ic_ms_excel.svg',
                'application/vnd.ms-excel.template.macroenabled.12': './assets/images/ft_ic_ms_excel.svg',
                'application/vnd.sun.xml.calc': './assets/images/ft_ic_ms_excel.svg',
                'application/vnd.sun.xml.calc.template': './assets/images/ft_ic_ms_excel.svg',
                'application/vnd.ms-outlook': './assets/images/ft_ic_document.svg',
                'application/msword': './assets/images/ft_ic_ms_word.svg',
                'application/vnd.openxmlformats-officedocument.wordprocessingml.document': './assets/images/ft_ic_ms_word.svg',
                'application/vnd.openxmlformats-officedocument.wordprocessingml.template': './assets/images/ft_ic_ms_word.svg',
                'application/vnd.ms-word.document.macroenabled.12': './assets/images/ft_ic_ms_word.svg',
                'application/vnd.ms-word.template.macroenabled.12': './assets/images/ft_ic_ms_word.svg',
                'application/vnd.sun.xml.writer': './assets/images/ft_ic_ms_word.svg',
                'application/vnd.sun.xml.writer.template': './assets/images/ft_ic_ms_word.svg',
                'application/rtf': './assets/images/ft_ic_ms_word.svg',
                'application/vnd.ms-powerpoint': './assets/images/ft_ic_ms_powerpoint.svg',
                'application/vnd.openxmlformats-officedocument.presentationml.presentation': './assets/images/ft_ic_ms_powerpoint.svg',
                'application/vnd.openxmlformats-officedocument.presentationml.template': './assets/images/ft_ic_ms_powerpoint.svg',
                'application/vnd.openxmlformats-officedocument.presentationml.slideshow': './assets/images/ft_ic_ms_powerpoint.svg',
                'application/vnd.oasis.opendocument.presentation': './assets/images/ft_ic_ms_powerpoint.svg',
                'application/vnd.oasis.opendocument.presentation-template': './assets/images/ft_ic_ms_powerpoint.svg',
                'application/vnd.openxmlformats-officedocument.presentationml.slide': './assets/images/ft_ic_ms_powerpoint.svg',
                'application/vnd.sun.xml.impress': './assets/images/ft_ic_ms_powerpoint.svg',
                'application/vnd.sun.xml.impress.template': './assets/images/ft_ic_ms_powerpoint.svg',
                'application/vnd.oasis.opendocument.spreadsheet': './assets/images/ft_ic_ms_excel.svg',
                'application/vnd.oasis.opendocument.spreadsheet-template': './assets/images/ft_ic_ms_excel.svg',
                'application/vnd.ms-powerpoint.addin.macroenabled.12': './assets/images/ft_ic_ms_powerpoint.svg',
                'application/vnd.ms-powerpoint.presentation.macroenabled.12': './assets/images/ft_ic_ms_powerpoint.svg',
                'application/vnd.ms-powerpoint.slide.macroenabled.12': './assets/images/ft_ic_ms_powerpoint.svg',
                'application/vnd.ms-powerpoint.slideshow.macroenabled.12': './assets/images/ft_ic_ms_powerpoint.svg',
                'application/vnd.ms-powerpoint.template.macroenabled.12': './assets/images/ft_ic_ms_powerpoint.svg',
                'video/mp4': './assets/images/ft_ic_video.svg',
                'video/3gpp': './assets/images/ft_ic_video.svg',
                'video/3gpp2': './assets/images/ft_ic_video.svg',
                'video/mp2t': './assets/images/ft_ic_video.svg',
                'video/mpeg': './assets/images/ft_ic_video.svg',
                'video/mpeg2': './assets/images/ft_ic_video.svg',
                'video/ogg': './assets/images/ft_ic_video.svg',
                'video/quicktime': './assets/images/ft_ic_video.svg',
                'video/webm': './assets/images/ft_ic_video.svg',
                'video/x-flv': './assets/images/ft_ic_video.svg',
                'video/x-m4v': './assets/images/ft_ic_video.svg',
                'video/x-ms-asf': './assets/images/ft_ic_video.svg',
                'video/x-ms-wmv': './assets/images/ft_ic_video.svg',
                'video/x-msvideo': './assets/images/ft_ic_video.svg',
                'video/x-rad-screenplay': './assets/images/ft_ic_video.svg',
                'video/x-sgi-movie': './assets/images/ft_ic_video.svg',
                'video/x-matroska': './assets/images/ft_ic_video.svg',
                'audio/mpeg': './assets/images/ft_ic_audio.svg',
                'audio/ogg': './assets/images/ft_ic_audio.svg',
                'audio/wav': './assets/images/ft_ic_audio.svg',
                'audio/basic': './assets/images/ft_ic_audio.svg',
                'audio/mp4': './assets/images/ft_ic_audio.svg',
                'audio/vnd.adobe.soundbooth': './assets/images/ft_ic_audio.svg',
                'audio/vorbis': './assets/images/ft_ic_audio.svg',
                'audio/x-aiff': './assets/images/ft_ic_audio.svg',
                'audio/x-flac': './assets/images/ft_ic_audio.svg',
                'audio/x-ms-wma': './assets/images/ft_ic_audio.svg',
                'audio/x-wav': './assets/images/ft_ic_audio.svg',
                'x-world/x-vrml': './assets/images/ft_ic_video.svg',
                'text/plain': './assets/images/ft_ic_document.svg',
                'application/vnd.oasis.opendocument.text': './assets/images/ft_ic_document.svg',
                'application/vnd.oasis.opendocument.text-template': './assets/images/ft_ic_document.svg',
                'application/x-javascript': './assets/images/ft_ic_document.svg',
                'application/json': './assets/images/ft_ic_document.svg',
                'text/csv': './assets/images/ft_ic_document.svg',
                'text/xml': './assets/images/ft_ic_document.svg',
                'text/html': './assets/images/ft_ic_website.svg',
                'application/x-compressed': './assets/images/ft_ic_archive.svg',
                'application/x-zip-compressed': './assets/images/ft_ic_archive.svg',
                'application/zip': './assets/images/ft_ic_archive.svg',
                'application/x-tar': './assets/images/ft_ic_archive.svg',
                'application/vnd.apple.keynote': './assets/images/ft_ic_presentation.svg',
                'application/vnd.apple.pages': './assets/images/ft_ic_document.svg',
                'application/vnd.apple.numbers': './assets/images/ft_ic_spreadsheet.svg',
                'application/vnd.visio': './assets/images/ft_ic_document.svg',
                'application/wordperfect': './assets/images/ft_ic_document.svg',
                'application/x-cpio': './assets/images/ft_ic_document.svg',
                'folder': './assets/images/ft_ic_folder.svg',
                'smartFolder': './assets/images/ft_ic_smart_folder.svg',
                'disable/folder': './assets/images/ft_ic_folder_disable.svg',
                'selected': './assets/images/ft_ic_selected.svg'
            };
            Object.keys(this.mimeTypeIcons).forEach(function (key) {
                matIconRegistry.addSvgIcon(key, sanitizer.bypassSecurityTrustResourceUrl(_this.mimeTypeIcons[key]));
            });
        }
        /**
         * Gets a thumbnail URL for the given document node.
         * @param {?} node Node to get URL for.
         * @return {?} URL string
         */
        ThumbnailService.prototype.getDocumentThumbnailUrl = /**
         * Gets a thumbnail URL for the given document node.
         * @param {?} node Node to get URL for.
         * @return {?} URL string
         */
            function (node) {
                /** @type {?} */
                var thumbnail = this.contentService.getDocumentThumbnailUrl(node);
                return thumbnail || this.DEFAULT_ICON;
            };
        /**
         * Gets a thumbnail URL for a MIME type.
         * @param {?} mimeType MIME type for the thumbnail
         * @return {?} URL string
         */
        ThumbnailService.prototype.getMimeTypeIcon = /**
         * Gets a thumbnail URL for a MIME type.
         * @param {?} mimeType MIME type for the thumbnail
         * @return {?} URL string
         */
            function (mimeType) {
                /** @type {?} */
                var icon = this.mimeTypeIcons[mimeType];
                return (icon || this.DEFAULT_ICON);
            };
        /**
         * Gets a "miscellaneous" thumbnail URL for types with no other icon defined.
         * @return {?} URL string
         */
        ThumbnailService.prototype.getDefaultMimeTypeIcon = /**
         * Gets a "miscellaneous" thumbnail URL for types with no other icon defined.
         * @return {?} URL string
         */
            function () {
                return this.DEFAULT_ICON;
            };
        ThumbnailService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        ThumbnailService.ctorParameters = function () {
            return [
                { type: ContentService },
                { type: material.MatIconRegistry },
                { type: platformBrowser.DomSanitizer }
            ];
        };
        return ThumbnailService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var MimeTypeIconPipe = /** @class */ (function () {
        function MimeTypeIconPipe(thumbnailService) {
            this.thumbnailService = thumbnailService;
        }
        /**
         * @param {?} text
         * @return {?}
         */
        MimeTypeIconPipe.prototype.transform = /**
         * @param {?} text
         * @return {?}
         */
            function (text) {
                return this.thumbnailService.getMimeTypeIcon(text);
            };
        MimeTypeIconPipe.decorators = [
            { type: i0.Pipe, args: [{
                        name: 'adfMimeTypeIcon'
                    },] }
        ];
        /** @nocollapse */
        MimeTypeIconPipe.ctorParameters = function () {
            return [
                { type: ThumbnailService }
            ];
        };
        return MimeTypeIconPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var NodeNameTooltipPipe = /** @class */ (function () {
        function NodeNameTooltipPipe() {
        }
        /**
         * @param {?} node
         * @return {?}
         */
        NodeNameTooltipPipe.prototype.transform = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                if (node) {
                    return this.getNodeTooltip(node);
                }
                return null;
            };
        /**
         * @param {?} lines
         * @param {?} line
         * @return {?}
         */
        NodeNameTooltipPipe.prototype.containsLine = /**
         * @param {?} lines
         * @param {?} line
         * @return {?}
         */
            function (lines, line) {
                return lines.some(function (item) {
                    return item.toLowerCase() === line.toLowerCase();
                });
            };
        /**
         * @param {?} lines
         * @return {?}
         */
        NodeNameTooltipPipe.prototype.removeDuplicateLines = /**
         * @param {?} lines
         * @return {?}
         */
            function (lines) {
                var _this = this;
                /** @type {?} */
                var reducer = function (acc, line) {
                    if (!_this.containsLine(acc, line)) {
                        acc.push(line);
                    }
                    return acc;
                };
                return lines.reduce(reducer, []);
            };
        /**
         * @param {?} node
         * @return {?}
         */
        NodeNameTooltipPipe.prototype.getNodeTooltip = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                if (!node || !node.entry) {
                    return null;
                }
                var _a = node.entry, properties = _a.properties, name = _a.name;
                /** @type {?} */
                var lines = [name];
                if (properties) {
                    var title = properties["cm:title"], description = properties["cm:description"];
                    if (title && description) {
                        lines[0] = title;
                        lines[1] = description;
                    }
                    if (title) {
                        lines[1] = title;
                    }
                    if (description) {
                        lines[1] = description;
                    }
                }
                return this.removeDuplicateLines(lines).join("\n");
            };
        NodeNameTooltipPipe.decorators = [
            { type: i0.Pipe, args: [{
                        name: 'adfNodeNameTooltip'
                    },] }
        ];
        return NodeNameTooltipPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var HighlightTransformService = /** @class */ (function () {
        function HighlightTransformService() {
        }
        /**
         * Searches for `search` string(s) within `text` and highlights all occurrences.
         * @param {?} text Text to search within
         * @param {?} search Text pattern to search for
         * @param {?=} wrapperClass CSS class used to provide highlighting style
         * @return {?} New text along with boolean value to indicate whether anything was highlighted
         */
        HighlightTransformService.prototype.highlight = /**
         * Searches for `search` string(s) within `text` and highlights all occurrences.
         * @param {?} text Text to search within
         * @param {?} search Text pattern to search for
         * @param {?=} wrapperClass CSS class used to provide highlighting style
         * @return {?} New text along with boolean value to indicate whether anything was highlighted
         */
            function (text, search, wrapperClass) {
                if (wrapperClass === void 0) {
                    wrapperClass = 'highlight';
                }
                /** @type {?} */
                var isMatching = false;
                /** @type {?} */
                var result = text;
                if (search && text) {
                    /** @type {?} */
                    var pattern = search.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, '\\$&');
                    pattern = pattern.split(' ').filter(function (t) {
                        return t.length > 0;
                    }).join('|');
                    /** @type {?} */
                    var regex = new RegExp(pattern, 'gi');
                    result = text.replace(regex, function (match) {
                        isMatching = true;
                        return "<span class=\"" + wrapperClass + "\">" + match + "</span>";
                    });
                    return { text: result, changed: isMatching };
                }
                else {
                    return { text: result, changed: isMatching };
                }
            };
        return HighlightTransformService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var HighlightPipe = /** @class */ (function () {
        function HighlightPipe(highlightTransformService) {
            this.highlightTransformService = highlightTransformService;
        }
        /**
         * @param {?} text
         * @param {?} search
         * @return {?}
         */
        HighlightPipe.prototype.transform = /**
         * @param {?} text
         * @param {?} search
         * @return {?}
         */
            function (text, search) {
                /** @type {?} */
                var result = this.highlightTransformService.highlight(text, search);
                return result.text;
            };
        HighlightPipe.decorators = [
            { type: i0.Pipe, args: [{
                        name: 'highlight'
                    },] }
        ];
        /** @nocollapse */
        HighlightPipe.ctorParameters = function () {
            return [
                { type: HighlightTransformService }
            ];
        };
        return HighlightPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var TimeAgoPipe = /** @class */ (function () {
        function TimeAgoPipe() {
            this.defaultLocale = 'en-US';
        }
        /**
         * @param {?} value
         * @param {?=} locale
         * @return {?}
         */
        TimeAgoPipe.prototype.transform = /**
         * @param {?} value
         * @param {?=} locale
         * @return {?}
         */
            function (value, locale) {
                if (value !== null && value !== undefined) {
                    /** @type {?} */
                    var actualLocale = locale ? locale : this.defaultLocale;
                    /** @type {?} */
                    var then = moment$1(value);
                    /** @type {?} */
                    var diff = moment$1().locale(actualLocale).diff(then, 'days');
                    return diff > 7 ? then.locale(actualLocale).format('DD/MM/YYYY HH:mm') : then.locale(actualLocale).fromNow();
                }
                return '';
            };
        TimeAgoPipe.decorators = [
            { type: i0.Pipe, args: [{
                        name: 'adfTimeAgo'
                    },] }
        ];
        return TimeAgoPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var InitialUsernamePipe = /** @class */ (function () {
        function InitialUsernamePipe(sanitized) {
            this.sanitized = sanitized;
        }
        /**
         * @param {?} user
         * @param {?=} className
         * @param {?=} delimiter
         * @return {?}
         */
        InitialUsernamePipe.prototype.transform = /**
         * @param {?} user
         * @param {?=} className
         * @param {?=} delimiter
         * @return {?}
         */
            function (user, className, delimiter) {
                if (className === void 0) {
                    className = '';
                }
                if (delimiter === void 0) {
                    delimiter = '';
                }
                /** @type {?} */
                var result = '';
                if (user) {
                    /** @type {?} */
                    var initialResult = this.getInitialUserName(user.firstName, user.lastName, delimiter);
                    result = this.sanitized.bypassSecurityTrustHtml("<div id=\"user-initials-image\" class=\"" + className + "\">" + initialResult + "</div>");
                }
                return result;
            };
        /**
         * @param {?} firstName
         * @param {?} lastName
         * @param {?} delimiter
         * @return {?}
         */
        InitialUsernamePipe.prototype.getInitialUserName = /**
         * @param {?} firstName
         * @param {?} lastName
         * @param {?} delimiter
         * @return {?}
         */
            function (firstName, lastName, delimiter) {
                firstName = (firstName ? firstName[0] : '');
                lastName = (lastName ? lastName[0] : '');
                return firstName + delimiter + lastName;
            };
        InitialUsernamePipe.decorators = [
            { type: i0.Pipe, args: [{
                        name: 'usernameInitials'
                    },] }
        ];
        /** @nocollapse */
        InitialUsernamePipe.ctorParameters = function () {
            return [
                { type: platformBrowser.DomSanitizer }
            ];
        };
        return InitialUsernamePipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var PipeModule = /** @class */ (function () {
        function PipeModule() {
        }
        PipeModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule
                        ],
                        declarations: [
                            FileSizePipe,
                            HighlightPipe,
                            TimeAgoPipe,
                            MimeTypeIconPipe,
                            InitialUsernamePipe,
                            NodeNameTooltipPipe
                        ],
                        providers: [
                            FileSizePipe,
                            HighlightPipe,
                            TimeAgoPipe,
                            MimeTypeIconPipe,
                            InitialUsernamePipe,
                            NodeNameTooltipPipe
                        ],
                        exports: [
                            FileSizePipe,
                            HighlightPipe,
                            TimeAgoPipe,
                            MimeTypeIconPipe,
                            InitialUsernamePipe,
                            NodeNameTooltipPipe
                        ]
                    },] }
        ];
        return PipeModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var HighlightDirective = /** @class */ (function () {
        function HighlightDirective(el, renderer, highlightTransformService) {
            this.el = el;
            this.renderer = renderer;
            this.highlightTransformService = highlightTransformService;
            /**
             * Class selector for highlightable elements.
             */
            this.selector = '';
            /**
             * Text to highlight.
             */
            this.search = '';
            /**
             * CSS class used to apply highlighting.
             */
            this.classToApply = 'adf-highlight';
        }
        /**
         * @param {?=} search
         * @param {?=} selector
         * @param {?=} classToApply
         * @return {?}
         */
        HighlightDirective.prototype.highlight = /**
         * @param {?=} search
         * @param {?=} selector
         * @param {?=} classToApply
         * @return {?}
         */
            function (search, selector, classToApply) {
                var _this = this;
                if (search === void 0) {
                    search = this.search;
                }
                if (selector === void 0) {
                    selector = this.selector;
                }
                if (classToApply === void 0) {
                    classToApply = this.classToApply;
                }
                if (search && selector) {
                    /** @type {?} */
                    var elements = this.el.nativeElement.querySelectorAll(selector);
                    elements.forEach(function (element) {
                        /** @type {?} */
                        var result = _this.highlightTransformService.highlight(element.innerHTML, search, classToApply);
                        if (result.changed) {
                            _this.renderer.setProperty(element, 'innerHTML', result.text);
                        }
                    });
                }
            };
        HighlightDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: '[adf-highlight]'
                    },] }
        ];
        /** @nocollapse */
        HighlightDirective.ctorParameters = function () {
            return [
                { type: i0.ElementRef },
                { type: i0.Renderer2 },
                { type: HighlightTransformService }
            ];
        };
        HighlightDirective.propDecorators = {
            selector: [{ type: i0.Input, args: ['adf-highlight-selector',] }],
            search: [{ type: i0.Input, args: ['adf-highlight',] }],
            classToApply: [{ type: i0.Input, args: ['adf-highlight-class',] }]
        };
        return HighlightDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LogoutDirective = /** @class */ (function () {
        function LogoutDirective(elementRef, renderer, router$$1, auth) {
            this.elementRef = elementRef;
            this.renderer = renderer;
            this.router = router$$1;
            this.auth = auth;
            /**
             * Uri to be redirect after the logout default value login
             */
            this.redirectUri = '/login';
            /**
             * Enable redirect after logout
             */
            this.enabelRedirect = true;
        }
        /**
         * @return {?}
         */
        LogoutDirective.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.elementRef.nativeElement) {
                    this.renderer.listen(this.elementRef.nativeElement, 'click', function (evt) {
                        evt.preventDefault();
                        _this.logout();
                    });
                }
            };
        /**
         * @return {?}
         */
        LogoutDirective.prototype.logout = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.auth.logout().subscribe(function () { return _this.redirectToUri(); }, function () { return _this.redirectToUri(); });
            };
        /**
         * @return {?}
         */
        LogoutDirective.prototype.redirectToUri = /**
         * @return {?}
         */
            function () {
                if (this.enabelRedirect) {
                    this.router.navigate([this.redirectUri]);
                }
            };
        LogoutDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: '[adf-logout]'
                    },] }
        ];
        /** @nocollapse */
        LogoutDirective.ctorParameters = function () {
            return [
                { type: i0.ElementRef },
                { type: i0.Renderer2 },
                { type: router.Router },
                { type: AuthenticationService }
            ];
        };
        LogoutDirective.propDecorators = {
            redirectUri: [{ type: i0.Input }],
            enabelRedirect: [{ type: i0.Input }]
        };
        return LogoutDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var NodeDeleteDirective = /** @class */ (function () {
        function NodeDeleteDirective(alfrescoApiService, translation, elementRef) {
            this.alfrescoApiService = alfrescoApiService;
            this.translation = translation;
            this.elementRef = elementRef;
            /**
             * If true then the nodes are deleted immediately rather than being put in the trash
             */
            this.permanent = false;
            /**
             * Emitted when the nodes have been deleted.
             */
            this.delete = new i0.EventEmitter();
        }
        /**
         * @return {?}
         */
        NodeDeleteDirective.prototype.onClick = /**
         * @return {?}
         */
            function () {
                this.process(this.selection);
            };
        /**
         * @return {?}
         */
        NodeDeleteDirective.prototype.ngOnChanges = /**
         * @return {?}
         */
            function () {
                if (!this.selection || (this.selection && this.selection.length === 0)) {
                    this.setDisableAttribute(true);
                }
                else {
                    if (!this.elementRef.nativeElement.hasAttribute('adf-node-permission')) {
                        this.setDisableAttribute(false);
                    }
                }
            };
        /**
         * @param {?} disable
         * @return {?}
         */
        NodeDeleteDirective.prototype.setDisableAttribute = /**
         * @param {?} disable
         * @return {?}
         */
            function (disable) {
                this.elementRef.nativeElement.disabled = disable;
            };
        /**
         * @param {?} selection
         * @return {?}
         */
        NodeDeleteDirective.prototype.process = /**
         * @param {?} selection
         * @return {?}
         */
            function (selection) {
                var _this = this;
                if (selection && selection.length) {
                    /** @type {?} */
                    var batch = this.getDeleteNodesBatch(selection);
                    rxjs.forkJoin.apply(void 0, __spread(batch)).subscribe(function (data) {
                        /** @type {?} */
                        var processedItems = _this.processStatus(data);
                        /** @type {?} */
                        var message = _this.getMessage(processedItems);
                        _this.delete.emit(message);
                    });
                }
            };
        /**
         * @param {?} selection
         * @return {?}
         */
        NodeDeleteDirective.prototype.getDeleteNodesBatch = /**
         * @param {?} selection
         * @return {?}
         */
            function (selection) {
                var _this = this;
                return selection.map(function (node) { return _this.deleteNode(node); });
            };
        /**
         * @param {?} node
         * @return {?}
         */
        NodeDeleteDirective.prototype.deleteNode = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                /** @type {?} */
                var id = ( /** @type {?} */(node.entry)).nodeId || node.entry.id;
                /** @type {?} */
                var promise;
                if (node.entry.hasOwnProperty('archivedAt')) {
                    promise = this.alfrescoApiService.nodesApi.purgeDeletedNode(id);
                }
                else {
                    promise = this.alfrescoApiService.nodesApi.deleteNode(id, { permanent: this.permanent });
                }
                return rxjs.from(promise).pipe(operators.map(function () {
                    return ({
                        entry: node.entry,
                        status: 1
                    });
                }), operators.catchError(function () {
                    return rxjs.of({
                        entry: node.entry,
                        status: 0
                    });
                }));
            };
        /**
         * @param {?} data
         * @return {?}
         */
        NodeDeleteDirective.prototype.processStatus = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                /** @type {?} */
                var deleteStatus = {
                    success: [],
                    failed: [],
                    /**
                     * @return {?}
                     */
                    get someFailed() {
                        return !!(this.failed.length);
                    },
                    /**
                     * @return {?}
                     */
                    get someSucceeded() {
                        return !!(this.success.length);
                    },
                    /**
                     * @return {?}
                     */
                    get oneFailed() {
                        return this.failed.length === 1;
                    },
                    /**
                     * @return {?}
                     */
                    get oneSucceeded() {
                        return this.success.length === 1;
                    },
                    /**
                     * @return {?}
                     */
                    get allSucceeded() {
                        return this.someSucceeded && !this.someFailed;
                    },
                    /**
                     * @return {?}
                     */
                    get allFailed() {
                        return this.someFailed && !this.someSucceeded;
                    }
                };
                return data.reduce(function (acc, next) {
                    if (next.status === 1) {
                        acc.success.push(next);
                    }
                    else {
                        acc.failed.push(next);
                    }
                    return acc;
                }, deleteStatus);
            };
        /**
         * @param {?} status
         * @return {?}
         */
        NodeDeleteDirective.prototype.getMessage = /**
         * @param {?} status
         * @return {?}
         */
            function (status) {
                if (status.allFailed && !status.oneFailed) {
                    return this.translation.instant('CORE.DELETE_NODE.ERROR_PLURAL', { number: status.failed.length });
                }
                if (status.allSucceeded && !status.oneSucceeded) {
                    return this.translation.instant('CORE.DELETE_NODE.PLURAL', { number: status.success.length });
                }
                if (status.someFailed && status.someSucceeded && !status.oneSucceeded) {
                    return this.translation.instant('CORE.DELETE_NODE.PARTIAL_PLURAL', {
                        success: status.success.length,
                        failed: status.failed.length
                    });
                }
                if (status.someFailed && status.oneSucceeded) {
                    return this.translation.instant('CORE.DELETE_NODE.PARTIAL_SINGULAR', {
                        success: status.success.length,
                        failed: status.failed.length
                    });
                }
                if (status.oneFailed && !status.someSucceeded) {
                    return this.translation.instant('CORE.DELETE_NODE.ERROR_SINGULAR', { name: status.failed[0].entry.name });
                }
                if (status.oneSucceeded && !status.someFailed) {
                    return this.translation.instant('CORE.DELETE_NODE.SINGULAR', { name: status.success[0].entry.name });
                }
            };
        NodeDeleteDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: '[adf-delete]'
                    },] }
        ];
        /** @nocollapse */
        NodeDeleteDirective.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: TranslationService },
                { type: i0.ElementRef }
            ];
        };
        NodeDeleteDirective.propDecorators = {
            selection: [{ type: i0.Input, args: ['adf-delete',] }],
            permanent: [{ type: i0.Input }],
            delete: [{ type: i0.Output }],
            onClick: [{ type: i0.HostListener, args: ['click',] }]
        };
        return NodeDeleteDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var NodeFavoriteDirective = /** @class */ (function () {
        function NodeFavoriteDirective(alfrescoApiService) {
            this.alfrescoApiService = alfrescoApiService;
            this.favorites = [];
            /**
             * Array of nodes to toggle as favorites.
             */
            this.selection = [];
            /**
             * Emitted when the favorite setting is complete.
             */
            this.toggle = new i0.EventEmitter();
            /**
             * Emitted when the favorite setting has fail.
             */
            this.error = new i0.EventEmitter();
        }
        /**
         * @return {?}
         */
        NodeFavoriteDirective.prototype.onClick = /**
         * @return {?}
         */
            function () {
                this.toggleFavorite();
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        NodeFavoriteDirective.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (!changes.selection.currentValue.length) {
                    this.favorites = [];
                    return;
                }
                this.markFavoritesNodes(changes.selection.currentValue);
            };
        /**
         * @return {?}
         */
        NodeFavoriteDirective.prototype.toggleFavorite = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (!this.favorites.length) {
                    return;
                }
                /** @type {?} */
                var every = this.favorites.every(function (selected) { return selected.entry.isFavorite; });
                if (every) {
                    /** @type {?} */
                    var batch = this.favorites.map(function (selected) {
                        /** @type {?} */
                        var id = selected.entry.nodeId || selected.entry.id;
                        return rxjs.from(_this.alfrescoApiService.favoritesApi.removeFavoriteSite('-me-', id));
                    });
                    rxjs.forkJoin(batch).subscribe(function () {
                        _this.favorites.map(function (selected) { return selected.entry.isFavorite = false; });
                        _this.toggle.emit();
                    }, function (error) { return _this.error.emit(error); });
                }
                if (!every) {
                    /** @type {?} */
                    var notFavorite_1 = this.favorites.filter(function (node) { return !node.entry.isFavorite; });
                    /** @type {?} */
                    var body = notFavorite_1.map(function (node) { return _this.createFavoriteBody(node); });
                    rxjs.from(this.alfrescoApiService.favoritesApi.addFavorite('-me-', /** @type {?} */ (body)))
                        .subscribe(function () {
                        notFavorite_1.map(function (selected) { return selected.entry.isFavorite = true; });
                        _this.toggle.emit();
                    }, function (error) { return _this.error.emit(error); });
                }
            };
        /**
         * @param {?} selection
         * @return {?}
         */
        NodeFavoriteDirective.prototype.markFavoritesNodes = /**
         * @param {?} selection
         * @return {?}
         */
            function (selection) {
                var _this = this;
                if (selection.length <= this.favorites.length) {
                    /** @type {?} */
                    var newFavorites = this.reduce(this.favorites, selection);
                    this.favorites = newFavorites;
                }
                /** @type {?} */
                var result = this.diff(selection, this.favorites);
                /** @type {?} */
                var batch = this.getProcessBatch(result);
                rxjs.forkJoin(batch).subscribe(function (data) {
                    var _a;
                    (_a = _this.favorites).push.apply(_a, __spread(data));
                });
            };
        /**
         * @return {?}
         */
        NodeFavoriteDirective.prototype.hasFavorites = /**
         * @return {?}
         */
            function () {
                if (this.favorites && !this.favorites.length) {
                    return false;
                }
                return this.favorites.every(function (selected) { return selected.entry.isFavorite; });
            };
        /**
         * @param {?} selection
         * @return {?}
         */
        NodeFavoriteDirective.prototype.getProcessBatch = /**
         * @param {?} selection
         * @return {?}
         */
            function (selection) {
                var _this = this;
                return selection.map(function (selected) { return _this.getFavorite(selected); });
            };
        /**
         * @param {?} selected
         * @return {?}
         */
        NodeFavoriteDirective.prototype.getFavorite = /**
         * @param {?} selected
         * @return {?}
         */
            function (selected) {
                /** @type {?} */
                var node = selected.entry;
                // ACS 6.x with 'isFavorite' include
                if (node && node.hasOwnProperty('isFavorite')) {
                    return rxjs.of(selected);
                }
                var name = node.name, isFile = node.isFile, isFolder = node.isFolder;
                /** @type {?} */
                var id = node.nodeId || node.id;
                /** @type {?} */
                var promise = this.alfrescoApiService.favoritesApi.getFavorite('-me-', id);
                return rxjs.from(promise).pipe(operators.map(function () {
                    return ({
                        entry: {
                            id: id,
                            isFolder: isFolder,
                            isFile: isFile,
                            name: name,
                            isFavorite: true
                        }
                    });
                }), operators.catchError(function () {
                    return rxjs.of({
                        entry: {
                            id: id,
                            isFolder: isFolder,
                            isFile: isFile,
                            name: name,
                            isFavorite: false
                        }
                    });
                }));
            };
        /**
         * @param {?} node
         * @return {?}
         */
        NodeFavoriteDirective.prototype.createFavoriteBody = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                var _a;
                /** @type {?} */
                var type = this.getNodeType(node);
                /** @type {?} */
                var id = node.entry.nodeId || node.entry.id;
                return {
                    target: (_a = {},
                        _a[type] = {
                            guid: id
                        },
                        _a)
                };
            };
        /**
         * @param {?} node
         * @return {?}
         */
        NodeFavoriteDirective.prototype.getNodeType = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                // shared could only be files
                if (!node.entry.isFile && !node.entry.isFolder) {
                    return 'file';
                }
                return node.entry.isFile ? 'file' : 'folder';
            };
        /**
         * @param {?} list
         * @param {?} patch
         * @return {?}
         */
        NodeFavoriteDirective.prototype.diff = /**
         * @param {?} list
         * @param {?} patch
         * @return {?}
         */
            function (list, patch) {
                /** @type {?} */
                var ids = patch.map(function (item) { return item.entry.id; });
                return list.filter(function (item) { return ids.includes(item.entry.id) ? null : item; });
            };
        /**
         * @param {?} patch
         * @param {?} comparator
         * @return {?}
         */
        NodeFavoriteDirective.prototype.reduce = /**
         * @param {?} patch
         * @param {?} comparator
         * @return {?}
         */
            function (patch, comparator) {
                /** @type {?} */
                var ids = comparator.map(function (item) { return item.entry.id; });
                return patch.filter(function (item) { return ids.includes(item.entry.id) ? item : null; });
            };
        NodeFavoriteDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: '[adf-node-favorite]',
                        exportAs: 'adfFavorite'
                    },] }
        ];
        /** @nocollapse */
        NodeFavoriteDirective.ctorParameters = function () {
            return [
                { type: AlfrescoApiService }
            ];
        };
        NodeFavoriteDirective.propDecorators = {
            selection: [{ type: i0.Input, args: ['adf-node-favorite',] }],
            toggle: [{ type: i0.Output }],
            error: [{ type: i0.Output }],
            onClick: [{ type: i0.HostListener, args: ['click',] }]
        };
        return NodeFavoriteDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var EXTENDIBLE_COMPONENT = new i0.InjectionToken('extendible.component');

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var NodePermissionDirective = /** @class */ (function () {
        function NodePermissionDirective(elementRef, renderer, contentService, changeDetector, parentComponent) {
            this.elementRef = elementRef;
            this.renderer = renderer;
            this.contentService = contentService;
            this.changeDetector = changeDetector;
            this.parentComponent = parentComponent;
            /**
             * Node permission to check (create, delete, update, updatePermissions,
             * !create, !delete, !update, !updatePermissions).
             */
            this.permission = null;
            /**
             * Nodes to check permission for.
             */
            this.nodes = [];
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        NodePermissionDirective.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (changes["nodes"] && !changes["nodes"].firstChange) {
                    this.updateElement();
                }
            };
        /**
         * Updates disabled state for the decorated elememtn
         *
         * @memberof NodePermissionDirective
         */
        /**
         * Updates disabled state for the decorated elememtn
         *
         * \@memberof NodePermissionDirective
         * @return {?}
         */
        NodePermissionDirective.prototype.updateElement = /**
         * Updates disabled state for the decorated elememtn
         *
         * \@memberof NodePermissionDirective
         * @return {?}
         */
            function () {
                /** @type {?} */
                var enable = this.hasPermission(this.nodes, this.permission);
                if (enable) {
                    this.enable();
                }
                else {
                    this.disable();
                }
                return enable;
            };
        /**
         * @return {?}
         */
        NodePermissionDirective.prototype.enable = /**
         * @return {?}
         */
            function () {
                if (this.parentComponent) {
                    this.parentComponent.disabled = false;
                    this.changeDetector.detectChanges();
                }
                else {
                    this.enableElement();
                }
            };
        /**
         * @return {?}
         */
        NodePermissionDirective.prototype.disable = /**
         * @return {?}
         */
            function () {
                if (this.parentComponent) {
                    this.parentComponent.disabled = true;
                    this.changeDetector.detectChanges();
                }
                else {
                    this.disableElement();
                }
            };
        /**
         * Enables decorated element
         *
         * @memberof NodePermissionDirective
         */
        /**
         * Enables decorated element
         *
         * \@memberof NodePermissionDirective
         * @return {?}
         */
        NodePermissionDirective.prototype.enableElement = /**
         * Enables decorated element
         *
         * \@memberof NodePermissionDirective
         * @return {?}
         */
            function () {
                this.renderer.removeAttribute(this.elementRef.nativeElement, 'disabled');
            };
        /**
         * Disables decorated element
         *
         * @memberof NodePermissionDirective
         */
        /**
         * Disables decorated element
         *
         * \@memberof NodePermissionDirective
         * @return {?}
         */
        NodePermissionDirective.prototype.disableElement = /**
         * Disables decorated element
         *
         * \@memberof NodePermissionDirective
         * @return {?}
         */
            function () {
                this.renderer.setAttribute(this.elementRef.nativeElement, 'disabled', 'true');
            };
        /**
         * Checks whether all nodes have a particular permission
         *
         * @param  nodes Node collection to check
         * @param  permission Permission to check for each node
         * @memberof NodePermissionDirective
         */
        /**
         * Checks whether all nodes have a particular permission
         *
         * \@memberof NodePermissionDirective
         * @param {?} nodes Node collection to check
         * @param {?} permission Permission to check for each node
         * @return {?}
         */
        NodePermissionDirective.prototype.hasPermission = /**
         * Checks whether all nodes have a particular permission
         *
         * \@memberof NodePermissionDirective
         * @param {?} nodes Node collection to check
         * @param {?} permission Permission to check for each node
         * @return {?}
         */
            function (nodes, permission) {
                var _this = this;
                if (nodes && nodes.length > 0) {
                    return nodes.every(function (node) { return _this.contentService.hasPermission(node.entry, permission); });
                }
                return false;
            };
        NodePermissionDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: '[adf-node-permission]'
                    },] }
        ];
        /** @nocollapse */
        NodePermissionDirective.ctorParameters = function () {
            return [
                { type: i0.ElementRef },
                { type: i0.Renderer2 },
                { type: ContentService },
                { type: i0.ChangeDetectorRef },
                { type: undefined, decorators: [{ type: i0.Host }, { type: i0.Optional }, { type: i0.Inject, args: [EXTENDIBLE_COMPONENT,] }] }
            ];
        };
        NodePermissionDirective.propDecorators = {
            permission: [{ type: i0.Input, args: ['adf-node-permission',] }],
            nodes: [{ type: i0.Input, args: ['adf-nodes',] }]
        };
        return NodePermissionDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var RestoreMessageModel = /** @class */ (function () {
        function RestoreMessageModel() {
        }
        return RestoreMessageModel;
    }());
    var NodeRestoreDirective = /** @class */ (function () {
        function NodeRestoreDirective(alfrescoApiService, translation) {
            this.alfrescoApiService = alfrescoApiService;
            this.translation = translation;
            /**
             * Path to restored node.
             * @deprecated 2.4.0
             */
            this.location = '';
            /**
             * Emitted when restoration is complete.
             */
            this.restore = new i0.EventEmitter();
            this.restoreProcessStatus = this.processStatus();
        }
        /**
         * @return {?}
         */
        NodeRestoreDirective.prototype.onClick = /**
         * @return {?}
         */
            function () {
                this.recover(this.selection);
            };
        /**
         * @param {?} selection
         * @return {?}
         */
        NodeRestoreDirective.prototype.recover = /**
         * @param {?} selection
         * @return {?}
         */
            function (selection) {
                var _this = this;
                var _a;
                if (!selection.length) {
                    return;
                }
                /** @type {?} */
                var nodesWithPath = this.getNodesWithPath(selection);
                if (selection.length && nodesWithPath.length) {
                    this.restoreNodesBatch(nodesWithPath).pipe(operators.tap(function (restoredNodes) {
                        var _a, _b;
                        /** @type {?} */
                        var status = _this.processStatus(restoredNodes);
                        (_a = _this.restoreProcessStatus.fail).push.apply(_a, __spread(status.fail));
                        (_b = _this.restoreProcessStatus.success).push.apply(_b, __spread(status.success));
                    }), operators.mergeMap(function () { return _this.getDeletedNodes(); }))
                        .subscribe(function (deletedNodesList) {
                        var nodelist = deletedNodesList.list.entries;
                        var restoreErrorNodes = _this.restoreProcessStatus.fail;
                        /** @type {?} */
                        var selectedNodes = _this.diff(restoreErrorNodes, selection, false);
                        /** @type {?} */
                        var remainingNodes = _this.diff(selectedNodes, nodelist);
                        if (!remainingNodes.length) {
                            _this.notification();
                        }
                        else {
                            _this.recover(remainingNodes);
                        }
                    });
                }
                else {
                    (_a = this.restoreProcessStatus.fail).push.apply(_a, __spread(selection));
                    this.notification();
                    return;
                }
            };
        /**
         * @param {?} batch
         * @return {?}
         */
        NodeRestoreDirective.prototype.restoreNodesBatch = /**
         * @param {?} batch
         * @return {?}
         */
            function (batch) {
                var _this = this;
                return rxjs.forkJoin(batch.map(function (node) { return _this.restoreNode(node); }));
            };
        /**
         * @param {?} selection
         * @return {?}
         */
        NodeRestoreDirective.prototype.getNodesWithPath = /**
         * @param {?} selection
         * @return {?}
         */
            function (selection) {
                return selection.filter(function (node) { return node.entry.path; });
            };
        /**
         * @return {?}
         */
        NodeRestoreDirective.prototype.getDeletedNodes = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var promise = this.alfrescoApiService.getInstance()
                    .core.nodesApi.getDeletedNodes({ include: ['path'] });
                return rxjs.from(promise);
            };
        /**
         * @param {?} node
         * @return {?}
         */
        NodeRestoreDirective.prototype.restoreNode = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                var entry = node.entry;
                /** @type {?} */
                var promise = this.alfrescoApiService.getInstance().nodes.restoreNode(entry.id);
                return rxjs.from(promise).pipe(operators.map(function () {
                    return ({
                        status: 1,
                        entry: entry
                    });
                }), operators.catchError(function (error) {
                    var statusCode = (JSON.parse(error.message)).error.statusCode;
                    return rxjs.of({
                        status: 0,
                        statusCode: statusCode,
                        entry: entry
                    });
                }));
            };
        /**
         * @param {?} selection
         * @param {?} list
         * @param {?=} fromList
         * @return {?}
         */
        NodeRestoreDirective.prototype.diff = /**
         * @param {?} selection
         * @param {?} list
         * @param {?=} fromList
         * @return {?}
         */
            function (selection, list, fromList) {
                if (fromList === void 0) {
                    fromList = true;
                }
                /** @type {?} */
                var ids = selection.map(function (item) { return item.entry.id; });
                return list.filter(function (item) {
                    if (fromList) {
                        return ids.includes(item.entry.id) ? item : null;
                    }
                    else {
                        return !ids.includes(item.entry.id) ? item : null;
                    }
                });
            };
        /**
         * @param {?=} data
         * @return {?}
         */
        NodeRestoreDirective.prototype.processStatus = /**
         * @param {?=} data
         * @return {?}
         */
            function (data) {
                if (data === void 0) {
                    data = [];
                }
                /** @type {?} */
                var status = {
                    fail: [],
                    success: [],
                    /**
                     * @return {?}
                     */
                    get someFailed() {
                        return !!(this.fail.length);
                    },
                    /**
                     * @return {?}
                     */
                    get someSucceeded() {
                        return !!(this.success.length);
                    },
                    /**
                     * @return {?}
                     */
                    get oneFailed() {
                        return this.fail.length === 1;
                    },
                    /**
                     * @return {?}
                     */
                    get oneSucceeded() {
                        return this.success.length === 1;
                    },
                    /**
                     * @return {?}
                     */
                    get allSucceeded() {
                        return this.someSucceeded && !this.someFailed;
                    },
                    /**
                     * @return {?}
                     */
                    get allFailed() {
                        return this.someFailed && !this.someSucceeded;
                    },
                    reset: /**
                     * @return {?}
                     */ function () {
                        this.fail = [];
                        this.success = [];
                    }
                };
                return data.reduce(function (acc, node) {
                    if (node.status) {
                        acc.success.push(node);
                    }
                    else {
                        acc.fail.push(node);
                    }
                    return acc;
                }, status);
            };
        /**
         * @return {?}
         */
        NodeRestoreDirective.prototype.getRestoreMessage = /**
         * @return {?}
         */
            function () {
                var status = this.restoreProcessStatus;
                if (status.someFailed && !status.oneFailed) {
                    return this.translation.instant('CORE.RESTORE_NODE.PARTIAL_PLURAL', {
                        number: status.fail.length
                    });
                }
                if (status.oneFailed && status.fail[0].statusCode) {
                    if (status.fail[0].statusCode === 409) {
                        return this.translation.instant('CORE.RESTORE_NODE.NODE_EXISTS', {
                            name: status.fail[0].entry.name
                        });
                    }
                    else {
                        return this.translation.instant('CORE.RESTORE_NODE.GENERIC', {
                            name: status.fail[0].entry.name
                        });
                    }
                }
                if (status.oneFailed && !status.fail[0].statusCode) {
                    return this.translation.instant('CORE.RESTORE_NODE.LOCATION_MISSING', {
                        name: status.fail[0].entry.name
                    });
                }
                if (status.allSucceeded && !status.oneSucceeded) {
                    return this.translation.instant('CORE.RESTORE_NODE.PLURAL');
                }
                if (status.allSucceeded && status.oneSucceeded) {
                    return this.translation.instant('CORE.RESTORE_NODE.SINGULAR', {
                        name: status.success[0].entry.name
                    });
                }
            };
        /**
         * @return {?}
         */
        NodeRestoreDirective.prototype.notification = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var status = Object.assign({}, this.restoreProcessStatus);
                /** @type {?} */
                var message = this.getRestoreMessage();
                this.reset();
                /** @type {?} */
                var action = (status.oneSucceeded && !status.someFailed) ? this.translation.instant('CORE.RESTORE_NODE.VIEW') : '';
                /** @type {?} */
                var path;
                if (status.success && status.success.length > 0) {
                    path = status.success[0].entry.path;
                }
                this.restore.emit({
                    message: message,
                    action: action,
                    path: path
                });
            };
        /**
         * @return {?}
         */
        NodeRestoreDirective.prototype.reset = /**
         * @return {?}
         */
            function () {
                this.restoreProcessStatus.reset();
                this.selection = [];
            };
        NodeRestoreDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: '[adf-restore]'
                    },] }
        ];
        /** @nocollapse */
        NodeRestoreDirective.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: TranslationService }
            ];
        };
        NodeRestoreDirective.propDecorators = {
            selection: [{ type: i0.Input, args: ['adf-restore',] }],
            location: [{ type: i0.Input }],
            restore: [{ type: i0.Output }],
            onClick: [{ type: i0.HostListener, args: ['click',] }]
        };
        return NodeRestoreDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var UploadDirective = /** @class */ (function () {
        function UploadDirective(el, renderer, ngZone) {
            this.el = el;
            this.renderer = renderer;
            this.ngZone = ngZone;
            /**
             * Enables/disables uploading.
             */
            this.enabled = true;
            /**
             * Upload mode. Can be "drop" (receives dropped files) or "click"
             * (clicking opens a file dialog). Both modes can be active at once.
             */
            this.mode = ['drop'];
            this.isDragging = false;
            this.cssClassName = 'adf-upload__dragging';
            this.element = el.nativeElement;
        }
        /**
         * @return {?}
         */
        UploadDirective.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.isClickMode() && this.renderer) {
                    /** @type {?} */
                    var inputUpload = this.renderer.createElement('input');
                    this.upload = this.el.nativeElement.parentElement.appendChild(inputUpload);
                    this.upload.type = 'file';
                    this.upload.style.display = 'none';
                    this.upload.addEventListener('change', function (e) { return _this.onSelectFiles(e); });
                    if (this.multiple) {
                        this.upload.setAttribute('multiple', '');
                    }
                    if (this.accept) {
                        this.upload.setAttribute('accept', this.accept);
                    }
                    if (this.directory) {
                        this.upload.setAttribute('webkitdirectory', '');
                    }
                }
                if (this.isDropMode()) {
                    this.ngZone.runOutsideAngular(function () {
                        _this.element.addEventListener('dragenter', _this.onDragEnter.bind(_this));
                        _this.element.addEventListener('dragover', _this.onDragOver.bind(_this));
                        _this.element.addEventListener('dragleave', _this.onDragLeave.bind(_this));
                        _this.element.addEventListener('drop', _this.onDrop.bind(_this));
                    });
                }
            };
        /**
         * @return {?}
         */
        UploadDirective.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this.element.removeEventListener('dragenter', this.onDragEnter);
                this.element.removeEventListener('dragover', this.onDragOver);
                this.element.removeEventListener('dragleave', this.onDragLeave);
                this.element.removeEventListener('drop', this.onDrop);
            };
        /**
         * @param {?} event
         * @return {?}
         */
        UploadDirective.prototype.onClick = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.isClickMode() && this.upload) {
                    event.preventDefault();
                    this.upload.click();
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        UploadDirective.prototype.onDragEnter = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.isDropMode()) {
                    this.element.classList.add(this.cssClassName);
                    this.isDragging = true;
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        UploadDirective.prototype.onDragOver = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                event.preventDefault();
                if (this.isDropMode()) {
                    this.element.classList.add(this.cssClassName);
                    this.isDragging = true;
                }
                return false;
            };
        /**
         * @param {?} event
         * @return {?}
         */
        UploadDirective.prototype.onDragLeave = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.isDropMode()) {
                    this.element.classList.remove(this.cssClassName);
                    this.isDragging = false;
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        UploadDirective.prototype.onDrop = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                var _this = this;
                if (this.isDropMode()) {
                    event.stopPropagation();
                    event.preventDefault();
                    this.element.classList.remove(this.cssClassName);
                    this.isDragging = false;
                    /** @type {?} */
                    var dataTranfer = this.getDataTransfer(event);
                    if (dataTranfer) {
                        this.getFilesDropped(dataTranfer).then(function (files) {
                            _this.onUploadFiles(files);
                        });
                    }
                }
                return false;
            };
        /**
         * @param {?} files
         * @return {?}
         */
        UploadDirective.prototype.onUploadFiles = /**
         * @param {?} files
         * @return {?}
         */
            function (files) {
                if (this.enabled && files.length > 0) {
                    /** @type {?} */
                    var e = new CustomEvent('upload-files', {
                        detail: {
                            sender: this,
                            data: this.data,
                            files: files
                        },
                        bubbles: true
                    });
                    this.el.nativeElement.dispatchEvent(e);
                }
            };
        /**
         * @param {?} mode
         * @return {?}
         */
        UploadDirective.prototype.hasMode = /**
         * @param {?} mode
         * @return {?}
         */
            function (mode) {
                return this.enabled && mode && this.mode && this.mode.indexOf(mode) > -1;
            };
        /**
         * @return {?}
         */
        UploadDirective.prototype.isDropMode = /**
         * @return {?}
         */
            function () {
                return this.hasMode('drop');
            };
        /**
         * @return {?}
         */
        UploadDirective.prototype.isClickMode = /**
         * @return {?}
         */
            function () {
                return this.hasMode('click');
            };
        /**
         * @param {?} event
         * @return {?}
         */
        UploadDirective.prototype.getDataTransfer = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (event && event.dataTransfer) {
                    return event.dataTransfer;
                }
                if (event && event.originalEvent && event.originalEvent.dataTransfer) {
                    return event.originalEvent.dataTransfer;
                }
                return null;
            };
        /**
         * Extract files from the DataTransfer object used to hold the data that is being dragged during a drag and drop operation.
         * @param dataTransfer DataTransfer object
         */
        /**
         * Extract files from the DataTransfer object used to hold the data that is being dragged during a drag and drop operation.
         * @param {?} dataTransfer DataTransfer object
         * @return {?}
         */
        UploadDirective.prototype.getFilesDropped = /**
         * Extract files from the DataTransfer object used to hold the data that is being dragged during a drag and drop operation.
         * @param {?} dataTransfer DataTransfer object
         * @return {?}
         */
            function (dataTransfer) {
                return new Promise(function (resolve) {
                    /** @type {?} */
                    var iterations = [];
                    if (dataTransfer) {
                        /** @type {?} */
                        var items = dataTransfer.items;
                        if (items) {
                            var _loop_1 = function (i) {
                                if (typeof items[i].webkitGetAsEntry !== 'undefined') {
                                    /** @type {?} */
                                    var item_1 = items[i].webkitGetAsEntry();
                                    if (item_1) {
                                        if (item_1.isFile) {
                                            iterations.push(Promise.resolve(/** @type {?} */ ({
                                                entry: item_1,
                                                file: items[i].getAsFile(),
                                                relativeFolder: '/'
                                            })));
                                        }
                                        else if (item_1.isDirectory) {
                                            iterations.push(new Promise(function (resolveFolder) {
                                                FileUtils.flattern(item_1).then(function (files) { return resolveFolder(files); });
                                            }));
                                        }
                                    }
                                }
                                else {
                                    iterations.push(Promise.resolve(/** @type {?} */ ({
                                        entry: null,
                                        file: items[i].getAsFile(),
                                        relativeFolder: '/'
                                    })));
                                }
                            };
                            for (var i = 0; i < items.length; i++) {
                                _loop_1(i);
                            }
                        }
                        else {
                            /** @type {?} */
                            var files = FileUtils
                                .toFileArray(dataTransfer.files)
                                .map(function (file) {
                                return ({
                                    entry: null,
                                    file: file,
                                    relativeFolder: '/'
                                });
                            });
                            iterations.push(Promise.resolve(files));
                        }
                    }
                    Promise.all(iterations).then(function (result) {
                        resolve(result.reduce(function (a, b) { return a.concat(b); }, []));
                    });
                });
            };
        /**
         * Invoked when user selects files or folders by means of File Dialog
         * @param e DOM event
         */
        /**
         * Invoked when user selects files or folders by means of File Dialog
         * @param {?} e DOM event
         * @return {?}
         */
        UploadDirective.prototype.onSelectFiles = /**
         * Invoked when user selects files or folders by means of File Dialog
         * @param {?} e DOM event
         * @return {?}
         */
            function (e) {
                if (this.isClickMode()) {
                    /** @type {?} */
                    var input = ( /** @type {?} */(e.currentTarget));
                    /** @type {?} */
                    var files = FileUtils.toFileArray(input.files);
                    this.onUploadFiles(files.map(function (file) {
                        return ({
                            entry: null,
                            file: file,
                            relativeFolder: '/'
                        });
                    }));
                    e.target.value = '';
                }
            };
        UploadDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: '[adf-upload]'
                    },] }
        ];
        /** @nocollapse */
        UploadDirective.ctorParameters = function () {
            return [
                { type: i0.ElementRef },
                { type: i0.Renderer2 },
                { type: i0.NgZone }
            ];
        };
        UploadDirective.propDecorators = {
            enabled: [{ type: i0.Input, args: ['adf-upload',] }],
            data: [{ type: i0.Input, args: ['adf-upload-data',] }],
            mode: [{ type: i0.Input }],
            multiple: [{ type: i0.Input }],
            accept: [{ type: i0.Input }],
            directory: [{ type: i0.Input }],
            onClick: [{ type: i0.HostListener, args: ['click', ['$event'],] }]
        };
        return UploadDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DirectiveModule = /** @class */ (function () {
        function DirectiveModule() {
        }
        DirectiveModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            MaterialModule
                        ],
                        declarations: [
                            HighlightDirective,
                            LogoutDirective,
                            NodeDeleteDirective,
                            NodeFavoriteDirective,
                            NodePermissionDirective,
                            NodeRestoreDirective,
                            UploadDirective
                        ],
                        exports: [
                            HighlightDirective,
                            LogoutDirective,
                            NodeDeleteDirective,
                            NodeFavoriteDirective,
                            NodePermissionDirective,
                            NodeRestoreDirective,
                            UploadDirective
                        ]
                    },] }
        ];
        return DirectiveModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DataTableCellComponent = /** @class */ (function () {
        function DataTableCellComponent() {
        }
        /**
         * @return {?}
         */
        DataTableCellComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (!this.value && this.column && this.column.key && this.row && this.data) {
                    this.value = this.data.getValue(this.row, this.column);
                    if (!this.tooltip) {
                        this.tooltip = this.value;
                    }
                }
            };
        DataTableCellComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-datatable-cell',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        template: "\n        <ng-container>\n            <span [title]=\"tooltip\" class=\"adf-datatable-cell-value\">{{value}}</span>\n        </ng-container>",
                        encapsulation: i0.ViewEncapsulation.None,
                        host: { class: 'adf-datatable-cell' }
                    }] }
        ];
        DataTableCellComponent.propDecorators = {
            data: [{ type: i0.Input }],
            column: [{ type: i0.Input }],
            row: [{ type: i0.Input }],
            value: [{ type: i0.Input }],
            tooltip: [{ type: i0.Input }]
        };
        return DataTableCellComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DataColumnComponent = /** @class */ (function () {
        function DataColumnComponent() {
            /**
             * Value type for the column. Possible settings are 'text', 'image',
             * 'date', 'fileSize' and 'location'.
             */
            this.type = 'text';
            /**
             * Toggles ability to sort by this column, for example by clicking the column header.
             */
            this.sortable = true;
            /**
             * Display title of the column, typically used for column headers. You can use the
             * i18n resource key to get it translated automatically.
             */
            this.title = '';
        }
        /**
         * @return {?}
         */
        DataColumnComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (!this.srTitle && this.key === '$thumbnail') {
                    this.srTitle = 'Thumbnail';
                }
            };
        DataColumnComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'data-column',
                        template: ''
                    }] }
        ];
        DataColumnComponent.propDecorators = {
            key: [{ type: i0.Input }],
            type: [{ type: i0.Input }],
            format: [{ type: i0.Input }],
            sortable: [{ type: i0.Input }],
            title: [{ type: i0.Input }],
            template: [{ type: i0.ContentChild, args: [i0.TemplateRef,] }],
            formatTooltip: [{ type: i0.Input }],
            srTitle: [{ type: i0.Input, args: ['sr-title',] }],
            cssClass: [{ type: i0.Input, args: ['class',] }]
        };
        return DataColumnComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DataColumnListComponent = /** @class */ (function () {
        function DataColumnListComponent() {
        }
        DataColumnListComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'data-columns',
                        template: ''
                    }] }
        ];
        DataColumnListComponent.propDecorators = {
            columns: [{ type: i0.ContentChildren, args: [DataColumnComponent,] }]
        };
        return DataColumnListComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /**
     * Base cancellable event implementation
     * @template T
     */
    var /**
     * Base cancellable event implementation
     * @template T
     */ BaseEvent = /** @class */ (function () {
        function BaseEvent() {
            this.isDefaultPrevented = false;
        }
        Object.defineProperty(BaseEvent.prototype, "defaultPrevented", {
            get: /**
             * @return {?}
             */ function () {
                return this.isDefaultPrevented;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        BaseEvent.prototype.preventDefault = /**
         * @return {?}
         */
            function () {
                this.isDefaultPrevented = true;
            };
        return BaseEvent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * Base container for any event which takes place in the DOM
     * @template T
     */
    var /**
     * Base container for any event which takes place in the DOM
     * @template T
     */ BaseUIEvent = /** @class */ (function (_super) {
        __extends(BaseUIEvent, _super);
        function BaseUIEvent() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        return BaseUIEvent;
    }(BaseEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var FileUploadStatus = {
        Pending: 0,
        Complete: 1,
        Starting: 2,
        Progress: 3,
        Cancelled: 4,
        Aborted: 5,
        Error: 6,
        Deleted: 7,
    };
    FileUploadStatus[FileUploadStatus.Pending] = 'Pending';
    FileUploadStatus[FileUploadStatus.Complete] = 'Complete';
    FileUploadStatus[FileUploadStatus.Starting] = 'Starting';
    FileUploadStatus[FileUploadStatus.Progress] = 'Progress';
    FileUploadStatus[FileUploadStatus.Cancelled] = 'Cancelled';
    FileUploadStatus[FileUploadStatus.Aborted] = 'Aborted';
    FileUploadStatus[FileUploadStatus.Error] = 'Error';
    FileUploadStatus[FileUploadStatus.Deleted] = 'Deleted';
    var FileModel = /** @class */ (function () {
        function FileModel(file, options, id) {
            this.status = FileUploadStatus.Pending;
            this.file = file;
            this.id = id;
            this.name = file.name;
            this.size = file.size;
            this.data = null;
            this.progress = {
                loaded: 0,
                total: 0,
                percent: 0
            };
            this.options = Object.assign({}, {
                newVersion: false
            }, options);
        }
        Object.defineProperty(FileModel.prototype, "extension", {
            get: /**
             * @return {?}
             */ function () {
                return this.name.slice((Math.max(0, this.name.lastIndexOf('.')) || Infinity) + 1);
            },
            enumerable: true,
            configurable: true
        });
        return FileModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FileUploadEvent = /** @class */ (function () {
        function FileUploadEvent(file, status, error) {
            if (status === void 0) {
                status = FileUploadStatus.Pending;
            }
            if (error === void 0) {
                error = null;
            }
            this.file = file;
            this.status = status;
            this.error = error;
        }
        return FileUploadEvent;
    }());
    var FileUploadCompleteEvent = /** @class */ (function (_super) {
        __extends(FileUploadCompleteEvent, _super);
        function FileUploadCompleteEvent(file, totalComplete, data, totalAborted) {
            if (totalComplete === void 0) {
                totalComplete = 0;
            }
            if (totalAborted === void 0) {
                totalAborted = 0;
            }
            var _this = _super.call(this, file, FileUploadStatus.Complete) || this;
            _this.totalComplete = totalComplete;
            _this.data = data;
            _this.totalAborted = totalAborted;
            return _this;
        }
        return FileUploadCompleteEvent;
    }(FileUploadEvent));
    var FileUploadDeleteEvent = /** @class */ (function (_super) {
        __extends(FileUploadDeleteEvent, _super);
        function FileUploadDeleteEvent(file, totalComplete) {
            if (totalComplete === void 0) {
                totalComplete = 0;
            }
            var _this = _super.call(this, file, FileUploadStatus.Deleted) || this;
            _this.totalComplete = totalComplete;
            return _this;
        }
        return FileUploadDeleteEvent;
    }(FileUploadEvent));
    var FileUploadErrorEvent = /** @class */ (function (_super) {
        __extends(FileUploadErrorEvent, _super);
        function FileUploadErrorEvent(file, error, totalError) {
            if (totalError === void 0) {
                totalError = 0;
            }
            var _this = _super.call(this, file, FileUploadStatus.Error) || this;
            _this.error = error;
            _this.totalError = totalError;
            return _this;
        }
        return FileUploadErrorEvent;
    }(FileUploadEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DataRowEvent = /** @class */ (function (_super) {
        __extends(DataRowEvent, _super);
        function DataRowEvent(value, domEvent, sender) {
            var _this = _super.call(this) || this;
            _this.value = value;
            _this.event = domEvent;
            _this.sender = sender;
            return _this;
        }
        return DataRowEvent;
    }(BaseUIEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DataCellEventModel = /** @class */ (function () {
        function DataCellEventModel(row, col, actions) {
            this.row = row;
            this.col = col;
            this.actions = actions || [];
        }
        return DataCellEventModel;
    }());
    var DataCellEvent = /** @class */ (function (_super) {
        __extends(DataCellEvent, _super);
        function DataCellEvent(row, col, actions) {
            var _this = _super.call(this) || this;
            _this.value = new DataCellEventModel(row, col, actions);
            return _this;
        }
        return DataCellEvent;
    }(BaseEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DataRowActionModel = /** @class */ (function () {
        function DataRowActionModel(row, action) {
            this.row = row;
            this.action = action;
        }
        return DataRowActionModel;
    }());
    var DataRowActionEvent = /** @class */ (function (_super) {
        __extends(DataRowActionEvent, _super);
        function DataRowActionEvent(row, action) {
            var _this = _super.call(this) || this;
            _this.value = new DataRowActionModel(row, action);
            return _this;
        }
        Object.defineProperty(DataRowActionEvent.prototype, "args", {
            // backwards compatibility with 1.2.0 and earlier
            get: /**
             * @return {?}
             */ function () {
                return this.value;
            },
            enumerable: true,
            configurable: true
        });
        return DataRowActionEvent;
    }(BaseEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @enum {string} */
    var DisplayMode = {
        List: 'list',
        Gallery: 'gallery',
    };
    var DataTableComponent = /** @class */ (function () {
        function DataTableComponent(elementRef, differs) {
            var _this = this;
            this.elementRef = elementRef;
            /**
             * Selects the display mode of the table. Can be "list" or "gallery".
             */
            this.display = DisplayMode.List;
            /**
             * The rows that the datatable will show.
             */
            this.rows = [];
            /**
             * Define the sort order of the datatable. Possible values are :
             * [`created`, `desc`], [`created`, `asc`], [`due`, `desc`], [`due`, `asc`]
             */
            this.sorting = [];
            /**
             * The columns that the datatable will show.
             */
            this.columns = [];
            /**
             * Row selection mode. Can be none, `single` or `multiple`. For `multiple` mode,
             * you can use Cmd (macOS) or Ctrl (Win) modifier key to toggle selection for multiple rows.
             */
            this.selectionMode = 'single';
            /**
             * Toggles multiple row selection, which renders checkboxes at the beginning of each row.
             */
            this.multiselect = false;
            /**
             * Toggles the data actions column.
             */
            this.actions = false;
            /**
             * Position of the actions dropdown menu. Can be "left" or "right".
             */
            this.actionsPosition = 'right';
            /**
             * Toggles custom context menu for the component.
             */
            this.contextMenu = false;
            /**
             * Toggles file drop support for rows (see
             * [Upload directive](upload.directive.md) for further details).
             */
            this.allowDropFiles = false;
            /**
             * The CSS class to apply to every row.
             */
            this.rowStyleClass = '';
            /**
             * Toggles the header.
             */
            this.showHeader = true;
            /**
             * Emitted when the user clicks a row.
             */
            this.rowClick = new i0.EventEmitter();
            /**
             * Emitted when the user double-clicks a row.
             */
            this.rowDblClick = new i0.EventEmitter();
            /**
             * Emitted before the context menu is displayed for a row.
             */
            this.showRowContextMenu = new i0.EventEmitter();
            /**
             * Emitted before the actions menu is displayed for a row.
             */
            this.showRowActionsMenu = new i0.EventEmitter();
            /**
             * Emitted when the user executes a row action.
             */
            this.executeRowAction = new i0.EventEmitter();
            /**
             * Flag that indicates if the datatable is in loading state and needs to show the
             * loading template (see the docs to learn how to configure a loading template).
             */
            this.loading = false;
            /**
             * Flag that indicates if the datatable should show the "no permission" template.
             */
            this.noPermission = false;
            /**
             * Should the items for the row actions menu be cached for reuse after they are loaded
             * the first time?
             */
            this.rowMenuCacheEnabled = true;
            this.isSelectAllChecked = false;
            this.selection = new Array();
            /**
             * This array of fake rows fix the flex layout for the gallery view
             */
            this.fakeRows = [];
            this.rowMenuCache = {};
            this.subscriptions = [];
            if (differs) {
                this.differ = differs.find([]).create(null);
            }
            this.click$ = new rxjs.Observable(function (observer) { return _this.clickObserver = observer; })
                .pipe(operators.share());
        }
        /**
         * @return {?}
         */
        DataTableComponent.prototype.ngAfterContentInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.columnList) {
                    this.subscriptions.push(this.columnList.columns.changes.subscribe(function () {
                        _this.setTableSchema();
                    }));
                }
                this.datatableLayoutFix();
                this.setTableSchema();
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        DataTableComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                this.initAndSubscribeClickStream();
                if (this.isPropertyChanged(changes['data'])) {
                    if (this.isTableEmpty()) {
                        this.initTable();
                    }
                    else {
                        this.data = changes['data'].currentValue;
                        this.resetSelection();
                    }
                    return;
                }
                if (this.isPropertyChanged(changes['rows'])) {
                    if (this.isTableEmpty()) {
                        this.initTable();
                    }
                    else {
                        this.setTableRows(changes['rows'].currentValue);
                    }
                    return;
                }
                if (changes["selectionMode"] && !changes["selectionMode"].isFirstChange()) {
                    this.resetSelection();
                    this.emitRowSelectionEvent('row-unselect', null);
                }
                if (this.isPropertyChanged(changes['sorting'])) {
                    this.setTableSorting(changes['sorting'].currentValue);
                }
                if (this.isPropertyChanged(changes['display'])) {
                    this.datatableLayoutFix();
                }
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.ngDoCheck = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var changes = this.differ.diff(this.rows);
                if (changes) {
                    this.setTableRows(this.rows);
                }
            };
        /**
         * @param {?} property
         * @return {?}
         */
        DataTableComponent.prototype.isPropertyChanged = /**
         * @param {?} property
         * @return {?}
         */
            function (property) {
                return property && property.currentValue ? true : false;
            };
        /**
         * @param {?} rows
         * @return {?}
         */
        DataTableComponent.prototype.convertToRowsData = /**
         * @param {?} rows
         * @return {?}
         */
            function (rows) {
                return rows.map(function (row) { return new ObjectDataRow(row, row.isSelected); });
            };
        /**
         * @param {?} sorting
         * @return {?}
         */
        DataTableComponent.prototype.convertToDataSorting = /**
         * @param {?} sorting
         * @return {?}
         */
            function (sorting) {
                if (sorting && sorting.length > 0) {
                    return new DataSorting(sorting[0], sorting[1]);
                }
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.initAndSubscribeClickStream = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.unsubscribeClickStream();
                /** @type {?} */
                var singleClickStream = this.click$
                    .pipe(operators.buffer(this.click$.pipe(operators.debounceTime(250))), operators.map(function (list) { return list; }), operators.filter(function (x) { return x.length === 1; }));
                this.singleClickStreamSub = singleClickStream.subscribe(function (obj) {
                    /** @type {?} */
                    var event = obj[0];
                    _this.handleRowSelection(event.value, /** @type {?} */ (event.event));
                    _this.rowClick.emit(event);
                    if (!event.defaultPrevented) {
                        _this.elementRef.nativeElement.dispatchEvent(new CustomEvent('row-click', {
                            detail: event,
                            bubbles: true
                        }));
                    }
                });
                /** @type {?} */
                var multiClickStream = this.click$
                    .pipe(operators.buffer(this.click$.pipe(operators.debounceTime(250))), operators.map(function (list) { return list; }), operators.filter(function (x) { return x.length >= 2; }));
                this.multiClickStreamSub = multiClickStream.subscribe(function (obj) {
                    /** @type {?} */
                    var event = obj[0];
                    _this.rowDblClick.emit(event);
                    if (!event.defaultPrevented) {
                        _this.elementRef.nativeElement.dispatchEvent(new CustomEvent('row-dblclick', {
                            detail: event,
                            bubbles: true
                        }));
                    }
                });
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.unsubscribeClickStream = /**
         * @return {?}
         */
            function () {
                if (this.singleClickStreamSub) {
                    this.singleClickStreamSub.unsubscribe();
                    this.singleClickStreamSub = null;
                }
                if (this.multiClickStreamSub) {
                    this.multiClickStreamSub.unsubscribe();
                    this.multiClickStreamSub = null;
                }
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.initTable = /**
         * @return {?}
         */
            function () {
                this.data = new ObjectDataTableAdapter(this.rows, this.columns);
                this.setTableSorting(this.sorting);
                this.resetSelection();
                this.rowMenuCache = {};
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.isTableEmpty = /**
         * @return {?}
         */
            function () {
                return this.data === undefined || this.data === null;
            };
        /**
         * @param {?} rows
         * @return {?}
         */
        DataTableComponent.prototype.setTableRows = /**
         * @param {?} rows
         * @return {?}
         */
            function (rows) {
                if (this.data) {
                    this.resetSelection();
                    this.data.setRows(this.convertToRowsData(rows));
                }
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.setTableSchema = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var schema = [];
                if (!this.columns || this.columns.length === 0) {
                    schema = this.getSchemaFromHtml();
                }
                else {
                    schema = this.columns.concat(this.getSchemaFromHtml());
                }
                this.columns = schema;
                if (this.data && this.columns && this.columns.length > 0) {
                    this.data.setColumns(this.columns);
                }
            };
        /**
         * @param {?} sorting
         * @return {?}
         */
        DataTableComponent.prototype.setTableSorting = /**
         * @param {?} sorting
         * @return {?}
         */
            function (sorting) {
                if (this.data) {
                    this.data.setSorting(this.convertToDataSorting(sorting));
                }
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.getSchemaFromHtml = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var schema = [];
                if (this.columnList && this.columnList.columns && this.columnList.columns.length > 0) {
                    schema = this.columnList.columns.map(function (c) { return (c); });
                }
                return schema;
            };
        /**
         * @param {?} row
         * @param {?} e
         * @return {?}
         */
        DataTableComponent.prototype.onRowClick = /**
         * @param {?} row
         * @param {?} e
         * @return {?}
         */
            function (row, e) {
                if (e) {
                    e.preventDefault();
                }
                if (row) {
                    /** @type {?} */
                    var dataRowEvent = new DataRowEvent(row, e, this);
                    this.clickObserver.next(dataRowEvent);
                }
            };
        /**
         * @param {?} row
         * @param {?} e
         * @return {?}
         */
        DataTableComponent.prototype.onEnterKeyPressed = /**
         * @param {?} row
         * @param {?} e
         * @return {?}
         */
            function (row, e) {
                if (row) {
                    this.handleRowSelection(row, e);
                }
            };
        /**
         * @param {?} row
         * @param {?} e
         * @return {?}
         */
        DataTableComponent.prototype.handleRowSelection = /**
         * @param {?} row
         * @param {?} e
         * @return {?}
         */
            function (row, e) {
                if (this.data) {
                    if (this.isSingleSelectionMode()) {
                        this.resetSelection();
                        this.selectRow(row, true);
                        this.emitRowSelectionEvent('row-select', row);
                    }
                    if (this.isMultiSelectionMode()) {
                        /** @type {?} */
                        var modifier = e && (e.metaKey || e.ctrlKey);
                        /** @type {?} */
                        var newValue = void 0;
                        if (this.selection.length === 1) {
                            newValue = !row.isSelected;
                        }
                        else {
                            newValue = modifier ? !row.isSelected : true;
                        }
                        /** @type {?} */
                        var domEventName = newValue ? 'row-select' : 'row-unselect';
                        if (!modifier) {
                            this.resetSelection();
                        }
                        this.selectRow(row, newValue);
                        this.emitRowSelectionEvent(domEventName, row);
                    }
                }
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.resetSelection = /**
         * @return {?}
         */
            function () {
                if (this.data) {
                    /** @type {?} */
                    var rows = this.data.getRows();
                    if (rows && rows.length > 0) {
                        rows.forEach(function (r) { return r.isSelected = false; });
                    }
                    this.selection = [];
                }
                this.isSelectAllChecked = false;
            };
        /**
         * @param {?} row
         * @param {?=} e
         * @return {?}
         */
        DataTableComponent.prototype.onRowDblClick = /**
         * @param {?} row
         * @param {?=} e
         * @return {?}
         */
            function (row, e) {
                if (e) {
                    e.preventDefault();
                }
                /** @type {?} */
                var dataRowEvent = new DataRowEvent(row, e, this);
                this.clickObserver.next(dataRowEvent);
            };
        /**
         * @param {?} row
         * @param {?} e
         * @return {?}
         */
        DataTableComponent.prototype.onRowKeyUp = /**
         * @param {?} row
         * @param {?} e
         * @return {?}
         */
            function (row, e) {
                /** @type {?} */
                var event = new CustomEvent('row-keyup', {
                    detail: {
                        row: row,
                        keyboardEvent: e,
                        sender: this
                    },
                    bubbles: true
                });
                this.elementRef.nativeElement.dispatchEvent(event);
                if (event.defaultPrevented) {
                    e.preventDefault();
                }
                else {
                    if (e.key === 'Enter') {
                        this.onKeyboardNavigate(row, e);
                    }
                }
            };
        /**
         * @param {?} row
         * @param {?} e
         * @return {?}
         */
        DataTableComponent.prototype.onKeyboardNavigate = /**
         * @param {?} row
         * @param {?} e
         * @return {?}
         */
            function (row, e) {
                if (e) {
                    e.preventDefault();
                }
                /** @type {?} */
                var event = new DataRowEvent(row, e, this);
                this.rowDblClick.emit(event);
                this.elementRef.nativeElement.dispatchEvent(new CustomEvent('row-dblclick', {
                    detail: event,
                    bubbles: true
                }));
            };
        /**
         * @param {?} column
         * @return {?}
         */
        DataTableComponent.prototype.onColumnHeaderClick = /**
         * @param {?} column
         * @return {?}
         */
            function (column) {
                if (column && column.sortable) {
                    /** @type {?} */
                    var current = this.data.getSorting();
                    /** @type {?} */
                    var newDirection = 'asc';
                    if (current && column.key === current.key) {
                        newDirection = current.direction === 'asc' ? 'desc' : 'asc';
                    }
                    this.data.setSorting(new DataSorting(column.key, newDirection));
                    this.emitSortingChangedEvent(column.key, newDirection);
                }
            };
        /**
         * @param {?} e
         * @return {?}
         */
        DataTableComponent.prototype.onSelectAllClick = /**
         * @param {?} e
         * @return {?}
         */
            function (e) {
                this.isSelectAllChecked = e.checked;
                if (this.multiselect) {
                    /** @type {?} */
                    var rows = this.data.getRows();
                    if (rows && rows.length > 0) {
                        for (var i = 0; i < rows.length; i++) {
                            this.selectRow(rows[i], e.checked);
                        }
                    }
                    /** @type {?} */
                    var domEventName = e.checked ? 'row-select' : 'row-unselect';
                    /** @type {?} */
                    var row = this.selection.length > 0 ? this.selection[0] : null;
                    this.emitRowSelectionEvent(domEventName, row);
                }
            };
        /**
         * @param {?} row
         * @param {?} event
         * @return {?}
         */
        DataTableComponent.prototype.onCheckboxChange = /**
         * @param {?} row
         * @param {?} event
         * @return {?}
         */
            function (row, event) {
                /** @type {?} */
                var newValue = event.checked;
                this.selectRow(row, newValue);
                /** @type {?} */
                var domEventName = newValue ? 'row-select' : 'row-unselect';
                this.emitRowSelectionEvent(domEventName, row);
            };
        /**
         * @param {?} event
         * @param {?} row
         * @return {?}
         */
        DataTableComponent.prototype.onImageLoadingError = /**
         * @param {?} event
         * @param {?} row
         * @return {?}
         */
            function (event, row) {
                if (event) {
                    /** @type {?} */
                    var element = /** @type {?} */ (event.target);
                    if (this.fallbackThumbnail) {
                        element.src = this.fallbackThumbnail;
                    }
                    else {
                        element.src = row.imageErrorResolver(event);
                    }
                }
            };
        /**
         * @param {?} row
         * @param {?} col
         * @return {?}
         */
        DataTableComponent.prototype.isIconValue = /**
         * @param {?} row
         * @param {?} col
         * @return {?}
         */
            function (row, col) {
                if (row && col) {
                    /** @type {?} */
                    var value = row.getValue(col.key);
                    return value && value.startsWith('material-icons://');
                }
                return false;
            };
        /**
         * @param {?} row
         * @param {?} col
         * @return {?}
         */
        DataTableComponent.prototype.asIconValue = /**
         * @param {?} row
         * @param {?} col
         * @return {?}
         */
            function (row, col) {
                if (this.isIconValue(row, col)) {
                    /** @type {?} */
                    var value = row.getValue(col.key) || '';
                    return value.replace('material-icons://', '');
                }
                return null;
            };
        /**
         * @param {?} value
         * @return {?}
         */
        DataTableComponent.prototype.iconAltTextKey = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                return value ? 'ICONS.' + value.substring(value.lastIndexOf('/') + 1).replace(/\.[a-z]+/, '') : '';
            };
        /**
         * @param {?} col
         * @param {?} direction
         * @return {?}
         */
        DataTableComponent.prototype.isColumnSorted = /**
         * @param {?} col
         * @param {?} direction
         * @return {?}
         */
            function (col, direction) {
                if (col && direction) {
                    /** @type {?} */
                    var sorting = this.data.getSorting();
                    return sorting && sorting.key === col.key && sorting.direction === direction;
                }
                return false;
            };
        /**
         * @param {?} row
         * @param {?} col
         * @return {?}
         */
        DataTableComponent.prototype.getContextMenuActions = /**
         * @param {?} row
         * @param {?} col
         * @return {?}
         */
            function (row, col) {
                /** @type {?} */
                var event = new DataCellEvent(row, col, []);
                this.showRowContextMenu.emit(event);
                return event.value.actions;
            };
        /**
         * @param {?} row
         * @param {?=} col
         * @return {?}
         */
        DataTableComponent.prototype.getRowActions = /**
         * @param {?} row
         * @param {?=} col
         * @return {?}
         */
            function (row, col) {
                /** @type {?} */
                var id = row.getValue('id');
                if (!this.rowMenuCache[id]) {
                    /** @type {?} */
                    var event_1 = new DataCellEvent(row, col, []);
                    this.showRowActionsMenu.emit(event_1);
                    if (!this.rowMenuCacheEnabled) {
                        return event_1.value.actions;
                    }
                    this.rowMenuCache[id] = event_1.value.actions;
                }
                return this.rowMenuCache[id];
            };
        /**
         * @param {?} row
         * @param {?} action
         * @return {?}
         */
        DataTableComponent.prototype.onExecuteRowAction = /**
         * @param {?} row
         * @param {?} action
         * @return {?}
         */
            function (row, action) {
                if (action.disabled || action.disabled) {
                    event.stopPropagation();
                }
                else {
                    this.executeRowAction.emit(new DataRowActionEvent(row, action));
                }
            };
        /**
         * @param {?} row
         * @return {?}
         */
        DataTableComponent.prototype.rowAllowsDrop = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                return row.isDropTarget === true;
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.hasSelectionMode = /**
         * @return {?}
         */
            function () {
                return this.isSingleSelectionMode() || this.isMultiSelectionMode();
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.isSingleSelectionMode = /**
         * @return {?}
         */
            function () {
                return this.selectionMode && this.selectionMode.toLowerCase() === 'single';
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.isMultiSelectionMode = /**
         * @return {?}
         */
            function () {
                return this.selectionMode && this.selectionMode.toLowerCase() === 'multiple';
            };
        /**
         * @param {?} row
         * @return {?}
         */
        DataTableComponent.prototype.getRowStyle = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                row.cssClass = row.cssClass ? row.cssClass : '';
                this.rowStyleClass = this.rowStyleClass ? this.rowStyleClass : '';
                return row.cssClass + " " + this.rowStyleClass;
            };
        /**
         * @param {?} row
         * @return {?}
         */
        DataTableComponent.prototype.getFilename = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                return row.getValue('name');
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.getSortingKey = /**
         * @return {?}
         */
            function () {
                if (this.data.getSorting()) {
                    return this.data.getSorting().key;
                }
            };
        /**
         * @param {?} row
         * @param {?} value
         * @return {?}
         */
        DataTableComponent.prototype.selectRow = /**
         * @param {?} row
         * @param {?} value
         * @return {?}
         */
            function (row, value) {
                if (row) {
                    row.isSelected = value;
                    /** @type {?} */
                    var idx = this.selection.indexOf(row);
                    if (value) {
                        if (idx < 0) {
                            this.selection.push(row);
                        }
                    }
                    else {
                        if (idx > -1) {
                            this.selection.splice(idx, 1);
                        }
                    }
                }
            };
        /**
         * @param {?} row
         * @param {?} col
         * @return {?}
         */
        DataTableComponent.prototype.getCellTooltip = /**
         * @param {?} row
         * @param {?} col
         * @return {?}
         */
            function (row, col) {
                if (row && col && col.formatTooltip) {
                    /** @type {?} */
                    var result = col.formatTooltip(row, col);
                    if (result) {
                        return result;
                    }
                }
                return null;
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.getSortableColumns = /**
         * @return {?}
         */
            function () {
                return this.data.getColumns().filter(function (column) {
                    return column.sortable === true;
                });
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.isEmpty = /**
         * @return {?}
         */
            function () {
                return this.data.getRows().length === 0;
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.isHeaderVisible = /**
         * @return {?}
         */
            function () {
                return this.showHeader && !this.loading && !this.isEmpty();
            };
        /**
         * @param {?} name
         * @param {?} row
         * @return {?}
         */
        DataTableComponent.prototype.emitRowSelectionEvent = /**
         * @param {?} name
         * @param {?} row
         * @return {?}
         */
            function (name, row) {
                /** @type {?} */
                var domEvent = new CustomEvent(name, {
                    detail: {
                        row: row,
                        selection: this.selection
                    },
                    bubbles: true
                });
                this.elementRef.nativeElement.dispatchEvent(domEvent);
            };
        /**
         * @param {?} key
         * @param {?} direction
         * @return {?}
         */
        DataTableComponent.prototype.emitSortingChangedEvent = /**
         * @param {?} key
         * @param {?} direction
         * @return {?}
         */
            function (key, direction) {
                /** @type {?} */
                var domEvent = new CustomEvent('sorting-changed', {
                    detail: {
                        key: key,
                        direction: direction
                    },
                    bubbles: true
                });
                this.elementRef.nativeElement.dispatchEvent(domEvent);
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this.unsubscribeClickStream();
                this.subscriptions.forEach(function (s) { return s.unsubscribe(); });
                this.subscriptions = [];
                if (this.dataRowsChanged) {
                    this.dataRowsChanged.unsubscribe();
                    this.dataRowsChanged = null;
                }
            };
        /**
         * @return {?}
         */
        DataTableComponent.prototype.datatableLayoutFix = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var maxGalleryRows = 25;
                if (this.display === 'gallery') {
                    for (var i = 0; i < maxGalleryRows; i++) {
                        this.fakeRows.push('');
                    }
                }
                else {
                    this.fakeRows = [];
                }
            };
        DataTableComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-datatable',
                        template: "<div\n    *ngIf=\"data\" class=\"full-width\"\n    [class.adf-data-table-card]=\"display === 'gallery'\"\n    [class.adf-data-table]=\"display === 'list'\"\n    [class.adf-data-table--empty]=\"isEmpty()\">\n    <div *ngIf=\"isHeaderVisible()\" class=\"adf-datatable-header\">\n        <div class=\"adf-datatable-row\" *ngIf=\"display === 'list'\">\n            <!-- Actions (left) -->\n            <div *ngIf=\"actions && actionsPosition === 'left'\" class=\"actions-column adf-datatable-table-cell-header\">\n                <span class=\"sr-only\">Actions</span>\n            </div>\n            <!-- Columns -->\n            <div *ngIf=\"multiselect\" class=\"adf-datatable-table-cell-header\">\n                <mat-checkbox [checked]=\"isSelectAllChecked\" (change)=\"onSelectAllClick($event)\"></mat-checkbox>\n            </div>\n            <div class=\"adf-data-table-cell--{{col.type || 'text'}} {{col.cssClass}} adf-datatable-table-cell-header\"\n                 *ngFor=\"let col of data.getColumns()\"\n                 [class.sortable]=\"col.sortable\"\n                 [attr.data-automation-id]=\"'auto_id_' + col.key\"\n                 [class.adf-data-table__header--sorted-asc]=\"isColumnSorted(col, 'asc')\"\n                 [class.adf-data-table__header--sorted-desc]=\"isColumnSorted(col, 'desc')\"\n                 (click)=\"onColumnHeaderClick(col)\"\n                 (keyup.enter)=\"onColumnHeaderClick(col)\"\n                 role=\"button\"\n                 tabindex=\"0\"\n                 title=\"{{ col.title | translate }}\">\n                <span *ngIf=\"col.srTitle\" class=\"sr-only\">{{ col.srTitle | translate }}</span>\n                <span *ngIf=\"col.title\">{{ col.title | translate}}</span>\n            </div>\n            <!-- Actions (right) -->\n            <div *ngIf=\"actions && actionsPosition === 'right'\" class=\"actions-column adf-datatable-table-cell-header\">\n                <span class=\"sr-only\">Actions</span>\n            </div>\n        </div>\n        <mat-form-field *ngIf=\"display === 'gallery'\">\n            <mat-select [value]=\"getSortingKey()\" [attr.data-automation-id]=\"'grid-view-sorting'\">\n                <mat-option *ngFor=\"let col of getSortableColumns()\"\n                            [value]=\"col.key\"\n                            [attr.data-automation-id]=\"'grid-view-sorting-'+col.title\"\n                            (click)=\"onColumnHeaderClick(col)\"\n                            (keyup.enter)=\"onColumnHeaderClick(col)\">\n                    {{ col.title | translate}}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n    </div>\n\n    <div class=\"adf-datatable-body\">\n        <ng-container *ngIf=\"!loading && !noPermission\">\n            <div *ngFor=\"let row of data.getRows(); let idx = index\"\n                 class=\"adf-datatable-row\"\n                 role=\"button\"\n                 [class.is-selected]=\"row.isSelected\"\n                 [adf-upload]=\"allowDropFiles && rowAllowsDrop(row)\" [adf-upload-data]=\"row\"\n                 [ngStyle]=\"rowStyle\"\n                 [ngClass]=\"getRowStyle(row)\"\n                 (keyup)=\"onRowKeyUp(row, $event)\">\n                <!-- Actions (left) -->\n                <div *ngIf=\"actions && actionsPosition === 'left'\" class=\"adf-datatable-table-cell\">\n                    <button mat-icon-button [matMenuTriggerFor]=\"menu\"\n                            [title]=\"'ADF-DATATABLE.CONTENT-ACTIONS.TOOLTIP' | translate\"\n                            [attr.id]=\"'action_menu_left_' + idx\"\n                            [attr.data-automation-id]=\"'action_menu_' + idx\">\n                        <mat-icon>more_vert</mat-icon>\n                    </button>\n                    <mat-menu #menu=\"matMenu\">\n                        <button mat-menu-item *ngFor=\"let action of getRowActions(row)\"\n                                [attr.data-automation-id]=\"action.title\"\n                                [disabled]=\"action.disabled\"\n                                (click)=\"onExecuteRowAction(row, action)\">\n                            <mat-icon *ngIf=\"action.icon\">{{ action.icon }}</mat-icon>\n                            <span>{{ action.title | translate }}</span>\n                        </button>\n                    </mat-menu>\n                </div>\n\n                <div *ngIf=\"multiselect\" class=\"adf-datatable-table-cell adf-datatable-table-checkbox\">\n                    <mat-checkbox\n                        [checked]=\"row.isSelected\"\n                        (change)=\"onCheckboxChange(row, $event)\">\n                    </mat-checkbox>\n                </div>\n                <div *ngFor=\"let col of data.getColumns()\"\n                     class=\"adf-data-table-cell adf-datatable-table-cell adf-data-table-cell--{{col.type || 'text'}} {{col.cssClass}}\"\n                     [attr.title]=\"col.title | translate\"\n                     [attr.filename]=\"getFilename(row)\"\n                     tabindex=\"0\"\n                     (click)=\"onRowClick(row, $event)\"\n                     (keydown.enter)=\"onEnterKeyPressed(row, $event)\"\n                     [context-menu]=\"getContextMenuActions(row, col)\"\n                     [context-menu-enabled]=\"contextMenu\">\n                    <div *ngIf=\"!col.template\" class=\"cell-container\">\n                        <ng-container [ngSwitch]=\"col.type\">\n                            <div *ngSwitchCase=\"'image'\" class=\"cell-value\">\n                                <mat-icon *ngIf=\"isIconValue(row, col); else no_iconvalue\">{{ asIconValue(row, col) }}\n                                </mat-icon>\n                                <ng-template #no_iconvalue>\n                                    <mat-icon class=\"adf-datatable-selected\"\n                                              *ngIf=\"row.isSelected; else no_selected_row\" svgIcon=\"selected\">\n                                    </mat-icon>\n                                    <ng-template #no_selected_row>\n                                        <img\n                                            alt=\"{{ iconAltTextKey(data.getValue(row, col)) | translate }}\"\n                                            src=\"{{ data.getValue(row, col) }}\"\n                                            (error)=\"onImageLoadingError($event, row)\">\n                                    </ng-template>\n                                </ng-template>\n                            </div>\n                            <div *ngSwitchCase=\"'icon'\" class=\"cell-value\">\n                                <span class=\"sr-only\">{{ iconAltTextKey(data.getValue(row, col)) | translate }}</span>\n                                <mat-icon>{{ data.getValue(row, col) }}</mat-icon>\n                            </div>\n                            <div *ngSwitchCase=\"'date'\" class=\"cell-value\"\n                                 [attr.data-automation-id]=\"'date_' + (data.getValue(row, col) | date: 'medium') \">\n                                <adf-date-cell\n                                    [data]=\"data\"\n                                    [column]=\"col\"\n                                    [row]=\"row\"\n                                    [tooltip]=\"getCellTooltip(row, col)\">\n                                </adf-date-cell>\n                            </div>\n                            <div *ngSwitchCase=\"'location'\" class=\"cell-value\"\n                                 [attr.data-automation-id]=\"'location' + data.getValue(row, col)\">\n                                <adf-location-cell\n                                    [data]=\"data\"\n                                    [column]=\"col\"\n                                    [row]=\"row\"\n                                    [tooltip]=\"getCellTooltip(row, col)\">\n                                </adf-location-cell>\n                            </div>\n                            <div *ngSwitchCase=\"'fileSize'\" class=\"cell-value\"\n                                 [attr.data-automation-id]=\"'fileSize_' + data.getValue(row, col)\">\n                                <adf-filesize-cell\n                                    [data]=\"data\"\n                                    [column]=\"col\"\n                                    [row]=\"row\"\n                                    [tooltip]=\"getCellTooltip(row, col)\">\n                                </adf-filesize-cell>\n                            </div>\n                            <div *ngSwitchCase=\"'text'\" class=\"cell-value\"\n                                 [attr.data-automation-id]=\"'text_' + data.getValue(row, col)\">\n                                <adf-datatable-cell\n                                    [data]=\"data\"\n                                    [column]=\"col\"\n                                    [row]=\"row\"\n                                    [tooltip]=\"getCellTooltip(row, col)\">\n                                </adf-datatable-cell>\n                            </div>\n                            <span *ngSwitchDefault class=\"cell-value\">\n                    <!-- empty cell for unknown column type -->\n                    </span>\n                        </ng-container>\n                    </div>\n                    <div *ngIf=\"col.template\" class=\"cell-container\">\n                        <ng-container\n                            [ngTemplateOutlet]=\"col.template\"\n                            [ngTemplateOutletContext]=\"{ $implicit: { data: data, row: row, col: col }, value: data.getValue(row, col) }\">\n                        </ng-container>\n                    </div>\n                </div>\n\n                <!-- Actions (right) -->\n                <div *ngIf=\"actions && actionsPosition === 'right'\"\n                     class=\"adf-datatable-table-cell alfresco-datatable__actions-cell\">\n                    <button mat-icon-button [matMenuTriggerFor]=\"menu\"\n                            [title]=\"'ADF-DATATABLE.CONTENT-ACTIONS.TOOLTIP' | translate\"\n                            [attr.id]=\"'action_menu_right_' + idx\"\n                            [attr.data-automation-id]=\"'action_menu_' + idx\">\n                        <mat-icon>more_vert</mat-icon>\n                    </button>\n                    <mat-menu #menu=\"matMenu\">\n                        <button mat-menu-item *ngFor=\"let action of getRowActions(row)\"\n                                [attr.data-automation-id]=\"action.title\"\n                                [disabled]=\"action.disabled\"\n                                (click)=\"onExecuteRowAction(row, action)\">\n                            <mat-icon *ngIf=\"action.icon\">{{ action.icon }}</mat-icon>\n                            <span>{{ action.title | translate }}</span>\n                        </button>\n                    </mat-menu>\n                </div>\n\n            </div>\n            <div *ngIf=\"isEmpty()\"\n                 [class.adf-datatable-row]=\"display === 'list'\"\n                 [class.adf-data-table-card-empty]=\"display === 'gallery'\">\n                <div class=\"adf-no-content-container adf-datatable-table-cell\">\n                    <ng-template *ngIf=\"noContentTemplate\"\n                                 ngFor [ngForOf]=\"[data]\"\n                                 [ngForTemplate]=\"noContentTemplate\">\n                    </ng-template>\n                    <ng-content select=\"adf-empty-list\"></ng-content>\n                </div>\n            </div>\n            <div *ngFor=\"let row of fakeRows\"\n                 class=\"adf-datatable-row adf-datatable-row-empty-card\">\n            </div>\n        </ng-container>\n        <div *ngIf=\"!loading && noPermission\"\n             [class.adf-datatable-row]=\"display === 'list'\"\n             [class.adf-data-table-card-permissions]=\"display === 'gallery'\"\n             class=\"adf-no-permission__row\">\n            <div class=\"adf-no-permission__cell adf-no-content-container adf-datatable-table-cell\">\n                <ng-template *ngIf=\"noPermissionTemplate\"\n                             ngFor [ngForOf]=\"[data]\"\n                             [ngForTemplate]=\"noPermissionTemplate\">\n                </ng-template>\n            </div>\n        </div>\n        <div *ngIf=\"loading\"\n             [class.adf-datatable-row]=\"display === 'list'\"\n             [class.adf-data-table-card-loading]=\"display === 'gallery'\">\n            <div class=\"adf-datatable-table-cell\">\n                <ng-template *ngIf=\"loadingTemplate\"\n                             ngFor [ngForOf]=\"[data]\"\n                             [ngForTemplate]=\"loadingTemplate\">\n                </ng-template>\n            </div>\n        </div>\n    </div>\n</div>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        DataTableComponent.ctorParameters = function () {
            return [
                { type: i0.ElementRef },
                { type: i0.IterableDiffers }
            ];
        };
        DataTableComponent.propDecorators = {
            columnList: [{ type: i0.ContentChild, args: [DataColumnListComponent,] }],
            data: [{ type: i0.Input }],
            display: [{ type: i0.Input }],
            rows: [{ type: i0.Input }],
            sorting: [{ type: i0.Input }],
            columns: [{ type: i0.Input }],
            selectionMode: [{ type: i0.Input }],
            multiselect: [{ type: i0.Input }],
            actions: [{ type: i0.Input }],
            actionsPosition: [{ type: i0.Input }],
            fallbackThumbnail: [{ type: i0.Input }],
            contextMenu: [{ type: i0.Input }],
            allowDropFiles: [{ type: i0.Input }],
            rowStyle: [{ type: i0.Input }],
            rowStyleClass: [{ type: i0.Input }],
            showHeader: [{ type: i0.Input }],
            rowClick: [{ type: i0.Output }],
            rowDblClick: [{ type: i0.Output }],
            showRowContextMenu: [{ type: i0.Output }],
            showRowActionsMenu: [{ type: i0.Output }],
            executeRowAction: [{ type: i0.Output }],
            loading: [{ type: i0.Input }],
            noPermission: [{ type: i0.Input }],
            rowMenuCacheEnabled: [{ type: i0.Input }]
        };
        return DataTableComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DateCellComponent = /** @class */ (function (_super) {
        __extends(DateCellComponent, _super);
        function DateCellComponent(userPreferenceService) {
            var _this = _super.call(this) || this;
            if (userPreferenceService) {
                userPreferenceService
                    .select(UserPreferenceValues.Locale)
                    .subscribe(function (locale) {
                    _this.currentLocale = locale;
                });
            }
            return _this;
        }
        Object.defineProperty(DateCellComponent.prototype, "format", {
            get: /**
             * @return {?}
             */ function () {
                if (this.column) {
                    return this.column.format || 'medium';
                }
                return 'medium';
            },
            enumerable: true,
            configurable: true
        });
        DateCellComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-date-cell',
                        template: "\n        <ng-container>\n            <span title=\"{{ tooltip | date:'medium' }}\" *ngIf=\"format === 'timeAgo' else standard_date\">\n                {{ value | adfTimeAgo: currentLocale }}\n            </span>\n        </ng-container>\n        <ng-template #standard_date>\n            <span title=\"{{ tooltip | date:format }}\">\n                {{ value | date:format }}\n            </span>\n        </ng-template>\n    ",
                        encapsulation: i0.ViewEncapsulation.None,
                        host: { class: 'adf-date-cell' }
                    }] }
        ];
        /** @nocollapse */
        DateCellComponent.ctorParameters = function () {
            return [
                { type: UserPreferencesService }
            ];
        };
        return DateCellComponent;
    }(DataTableCellComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var EmptyListComponent = /** @class */ (function () {
        function EmptyListComponent() {
        }
        EmptyListComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-empty-list',
                        template: "<div class=\"adf-empty-list_template\">\n    <ng-content select=\"[adf-empty-list-header]\"></ng-content>\n    <ng-content select=\"[adf-empty-list-body]\"></ng-content>\n    <ng-content select=\"[adf-empty-list-footer]\"></ng-content>\n    <ng-content></ng-content>\n</div>",
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-empty-list_template{text-align:center;margin-top:20px;margin-bottom:20px}"]
                    }] }
        ];
        return EmptyListComponent;
    }());
    var EmptyListHeaderDirective = /** @class */ (function () {
        function EmptyListHeaderDirective() {
        }
        EmptyListHeaderDirective.decorators = [
            { type: i0.Directive, args: [{ selector: '[adf-empty-list-header]' },] }
        ];
        return EmptyListHeaderDirective;
    }());
    var EmptyListBodyDirective = /** @class */ (function () {
        function EmptyListBodyDirective() {
        }
        EmptyListBodyDirective.decorators = [
            { type: i0.Directive, args: [{ selector: '[adf-empty-list-body]' },] }
        ];
        return EmptyListBodyDirective;
    }());
    var EmptyListFooterDirective = /** @class */ (function () {
        function EmptyListFooterDirective() {
        }
        EmptyListFooterDirective.decorators = [
            { type: i0.Directive, args: [{ selector: '[adf-empty-list-footer]' },] }
        ];
        return EmptyListFooterDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FileSizeCellComponent = /** @class */ (function (_super) {
        __extends(FileSizeCellComponent, _super);
        function FileSizeCellComponent() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        FileSizeCellComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-filesize-cell',
                        template: "\n        <ng-container>\n            <span [title]=\"tooltip\">{{ value | adfFileSize }}</span>\n        </ng-container>\n    ",
                        encapsulation: i0.ViewEncapsulation.None,
                        host: { class: 'adf-filesize-cell' }
                    }] }
        ];
        return FileSizeCellComponent;
    }(DataTableCellComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LocationCellComponent = /** @class */ (function (_super) {
        __extends(LocationCellComponent, _super);
        function LocationCellComponent() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.displayText = '';
            return _this;
        }
        /** @override */
        /**
         * @override
         * @return {?}
         */
        LocationCellComponent.prototype.ngOnInit = /**
         * @override
         * @return {?}
         */
            function () {
                if (!this.value && this.column && this.column.key && this.row && this.data) {
                    /** @type {?} */
                    var path = this.data.getValue(this.row, this.column);
                    if (path && path.name && path.elements) {
                        this.value = path;
                        this.displayText = path.name.split('/').pop();
                        if (!this.tooltip) {
                            this.tooltip = path.name;
                        }
                        /** @type {?} */
                        var parent_1 = path.elements[path.elements.length - 1];
                        this.link = [this.column.format, parent_1.id];
                    }
                }
            };
        LocationCellComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-location-cell',
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        template: "\n        <ng-container>\n            <a href=\"\" [title]=\"tooltip\" [routerLink]=\"link\">\n                {{ displayText }}\n            </a>\n        </ng-container>\n    ",
                        encapsulation: i0.ViewEncapsulation.None,
                        host: { class: 'adf-location-cell' }
                    }] }
        ];
        LocationCellComponent.propDecorators = {
            link: [{ type: i0.Input }],
            displayText: [{ type: i0.Input }]
        };
        return LocationCellComponent;
    }(DataTableCellComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LoadingContentTemplateDirective = /** @class */ (function () {
        function LoadingContentTemplateDirective(dataTable) {
            this.dataTable = dataTable;
        }
        /**
         * @return {?}
         */
        LoadingContentTemplateDirective.prototype.ngAfterContentInit = /**
         * @return {?}
         */
            function () {
                if (this.dataTable) {
                    this.dataTable.loadingTemplate = this.template;
                }
            };
        LoadingContentTemplateDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: 'loading-content-template'
                    },] }
        ];
        /** @nocollapse */
        LoadingContentTemplateDirective.ctorParameters = function () {
            return [
                { type: DataTableComponent }
            ];
        };
        LoadingContentTemplateDirective.propDecorators = {
            template: [{ type: i0.ContentChild, args: [i0.TemplateRef,] }]
        };
        return LoadingContentTemplateDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var NoContentTemplateDirective = /** @class */ (function () {
        function NoContentTemplateDirective(dataTable) {
            this.dataTable = dataTable;
        }
        /**
         * @return {?}
         */
        NoContentTemplateDirective.prototype.ngAfterContentInit = /**
         * @return {?}
         */
            function () {
                if (this.dataTable) {
                    this.dataTable.noContentTemplate = this.template;
                }
            };
        NoContentTemplateDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: 'no-content-template'
                    },] }
        ];
        /** @nocollapse */
        NoContentTemplateDirective.ctorParameters = function () {
            return [
                { type: DataTableComponent }
            ];
        };
        NoContentTemplateDirective.propDecorators = {
            template: [{ type: i0.ContentChild, args: [i0.TemplateRef,] }]
        };
        return NoContentTemplateDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var NoPermissionTemplateDirective = /** @class */ (function () {
        function NoPermissionTemplateDirective(dataTable) {
            this.dataTable = dataTable;
        }
        /**
         * @return {?}
         */
        NoPermissionTemplateDirective.prototype.ngAfterContentInit = /**
         * @return {?}
         */
            function () {
                if (this.dataTable) {
                    this.dataTable.noPermissionTemplate = this.template;
                }
            };
        NoPermissionTemplateDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: 'no-permission-template'
                    },] }
        ];
        /** @nocollapse */
        NoPermissionTemplateDirective.ctorParameters = function () {
            return [
                { type: DataTableComponent }
            ];
        };
        NoPermissionTemplateDirective.propDecorators = {
            template: [{ type: i0.ContentChild, args: [i0.TemplateRef,] }]
        };
        return NoPermissionTemplateDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var EmptyCustomContentDirective = /** @class */ (function () {
        function EmptyCustomContentDirective() {
        }
        EmptyCustomContentDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: 'adf-empty-custom-content'
                    },] }
        ];
        return EmptyCustomContentDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DataTableModule = /** @class */ (function () {
        function DataTableModule() {
        }
        DataTableModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            router.RouterModule,
                            MaterialModule,
                            common.CommonModule,
                            core$1.TranslateModule.forChild(),
                            ContextMenuModule,
                            PipeModule,
                            DirectiveModule
                        ],
                        declarations: [
                            DataTableComponent,
                            EmptyListComponent,
                            EmptyListHeaderDirective,
                            EmptyListBodyDirective,
                            EmptyListFooterDirective,
                            DataTableCellComponent,
                            DateCellComponent,
                            FileSizeCellComponent,
                            LocationCellComponent,
                            NoContentTemplateDirective,
                            NoPermissionTemplateDirective,
                            LoadingContentTemplateDirective,
                            EmptyCustomContentDirective
                        ],
                        exports: [
                            DataTableComponent,
                            EmptyListComponent,
                            EmptyListHeaderDirective,
                            EmptyListBodyDirective,
                            EmptyListFooterDirective,
                            DataTableCellComponent,
                            DateCellComponent,
                            FileSizeCellComponent,
                            LocationCellComponent,
                            NoContentTemplateDirective,
                            NoPermissionTemplateDirective,
                            LoadingContentTemplateDirective,
                            EmptyCustomContentDirective
                        ]
                    },] }
        ];
        return DataTableModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DataColumnModule = /** @class */ (function () {
        function DataColumnModule() {
        }
        DataColumnModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule
                        ],
                        declarations: [
                            DataColumnComponent,
                            DataColumnListComponent
                        ],
                        exports: [
                            DataColumnComponent,
                            DataColumnListComponent
                        ]
                    },] }
        ];
        return DataColumnModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AboutModule = /** @class */ (function () {
        function AboutModule() {
        }
        AboutModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            MaterialModule,
                            core$1.TranslateModule.forChild(),
                            DataTableModule,
                            DataColumnModule
                        ],
                        declarations: [
                            AboutComponent
                        ],
                        exports: [
                            AboutComponent
                        ]
                    },] }
        ];
        return AboutModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ViewUtilService = /** @class */ (function () {
        function ViewUtilService(apiService, logService) {
            this.apiService = apiService;
            this.logService = logService;
            /**
             * Based on ViewerComponent Implementation, this value is used to determine how many times we try
             * to get the rendition of a file for preview, or printing.
             */
            this.maxRetries = 5;
            /**
             * Mime-type grouping based on the ViewerComponent.
             */
            this.mimeTypes = {
                text: ['text/plain', 'text/csv', 'text/xml', 'text/html', 'application/x-javascript'],
                pdf: ['application/pdf'],
                image: ['image/png', 'image/jpeg', 'image/gif', 'image/bmp', 'image/svg+xml'],
                media: ['video/mp4', 'video/webm', 'video/ogg', 'audio/mpeg', 'audio/ogg', 'audio/wav']
            };
        }
        /**
         * This method takes a url to trigger the print dialog against, and the type of artifact that it
         * is.
         * This URL should be one that can be rendered in the browser, for example PDF, Image, or Text
         */
        /**
         * This method takes a url to trigger the print dialog against, and the type of artifact that it
         * is.
         * This URL should be one that can be rendered in the browser, for example PDF, Image, or Text
         * @param {?} url
         * @param {?} type
         * @return {?}
         */
        ViewUtilService.prototype.printFile = /**
         * This method takes a url to trigger the print dialog against, and the type of artifact that it
         * is.
         * This URL should be one that can be rendered in the browser, for example PDF, Image, or Text
         * @param {?} url
         * @param {?} type
         * @return {?}
         */
            function (url, type) {
                /** @type {?} */
                var pwa = window.open(url, ViewUtilService.TARGET);
                if (pwa) {
                    // Because of the way chrome focus and close image window vs. pdf preview window
                    if (type === ViewUtilService.ContentGroup.IMAGE) {
                        pwa.onfocus = function () {
                            setTimeout(function () {
                                pwa.close();
                            }, 500);
                        };
                    }
                    pwa.onload = function () {
                        pwa.print();
                    };
                }
            };
        /**
         * Launch the File Print dialog from anywhere other than the preview service, which resolves the
         * rendition of the object that can be printed from a web browser.
         * These are: images, PDF files, or PDF rendition of files.
         * We also force PDF rendition for TEXT type objects, otherwise the default URL is to download.
         * TODO there are different TEXT type objects, (HTML, plaintext, xml, etc. we should determine how these are handled)
         */
        /**
         * Launch the File Print dialog from anywhere other than the preview service, which resolves the
         * rendition of the object that can be printed from a web browser.
         * These are: images, PDF files, or PDF rendition of files.
         * We also force PDF rendition for TEXT type objects, otherwise the default URL is to download.
         * TODO there are different TEXT type objects, (HTML, plaintext, xml, etc. we should determine how these are handled)
         * @param {?} objectId
         * @param {?} mimeType
         * @return {?}
         */
        ViewUtilService.prototype.printFileGeneric = /**
         * Launch the File Print dialog from anywhere other than the preview service, which resolves the
         * rendition of the object that can be printed from a web browser.
         * These are: images, PDF files, or PDF rendition of files.
         * We also force PDF rendition for TEXT type objects, otherwise the default URL is to download.
         * TODO there are different TEXT type objects, (HTML, plaintext, xml, etc. we should determine how these are handled)
         * @param {?} objectId
         * @param {?} mimeType
         * @return {?}
         */
            function (objectId, mimeType) {
                var _this = this;
                /** @type {?} */
                var nodeId = objectId;
                /** @type {?} */
                var type = this.getViewerTypeByMimeType(mimeType);
                this.getRendition(nodeId, ViewUtilService.ContentGroup.PDF)
                    .then(function (value) {
                    /** @type {?} */
                    var url = _this.getRenditionUrl(nodeId, type, (value ? true : false));
                    /** @type {?} */
                    var printType = (type === ViewUtilService.ContentGroup.PDF
                        || type === ViewUtilService.ContentGroup.TEXT)
                        ? ViewUtilService.ContentGroup.PDF : type;
                    _this.printFile(url, printType);
                })
                    .catch(function (err) {
                    _this.logService.error('Error with Printing');
                    _this.logService.error(err);
                });
            };
        /**
         * @param {?} nodeId
         * @param {?} type
         * @param {?} renditionExists
         * @return {?}
         */
        ViewUtilService.prototype.getRenditionUrl = /**
         * @param {?} nodeId
         * @param {?} type
         * @param {?} renditionExists
         * @return {?}
         */
            function (nodeId, type, renditionExists) {
                return (renditionExists && type !== ViewUtilService.ContentGroup.IMAGE) ?
                    this.apiService.contentApi.getRenditionUrl(nodeId, ViewUtilService.ContentGroup.PDF) :
                    this.apiService.contentApi.getContentUrl(nodeId, false);
            };
        /**
         * @param {?} nodeId
         * @param {?} renditionId
         * @param {?} retries
         * @return {?}
         */
        ViewUtilService.prototype.waitRendition = /**
         * @param {?} nodeId
         * @param {?} renditionId
         * @param {?} retries
         * @return {?}
         */
            function (nodeId, renditionId, retries) {
                return __awaiter(this, void 0, void 0, function () {
                    var rendition, status_1;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0: return [4 /*yield*/, this.apiService.renditionsApi.getRendition(nodeId, renditionId)];
                            case 1:
                                rendition = _a.sent();
                                if (!(this.maxRetries < retries))
                                    return [3 /*break*/, 5];
                                status_1 = rendition.entry.status.toString();
                                if (!(status_1 === 'CREATED'))
                                    return [3 /*break*/, 2];
                                return [2 /*return*/, rendition];
                            case 2:
                                retries += 1;
                                return [4 /*yield*/, this.wait(1000)];
                            case 3:
                                _a.sent();
                                return [4 /*yield*/, this.waitRendition(nodeId, renditionId, retries)];
                            case 4: return [2 /*return*/, _a.sent()];
                            case 5: return [2 /*return*/];
                        }
                    });
                });
            };
        /**
         * @param {?} mimeType
         * @return {?}
         */
        ViewUtilService.prototype.getViewerTypeByMimeType = /**
         * @param {?} mimeType
         * @return {?}
         */
            function (mimeType) {
                var e_1, _a;
                if (mimeType) {
                    mimeType = mimeType.toLowerCase();
                    /** @type {?} */
                    var editorTypes = Object.keys(this.mimeTypes);
                    try {
                        for (var editorTypes_1 = __values(editorTypes), editorTypes_1_1 = editorTypes_1.next(); !editorTypes_1_1.done; editorTypes_1_1 = editorTypes_1.next()) {
                            var type = editorTypes_1_1.value;
                            if (this.mimeTypes[type].indexOf(mimeType) >= 0) {
                                return type;
                            }
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (editorTypes_1_1 && !editorTypes_1_1.done && (_a = editorTypes_1.return))
                                _a.call(editorTypes_1);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                return 'unknown';
            };
        /**
         * @param {?} ms
         * @return {?}
         */
        ViewUtilService.prototype.wait = /**
         * @param {?} ms
         * @return {?}
         */
            function (ms) {
                return new Promise(function (resolve) { return setTimeout(resolve, ms); });
            };
        /**
         * @param {?} nodeId
         * @param {?} renditionId
         * @return {?}
         */
        ViewUtilService.prototype.getRendition = /**
         * @param {?} nodeId
         * @param {?} renditionId
         * @return {?}
         */
            function (nodeId, renditionId) {
                return __awaiter(this, void 0, void 0, function () {
                    var supported, rendition, status_2, err_1;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0: return [4 /*yield*/, this.apiService.renditionsApi.getRenditions(nodeId)];
                            case 1:
                                supported = _a.sent();
                                rendition = supported.list.entries.find(function (obj) { return obj.entry.id.toLowerCase() === renditionId; });
                                if (!rendition)
                                    return [3 /*break*/, 6];
                                status_2 = rendition.entry.status.toString();
                                if (!(status_2 === 'NOT_CREATED'))
                                    return [3 /*break*/, 6];
                                _a.label = 2;
                            case 2:
                                _a.trys.push([2, 5, , 6]);
                                return [4 /*yield*/, this.apiService.renditionsApi.createRendition(nodeId, { id: renditionId })];
                            case 3:
                                _a.sent();
                                return [4 /*yield*/, this.waitRendition(nodeId, renditionId, 0)];
                            case 4:
                                rendition = _a.sent();
                                return [3 /*break*/, 6];
                            case 5:
                                err_1 = _a.sent();
                                this.logService.error(err_1);
                                return [3 /*break*/, 6];
                            case 6: return [2 /*return*/, new Promise(function (resolve) { return resolve(rendition); })];
                        }
                    });
                });
            };
        ViewUtilService.TARGET = '_new';
        /**
         * Content groups based on categorization of files that can be viewed in the web browser. This
         * implementation or grouping is tied to the definition the ng component: ViewerComponent
         */
        ViewUtilService.ContentGroup = {
            IMAGE: 'image',
            MEDIA: 'media',
            PDF: 'pdf',
            TEXT: 'text'
        };
        ViewUtilService.decorators = [
            { type: i0.Injectable, args: [{
                        providedIn: 'root'
                    },] }
        ];
        /** @nocollapse */
        ViewUtilService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: LogService }
            ];
        };
        /** @nocollapse */ ViewUtilService.ngInjectableDef = i0.defineInjectable({ factory: function ViewUtilService_Factory() { return new ViewUtilService(i0.inject(AlfrescoApiService), i0.inject(LogService)); }, token: ViewUtilService, providedIn: "root" });
        return ViewUtilService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ViewerMoreActionsComponent = /** @class */ (function () {
        function ViewerMoreActionsComponent() {
        }
        ViewerMoreActionsComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-viewer-more-actions',
                        encapsulation: i0.ViewEncapsulation.None,
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        host: { class: 'adf-viewer-more-actions' },
                        template: "<ng-content></ng-content>"
                    }] }
        ];
        return ViewerMoreActionsComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ViewerOpenWithComponent = /** @class */ (function () {
        function ViewerOpenWithComponent() {
        }
        ViewerOpenWithComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-viewer-open-with',
                        encapsulation: i0.ViewEncapsulation.None,
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        host: { class: 'adf-viewer-open-with' },
                        template: "<ng-content></ng-content>"
                    }] }
        ];
        return ViewerOpenWithComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ViewerSidebarComponent = /** @class */ (function () {
        function ViewerSidebarComponent() {
        }
        ViewerSidebarComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-viewer-sidebar',
                        encapsulation: i0.ViewEncapsulation.None,
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        host: { class: 'adf-viewer-sidebar' },
                        template: "<ng-content></ng-content>"
                    }] }
        ];
        return ViewerSidebarComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ViewerToolbarComponent = /** @class */ (function () {
        function ViewerToolbarComponent() {
        }
        ViewerToolbarComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-viewer-toolbar',
                        encapsulation: i0.ViewEncapsulation.None,
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        host: { class: 'adf-viewer-toolbar' },
                        template: "<ng-content></ng-content>"
                    }] }
        ];
        return ViewerToolbarComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ViewerComponent = /** @class */ (function () {
        function ViewerComponent(apiService, viewUtils, logService, location, el) {
            this.apiService = apiService;
            this.viewUtils = viewUtils;
            this.logService = logService;
            this.location = location;
            this.el = el;
            /**
             * If you want to load an external file that does not come from ACS you
             * can use this URL to specify where to load the file from.
             */
            this.urlFile = '';
            /**
             * Viewer to use with the `urlFile` address (`pdf`, `image`, `media`, `text`).
             * Used when `urlFile` has no filename and extension.
             */
            this.urlFileViewer = null;
            /**
             * Node Id of the file to load.
             */
            this.nodeId = null;
            /**
             * Shared link id (to display shared file).
             */
            this.sharedLinkId = null;
            /**
             * If `true` then show the Viewer as a full page over the current content.
             * Otherwise fit inside the parent div.
             */
            this.overlayMode = false;
            /**
             * Hide or show the viewer
             */
            this.showViewer = true;
            /**
             * Hide or show the toolbar
             */
            this.showToolbar = true;
            /**
             * Allows `back` navigation
             */
            this.allowGoBack = true;
            /**
             * Toggles downloading.
             */
            this.allowDownload = true;
            /**
             * Toggles printing.
             */
            this.allowPrint = false;
            /**
             * Toggles sharing.
             * @deprecated 2.5.0 - inject the share button directive as custom button
             */
            this.allowShare = false;
            /**
             * Toggles the 'Full Screen' feature.
             */
            this.allowFullScreen = true;
            /**
             * Toggles before/next navigation. You can use the arrow buttons to navigate
             * between documents in the collection.
             */
            this.allowNavigate = false;
            /**
             * Toggles the "before" ("<") button. Requires `allowNavigate` to be enabled.
             */
            this.canNavigateBefore = true;
            /**
             * Toggles the next (">") button. Requires `allowNavigate` to be enabled.
             */
            this.canNavigateNext = true;
            /**
             * Allow the left the sidebar.
             */
            this.allowLeftSidebar = false;
            /**
             * Allow the right sidebar.
             * @deprecated 2.5.0 - will be renamed  allowRightSidebar in 3.0.0
             */
            this.allowSidebar = false;
            /**
             * Toggles PDF thumbnails.
             */
            this.allowThumbnails = true;
            /**
             * Toggles sidebar visibility. Requires `allowSidebar` to be set to `true`.
             * @deprecated 2.5.0 - will be renamed showRightSidebar in 3.0.0
             */
            this.showSidebar = false;
            /**
             * Toggles left sidebar visibility. Requires `allowSidebar` to be set to `true`.
             */
            this.showLeftSidebar = false;
            /**
             * The position of the sidebar. Can be `left` or `right`.
             * @deprecated 2.5.0 use sidebarTemplateLeft
             */
            this.sidebarPosition = 'right';
            /**
             * The template for the sidebar. The template context contains the loaded node data.
             * @deprecated 2.5.0 renamed as sidebarRight
             */
            this.sidebarTemplate = null;
            /**
             * The template for the left sidebar. The template context contains the loaded node data.
             */
            this.sidebarLeftTemplate = null;
            /**
             * The template for the pdf thumbnails.
             */
            this.thumbnailsTemplate = null;
            /**
             * URL to download.
             */
            this.downloadUrl = null;
            /**
             * Number of times the Viewer will retry fetching content Rendition.
             * There is a delay of at least one second between attempts.
             */
            this.maxRetries = 10;
            /**
             * Emitted when user clicks the 'Back' button.
             */
            this.goBack = new i0.EventEmitter();
            /**
             * Emitted when user clicks the 'Download' button.
             */
            this.download = new i0.EventEmitter();
            /**
             * Emitted when user clicks the 'Print' button.
             */
            this.print = new i0.EventEmitter();
            /**
             * Emitted when user clicks the 'Share' button.
             */
            this.share = new i0.EventEmitter();
            /**
             * Emitted when the viewer is shown or hidden.
             */
            this.showViewerChange = new i0.EventEmitter();
            /**
             * Emitted when the filename extension changes.
             */
            this.extensionChange = new i0.EventEmitter();
            /**
             * Emitted when user clicks 'Navigate Before' ("<") button.
             */
            this.navigateBefore = new i0.EventEmitter();
            /**
             * Emitted when user clicks 'Navigate Next' (">") button.
             */
            this.navigateNext = new i0.EventEmitter();
            /**
             * Emitted when the shared link used is not valid.
             */
            this.invalidSharedLink = new i0.EventEmitter();
            this.viewerType = 'unknown';
            this.isLoading = false;
            this.extensionTemplates = [];
            this.externalExtensions = [];
            this.sidebarTemplateContext = { node: null };
            this.sidebarLeftTemplateContext = { node: null };
            this.subscriptions = [];
            this.extensions = {
                image: ['png', 'jpg', 'jpeg', 'gif', 'bpm', 'svg'],
                media: ['wav', 'mp4', 'mp3', 'webm', 'ogg'],
                text: ['txt', 'xml', 'js', 'html', 'json', 'ts', 'css', 'md'],
                pdf: ['pdf']
            };
            this.mimeTypes = {
                text: ['text/plain', 'text/csv', 'text/xml', 'text/html', 'application/x-javascript'],
                pdf: ['application/pdf'],
                image: ['image/png', 'image/jpeg', 'image/gif', 'image/bmp', 'image/svg+xml'],
                media: ['video/mp4', 'video/webm', 'video/ogg', 'audio/mpeg', 'audio/ogg', 'audio/wav']
            };
        }
        Object.defineProperty(ViewerComponent.prototype, "fileNodeId", {
            /**
             * Node Id of the file to load.
             * @deprecated 2.4.0 use nodeId
             */
            set: /**
             * Node Id of the file to load.
             * @deprecated 2.4.0 use nodeId
             * @param {?} nodeId
             * @return {?}
             */ function (nodeId) {
                this.nodeId = nodeId;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        ViewerComponent.prototype.isSourceDefined = /**
         * @return {?}
         */
            function () {
                return (this.urlFile || this.blobFile || this.nodeId || this.sharedLinkId) ? true : false;
            };
        /**
         * @return {?}
         */
        ViewerComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.subscriptions.push(this.apiService.nodeUpdated.subscribe(function (node) { return _this.onNodeUpdated(node); }));
            };
        /**
         * @return {?}
         */
        ViewerComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this.subscriptions.forEach(function (subscription) { return subscription.unsubscribe(); });
                this.subscriptions = [];
            };
        /**
         * @param {?} node
         * @return {?}
         */
        ViewerComponent.prototype.onNodeUpdated = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                var _this = this;
                if (node && node.id === this.nodeId) {
                    this.generateCacheBusterNumber();
                    this.isLoading = true;
                    this.setUpNodeFile(node).then(function () {
                        _this.isLoading = false;
                    });
                }
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        ViewerComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                var _this = this;
                if (this.showViewer) {
                    if (!this.isSourceDefined()) {
                        throw new Error('A content source attribute value is missing.');
                    }
                    this.isLoading = true;
                    if (this.blobFile) {
                        this.setUpBlobData();
                        this.isLoading = false;
                    }
                    else if (this.urlFile) {
                        this.setUpUrlFile();
                        this.isLoading = false;
                    }
                    else if (this.nodeId) {
                        this.apiService.nodesApi.getNodeInfo(this.nodeId, { include: ['allowableOperations'] }).then(function (data) {
                            _this.setUpNodeFile(data).then(function () {
                                _this.isLoading = false;
                            });
                        }, function (error) {
                            _this.isLoading = false;
                            _this.logService.error('This node does not exist');
                        });
                    }
                    else if (this.sharedLinkId) {
                        this.apiService.sharedLinksApi.getSharedLink(this.sharedLinkId).then(function (details) {
                            _this.setUpSharedLinkFile(details);
                            _this.isLoading = false;
                        }, function () {
                            _this.isLoading = false;
                            _this.logService.error('This sharedLink does not exist');
                            _this.invalidSharedLink.next();
                        });
                    }
                }
            };
        /**
         * @return {?}
         */
        ViewerComponent.prototype.setUpBlobData = /**
         * @return {?}
         */
            function () {
                this.fileTitle = this.getDisplayName('Unknown');
                this.mimeType = this.blobFile.type;
                this.viewerType = this.getViewerTypeByMimeType(this.mimeType);
                this.allowDownload = false;
                // TODO: wrap blob into the data url and allow downloading
                this.extensionChange.emit(this.mimeType);
                this.scrollTop();
            };
        /**
         * @return {?}
         */
        ViewerComponent.prototype.setUpUrlFile = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var filenameFromUrl = this.getFilenameFromUrl(this.urlFile);
                this.fileTitle = this.getDisplayName(filenameFromUrl);
                this.extension = this.getFileExtension(filenameFromUrl);
                this.urlFileContent = this.urlFile;
                this.downloadUrl = this.urlFile;
                this.fileName = this.displayName;
                this.viewerType = this.urlFileViewer || this.getViewerTypeByExtension(this.extension);
                if (this.viewerType === 'unknown') {
                    this.viewerType = this.getViewerTypeByMimeType(this.mimeType);
                }
                this.extensionChange.emit(this.extension);
                this.scrollTop();
            };
        /**
         * @param {?} data
         * @return {?}
         */
        ViewerComponent.prototype.setUpNodeFile = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                return __awaiter(this, void 0, void 0, function () {
                    var setupNode;
                    return __generator(this, function (_a) {
                        if (data.content) {
                            this.mimeType = data.content.mimeType;
                        }
                        this.fileTitle = this.getDisplayName(data.name);
                        this.urlFileContent = this.apiService.contentApi.getContentUrl(data.id);
                        this.urlFileContent = this.cacheBusterNumber ? this.urlFileContent + '&' + this.cacheBusterNumber : this.urlFileContent;
                        this.extension = this.getFileExtension(data.name);
                        this.fileName = data.name;
                        this.downloadUrl = this.apiService.contentApi.getContentUrl(data.id, true);
                        this.viewerType = this.getViewerTypeByExtension(this.extension);
                        if (this.viewerType === 'unknown') {
                            this.viewerType = this.getViewerTypeByMimeType(this.mimeType);
                        }
                        if (this.viewerType === 'unknown') {
                            setupNode = this.displayNodeRendition(data.id);
                        }
                        this.extensionChange.emit(this.extension);
                        this.sidebarTemplateContext.node = data;
                        this.sidebarLeftTemplateContext.node = data;
                        this.scrollTop();
                        return [2 /*return*/, setupNode];
                    });
                });
            };
        /**
         * @param {?} details
         * @return {?}
         */
        ViewerComponent.prototype.setUpSharedLinkFile = /**
         * @param {?} details
         * @return {?}
         */
            function (details) {
                this.mimeType = details.entry.content.mimeType;
                this.fileTitle = this.getDisplayName(details.entry.name);
                this.extension = this.getFileExtension(details.entry.name);
                this.fileName = details.entry.name;
                this.urlFileContent = this.apiService.contentApi.getSharedLinkContentUrl(this.sharedLinkId, false);
                this.downloadUrl = this.apiService.contentApi.getSharedLinkContentUrl(this.sharedLinkId, true);
                this.viewerType = this.getViewerTypeByMimeType(this.mimeType);
                if (this.viewerType === 'unknown') {
                    this.viewerType = this.getViewerTypeByExtension(this.extension);
                }
                if (this.viewerType === 'unknown') {
                    this.displaySharedLinkRendition(this.sharedLinkId);
                }
                this.extensionChange.emit(this.extension);
            };
        /**
         * @return {?}
         */
        ViewerComponent.prototype.toggleSidebar = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.showSidebar = !this.showSidebar;
                if (this.showSidebar && this.nodeId) {
                    this.apiService.getInstance().nodes.getNodeInfo(this.nodeId, { include: ['allowableOperations'] })
                        .then(function (data) {
                        _this.sidebarTemplateContext.node = data;
                    });
                }
            };
        /**
         * @return {?}
         */
        ViewerComponent.prototype.toggleLeftSidebar = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.showLeftSidebar = !this.showLeftSidebar;
                if (this.showSidebar && this.nodeId) {
                    this.apiService.getInstance().nodes.getNodeInfo(this.nodeId, { include: ['allowableOperations'] })
                        .then(function (data) {
                        _this.sidebarLeftTemplateContext.node = data;
                    });
                }
            };
        /**
         * @param {?} name
         * @return {?}
         */
        ViewerComponent.prototype.getDisplayName = /**
         * @param {?} name
         * @return {?}
         */
            function (name) {
                return this.displayName || name;
            };
        /**
         * @return {?}
         */
        ViewerComponent.prototype.scrollTop = /**
         * @return {?}
         */
            function () {
                window.scrollTo(0, 1);
            };
        /**
         * @param {?} mimeType
         * @return {?}
         */
        ViewerComponent.prototype.getViewerTypeByMimeType = /**
         * @param {?} mimeType
         * @return {?}
         */
            function (mimeType) {
                var e_1, _a;
                if (mimeType) {
                    mimeType = mimeType.toLowerCase();
                    /** @type {?} */
                    var editorTypes = Object.keys(this.mimeTypes);
                    try {
                        for (var editorTypes_1 = __values(editorTypes), editorTypes_1_1 = editorTypes_1.next(); !editorTypes_1_1.done; editorTypes_1_1 = editorTypes_1.next()) {
                            var type = editorTypes_1_1.value;
                            if (this.mimeTypes[type].indexOf(mimeType) >= 0) {
                                return type;
                            }
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (editorTypes_1_1 && !editorTypes_1_1.done && (_a = editorTypes_1.return))
                                _a.call(editorTypes_1);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                return 'unknown';
            };
        /**
         * @param {?} extension
         * @return {?}
         */
        ViewerComponent.prototype.getViewerTypeByExtension = /**
         * @param {?} extension
         * @return {?}
         */
            function (extension) {
                if (extension) {
                    extension = extension.toLowerCase();
                }
                if (this.isCustomViewerExtension(extension)) {
                    return 'custom';
                }
                if (this.extensions.image.indexOf(extension) >= 0) {
                    return 'image';
                }
                if (this.extensions.media.indexOf(extension) >= 0) {
                    return 'media';
                }
                if (this.extensions.text.indexOf(extension) >= 0) {
                    return 'text';
                }
                if (this.extensions.pdf.indexOf(extension) >= 0) {
                    return 'pdf';
                }
                return 'unknown';
            };
        /**
         * @return {?}
         */
        ViewerComponent.prototype.onBackButtonClick = /**
         * @return {?}
         */
            function () {
                if (this.overlayMode) {
                    this.close();
                }
                else {
                    /** @type {?} */
                    var event_1 = new BaseEvent();
                    this.goBack.next(event_1);
                    if (!event_1.defaultPrevented) {
                        this.location.back();
                    }
                }
            };
        /**
         * @return {?}
         */
        ViewerComponent.prototype.onNavigateBeforeClick = /**
         * @return {?}
         */
            function () {
                this.navigateBefore.next();
            };
        /**
         * @return {?}
         */
        ViewerComponent.prototype.onNavigateNextClick = /**
         * @return {?}
         */
            function () {
                this.navigateNext.next();
            };
        /**
         * close the viewer
         */
        /**
         * close the viewer
         * @return {?}
         */
        ViewerComponent.prototype.close = /**
         * close the viewer
         * @return {?}
         */
            function () {
                if (this.otherMenu) {
                    this.otherMenu.hidden = false;
                }
                this.showViewer = false;
                this.showViewerChange.emit(this.showViewer);
            };
        /**
         * get File name from url
         *
         * @param  url - url file
         */
        /**
         * get File name from url
         *
         * @param {?} url - url file
         * @return {?}
         */
        ViewerComponent.prototype.getFilenameFromUrl = /**
         * get File name from url
         *
         * @param {?} url - url file
         * @return {?}
         */
            function (url) {
                /** @type {?} */
                var anchor = url.indexOf('#');
                /** @type {?} */
                var query = url.indexOf('?');
                /** @type {?} */
                var end = Math.min(anchor > 0 ? anchor : url.length, query > 0 ? query : url.length);
                return url.substring(url.lastIndexOf('/', end) + 1, end);
            };
        /**
         * Get file extension from the string.
         * Supports the URL formats like:
         * http://localhost/test.jpg?cache=1000
         * http://localhost/test.jpg#cache=1000
         *
         * @param fileName - file name
         */
        /**
         * Get file extension from the string.
         * Supports the URL formats like:
         * http://localhost/test.jpg?cache=1000
         * http://localhost/test.jpg#cache=1000
         *
         * @param {?} fileName - file name
         * @return {?}
         */
        ViewerComponent.prototype.getFileExtension = /**
         * Get file extension from the string.
         * Supports the URL formats like:
         * http://localhost/test.jpg?cache=1000
         * http://localhost/test.jpg#cache=1000
         *
         * @param {?} fileName - file name
         * @return {?}
         */
            function (fileName) {
                if (fileName) {
                    /** @type {?} */
                    var match = fileName.match(/\.([^\./\?\#]+)($|\?|\#)/);
                    return match ? match[1] : null;
                }
                return null;
            };
        /**
         * @param {?} extension
         * @return {?}
         */
        ViewerComponent.prototype.isCustomViewerExtension = /**
         * @param {?} extension
         * @return {?}
         */
            function (extension) {
                /** @type {?} */
                var extensions = this.externalExtensions || [];
                if (extension && extensions.length > 0) {
                    extension = extension.toLowerCase();
                    return extensions.indexOf(extension) >= 0;
                }
                return false;
            };
        /**
         * Keyboard event listener
         * @param  event
         */
        /**
         * Keyboard event listener
         * @param {?} event
         * @return {?}
         */
        ViewerComponent.prototype.handleKeyboardEvent = /**
         * Keyboard event listener
         * @param {?} event
         * @return {?}
         */
            function (event) {
                /** @type {?} */
                var key = event.keyCode;
                // Esc
                if (key === 27 && this.overlayMode) { // esc
                    // esc
                    this.close();
                }
                // Left arrow
                if (key === 37 && this.canNavigateBefore) {
                    event.preventDefault();
                    this.onNavigateBeforeClick();
                }
                // Right arrow
                if (key === 39 && this.canNavigateNext) {
                    event.preventDefault();
                    this.onNavigateNextClick();
                }
                // Ctrl+F
                if (key === 70 && event.ctrlKey) {
                    event.preventDefault();
                    this.enterFullScreen();
                }
            };
        /**
         * @return {?}
         */
        ViewerComponent.prototype.downloadContent = /**
         * @return {?}
         */
            function () {
                if (this.allowDownload && this.downloadUrl && this.fileName) {
                    /** @type {?} */
                    var args = new BaseEvent();
                    this.download.next(args);
                    if (!args.defaultPrevented) {
                        /** @type {?} */
                        var link = document.createElement('a');
                        link.style.display = 'none';
                        link.download = this.fileName;
                        link.href = this.downloadUrl;
                        document.body.appendChild(link);
                        link.click();
                        document.body.removeChild(link);
                    }
                }
            };
        /**
         * @return {?}
         */
        ViewerComponent.prototype.printContent = /**
         * @return {?}
         */
            function () {
                if (this.allowPrint) {
                    /** @type {?} */
                    var args = new BaseEvent();
                    this.print.next(args);
                    if (!args.defaultPrevented) {
                        this.viewUtils.printFileGeneric(this.nodeId, this.mimeType);
                    }
                }
            };
        /**
         * @return {?}
         */
        ViewerComponent.prototype.shareContent = /**
         * @return {?}
         */
            function () {
                if (this.allowShare) {
                    /** @type {?} */
                    var args = new BaseEvent();
                    this.share.next(args);
                }
            };
        /**
         * Triggers full screen mode with a main content area displayed.
         */
        /**
         * Triggers full screen mode with a main content area displayed.
         * @return {?}
         */
        ViewerComponent.prototype.enterFullScreen = /**
         * Triggers full screen mode with a main content area displayed.
         * @return {?}
         */
            function () {
                if (this.allowFullScreen) {
                    /** @type {?} */
                    var container = this.el.nativeElement.querySelector('.adf-viewer__fullscreen-container');
                    if (container) {
                        if (container.requestFullscreen) {
                            container.requestFullscreen();
                        }
                        else if (container.webkitRequestFullscreen) {
                            container.webkitRequestFullscreen();
                        }
                        else if (container.mozRequestFullScreen) {
                            container.mozRequestFullScreen();
                        }
                        else if (container.msRequestFullscreen) {
                            container.msRequestFullscreen();
                        }
                    }
                }
            };
        /**
         * @param {?} nodeId
         * @return {?}
         */
        ViewerComponent.prototype.displayNodeRendition = /**
         * @param {?} nodeId
         * @return {?}
         */
            function (nodeId) {
                return __awaiter(this, void 0, void 0, function () {
                    var rendition, renditionId, err_1;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                _a.trys.push([0, 2, , 3]);
                                return [4 /*yield*/, this.resolveRendition(nodeId, 'pdf')];
                            case 1:
                                rendition = _a.sent();
                                if (rendition) {
                                    renditionId = rendition.entry.id;
                                    if (renditionId === 'pdf') {
                                        this.viewerType = 'pdf';
                                    }
                                    else if (renditionId === 'imgpreview') {
                                        this.viewerType = 'image';
                                    }
                                    this.urlFileContent = this.apiService.contentApi.getRenditionUrl(nodeId, renditionId);
                                }
                                return [3 /*break*/, 3];
                            case 2:
                                err_1 = _a.sent();
                                this.logService.error(err_1);
                                return [3 /*break*/, 3];
                            case 3: return [2 /*return*/];
                        }
                    });
                });
            };
        /**
         * @param {?} sharedId
         * @return {?}
         */
        ViewerComponent.prototype.displaySharedLinkRendition = /**
         * @param {?} sharedId
         * @return {?}
         */
            function (sharedId) {
                return __awaiter(this, void 0, void 0, function () {
                    var rendition, error_1, rendition, error_2;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                _a.trys.push([0, 2, , 7]);
                                return [4 /*yield*/, this.apiService.renditionsApi.getSharedLinkRendition(sharedId, 'pdf')];
                            case 1:
                                rendition = _a.sent();
                                if (rendition.entry.status.toString() === 'CREATED') {
                                    this.viewerType = 'pdf';
                                    this.urlFileContent = this.apiService.contentApi.getSharedLinkRenditionUrl(sharedId, 'pdf');
                                }
                                return [3 /*break*/, 7];
                            case 2:
                                error_1 = _a.sent();
                                this.logService.error(error_1);
                                _a.label = 3;
                            case 3:
                                _a.trys.push([3, 5, , 6]);
                                return [4 /*yield*/, this.apiService.renditionsApi.getSharedLinkRendition(sharedId, 'imgpreview')];
                            case 4:
                                rendition = _a.sent();
                                if (rendition.entry.status.toString() === 'CREATED') {
                                    this.viewerType = 'image';
                                    this.urlFileContent = this.apiService.contentApi.getSharedLinkRenditionUrl(sharedId, 'imgpreview');
                                }
                                return [3 /*break*/, 6];
                            case 5:
                                error_2 = _a.sent();
                                this.logService.error(error_2);
                                return [3 /*break*/, 6];
                            case 6: return [3 /*break*/, 7];
                            case 7: return [2 /*return*/];
                        }
                    });
                });
            };
        /**
         * @param {?} nodeId
         * @param {?} renditionId
         * @return {?}
         */
        ViewerComponent.prototype.resolveRendition = /**
         * @param {?} nodeId
         * @param {?} renditionId
         * @return {?}
         */
            function (nodeId, renditionId) {
                return __awaiter(this, void 0, void 0, function () {
                    var supported, rendition, status_1, err_2;
                    var _this = this;
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                renditionId = renditionId.toLowerCase();
                                return [4 /*yield*/, this.apiService.renditionsApi.getRenditions(nodeId)];
                            case 1:
                                supported = _a.sent();
                                rendition = supported.list.entries.find(function (obj) { return obj.entry.id.toLowerCase() === renditionId; });
                                if (!rendition) {
                                    renditionId = 'imgpreview';
                                    rendition = supported.list.entries.find(function (obj) { return obj.entry.id.toLowerCase() === renditionId; });
                                }
                                if (!rendition)
                                    return [3 /*break*/, 6];
                                status_1 = rendition.entry.status.toString();
                                if (!(status_1 === 'NOT_CREATED'))
                                    return [3 /*break*/, 6];
                                _a.label = 2;
                            case 2:
                                _a.trys.push([2, 5, , 6]);
                                return [4 /*yield*/, this.apiService.renditionsApi.createRendition(nodeId, { id: renditionId }).then(function () {
                                        _this.viewerType = 'in_creation';
                                    })];
                            case 3:
                                _a.sent();
                                return [4 /*yield*/, this.waitRendition(nodeId, renditionId, 0)];
                            case 4:
                                rendition = _a.sent();
                                return [3 /*break*/, 6];
                            case 5:
                                err_2 = _a.sent();
                                this.logService.error(err_2);
                                return [3 /*break*/, 6];
                            case 6: return [2 /*return*/, rendition];
                        }
                    });
                });
            };
        /**
         * @param {?} nodeId
         * @param {?} renditionId
         * @param {?} retries
         * @return {?}
         */
        ViewerComponent.prototype.waitRendition = /**
         * @param {?} nodeId
         * @param {?} renditionId
         * @param {?} retries
         * @return {?}
         */
            function (nodeId, renditionId, retries) {
                return __awaiter(this, void 0, void 0, function () {
                    var currentRetry;
                    var _this = this;
                    return __generator(this, function (_a) {
                        currentRetry = 0;
                        return [2 /*return*/, new Promise(function (resolve, reject) {
                                /** @type {?} */
                                var intervalId = setInterval(function () {
                                    currentRetry++;
                                    if (_this.maxRetries >= currentRetry) {
                                        _this.apiService.renditionsApi.getRendition(nodeId, renditionId).then(function (rendition) {
                                            /** @type {?} */
                                            var status = rendition.entry.status.toString();
                                            if (status === 'CREATED') {
                                                if (renditionId === 'pdf') {
                                                    _this.viewerType = 'pdf';
                                                }
                                                else if (renditionId === 'imgpreview') {
                                                    _this.viewerType = 'image';
                                                }
                                                _this.urlFileContent = _this.apiService.contentApi.getRenditionUrl(nodeId, renditionId);
                                                clearInterval(intervalId);
                                                return resolve(rendition);
                                            }
                                        }, function () {
                                            _this.viewerType = 'error_in_creation';
                                            return reject();
                                        });
                                    }
                                }, 1000);
                            })];
                    });
                });
            };
        /**
         * @return {?}
         */
        ViewerComponent.prototype.generateCacheBusterNumber = /**
         * @return {?}
         */
            function () {
                this.cacheBusterNumber = Date.now();
            };
        ViewerComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-viewer',
                        template: "<div *ngIf=\"showViewer\"\n     class=\"adf-viewer-container\"\n     [class.adf-viewer-overlay-container]=\"overlayMode\"\n     [class.adf-viewer-inline-container]=\"!overlayMode\">\n\n    <div class=\"adf-viewer-content\" fxLayout=\"column\">\n        <ng-content select=\"adf-viewer-toolbar\"></ng-content>\n        <ng-container *ngIf=\"showToolbar && !toolbar\">\n            <adf-toolbar color=\"default\" id=\"adf-viewer-toolbar\" class=\"adf-viewer-toolbar\">\n\n                <adf-toolbar-title>\n\n                    <ng-container *ngIf=\"allowLeftSidebar\">\n                        <button\n                            mat-icon-button\n                            title=\"{{ 'ADF_VIEWER.ACTIONS.INFO' | translate }}\"\n                            data-automation-id=\"adf-toolbar-left-sidebar\"\n                            [color]=\"showLeftSidebar ? 'accent' : 'default'\"\n                            (click)=\"toggleLeftSidebar()\">\n                            <mat-icon>info_outline</mat-icon>\n                        </button>\n                    </ng-container>\n\n                    <button *ngIf=\"allowGoBack\"\n                            class=\"adf-viewer-close-button\"\n                            data-automation-id=\"adf-toolbar-back\"\n                            mat-icon-button\n                            title=\"{{ 'ADF_VIEWER.ACTIONS.CLOSE' | translate }}\"\n                            (click)=\"onBackButtonClick()\">\n                        <mat-icon>close</mat-icon>\n                    </button>\n                </adf-toolbar-title>\n\n                <div fxFlex=\"1 1 auto\" class=\"adf-viewer__file-title\">\n                    <button\n                        *ngIf=\"allowNavigate && canNavigateBefore\"\n                        data-automation-id=\"adf-toolbar-pref-file\"\n                        mat-icon-button\n                        title=\"{{ 'ADF_VIEWER.ACTIONS.PREV_FILE' | translate }}\"\n                        (click)=\"onNavigateBeforeClick()\">\n                        <mat-icon>navigate_before</mat-icon>\n                    </button>\n                    <img class=\"adf-viewer__mimeicon\" [src]=\"mimeType | adfMimeTypeIcon\" data-automation-id=\"adf-file-thumbnail\">\n                    <span class=\"adf-viewer__display-name\" id=\"adf-viewer-display-name\">{{ fileTitle }}</span>\n                    <button\n                        *ngIf=\"allowNavigate && canNavigateNext\"\n                        data-automation-id=\"adf-toolbar-next-file\"\n                        mat-icon-button\n                        title=\"{{ 'ADF_VIEWER.ACTIONS.NEXT_FILE' | translate }}\"\n                        (click)=\"onNavigateNextClick()\">\n                        <mat-icon>navigate_next</mat-icon>\n                    </button>\n                </div>\n\n                <ng-content select=\"adf-viewer-toolbar-actions\"></ng-content>\n\n                <ng-container *ngIf=\"mnuOpenWith\" data-automation-id='adf-toolbar-custom-btn'>\n                    <button\n                        id=\"adf-viewer-openwith\"\n                        mat-button\n                        [matMenuTriggerFor]=\"mnuOpenWith\"\n                        data-automation-id=\"adf-toolbar-open-with\">\n                        <span>{{ 'ADF_VIEWER.ACTIONS.OPEN_WITH' | translate }}</span>\n                        <mat-icon>arrow_drop_down</mat-icon>\n                    </button>\n                    <mat-menu #mnuOpenWith=\"matMenu\" [overlapTrigger]=\"false\">\n                        <ng-content select=\"adf-viewer-open-with\"></ng-content>\n                    </mat-menu>\n                </ng-container>\n\n                <adf-toolbar-divider></adf-toolbar-divider>\n\n                <button\n                    id=\"adf-viewer-download\"\n                    *ngIf=\"allowDownload\"\n                    mat-icon-button\n                    title=\"{{ 'ADF_VIEWER.ACTIONS.DOWNLOAD' | translate }}\"\n                    data-automation-id=\"adf-toolbar-download\"\n                    (click)=\"downloadContent()\">\n                    <mat-icon>file_download</mat-icon>\n                </button>\n\n                <button\n                    id=\"adf-viewer-print\"\n                    *ngIf=\"allowPrint\"\n                    mat-icon-button\n                    title=\"{{ 'ADF_VIEWER.ACTIONS.PRINT' | translate }}\"\n                    data-automation-id=\"adf-toolbar-print\"\n                    (click)=\"printContent()\">\n                    <mat-icon>print</mat-icon>\n                </button>\n\n                <button\n                    id=\"adf-viewer-share\"\n                    *ngIf=\"allowShare\"\n                    mat-icon-button\n                    title=\"{{ 'ADF_VIEWER.ACTIONS.SHARE' | translate }}\"\n                    data-automation-id=\"adf-toolbar-share\"\n                    (click)=\"shareContent()\">\n                    <mat-icon>share</mat-icon>\n                </button>\n\n                <button\n                    id=\"adf-viewer-fullscreen\"\n                    *ngIf=\"viewerType !== 'media' && allowFullScreen\"\n                    mat-icon-button\n                    title=\"{{ 'ADF_VIEWER.ACTIONS.FULLSCREEN' | translate }}\"\n                    data-automation-id=\"adf-toolbar-fullscreen\"\n                    (click)=\"enterFullScreen()\">\n                    <mat-icon>fullscreen</mat-icon>\n                </button>\n\n                <ng-container *ngIf=\"mnuMoreActions\">\n                    <button\n                        id=\"adf-viewer-moreactions\"\n                        mat-icon-button\n                        [matMenuTriggerFor]=\"mnuMoreActions\"\n                        title=\"{{ 'ADF_VIEWER.ACTIONS.MORE_ACTIONS' | translate }}\"\n                        data-automation-id=\"adf-toolbar-more-actions\">\n                        <mat-icon>more_vert</mat-icon>\n                    </button>\n                    <mat-menu #mnuMoreActions=\"matMenu\" [overlapTrigger]=\"false\">\n                        <ng-content select=\"adf-viewer-more-actions\"></ng-content>\n                    </mat-menu>\n                </ng-container>\n\n                <ng-container *ngIf=\"allowSidebar\">\n                    <adf-toolbar-divider></adf-toolbar-divider>\n\n                    <button\n                        mat-icon-button\n                        title=\"{{ 'ADF_VIEWER.ACTIONS.INFO' | translate }}\"\n                        data-automation-id=\"adf-toolbar-sidebar\"\n                        [color]=\"showSidebar ? 'accent' : 'default'\"\n                        (click)=\"toggleSidebar()\">\n                        <mat-icon>info_outline</mat-icon>\n                    </button>\n\n                </ng-container>\n\n            </adf-toolbar>\n        </ng-container>\n\n        <div fxLayout=\"row\" fxFlex=\"1 1 auto\">\n            <ng-container *ngIf=\"allowSidebar && showSidebar\">\n                <div class=\"adf-viewer__sidebar\" [ngClass]=\"'adf-viewer__sidebar__right'\" fxFlexOrder=\"4\"  id=\"adf-right-sidebar\" >\n                    <ng-container *ngIf=\"sidebarTemplate\">\n                        <ng-container *ngTemplateOutlet=\"sidebarTemplate;context:sidebarTemplateContext\"></ng-container>\n                    </ng-container>\n                    <ng-content *ngIf=\"!sidebarTemplate\" select=\"adf-viewer-sidebar\"></ng-content>\n                </div>\n            </ng-container>\n\n            <ng-container *ngIf=\"allowLeftSidebar && showLeftSidebar\">\n                <div class=\"adf-viewer__sidebar\" [ngClass]=\"'adf-viewer__sidebar__left'\" fxFlexOrder=\"1\"  id=\"adf-left-sidebar\" >\n                    <ng-container *ngIf=\"sidebarLeftTemplate\">\n                        <ng-container *ngTemplateOutlet=\"sidebarLeftTemplate;context:sidebarLeftTemplateContext\"></ng-container>\n                    </ng-container>\n                    <ng-content *ngIf=\"!sidebarLeftTemplate\" select=\"adf-viewer-sidebar\"></ng-content>\n                </div>\n            </ng-container>\n\n            <div  *ngIf=\"isLoading\"  class=\"adf-viewer-main\" fxFlexOrder=\"{{sidebarPosition !== 'left'? 1 : 4}}\" fxFlex=\"1 1 auto\">\n                <div class=\"adf-viewer-layout-content adf-viewer__fullscreen-container\">\n                    <div class=\"adf-viewer-content-container\">\n                        <ng-container *ngIf=\"isLoading\">\n                            <div class=\"adf-viewer__loading-screen\" fxFlex=\"1 1 auto\">\n                                <h2>{{ 'ADF_VIEWER.LOADING' | translate }}</h2>\n                                <div>\n                                    <mat-spinner></mat-spinner>\n                                </div>\n                            </div>\n                        </ng-container>\n\n                    </div>\n                </div>\n            </div>\n\n            <div  *ngIf=\"!isLoading\"  class=\"adf-viewer-main\" fxFlexOrder=\"{{sidebarPosition !== 'left'? 1 : 4}}\" fxFlex=\"1 1 auto\">\n                <div class=\"adf-viewer-layout-content adf-viewer__fullscreen-container\">\n                    <div class=\"adf-viewer-content-container\" [ngSwitch]=\"viewerType\">\n                        <ng-container *ngSwitchCase=\"'pdf'\">\n                            <adf-pdf-viewer [thumbnailsTemplate]=\"thumbnailsTemplate\" [allowThumbnails]=\"allowThumbnails\" [blobFile]=\"blobFile\" [urlFile]=\"urlFileContent\" [nameFile]=\"displayName\"></adf-pdf-viewer>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase=\"'image'\">\n                            <adf-img-viewer [urlFile]=\"urlFileContent\" [nameFile]=\"displayName\" [blobFile]=\"blobFile\"></adf-img-viewer>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase=\"'media'\">\n                            <adf-media-player id=\"adf-mdedia-player\" [urlFile]=\"urlFileContent\" [mimeType]=\"mimeType\" [blobFile]=\"blobFile\" [nameFile]=\"displayName\"></adf-media-player>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase=\"'text'\">\n                            <adf-txt-viewer [urlFile]=\"urlFileContent\" [blobFile]=\"blobFile\"></adf-txt-viewer>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase=\"'in_creation'\">\n                            <div class=\"adf-viewer__loading-screen\" fxFlex=\"1 1 auto\">\n                                <h2>{{ 'ADF_VIEWER.LOADING' | translate }}</h2>\n                                <div>\n                                    <mat-spinner></mat-spinner>\n                                </div>\n                            </div>\n                        </ng-container>\n\n                        <ng-container *ngSwitchCase=\"'custom'\">\n                            <span class=\"adf-viewer-custom-content\" *ngFor=\"let extensionTemplate of extensionTemplates\">\n                                <ng-template *ngIf=\"extensionTemplate.isVisible\" [ngTemplateOutlet]=\"extensionTemplate.template\" [ngTemplateOutletContext]=\"{ urlFileContent: urlFileContent, extension:extension }\">\n                                </ng-template>\n                            </span>\n                        </ng-container>\n\n                        <ng-container *ngSwitchDefault>\n                            <adf-viewer-unknown-format></adf-viewer-unknown-format>\n                        </ng-container>\n                    </div>\n                </div>\n            </div>\n\n        </div>\n    </div>\n</div>\n",
                        host: { 'class': 'adf-viewer' },
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        ViewerComponent.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: ViewUtilService },
                { type: LogService },
                { type: common.Location },
                { type: i0.ElementRef }
            ];
        };
        ViewerComponent.propDecorators = {
            toolbar: [{ type: i0.ContentChild, args: [ViewerToolbarComponent,] }],
            sidebar: [{ type: i0.ContentChild, args: [ViewerSidebarComponent,] }],
            mnuOpenWith: [{ type: i0.ContentChild, args: [ViewerOpenWithComponent,] }],
            mnuMoreActions: [{ type: i0.ContentChild, args: [ViewerMoreActionsComponent,] }],
            urlFile: [{ type: i0.Input }],
            urlFileViewer: [{ type: i0.Input }],
            blobFile: [{ type: i0.Input }],
            fileNodeId: [{ type: i0.Input }],
            nodeId: [{ type: i0.Input }],
            sharedLinkId: [{ type: i0.Input }],
            overlayMode: [{ type: i0.Input }],
            showViewer: [{ type: i0.Input }],
            showToolbar: [{ type: i0.Input }],
            displayName: [{ type: i0.Input }],
            allowGoBack: [{ type: i0.Input }],
            allowDownload: [{ type: i0.Input }],
            allowPrint: [{ type: i0.Input }],
            allowShare: [{ type: i0.Input }],
            allowFullScreen: [{ type: i0.Input }],
            allowNavigate: [{ type: i0.Input }],
            canNavigateBefore: [{ type: i0.Input }],
            canNavigateNext: [{ type: i0.Input }],
            allowLeftSidebar: [{ type: i0.Input }],
            allowSidebar: [{ type: i0.Input }],
            allowThumbnails: [{ type: i0.Input }],
            showSidebar: [{ type: i0.Input }],
            showLeftSidebar: [{ type: i0.Input }],
            sidebarPosition: [{ type: i0.Input }],
            sidebarTemplate: [{ type: i0.Input }],
            sidebarLeftTemplate: [{ type: i0.Input }],
            thumbnailsTemplate: [{ type: i0.Input }],
            mimeType: [{ type: i0.Input }],
            fileName: [{ type: i0.Input }],
            downloadUrl: [{ type: i0.Input }],
            maxRetries: [{ type: i0.Input }],
            goBack: [{ type: i0.Output }],
            download: [{ type: i0.Output }],
            print: [{ type: i0.Output }],
            share: [{ type: i0.Output }],
            showViewerChange: [{ type: i0.Output }],
            extensionChange: [{ type: i0.Output }],
            navigateBefore: [{ type: i0.Output }],
            navigateNext: [{ type: i0.Output }],
            invalidSharedLink: [{ type: i0.Output }],
            handleKeyboardEvent: [{ type: i0.HostListener, args: ['document:keyup', ['$event'],] }]
        };
        return ViewerComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ImgViewerComponent = /** @class */ (function () {
        function ImgViewerComponent(contentService, el) {
            this.contentService = contentService;
            this.el = el;
            this.showToolbar = true;
            this.rotate = 0;
            this.scaleX = 1.0;
            this.scaleY = 1.0;
            this.offsetX = 0;
            this.offsetY = 0;
            this.isDragged = false;
            this.drag = { x: 0, y: 0 };
            this.delta = { x: 0, y: 0 };
        }
        Object.defineProperty(ImgViewerComponent.prototype, "transform", {
            get: /**
             * @return {?}
             */ function () {
                return "scale(" + this.scaleX + ", " + this.scaleY + ") rotate(" + this.rotate + "deg) translate(" + this.offsetX + "px, " + this.offsetY + "px)";
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ImgViewerComponent.prototype, "currentScaleText", {
            get: /**
             * @return {?}
             */ function () {
                return Math.round(this.scaleX * 100) + '%';
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        ImgViewerComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.element = /** @type {?} */ (this.el.nativeElement.querySelector('#viewer-image'));
                if (this.element) {
                    this.element.addEventListener('mousedown', this.onMouseDown.bind(this));
                    this.element.addEventListener('mouseup', this.onMouseUp.bind(this));
                    this.element.addEventListener('mouseleave', this.onMouseLeave.bind(this));
                    this.element.addEventListener('mouseout', this.onMouseOut.bind(this));
                    this.element.addEventListener('mousemove', this.onMouseMove.bind(this));
                }
            };
        /**
         * @return {?}
         */
        ImgViewerComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                if (this.element) {
                    this.element.removeEventListener('mousedown', this.onMouseDown);
                    this.element.removeEventListener('mouseup', this.onMouseUp);
                    this.element.removeEventListener('mouseleave', this.onMouseLeave);
                    this.element.removeEventListener('mouseout', this.onMouseOut);
                    this.element.removeEventListener('mousemove', this.onMouseMove);
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        ImgViewerComponent.prototype.onMouseDown = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                event.preventDefault();
                this.isDragged = true;
                this.drag = { x: event.pageX, y: event.pageY };
            };
        /**
         * @param {?} event
         * @return {?}
         */
        ImgViewerComponent.prototype.onMouseMove = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.isDragged) {
                    event.preventDefault();
                    this.delta.x = event.pageX - this.drag.x;
                    this.delta.y = event.pageY - this.drag.y;
                    this.drag.x = event.pageX;
                    this.drag.y = event.pageY;
                    /** @type {?} */
                    var scaleX = (this.scaleX !== 0 ? this.scaleX : 1.0);
                    /** @type {?} */
                    var scaleY = (this.scaleY !== 0 ? this.scaleY : 1.0);
                    this.offsetX += (this.delta.x / scaleX);
                    this.offsetY += (this.delta.y / scaleY);
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        ImgViewerComponent.prototype.onMouseUp = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.isDragged) {
                    event.preventDefault();
                    this.isDragged = false;
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        ImgViewerComponent.prototype.onMouseLeave = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.isDragged) {
                    event.preventDefault();
                    this.isDragged = false;
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        ImgViewerComponent.prototype.onMouseOut = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.isDragged) {
                    event.preventDefault();
                    this.isDragged = false;
                }
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        ImgViewerComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                /** @type {?} */
                var blobFile = changes['blobFile'];
                if (blobFile && blobFile.currentValue) {
                    this.urlFile = this.contentService.createTrustedUrl(this.blobFile);
                    return;
                }
                if (!this.urlFile && !this.blobFile) {
                    throw new Error('Attribute urlFile or blobFile is required');
                }
            };
        /**
         * @return {?}
         */
        ImgViewerComponent.prototype.zoomIn = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var ratio = +((this.scaleX + 0.2).toFixed(1));
                this.scaleX = this.scaleY = ratio;
            };
        /**
         * @return {?}
         */
        ImgViewerComponent.prototype.zoomOut = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var ratio = +((this.scaleX - 0.2).toFixed(1));
                if (ratio < 0.2) {
                    ratio = 0.2;
                }
                this.scaleX = this.scaleY = ratio;
            };
        /**
         * @return {?}
         */
        ImgViewerComponent.prototype.rotateLeft = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var angle = this.rotate - 90;
                this.rotate = Math.abs(angle) < 360 ? angle : 0;
            };
        /**
         * @return {?}
         */
        ImgViewerComponent.prototype.rotateRight = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var angle = this.rotate + 90;
                this.rotate = Math.abs(angle) < 360 ? angle : 0;
            };
        /**
         * @return {?}
         */
        ImgViewerComponent.prototype.reset = /**
         * @return {?}
         */
            function () {
                this.rotate = 0;
                this.scaleX = 1.0;
                this.scaleY = 1.0;
                this.offsetX = 0;
                this.offsetY = 0;
            };
        ImgViewerComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-img-viewer',
                        template: "<div class=\"image-container\" [ngStyle]=\"{ transform: transform }\" data-automation-id=\"adf-image-container\">\n    <img id=\"viewer-image\" [src]=\"urlFile\" [alt]=\"nameFile\" [ngStyle]=\"{ 'cursor' : isDragged ? 'move': 'default' } \" />\n</div>\n\n<div class=\"adf-image-viewer__toolbar\" *ngIf=\"showToolbar\">\n    <adf-toolbar>\n        <button\n            id=\"viewer-zoom-in-button\"\n            mat-icon-button\n            title=\"{{ 'ADF_VIEWER.ARIA.ZOOM_IN' | translate }}\"\n            attr.aria-label=\"{{ 'ADF_VIEWER.ARIA.ZOOM_IN' | translate }}\"\n            (click)=\"zoomIn()\">\n            <mat-icon>zoom_in</mat-icon>\n        </button>\n\n        <button\n            id=\"viewer-zoom-out-button\"\n            title=\"{{ 'ADF_VIEWER.ARIA.ZOOM_OUT' | translate }}\"\n            attr.aria-label=\"{{ 'ADF_VIEWER.ARIA.ZOOM_OUT' | translate }}\"\n            mat-icon-button\n            (click)=\"zoomOut()\">\n            <mat-icon>zoom_out</mat-icon>\n        </button>\n\n        <div class=\"adf-viewer__toolbar-page-scale\" data-automation-id=\"adf-page-scale\">\n            {{ currentScaleText }}\n        </div>\n\n        <button\n            id=\"viewer-rotate-left-button\"\n            title=\"{{ 'ADF_VIEWER.ARIA.ROTATE_LEFT' | translate }}\"\n            attr.aria-label=\"{{ 'ADF_VIEWER.ARIA.ROTATE_LEFT' | translate }}\"\n            mat-icon-button\n            (click)=\"rotateLeft()\">\n            <mat-icon>rotate_left</mat-icon>\n        </button>\n\n        <button\n            id=\"viewer-rotate-right-button\"\n            title=\"{{ 'ADF_VIEWER.ARIA.ROTATE_RIGHT' | translate }}\"\n            attr.aria-label=\"{{ 'ADF_VIEWER.ARIA.ROTATE_RIGHT' | translate }}\"\n            mat-icon-button\n            (click)=\"rotateRight()\">\n            <mat-icon>rotate_right</mat-icon>\n        </button>\n\n        <button\n            id=\"viewer-reset-button\"\n            title=\"{{ 'ADF_VIEWER.ARIA.RESET' | translate }}\"\n            attr.aria-label=\"{{ 'ADF_VIEWER.ARIA.RESET' | translate }}\"\n            mat-icon-button\n            (click)=\"reset()\">\n            <mat-icon>zoom_out_map</mat-icon>\n        </button>\n    </adf-toolbar>\n</div>\n",
                        host: { 'class': 'adf-image-viewer' },
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        ImgViewerComponent.ctorParameters = function () {
            return [
                { type: ContentService },
                { type: i0.ElementRef }
            ];
        };
        ImgViewerComponent.propDecorators = {
            showToolbar: [{ type: i0.Input }],
            urlFile: [{ type: i0.Input }],
            blobFile: [{ type: i0.Input }],
            nameFile: [{ type: i0.Input }]
        };
        return ImgViewerComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var MediaPlayerComponent = /** @class */ (function () {
        function MediaPlayerComponent(contentService) {
            this.contentService = contentService;
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        MediaPlayerComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                /** @type {?} */
                var blobFile = changes['blobFile'];
                if (blobFile && blobFile.currentValue) {
                    this.urlFile = this.contentService.createTrustedUrl(this.blobFile);
                    return;
                }
                if (!this.urlFile && !this.blobFile) {
                    throw new Error('Attribute urlFile or blobFile is required');
                }
            };
        MediaPlayerComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-media-player',
                        template: "<video controls>\n    <source [src]=\"urlFile\" [type]=\"mimeType\" />\n</video>\n",
                        host: { 'class': 'adf-media-player' },
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-media-player{display:flex}.adf-media-player video{display:flex;flex:1;max-height:90vh;max-width:100%}"]
                    }] }
        ];
        /** @nocollapse */
        MediaPlayerComponent.ctorParameters = function () {
            return [
                { type: ContentService }
            ];
        };
        MediaPlayerComponent.propDecorators = {
            urlFile: [{ type: i0.Input }],
            blobFile: [{ type: i0.Input }],
            mimeType: [{ type: i0.Input }],
            nameFile: [{ type: i0.Input }]
        };
        return MediaPlayerComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     *
     * RenderingQueueServices rendering of the views for pages and thumbnails.
     *
     */
    var RenderingQueueServices = /** @class */ (function () {
        function RenderingQueueServices() {
            this.renderingStates = {
                INITIAL: 0,
                RUNNING: 1,
                PAUSED: 2,
                FINISHED: 3
            };
            this.CLEANUP_TIMEOUT = 30000;
            this.pdfViewer = null;
            this.pdfThumbnailViewer = null;
            this.onIdle = null;
            this.highestPriorityPage = null;
            this.idleTimeout = null;
            this.printing = false;
            this.isThumbnailViewEnabled = false;
        }
        /**
         * @param pdfViewer
         */
        /**
         * @param {?} pdfViewer
         * @return {?}
         */
        RenderingQueueServices.prototype.setViewer = /**
         * @param {?} pdfViewer
         * @return {?}
         */
            function (pdfViewer) {
                this.pdfViewer = pdfViewer;
            };
        /**
         * @param pdfThumbnailViewer
         */
        /**
         * @param {?} pdfThumbnailViewer
         * @return {?}
         */
        RenderingQueueServices.prototype.setThumbnailViewer = /**
         * @param {?} pdfThumbnailViewer
         * @return {?}
         */
            function (pdfThumbnailViewer) {
                this.pdfThumbnailViewer = pdfThumbnailViewer;
            };
        /**
         * @param  view
         */
        /**
         * @param {?} view
         * @return {?}
         */
        RenderingQueueServices.prototype.isHighestPriority = /**
         * @param {?} view
         * @return {?}
         */
            function (view) {
                return this.highestPriorityPage === view.renderingId;
            };
        /**
         * @param {?} currentlyVisiblePages
         * @return {?}
         */
        RenderingQueueServices.prototype.renderHighestPriority = /**
         * @param {?} currentlyVisiblePages
         * @return {?}
         */
            function (currentlyVisiblePages) {
                if (this.idleTimeout) {
                    clearTimeout(this.idleTimeout);
                    this.idleTimeout = null;
                }
                // Pages have a higher priority than thumbnails, so check them first.
                if (this.pdfViewer.forceRendering(currentlyVisiblePages)) {
                    return;
                }
                // No pages needed rendering so check thumbnails.
                if (this.pdfThumbnailViewer && this.isThumbnailViewEnabled) {
                    if (this.pdfThumbnailViewer.forceRendering()) {
                        return;
                    }
                }
                if (this.printing) {
                    // If printing is currently ongoing do not reschedule cleanup.
                    return;
                }
                if (this.onIdle) {
                    this.idleTimeout = setTimeout(this.onIdle.bind(this), this.CLEANUP_TIMEOUT);
                }
            };
        /**
         * @param {?} visible
         * @param {?} views
         * @param {?} scrolledDown
         * @return {?}
         */
        RenderingQueueServices.prototype.getHighestPriority = /**
         * @param {?} visible
         * @param {?} views
         * @param {?} scrolledDown
         * @return {?}
         */
            function (visible, views, scrolledDown) {
                /** @type {?} */
                var visibleViews = visible.views;
                /** @type {?} */
                var numVisible = visibleViews.length;
                if (numVisible === 0) {
                    return false;
                }
                for (var i = 0; i < numVisible; ++i) {
                    /** @type {?} */
                    var view = visibleViews[i].view;
                    if (!this.isViewFinished(view)) {
                        return view;
                    }
                }
                // All the visible views have rendered, try to render next/previous pages.
                if (scrolledDown) {
                    /** @type {?} */
                    var nextPageIndex = visible.last.id;
                    // ID's start at 1 so no need to add 1.
                    if (views[nextPageIndex] && !this.isViewFinished(views[nextPageIndex])) {
                        return views[nextPageIndex];
                    }
                }
                else {
                    /** @type {?} */
                    var previousPageIndex = visible.first.id - 2;
                    if (views[previousPageIndex] && !this.isViewFinished(views[previousPageIndex])) {
                        return views[previousPageIndex];
                    }
                }
                // Everything that needs to be rendered has been.
                return null;
            };
        /**
         * @param view
         */
        /**
         * @param {?} view
         * @return {?}
         */
        RenderingQueueServices.prototype.isViewFinished = /**
         * @param {?} view
         * @return {?}
         */
            function (view) {
                return view.renderingState === this.renderingStates.FINISHED;
            };
        /**
         * Render a page or thumbnail view. This calls the appropriate function
         * based on the views state. If the view is already rendered it will return
         * false.
         * @param view
         */
        /**
         * Render a page or thumbnail view. This calls the appropriate function
         * based on the views state. If the view is already rendered it will return
         * false.
         * @param {?} view
         * @return {?}
         */
        RenderingQueueServices.prototype.renderView = /**
         * Render a page or thumbnail view. This calls the appropriate function
         * based on the views state. If the view is already rendered it will return
         * false.
         * @param {?} view
         * @return {?}
         */
            function (view) {
                /** @type {?} */
                var state = view.renderingState;
                switch (state) {
                    case this.renderingStates.FINISHED:
                        return false;
                    case this.renderingStates.PAUSED:
                        this.highestPriorityPage = view.renderingId;
                        view.resume();
                        break;
                    case this.renderingStates.RUNNING:
                        this.highestPriorityPage = view.renderingId;
                        break;
                    case this.renderingStates.INITIAL:
                        this.highestPriorityPage = view.renderingId;
                        /** @type {?} */
                        var continueRendering = function () {
                            this.renderHighestPriority();
                        }.bind(this);
                        view.draw().then(continueRendering, continueRendering);
                        break;
                    default:
                        break;
                }
                return true;
            };
        RenderingQueueServices.decorators = [
            { type: i0.Injectable }
        ];
        return RenderingQueueServices;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var PdfPasswordDialogComponent = /** @class */ (function () {
        function PdfPasswordDialogComponent(dialogRef, data) {
            this.dialogRef = dialogRef;
            this.data = data;
        }
        /**
         * @return {?}
         */
        PdfPasswordDialogComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.passwordFormControl = new forms.FormControl('', [forms.Validators.required]);
            };
        /**
         * @return {?}
         */
        PdfPasswordDialogComponent.prototype.isError = /**
         * @return {?}
         */
            function () {
                return this.data.reason === pdfjsLib.PasswordResponses.INCORRECT_PASSWORD;
            };
        /**
         * @return {?}
         */
        PdfPasswordDialogComponent.prototype.isValid = /**
         * @return {?}
         */
            function () {
                return !this.passwordFormControl.hasError('required');
            };
        /**
         * @return {?}
         */
        PdfPasswordDialogComponent.prototype.submit = /**
         * @return {?}
         */
            function () {
                this.dialogRef.close(this.passwordFormControl.value);
            };
        PdfPasswordDialogComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-pdf-viewer-password-dialog',
                        template: "<div mat-dialog-title>\n    <mat-icon>lock</mat-icon>\n</div>\n\n<mat-dialog-content>\n    <form (submit)=\"submit()\">\n        <mat-form-field class=\"adf-full-width\">\n            <input matInput\n                   data-automation-id='adf-password-dialog-input'\n                   type=\"password\"\n                   placeholder=\"{{ 'ADF_VIEWER.PDF_DIALOG.PLACEHOLDER' | translate }}\"\n                   [formControl]=\"passwordFormControl\" />\n        </mat-form-field>\n\n        <mat-error *ngIf=\"isError()\" data-automation-id='adf-password-dialog-error'>{{ 'ADF_VIEWER.PDF_DIALOG.ERROR' | translate }}</mat-error>\n    </form>\n</mat-dialog-content>\n\n<mat-dialog-actions class=\"adf-dialog-buttons\">\n    <span class=\"adf-fill-remaining-space\"></span>\n\n    <button mat-button mat-dialog-close>{{ 'ADF_VIEWER.PDF_DIALOG.CLOSE' | translate }}</button>\n\n    <button mat-button\n            data-automation-id='adf-password-dialog-submit'\n            class=\"adf-dialog-action-button\"\n            [disabled]=\"!isValid()\"\n            (click)=\"submit()\">\n        {{ 'ADF_VIEWER.PDF_DIALOG.SUBMIT' | translate }}\n    </button>\n</mat-dialog-actions>\n",
                        styles: [".adf-fill-remaining-space{flex:1 1 auto}.adf-full-width{width:100%}"]
                    }] }
        ];
        /** @nocollapse */
        PdfPasswordDialogComponent.ctorParameters = function () {
            return [
                { type: material.MatDialogRef },
                { type: undefined, decorators: [{ type: i0.Inject, args: [material.MAT_DIALOG_DATA,] }] }
            ];
        };
        return PdfPasswordDialogComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var PdfViewerComponent = /** @class */ (function () {
        function PdfViewerComponent(dialog, renderingQueueServices, logService) {
            this.dialog = dialog;
            this.renderingQueueServices = renderingQueueServices;
            this.logService = logService;
            this.showToolbar = true;
            this.allowThumbnails = false;
            this.thumbnailsTemplate = null;
            this.rendered = new i0.EventEmitter();
            this.error = new i0.EventEmitter();
            this.currentScaleMode = 'auto';
            this.currentScale = 1;
            this.MAX_AUTO_SCALE = 1.25;
            this.DEFAULT_SCALE_DELTA = 1.1;
            this.MIN_SCALE = 0.25;
            this.MAX_SCALE = 10.0;
            this.isPanelDisabled = true;
            this.showThumbnails = false;
            this.pdfThumbnailsContext = { viewer: null };
            // needed to preserve "this" context
            this.onPageChange = this.onPageChange.bind(this);
            this.onPagesLoaded = this.onPagesLoaded.bind(this);
            this.onPagerendered = this.onPagerendered.bind(this);
        }
        Object.defineProperty(PdfViewerComponent.prototype, "currentScaleText", {
            get: /**
             * @return {?}
             */ function () {
                return Math.round(this.currentScale * 100) + '%';
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @param {?} changes
         * @return {?}
         */
        PdfViewerComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                var _this = this;
                /** @type {?} */
                var blobFile = changes['blobFile'];
                if (blobFile && blobFile.currentValue) {
                    /** @type {?} */
                    var reader_1 = new FileReader();
                    reader_1.onload = function () {
                        _this.executePdf(reader_1.result);
                    };
                    reader_1.readAsArrayBuffer(blobFile.currentValue);
                }
                /** @type {?} */
                var urlFile = changes['urlFile'];
                if (urlFile && urlFile.currentValue) {
                    this.executePdf(urlFile.currentValue);
                }
                if (!this.urlFile && !this.blobFile) {
                    throw new Error('Attribute urlFile or blobFile is required');
                }
            };
        /**
         * @param {?} src
         * @return {?}
         */
        PdfViewerComponent.prototype.executePdf = /**
         * @param {?} src
         * @return {?}
         */
            function (src) {
                var _this = this;
                pdfjsLib.GlobalWorkerOptions.workerSrc = 'pdf.worker.min.js';
                this.loadingTask = pdfjsLib.getDocument(src);
                this.loadingTask.onPassword = function (callback, reason) {
                    _this.onPdfPassword(callback, reason);
                };
                this.loadingTask.onProgress = function (progressData) {
                    /** @type {?} */
                    var level = progressData.loaded / progressData.total;
                    _this.loadingPercent = Math.round(level * 100);
                };
                this.loadingTask.then(function (pdfDocument) {
                    _this.currentPdfDocument = pdfDocument;
                    _this.totalPages = pdfDocument.numPages;
                    _this.page = 1;
                    _this.displayPage = 1;
                    _this.initPDFViewer(_this.currentPdfDocument);
                    _this.currentPdfDocument.getPage(1).then(function () {
                        _this.scalePage('auto');
                    }, function (error) {
                        _this.error.emit();
                    });
                }, function (error) {
                    _this.error.emit();
                });
            };
        /**
         * @param {?} pdfDocument
         * @return {?}
         */
        PdfViewerComponent.prototype.initPDFViewer = /**
         * @param {?} pdfDocument
         * @return {?}
         */
            function (pdfDocument) {
                /** @type {?} */
                var viewer = document.getElementById('viewer-viewerPdf');
                /** @type {?} */
                var container = document.getElementById('viewer-pdf-viewer');
                if (viewer && container) {
                    this.documentContainer = container;
                    this.documentContainer.addEventListener('pagechange', this.onPageChange, true);
                    this.documentContainer.addEventListener('pagesloaded', this.onPagesLoaded, true);
                    this.documentContainer.addEventListener('textlayerrendered', this.onPagerendered, true);
                    this.pdfViewer = new pdfjsViewer.PDFViewer({
                        container: this.documentContainer,
                        viewer: viewer,
                        renderingQueue: this.renderingQueueServices
                    });
                    this.renderingQueueServices.setViewer(this.pdfViewer);
                    this.pdfViewer.setDocument(pdfDocument);
                    this.pdfThumbnailsContext.viewer = this.pdfViewer;
                }
            };
        /**
         * @return {?}
         */
        PdfViewerComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                if (this.documentContainer) {
                    this.documentContainer.removeEventListener('pagechange', this.onPageChange, true);
                    this.documentContainer.removeEventListener('pagesloaded', this.onPagesLoaded, true);
                    this.documentContainer.removeEventListener('textlayerrendered', this.onPagerendered, true);
                }
                if (this.loadingTask) {
                    try {
                        this.loadingTask.destroy();
                    }
                    catch (_a) { }
                    this.loadingTask = null;
                }
            };
        /**
         * @return {?}
         */
        PdfViewerComponent.prototype.toggleThumbnails = /**
         * @return {?}
         */
            function () {
                this.showThumbnails = !this.showThumbnails;
            };
        /**
         * Method to scale the page current support implementation
         *
         * @param scaleMode - new scale mode
         */
        /**
         * Method to scale the page current support implementation
         *
         * @param {?} scaleMode - new scale mode
         * @return {?}
         */
        PdfViewerComponent.prototype.scalePage = /**
         * Method to scale the page current support implementation
         *
         * @param {?} scaleMode - new scale mode
         * @return {?}
         */
            function (scaleMode) {
                this.currentScaleMode = scaleMode;
                if (this.pdfViewer) {
                    /** @type {?} */
                    var viewerContainer = document.getElementById('viewer-main-container');
                    /** @type {?} */
                    var documentContainer = document.getElementById('viewer-pdf-viewer');
                    /** @type {?} */
                    var widthContainer = void 0;
                    /** @type {?} */
                    var heightContainer = void 0;
                    if (viewerContainer && viewerContainer.clientWidth <= documentContainer.clientWidth) {
                        widthContainer = viewerContainer.clientWidth;
                        heightContainer = viewerContainer.clientHeight;
                    }
                    else {
                        widthContainer = documentContainer.clientWidth;
                        heightContainer = documentContainer.clientHeight;
                    }
                    /** @type {?} */
                    var currentPage = this.pdfViewer._pages[this.pdfViewer._currentPageNumber - 1];
                    /** @type {?} */
                    var padding = 20;
                    /** @type {?} */
                    var pageWidthScale = (widthContainer - padding) / currentPage.width * currentPage.scale;
                    /** @type {?} */
                    var pageHeightScale = (heightContainer - padding) / currentPage.width * currentPage.scale;
                    /** @type {?} */
                    var scale = void 0;
                    switch (this.currentScaleMode) {
                        case 'page-actual':
                            scale = 1;
                            break;
                        case 'page-width':
                            scale = pageWidthScale;
                            break;
                        case 'page-height':
                            scale = pageHeightScale;
                            break;
                        case 'page-fit':
                            scale = Math.min(pageWidthScale, pageHeightScale);
                            break;
                        case 'auto':
                            /** @type {?} */
                            var horizontalScale = void 0;
                            if (this.isLandscape) {
                                horizontalScale = Math.min(pageHeightScale, pageWidthScale);
                            }
                            else {
                                horizontalScale = pageWidthScale;
                            }
                            scale = Math.min(this.MAX_AUTO_SCALE, horizontalScale);
                            break;
                        default:
                            this.logService.error('pdfViewSetScale: \'' + scaleMode + '\' is an unknown zoom value.');
                            return;
                    }
                    this.setScaleUpdatePages(scale);
                }
            };
        /**
         * Update all the pages with the newScale scale
         *
         * @param newScale - new scale page
         */
        /**
         * Update all the pages with the newScale scale
         *
         * @param {?} newScale - new scale page
         * @return {?}
         */
        PdfViewerComponent.prototype.setScaleUpdatePages = /**
         * Update all the pages with the newScale scale
         *
         * @param {?} newScale - new scale page
         * @return {?}
         */
            function (newScale) {
                if (!this.isSameScale(this.currentScale, newScale)) {
                    this.currentScale = newScale;
                    this.pdfViewer._pages.forEach(function (currentPage) {
                        currentPage.update(newScale);
                    });
                }
                this.pdfViewer.update();
            };
        /**
         * Check if the request scale of the page is the same for avoid useless re-rendering
         *
         * @param oldScale - old scale page
         * @param newScale - new scale page
         *
         */
        /**
         * Check if the request scale of the page is the same for avoid useless re-rendering
         *
         * @param {?} oldScale - old scale page
         * @param {?} newScale - new scale page
         *
         * @return {?}
         */
        PdfViewerComponent.prototype.isSameScale = /**
         * Check if the request scale of the page is the same for avoid useless re-rendering
         *
         * @param {?} oldScale - old scale page
         * @param {?} newScale - new scale page
         *
         * @return {?}
         */
            function (oldScale, newScale) {
                return (newScale === oldScale);
            };
        /**
         * Check if is a land scape view
         *
         * @param width
         * @param height
         */
        /**
         * Check if is a land scape view
         *
         * @param {?} width
         * @param {?} height
         * @return {?}
         */
        PdfViewerComponent.prototype.isLandscape = /**
         * Check if is a land scape view
         *
         * @param {?} width
         * @param {?} height
         * @return {?}
         */
            function (width, height) {
                return (width > height);
            };
        /**
         * Method triggered when the page is resized
         */
        /**
         * Method triggered when the page is resized
         * @return {?}
         */
        PdfViewerComponent.prototype.onResize = /**
         * Method triggered when the page is resized
         * @return {?}
         */
            function () {
                this.scalePage(this.currentScaleMode);
            };
        /**
         * toggle the fit page pdf
         */
        /**
         * toggle the fit page pdf
         * @return {?}
         */
        PdfViewerComponent.prototype.pageFit = /**
         * toggle the fit page pdf
         * @return {?}
         */
            function () {
                if (this.currentScaleMode !== 'page-fit') {
                    this.scalePage('page-fit');
                }
                else {
                    this.scalePage('auto');
                }
            };
        /**
         * zoom in page pdf
         *
         * @param ticks
         */
        /**
         * zoom in page pdf
         *
         * @param {?=} ticks
         * @return {?}
         */
        PdfViewerComponent.prototype.zoomIn = /**
         * zoom in page pdf
         *
         * @param {?=} ticks
         * @return {?}
         */
            function (ticks) {
                /** @type {?} */
                var newScale = this.currentScale;
                do {
                    newScale = (newScale * this.DEFAULT_SCALE_DELTA).toFixed(2);
                    newScale = Math.ceil(newScale * 10) / 10;
                    newScale = Math.min(this.MAX_SCALE, newScale);
                } while (--ticks > 0 && newScale < this.MAX_SCALE);
                this.currentScaleMode = 'auto';
                this.setScaleUpdatePages(newScale);
            };
        /**
         * zoom out page pdf
         *
         * @param ticks
         */
        /**
         * zoom out page pdf
         *
         * @param {?=} ticks
         * @return {?}
         */
        PdfViewerComponent.prototype.zoomOut = /**
         * zoom out page pdf
         *
         * @param {?=} ticks
         * @return {?}
         */
            function (ticks) {
                /** @type {?} */
                var newScale = this.currentScale;
                do {
                    newScale = (newScale / this.DEFAULT_SCALE_DELTA).toFixed(2);
                    newScale = Math.floor(newScale * 10) / 10;
                    newScale = Math.max(this.MIN_SCALE, newScale);
                } while (--ticks > 0 && newScale > this.MIN_SCALE);
                this.currentScaleMode = 'auto';
                this.setScaleUpdatePages(newScale);
            };
        /**
         * load the previous page
         */
        /**
         * load the previous page
         * @return {?}
         */
        PdfViewerComponent.prototype.previousPage = /**
         * load the previous page
         * @return {?}
         */
            function () {
                if (this.pdfViewer && this.page > 1) {
                    this.page--;
                    this.displayPage = this.page;
                    this.pdfViewer.currentPageNumber = this.page;
                }
            };
        /**
         * load the next page
         */
        /**
         * load the next page
         * @return {?}
         */
        PdfViewerComponent.prototype.nextPage = /**
         * load the next page
         * @return {?}
         */
            function () {
                if (this.pdfViewer && this.page < this.totalPages) {
                    this.page++;
                    this.displayPage = this.page;
                    this.pdfViewer.currentPageNumber = this.page;
                }
            };
        /**
         * load the page in input
         *
         * @param page to load
         */
        /**
         * load the page in input
         *
         * @param {?} page to load
         * @return {?}
         */
        PdfViewerComponent.prototype.inputPage = /**
         * load the page in input
         *
         * @param {?} page to load
         * @return {?}
         */
            function (page) {
                /** @type {?} */
                var pageInput = parseInt(page, 10);
                if (!isNaN(pageInput) && pageInput > 0 && pageInput <= this.totalPages) {
                    this.page = pageInput;
                    this.displayPage = this.page;
                    this.pdfViewer.currentPageNumber = this.page;
                }
                else {
                    this.displayPage = this.page;
                }
            };
        /**
         * Page Change Event
         *
         * @param event
         */
        /**
         * Page Change Event
         *
         * @param {?} event
         * @return {?}
         */
        PdfViewerComponent.prototype.onPageChange = /**
         * Page Change Event
         *
         * @param {?} event
         * @return {?}
         */
            function (event) {
                this.page = event.pageNumber;
                this.displayPage = event.pageNumber;
            };
        /**
         * @param {?} callback
         * @param {?} reason
         * @return {?}
         */
        PdfViewerComponent.prototype.onPdfPassword = /**
         * @param {?} callback
         * @param {?} reason
         * @return {?}
         */
            function (callback, reason) {
                this.dialog
                    .open(PdfPasswordDialogComponent, {
                    width: '400px',
                    disableClose: true,
                    data: { reason: reason }
                })
                    .afterClosed().subscribe(function (password) {
                    if (password) {
                        callback(password);
                    }
                });
            };
        /**
         * Page Rendered Event
         */
        /**
         * Page Rendered Event
         * @return {?}
         */
        PdfViewerComponent.prototype.onPagerendered = /**
         * Page Rendered Event
         * @return {?}
         */
            function () {
                this.rendered.emit();
            };
        /**
         * Pages Loaded Event
         *
         * @param event
         */
        /**
         * Pages Loaded Event
         *
         * @param {?} event
         * @return {?}
         */
        PdfViewerComponent.prototype.onPagesLoaded = /**
         * Pages Loaded Event
         *
         * @param {?} event
         * @return {?}
         */
            function (event) {
                this.isPanelDisabled = false;
            };
        /**
         * Litener Keyboard Event
         * @param KeyboardEvent event
         */
        /**
         * Litener Keyboard Event
         * @param {?} event
         * @return {?}
         */
        PdfViewerComponent.prototype.handleKeyboardEvent = /**
         * Litener Keyboard Event
         * @param {?} event
         * @return {?}
         */
            function (event) {
                /** @type {?} */
                var key = event.keyCode;
                if (key === 39) { // right arrow
                    // right arrow
                    this.nextPage();
                }
                else if (key === 37) { // left arrow
                    // left arrow
                    this.previousPage();
                }
            };
        PdfViewerComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-pdf-viewer',
                        template: "<div class=\"adf-pdf-viewer__container\">\n    <ng-container *ngIf=\"showThumbnails\">\n        <div class=\"adf-pdf-viewer__thumbnails\">\n            <div class=\"thumbnails-template__container\">\n                <div class=\"thumbnails-template__buttons\">\n                    <button mat-icon-button data-automation-id='adf-thumbnails-close' (click)=\"toggleThumbnails()\">\n                        <mat-icon>close</mat-icon>\n                    </button>\n                </div>\n\n                <ng-container *ngIf=\"thumbnailsTemplate\">\n                    <ng-container *ngTemplateOutlet=\"thumbnailsTemplate;context:pdfThumbnailsContext\"></ng-container>\n                </ng-container>\n\n                <ng-container *ngIf=\"!thumbnailsTemplate\">\n                    <adf-pdf-thumbnails [pdfViewer]=\"pdfViewer\"></adf-pdf-thumbnails>\n                </ng-container>\n            </div>\n        </div>\n    </ng-container>\n\n    <div class=\"adf-pdf-viewer__content\">\n        <div id=\"viewer-pdf-viewer\" class=\"viewer-pdf-viewer\" (window:resize)=\"onResize()\">\n            <div id=\"viewer-viewerPdf\" class=\"pdfViewer\">\n                <div id=\"loader-container\" class=\"loader-container\">\n                    <div class=\"loader-item\">\n                        <mat-progress-bar mode=\"indeterminate\"></mat-progress-bar>\n                    </div >\n                </div>\n            </div>\n        </div>\n    </div>\n</div>\n\n<div class=\"adf-pdf-viewer__toolbar\" *ngIf=\"showToolbar\">\n    <adf-toolbar>\n\n        <ng-container *ngIf=\"allowThumbnails\">\n            <button mat-icon-button\n                    data-automation-id=\"adf-thumbnails-button\"\n                    [disabled]=\"isPanelDisabled\"\n                    (click)=\"toggleThumbnails()\">\n                <mat-icon>dashboard</mat-icon>\n            </button>\n            <adf-toolbar-divider></adf-toolbar-divider>\n        </ng-container>\n\n        <button\n            id=\"viewer-previous-page-button\"\n            title=\"{{ 'ADF_VIEWER.ARIA.PREVIOUS_PAGE' | translate }}\"\n            attr.aria-label=\"{{ 'ADF_VIEWER.ARIA.PREVIOUS_PAGE' | translate }}\"\n            mat-icon-button\n            (click)=\"previousPage()\">\n            <mat-icon>keyboard_arrow_up</mat-icon>\n        </button>\n\n        <button\n            id=\"viewer-next-page-button\"\n            title=\"{{ 'ADF_VIEWER.ARIA.NEXT_PAGE' | translate }}\"\n            attr.aria-label=\"{{ 'ADF_VIEWER.ARIA.NEXT_PAGE' | translate }}\"\n            mat-icon-button\n            (click)=\"nextPage()\">\n            <mat-icon>keyboard_arrow_down</mat-icon>\n        </button>\n\n        <div class=\"adf-pdf-viewer__toolbar-page-selector\">\n            <span>{{ 'ADF_VIEWER.PAGE_LABEL.SHOWING' | translate }}</span>\n            <input #page\n                   type=\"text\"\n                   data-automation-id=\"adf-page-selector\"\n                   pattern=\"-?[0-9]*(\\.[0-9]+)?\"\n                   value=\"{{ displayPage }}\"\n                   (keyup.enter)=\"inputPage(page.value)\">\n            <span>{{ 'ADF_VIEWER.PAGE_LABEL.OF' | translate }} {{ totalPages }}</span>\n        </div>\n\n        <div class=\"adf-viewer__toolbar-page-scale\" data-automation-id=\"adf-page-scale\">\n            {{ currentScaleText }}\n        </div>\n\n        <button\n            id=\"viewer-zoom-in-button\"\n            title=\"{{ 'ADF_VIEWER.ARIA.ZOOM_IN' | translate }}\"\n            attr.aria-label=\"{{ 'ADF_VIEWER.ARIA.ZOOM_IN' | translate }}\"\n            mat-icon-button\n            (click)=\"zoomIn()\">\n            <mat-icon>zoom_in</mat-icon>\n        </button>\n\n        <button\n            id=\"viewer-zoom-out-button\"\n            title=\"{{ 'ADF_VIEWER.ARIA.ZOOM_OUT' | translate }}\"\n            attr.aria-label=\"{{ 'ADF_VIEWER.ARIA.ZOOM_OUT' | translate }}\"\n            mat-icon-button\n            (click)=\"zoomOut()\">\n            <mat-icon>zoom_out</mat-icon>\n        </button>\n\n        <button\n            id=\"viewer-scale-page-button\"\n            title=\"{{ 'ADF_VIEWER.ARIA.FIT_PAGE' | translate }}\"\n            attr.aria-label=\"{{ 'ADF_VIEWER.ARIA.FIT_PAGE' | translate }}\"\n            mat-icon-button\n            (click)=\"pageFit()\">\n            <mat-icon>zoom_out_map</mat-icon>\n        </button>\n\n    </adf-toolbar>\n</div>\n",
                        providers: [RenderingQueueServices],
                        host: { 'class': 'adf-pdf-viewer' },
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: ["", ".adf-pdf-viewer .textLayer{position:absolute;left:0;top:0;right:0;bottom:0;overflow:hidden;opacity:.2;line-height:1;border:1px solid gray}.adf-pdf-viewer .textLayer>div{color:transparent;position:absolute;white-space:pre;cursor:text;-webkit-transform-origin:0 0;transform-origin:0 0}.adf-pdf-viewer .textLayer .highlight{margin:-1px;padding:1px;background-color:#b400aa;border-radius:4px}.adf-pdf-viewer .textLayer .highlight.begin{border-radius:4px 0 0 4px}.adf-pdf-viewer .textLayer .highlight.end{border-radius:0 4px 4px 0}.adf-pdf-viewer .textLayer .highlight.middle{border-radius:0}.adf-pdf-viewer .textLayer .highlight.selected{background-color:#006400}.adf-pdf-viewer .textLayer::selection{background:#00f}.adf-pdf-viewer .textLayer::-moz-selection{background:#00f}.adf-pdf-viewer .textLayer .endOfContent{display:block;position:absolute;left:0;top:100%;right:0;bottom:0;z-index:-1;cursor:default;user-select:none;-webkit-user-select:none;-ms-user-select:none;-moz-user-select:none}.adf-pdf-viewer .textLayer .endOfContent.active{top:0}.adf-pdf-viewer .annotationLayer section{position:absolute}.adf-pdf-viewer .annotationLayer .linkAnnotation>a{position:absolute;font-size:1em;top:0;left:0;width:100%;height:100%;background:url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)}.adf-pdf-viewer .annotationLayer .linkAnnotation>a:hover{opacity:.2;background:#ff0;box-shadow:0 2px 10px #ff0}.adf-pdf-viewer .annotationLayer .textAnnotation img{position:absolute;cursor:pointer}.adf-pdf-viewer .annotationLayer .popupWrapper{position:absolute;width:20em}.adf-pdf-viewer .annotationLayer .popup{position:absolute;z-index:200;max-width:20em;background-color:#ff9;box-shadow:0 2px 5px #333;border-radius:2px;padding:.6em;margin-left:5px;cursor:pointer;word-wrap:break-word}.adf-pdf-viewer .annotationLayer .popup h1{font-size:1em;border-bottom:1px solid #000;padding-bottom:.2em}.adf-pdf-viewer .annotationLayer .popup p{padding-top:.2em}.adf-pdf-viewer .annotationLayer .fileAttachmentAnnotation,.adf-pdf-viewer .annotationLayer .highlightAnnotation,.adf-pdf-viewer .annotationLayer .squigglyAnnotation,.adf-pdf-viewer .annotationLayer .strikeoutAnnotation,.adf-pdf-viewer .annotationLayer .underlineAnnotation{cursor:pointer}.adf-pdf-viewer .pdfViewer canvasWrapper{overflow:hidden}.adf-pdf-viewer .pdfViewer .page{direction:ltr;width:816px;height:1056px;margin:1px auto -8px;position:relative;overflow:visible;border:9px solid transparent;background-clip:content-box;background-color:#fff}.adf-pdf-viewer .pdfViewer .page canvas{margin:0;display:block}.adf-pdf-viewer .pdfViewer .page .loadingIcon{position:absolute;display:block;left:0;top:0;right:0;bottom:0}.adf-pdf-viewer .pdfViewer .page *{padding:0;margin:0}.adf-pdf-viewer .pdfViewer.removePageBorders .page{margin:0 auto 10px;border:none}.adf-pdf-viewer .pdfViewer .loadingIcon{width:100px;height:100px;left:50%!important;top:50%!important;margin-top:-50px;margin-left:-50px;font-size:5px;text-indent:-9999em;border-top:1.1em solid rgba(3,0,2,.2);border-right:1.1em solid rgba(3,0,2,.2);border-bottom:1.1em solid rgba(3,0,2,.2);border-left:1.1em solid #030002;-webkit-transform:translateZ(0);transform:translateZ(0);-webkit-animation:1.1s linear infinite load8;animation:1.1s linear infinite load8;border-radius:50%}.adf-pdf-viewer .pdfViewer .loadingIcon:after{border-radius:50%}.adf-pdf-viewer .hidden,.adf-pdf-viewer [hidden]{display:none!important}@-webkit-keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes load8{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.viewer-pdf-viewer{overflow:auto;-webkit-overflow-scrolling:touch;position:absolute;top:0;right:0;bottom:0;left:0;outline:0}html[dir=ltr] .viewer-pdf-viewer{box-shadow:inset 1px 0 0 rgba(255,255,255,.05)}html[dir=rtl] .viewer-pdf-viewer{box-shadow:inset -1px 0 0 rgba(255,255,255,.05)}"]
                    }] }
        ];
        /** @nocollapse */
        PdfViewerComponent.ctorParameters = function () {
            return [
                { type: material.MatDialog },
                { type: RenderingQueueServices },
                { type: LogService }
            ];
        };
        PdfViewerComponent.propDecorators = {
            urlFile: [{ type: i0.Input }],
            blobFile: [{ type: i0.Input }],
            nameFile: [{ type: i0.Input }],
            showToolbar: [{ type: i0.Input }],
            allowThumbnails: [{ type: i0.Input }],
            thumbnailsTemplate: [{ type: i0.Input }],
            rendered: [{ type: i0.Output }],
            error: [{ type: i0.Output }],
            handleKeyboardEvent: [{ type: i0.HostListener, args: ['document:keydown', ['$event'],] }]
        };
        return PdfViewerComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var PdfThumbListComponent = /** @class */ (function () {
        function PdfThumbListComponent(element) {
            this.element = element;
            this.virtualHeight = 0;
            this.translateY = 0;
            this.renderItems = [];
            this.width = 91;
            this.currentHeight = 0;
            this.items = [];
            this.margin = 15;
            this.itemHeight = 114 + this.margin;
            this.calculateItems = this.calculateItems.bind(this);
            this.onPageChange = this.onPageChange.bind(this);
        }
        /**
         * @param {?} event
         * @return {?}
         */
        PdfThumbListComponent.prototype.onResize = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                this.calculateItems();
            };
        /**
         * @return {?}
         */
        PdfThumbListComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.pdfViewer.eventBus.on('pagechange', this.onPageChange);
                this.element.nativeElement.addEventListener('scroll', this.calculateItems, true);
                this.setHeight(this.pdfViewer.currentPageNumber);
                this.items = this.getPages();
                this.calculateItems();
            };
        /**
         * @return {?}
         */
        PdfThumbListComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                setTimeout(function () { return _this.scrollInto(_this.pdfViewer.currentPageNumber); }, 0);
            };
        /**
         * @return {?}
         */
        PdfThumbListComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this.element.nativeElement.removeEventListener('scroll', this.calculateItems, true);
                this.pdfViewer.eventBus.off('pagechange', this.onPageChange);
            };
        /**
         * @param {?} index
         * @param {?} item
         * @return {?}
         */
        PdfThumbListComponent.prototype.trackByFn = /**
         * @param {?} index
         * @param {?} item
         * @return {?}
         */
            function (index, item) {
                return item.id;
            };
        /**
         * @param {?} pageNum
         * @return {?}
         */
        PdfThumbListComponent.prototype.isSelected = /**
         * @param {?} pageNum
         * @return {?}
         */
            function (pageNum) {
                return this.pdfViewer.currentPageNumber === pageNum;
            };
        /**
         * @param {?} pageNum
         * @return {?}
         */
        PdfThumbListComponent.prototype.goTo = /**
         * @param {?} pageNum
         * @return {?}
         */
            function (pageNum) {
                this.pdfViewer.currentPageNumber = pageNum;
            };
        /**
         * @param {?} item
         * @return {?}
         */
        PdfThumbListComponent.prototype.scrollInto = /**
         * @param {?} item
         * @return {?}
         */
            function (item) {
                if (this.items.length) {
                    /** @type {?} */
                    var index = this.items.findIndex(function (element) { return element.id === item; });
                    if (index < 0 || index >= this.items.length) {
                        return;
                    }
                    this.element.nativeElement.scrollTop = index * this.itemHeight;
                    this.calculateItems();
                }
            };
        /**
         * @return {?}
         */
        PdfThumbListComponent.prototype.getPages = /**
         * @return {?}
         */
            function () {
                var _this = this;
                return this.pdfViewer._pages.map(function (page) {
                    return ({
                        id: page.id,
                        getWidth: function () { return _this.width; },
                        getHeight: function () { return _this.currentHeight; },
                        getPage: function () { return _this.pdfViewer.pdfDocument.getPage(page.id); }
                    });
                });
            };
        /**
         * @param {?} id
         * @return {?}
         */
        PdfThumbListComponent.prototype.setHeight = /**
         * @param {?} id
         * @return {?}
         */
            function (id) {
                var _this = this;
                /** @type {?} */
                var height = this.pdfViewer.pdfDocument.getPage(id).then(function (page) { return _this.calculateHeight(page); });
                return height;
            };
        /**
         * @param {?} page
         * @return {?}
         */
        PdfThumbListComponent.prototype.calculateHeight = /**
         * @param {?} page
         * @return {?}
         */
            function (page) {
                /** @type {?} */
                var viewport = page.getViewport(1);
                /** @type {?} */
                var pageRatio = viewport.width / viewport.height;
                /** @type {?} */
                var height = Math.floor(this.width / pageRatio);
                this.currentHeight = height;
                this.itemHeight = height + this.margin;
            };
        /**
         * @return {?}
         */
        PdfThumbListComponent.prototype.calculateItems = /**
         * @return {?}
         */
            function () {
                var _a = this.getContainerSetup(), element = _a.element, viewPort = _a.viewPort, itemsInView = _a.itemsInView;
                /** @type {?} */
                var indexByScrollTop = element.scrollTop / viewPort * this.items.length / itemsInView;
                /** @type {?} */
                var start = Math.floor(indexByScrollTop);
                /** @type {?} */
                var end = Math.ceil(indexByScrollTop) + (itemsInView);
                this.translateY = this.itemHeight * Math.ceil(start);
                this.virtualHeight = this.itemHeight * this.items.length - this.translateY;
                this.renderItems = this.items.slice(start, end);
            };
        /**
         * @return {?}
         */
        PdfThumbListComponent.prototype.getContainerSetup = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var element = this.element.nativeElement;
                /** @type {?} */
                var elementRec = element.getBoundingClientRect();
                /** @type {?} */
                var itemsInView = Math.ceil(elementRec.height / this.itemHeight);
                /** @type {?} */
                var viewPort = (this.itemHeight * this.items.length) / itemsInView;
                return {
                    element: element,
                    viewPort: viewPort,
                    itemsInView: itemsInView
                };
            };
        /**
         * @param {?} event
         * @return {?}
         */
        PdfThumbListComponent.prototype.onPageChange = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                /** @type {?} */
                var index = this.renderItems.findIndex(function (element) { return element.id === event.pageNumber; });
                if (index < 0) {
                    this.scrollInto(event.pageNumber);
                }
                if (index >= this.renderItems.length - 1) {
                    this.element.nativeElement.scrollTop += this.itemHeight;
                }
            };
        PdfThumbListComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-pdf-thumbnails',
                        template: "<div class=\"pdf-thumbnails__content\"\n     data-automation-id='adf-thumbnails-content'\n    [style.height.px]=\"virtualHeight\"\n    [style.transform]=\"'translate(-50%, ' + translateY + 'px)'\">\n    <adf-pdf-thumb *ngFor=\"let page of renderItems; trackBy: trackByFn\"\n        class=\"pdf-thumbnails__thumb\"\n        [ngClass]=\"{'pdf-thumbnails__thumb--selected' : isSelected(page.id)}\"\n        [page]=\"page\"\n        (click)=\"goTo(page.id)\">\n    </adf-pdf-thumb>\n</div>\n",
                        host: { 'class': 'pdf-thumbnails' },
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        PdfThumbListComponent.ctorParameters = function () {
            return [
                { type: i0.ElementRef }
            ];
        };
        PdfThumbListComponent.propDecorators = {
            pdfViewer: [{ type: i0.Input }],
            template: [{ type: i0.ContentChild, args: [i0.TemplateRef,] }],
            onResize: [{ type: i0.HostListener, args: ['window:resize', ['$event'],] }]
        };
        return PdfThumbListComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var PdfThumbComponent = /** @class */ (function () {
        function PdfThumbComponent(sanitizer) {
            this.sanitizer = sanitizer;
            this.page = null;
        }
        /**
         * @return {?}
         */
        PdfThumbComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.image$ = this.page.getPage().then(function (page) { return _this.getThumb(page); });
            };
        /**
         * @param {?} page
         * @return {?}
         */
        PdfThumbComponent.prototype.getThumb = /**
         * @param {?} page
         * @return {?}
         */
            function (page) {
                var _this = this;
                /** @type {?} */
                var viewport = page.getViewport(1);
                /** @type {?} */
                var pageRatio = viewport.width / viewport.height;
                /** @type {?} */
                var canvas = this.getCanvas(pageRatio);
                /** @type {?} */
                var scale = Math.min((canvas.height / viewport.height), (canvas.width / viewport.width));
                return page.render({
                    canvasContext: canvas.getContext('2d'),
                    viewport: page.getViewport(scale)
                })
                    .then(function () {
                    /** @type {?} */
                    var imageSource = canvas.toDataURL();
                    return _this.sanitizer.bypassSecurityTrustUrl(imageSource);
                });
            };
        /**
         * @param {?} pageRatio
         * @return {?}
         */
        PdfThumbComponent.prototype.getCanvas = /**
         * @param {?} pageRatio
         * @return {?}
         */
            function (pageRatio) {
                /** @type {?} */
                var canvas = document.createElement('canvas');
                canvas.width = this.page.getWidth();
                canvas.height = this.page.getHeight();
                return canvas;
            };
        PdfThumbComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-pdf-thumb',
                        template: "<ng-container *ngIf=\"image$ | async as image\">\n    <img [src]=\"image\"\n        title=\"{{ 'ADF_VIEWER.SIDEBAR.THUMBNAILS.PAGE' | translate: { pageNum: page.id } }}\">\n</ng-container>\n",
                        encapsulation: i0.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        PdfThumbComponent.ctorParameters = function () {
            return [
                { type: platformBrowser.DomSanitizer }
            ];
        };
        PdfThumbComponent.propDecorators = {
            page: [{ type: i0.Input }]
        };
        return PdfThumbComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var TxtViewerComponent = /** @class */ (function () {
        function TxtViewerComponent(http$$1) {
            this.http = http$$1;
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        TxtViewerComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                /** @type {?} */
                var blobFile = changes['blobFile'];
                if (blobFile && blobFile.currentValue) {
                    return this.readBlob(blobFile.currentValue);
                }
                /** @type {?} */
                var urlFile = changes['urlFile'];
                if (urlFile && urlFile.currentValue) {
                    return this.getUrlContent(urlFile.currentValue);
                }
                if (!this.urlFile && !this.blobFile) {
                    throw new Error('Attribute urlFile or blobFile is required');
                }
            };
        /**
         * @param {?} url
         * @return {?}
         */
        TxtViewerComponent.prototype.getUrlContent = /**
         * @param {?} url
         * @return {?}
         */
            function (url) {
                var _this = this;
                return new Promise(function (resolve, reject) {
                    _this.http.get(url, { responseType: 'text' }).subscribe(function (res) {
                        _this.content = res;
                        resolve();
                    }, function (event) {
                        reject(event);
                    });
                });
            };
        /**
         * @param {?} blob
         * @return {?}
         */
        TxtViewerComponent.prototype.readBlob = /**
         * @param {?} blob
         * @return {?}
         */
            function (blob) {
                var _this = this;
                return new Promise(function (resolve, reject) {
                    /** @type {?} */
                    var reader = new FileReader();
                    reader.onload = function () {
                        _this.content = reader.result;
                        resolve();
                    };
                    reader.onerror = function (error) {
                        reject(error);
                    };
                    reader.readAsText(blob);
                });
            };
        TxtViewerComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-txt-viewer',
                        template: "<pre class=\"adf-txt-viewer-content\">\n    {{content}}\n</pre>\n",
                        host: { 'class': 'adf-txt-viewer' },
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        TxtViewerComponent.ctorParameters = function () {
            return [
                { type: http.HttpClient }
            ];
        };
        TxtViewerComponent.propDecorators = {
            urlFile: [{ type: i0.Input }],
            blobFile: [{ type: i0.Input }]
        };
        return TxtViewerComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var UnknownFormatComponent = /** @class */ (function () {
        function UnknownFormatComponent() {
        }
        UnknownFormatComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-viewer-unknown-format',
                        template: "<div class=\"adf-viewer__unknown-format-view\">\n    <div>\n        <mat-icon class=\"icon\">wifi_tethering</mat-icon>\n        <div class=\"label\">{{ 'ADF_VIEWER.UNKNOWN_FORMAT' | translate }}</div>\n    </div>\n</div>\n",
                        styles: [".adf-viewer__unknown-format-view{height:90vh;text-align:center;display:flex;flex:1;flex-direction:column;justify-content:center}"]
                    }] }
        ];
        return UnknownFormatComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ViewerToolbarActionsComponent = /** @class */ (function () {
        function ViewerToolbarActionsComponent() {
        }
        ViewerToolbarActionsComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-viewer-toolbar-actions',
                        encapsulation: i0.ViewEncapsulation.None,
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        host: { class: 'adf-viewer-toolbar-actions' },
                        template: "<ng-content></ng-content>"
                    }] }
        ];
        return ViewerToolbarActionsComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ViewerExtensionDirective = /** @class */ (function () {
        function ViewerExtensionDirective(viewerComponent) {
            this.viewerComponent = viewerComponent;
        }
        /**
         * @return {?}
         */
        ViewerExtensionDirective.prototype.ngAfterContentInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.templateModel = { template: this.template, isVisible: false };
                this.viewerComponent.extensionTemplates.push(this.templateModel);
                this.viewerComponent.extensionChange.subscribe(function (fileExtension) {
                    _this.templateModel.isVisible = _this.isVisible(fileExtension);
                });
                if (this.supportedExtensions instanceof Array) {
                    this.supportedExtensions.forEach(function (extension) {
                        _this.viewerComponent.externalExtensions.push(extension);
                    });
                }
            };
        /**
         * check if the current extension in the viewer is compatible with this extension checking against supportedExtensions
         */
        /**
         * check if the current extension in the viewer is compatible with this extension checking against supportedExtensions
         * @param {?} fileExtension
         * @return {?}
         */
        ViewerExtensionDirective.prototype.isVisible = /**
         * check if the current extension in the viewer is compatible with this extension checking against supportedExtensions
         * @param {?} fileExtension
         * @return {?}
         */
            function (fileExtension) {
                /** @type {?} */
                var supportedExtension;
                if (this.supportedExtensions && (this.supportedExtensions instanceof Array)) {
                    supportedExtension = this.supportedExtensions.find(function (extension) {
                        return extension.toLowerCase() === fileExtension;
                    });
                }
                return !!supportedExtension;
            };
        ViewerExtensionDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: 'adf-viewer-extension'
                    },] }
        ];
        /** @nocollapse */
        ViewerExtensionDirective.ctorParameters = function () {
            return [
                { type: ViewerComponent }
            ];
        };
        ViewerExtensionDirective.propDecorators = {
            template: [{ type: i0.ContentChild, args: [i0.TemplateRef,] }],
            urlFileContent: [{ type: i0.Input }],
            extension: [{ type: i0.Input }],
            supportedExtensions: [{ type: i0.Input }]
        };
        return ViewerExtensionDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ToolbarDividerComponent = /** @class */ (function () {
        function ToolbarDividerComponent() {
        }
        ToolbarDividerComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-toolbar-divider',
                        template: '<div></div>',
                        host: { 'class': 'adf-toolbar-divider' },
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: ["\n        .adf-toolbar-divider > div {\n            height: 24px;\n            width: 1px;\n            background: rgba(0, 0, 0, 0.26);\n            margin-left: 5px;\n            margin-right: 5px;\n        }\n    "]
                    }] }
        ];
        return ToolbarDividerComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ToolbarTitleComponent = /** @class */ (function () {
        function ToolbarTitleComponent() {
        }
        ToolbarTitleComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-toolbar-title',
                        template: '<ng-content></ng-content>',
                        host: { 'class': 'adf-toolbar-title' }
                    }] }
        ];
        return ToolbarTitleComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ToolbarComponent = /** @class */ (function () {
        function ToolbarComponent() {
            /**
             * Toolbar title.
             */
            this.title = '';
        }
        ToolbarComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-toolbar',
                        template: "<mat-toolbar [color]=\"color\">\n    <span *ngIf=\"title\">{{ title }}</span>\n    <ng-content select=\"adf-toolbar-title\"></ng-content>\n    <ng-content></ng-content>\n</mat-toolbar>\n",
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        encapsulation: i0.ViewEncapsulation.None,
                        host: { 'class': 'adf-toolbar' },
                        styles: [""]
                    }] }
        ];
        ToolbarComponent.propDecorators = {
            title: [{ type: i0.Input }],
            color: [{ type: i0.Input }]
        };
        return ToolbarComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ToolbarModule = /** @class */ (function () {
        function ToolbarModule() {
        }
        ToolbarModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            MaterialModule
                        ],
                        declarations: [
                            ToolbarComponent,
                            ToolbarTitleComponent,
                            ToolbarDividerComponent
                        ],
                        exports: [
                            ToolbarComponent,
                            ToolbarTitleComponent,
                            ToolbarDividerComponent
                        ]
                    },] }
        ];
        return ToolbarModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ViewerModule = /** @class */ (function () {
        function ViewerModule() {
        }
        ViewerModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            MaterialModule,
                            core$1.TranslateModule.forChild(),
                            forms.FormsModule,
                            forms.ReactiveFormsModule,
                            ToolbarModule,
                            PipeModule,
                            flexLayout.FlexLayoutModule
                        ],
                        declarations: [
                            PdfPasswordDialogComponent,
                            ViewerComponent,
                            ImgViewerComponent,
                            TxtViewerComponent,
                            MediaPlayerComponent,
                            PdfViewerComponent,
                            PdfThumbComponent,
                            PdfThumbListComponent,
                            ViewerExtensionDirective,
                            UnknownFormatComponent,
                            ViewerToolbarComponent,
                            ViewerSidebarComponent,
                            ViewerOpenWithComponent,
                            ViewerMoreActionsComponent,
                            ViewerToolbarActionsComponent
                        ],
                        entryComponents: [
                            PdfPasswordDialogComponent
                        ],
                        exports: [
                            ViewerComponent,
                            ImgViewerComponent,
                            TxtViewerComponent,
                            MediaPlayerComponent,
                            PdfViewerComponent,
                            PdfPasswordDialogComponent,
                            PdfThumbComponent,
                            PdfThumbListComponent,
                            ViewerExtensionDirective,
                            UnknownFormatComponent,
                            ViewerToolbarComponent,
                            ViewerSidebarComponent,
                            ViewerOpenWithComponent,
                            ViewerMoreActionsComponent,
                            ViewerToolbarActionsComponent
                        ]
                    },] }
        ];
        return ViewerModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var BpmUserModel = /** @class */ (function () {
        function BpmUserModel(obj) {
            if (obj) {
                this.apps = obj.apps;
                this.capabilities = obj.capabilities;
                this.company = obj.company;
                this.created = obj.created;
                this.email = obj.email;
                this.externalId = obj.externalId;
                this.firstName = obj.firstName;
                this.lastName = obj.lastName;
                this.fullname = obj.fullname;
                this.fullNameDisplay = obj ? this.formatValue(obj.firstName).trim() + ' ' + this.formatValue(obj.lastName).trim() : null;
                this.groups = obj.groups;
                this.id = obj.id;
                this.lastUpdate = obj.lastUpdate;
                this.latestSyncTimeStamp = obj.latestSyncTimeStamp;
                this.password = obj.password;
                this.pictureId = obj.pictureId;
                this.status = obj.status;
                this.tenantId = obj.tenantId;
                this.tenantName = obj.tenantName;
                this.tenantPictureId = obj.tenantPictureId;
                this.type = obj.type;
            }
        }
        /**
         * @param {?} value
         * @return {?}
         */
        BpmUserModel.prototype.formatValue = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                return value && value !== 'null' ? value : '';
            };
        return BpmUserModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var EcmUserModel = /** @class */ (function () {
        function EcmUserModel(obj) {
            this.id = obj && obj.id || null;
            this.firstName = obj && obj.firstName;
            this.lastName = obj && obj.lastName;
            this.fullNameDisplay = obj ? this.formatValue(obj.firstName).trim() + ' ' + this.formatValue(obj.lastName).trim() : null;
            this.description = obj && obj.description || null;
            this.avatarId = obj && obj.avatarId || null;
            this.email = obj && obj.email || null;
            this.skypeId = obj && obj.skypeId;
            this.googleId = obj && obj.googleId;
            this.instantMessageId = obj && obj.instantMessageId;
            this.jobTitle = obj && obj.jobTitle || null;
            this.location = obj && obj.location || null;
            this.company = obj && obj.company;
            this.mobile = obj && obj.mobile;
            this.telephone = obj && obj.telephone;
            this.statusUpdatedAt = obj && obj.statusUpdatedAt;
            this.userStatus = obj && obj.userStatus;
            this.enabled = obj && obj.enabled;
            this.emailNotificationsEnabled = obj && obj.emailNotificationsEnabled;
        }
        /**
         * @param {?} value
         * @return {?}
         */
        EcmUserModel.prototype.formatValue = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                return value && value !== 'null' ? value : '';
            };
        return EcmUserModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     *
     * BPMUserService retrieve all the information of an Ecm user.
     *
     */
    var BpmUserService = /** @class */ (function () {
        function BpmUserService(apiService, logService) {
            this.apiService = apiService;
            this.logService = logService;
        }
        /**
         * Gets information about the current user.
         * @returns User information object
         */
        /**
         * Gets information about the current user.
         * @return {?} User information object
         */
        BpmUserService.prototype.getCurrentUserInfo = /**
         * Gets information about the current user.
         * @return {?} User information object
         */
            function () {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().activiti.profileApi.getProfile())
                    .pipe(operators.map(function (data) { return (data); }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets the current user's profile image as a URL.
         * @returns URL string
         */
        /**
         * Gets the current user's profile image as a URL.
         * @return {?} URL string
         */
        BpmUserService.prototype.getCurrentUserProfileImage = /**
         * Gets the current user's profile image as a URL.
         * @return {?} URL string
         */
            function () {
                return this.apiService.getInstance().activiti.profileApi.getProfilePictureUrl();
            };
        /**
         * Throw the error
         * @param {?} error
         * @return {?}
         */
        BpmUserService.prototype.handleError = /**
         * Throw the error
         * @param {?} error
         * @return {?}
         */
            function (error) {
                // in a real world app, we may send the error to some remote logging infrastructure
                // instead of just logging it to the console
                this.logService.error(error);
                return rxjs.throwError(error || 'Server error');
            };
        BpmUserService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        BpmUserService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: LogService }
            ];
        };
        return BpmUserService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var EcmUserService = /** @class */ (function () {
        function EcmUserService(apiService, contentService, logService) {
            this.apiService = apiService;
            this.contentService = contentService;
            this.logService = logService;
        }
        /**
         * Gets information about a user identified by their username.
         * @param userName Target username
         * @returns User information
         */
        /**
         * Gets information about a user identified by their username.
         * @param {?} userName Target username
         * @return {?} User information
         */
        EcmUserService.prototype.getUserInfo = /**
         * Gets information about a user identified by their username.
         * @param {?} userName Target username
         * @return {?} User information
         */
            function (userName) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().core.peopleApi.getPerson(userName))
                    .pipe(operators.map(function (data) { return (data['entry']); }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets information about the user who is currently logged-in.
         * @returns User information as for getUserInfo
         */
        /**
         * Gets information about the user who is currently logged-in.
         * @return {?} User information as for getUserInfo
         */
        EcmUserService.prototype.getCurrentUserInfo = /**
         * Gets information about the user who is currently logged-in.
         * @return {?} User information as for getUserInfo
         */
            function () {
                return this.getUserInfo('-me-');
            };
        /**
         * Returns a profile image as a URL.
         * @param avatarId Target avatar
         * @returns Image URL
         */
        /**
         * Returns a profile image as a URL.
         * @param {?} avatarId Target avatar
         * @return {?} Image URL
         */
        EcmUserService.prototype.getUserProfileImage = /**
         * Returns a profile image as a URL.
         * @param {?} avatarId Target avatar
         * @return {?} Image URL
         */
            function (avatarId) {
                if (avatarId) {
                    /** @type {?} */
                    var nodeObj = { entry: { id: avatarId } };
                    return this.contentService.getContentUrl(nodeObj);
                }
            };
        /**
         * Throw the error
         * @param {?} error
         * @return {?}
         */
        EcmUserService.prototype.handleError = /**
         * Throw the error
         * @param {?} error
         * @return {?}
         */
            function (error) {
                this.logService.error(error);
                return rxjs.throwError(error || 'Server error');
            };
        EcmUserService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        EcmUserService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: ContentService },
                { type: LogService }
            ];
        };
        return EcmUserService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var UserInfoComponent = /** @class */ (function () {
        function UserInfoComponent(ecmUserService, bpmUserService, authService) {
            this.ecmUserService = ecmUserService;
            this.bpmUserService = bpmUserService;
            this.authService = authService;
            /**
             * Custom path for the background banner image for ACS users.
             */
            this.ecmBackgroundImage = './assets/images/ecm-background.png';
            /**
             * Custom path for the background banner image for APS users.
             */
            this.bpmBackgroundImage = './assets/images/bpm-background.png';
            /**
             * Custom choice for opening the menu at the bottom. Can be `before` or `after`.
             */
            this.menuPositionX = 'after';
            /**
             * Custom choice for opening the menu at the bottom. Can be `above` or `below`.
             */
            this.menuPositionY = 'below';
            /**
             * Shows/hides the username next to the user info button.
             */
            this.showName = true;
            /**
             * When the username is shown, this defines its position relative to the user info button.
             * Can be `right` or `left`.
             */
            this.namePosition = 'right';
        }
        /**
         * @return {?}
         */
        UserInfoComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.getUserInfo();
            };
        /**
         * @return {?}
         */
        UserInfoComponent.prototype.getUserInfo = /**
         * @return {?}
         */
            function () {
                this.loadEcmUserInfo();
                this.loadBpmUserInfo();
            };
        /**
         * @return {?}
         */
        UserInfoComponent.prototype.isLoggedIn = /**
         * @return {?}
         */
            function () {
                return this.authService.isLoggedIn();
            };
        /**
         * @return {?}
         */
        UserInfoComponent.prototype.loadEcmUserInfo = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.authService.isEcmLoggedIn()) {
                    this.ecmUserService.getCurrentUserInfo()
                        .subscribe(function (res) {
                        _this.ecmUser = new EcmUserModel(res);
                        _this.getEcmAvatar();
                    });
                }
                else {
                    this.ecmUser = null;
                    this.ecmUserImage = null;
                }
            };
        /**
         * @return {?}
         */
        UserInfoComponent.prototype.loadBpmUserInfo = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.authService.isBpmLoggedIn()) {
                    this.bpmUserService.getCurrentUserInfo()
                        .subscribe(function (res) {
                        _this.bpmUser = new BpmUserModel(res);
                    });
                    this.bpmUserImage = this.bpmUserService.getCurrentUserProfileImage();
                }
                else {
                    this.bpmUser = null;
                    this.bpmUserImage = null;
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        UserInfoComponent.prototype.stopClosing = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                event.stopPropagation();
            };
        /**
         * @return {?}
         */
        UserInfoComponent.prototype.getEcmAvatar = /**
         * @return {?}
         */
            function () {
                this.ecmUserImage = this.ecmUserService.getUserProfileImage(this.ecmUser.avatarId);
            };
        /**
         * @return {?}
         */
        UserInfoComponent.prototype.showOnRight = /**
         * @return {?}
         */
            function () {
                return this.namePosition === 'right';
            };
        /**
         * @return {?}
         */
        UserInfoComponent.prototype.hasBpmUserPictureId = /**
         * @return {?}
         */
            function () {
                return !!this.bpmUser.pictureId;
            };
        /**
         * @return {?}
         */
        UserInfoComponent.prototype.hasEcmUserAvatarId = /**
         * @return {?}
         */
            function () {
                return !!this.ecmUser.avatarId;
            };
        UserInfoComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-userinfo',
                        template: "<div id=\"userinfo_container\"\n    [class.adf-userinfo-name-right]=\"showOnRight()\"\n    class=\"adf-userinfo-container\" *ngIf=\"isLoggedIn()\">\n    <span *ngIf=\"ecmUser && showName\" id=\"adf-userinfo-ecm-name-display\"\n          class=\"adf-userinfo-name\">{{ecmUser.fullNameDisplay}}</span>\n    <span *ngIf=\"bpmUser && !ecmUser && showName\" id=\"adf-userinfo-bpm-name-display\"\n          class=\"adf-userinfo-name\">{{bpmUser.fullNameDisplay}}</span>\n    <button mat-button [matMenuTriggerFor]=\"menu\" class=\"adf-userinfo-menu_button\" data-automation-id=\"adf-user-profile\">\n        <div class=\"adf-userinfo-button-profile\" id=\"user-profile\">\n            <div *ngIf=\"bpmUser && !ecmUser\" id=\"bpm-user-image\">\n                <div *ngIf=\"!hasBpmUserPictureId()\" [outerHTML]=\"bpmUser | usernameInitials:'adf-userinfo-pic'\"></div>\n                <div *ngIf=\"hasBpmUserPictureId()\" class=\"adf-userinfo-profile-container\">\n                    <img id=\"logged-user-img\" [src]=\"bpmUserImage\" alt=\"user-info-profile-button\"\n                        class=\"adf-userinfo-profile-image\"/>\n                </div>\n            </div>\n            <div *ngIf=\"ecmUser\" id=\"ecm-user-image\">\n                    <div *ngIf=\"!hasEcmUserAvatarId()\"\n                         [outerHTML]=\"ecmUser | usernameInitials:'adf-userinfo-pic'\"></div>\n                    <div *ngIf=\"hasEcmUserAvatarId()\" class=\"adf-userinfo-profile-container\">\n                        <img id=\"logged-user-img\" [src]=\"ecmUserImage\" alt=\"user-info-profile-button\"\n                            class=\"adf-userinfo-profile-image\"/>\n                    </div>\n            </div>\n    </div>\n</button>\n    <mat-menu #menu=\"matMenu\" id=\"user-profile-lists\" [xPosition]=\"menuPositionX\" [yPosition]=\"menuPositionY\" [overlapTrigger]=\"false\" class=\"adf-userinfo-menu\">\n        <mat-tab-group id=\"tab-group-env\" (click)=\"stopClosing($event)\"\n            class=\"adf-userinfo-tab\" [class.adf-hide-tab]=\"!bpmUser || !ecmUser\">\n            <mat-tab id=\"ecm-panel\" label=\"{{ 'USER_PROFILE.TAB.CS' | translate }}\" *ngIf=\"ecmUser\">\n                <mat-card class=\"adf-userinfo-card\">\n                    <mat-card-header class=\"adf-userinfo-card-header\" [style.background-image]=\"'url(' + ecmBackgroundImage + ')'\">\n                        <div *ngIf=\"!hasEcmUserAvatarId()\"\n                             [outerHTML]=\"ecmUser | usernameInitials:'adf-userinfo-profile-initials adf-hide-small'\">\n                        </div>\n                        <div *ngIf=\"hasEcmUserAvatarId()\" class=\"adf-userinfo-profile-container adf-hide-small\">\n                            <img class=\"adf-userinfo-profile-picture\" id=\"ecm-user-detail-image\"\n                                alt=\"ecm-profile-image\" [src]=\"ecmUserImage\" />\n                        </div>\n                       <div class=\"adf-userinfo-title\" id=\"ecm-username\">{{ecmUser.fullNameDisplay}}</div>\n                    </mat-card-header>\n                    <mat-card-content>\n                        <div class=\"adf-userinfo-supporting-text\">\n                                <div class=\"adf-userinfo-detail\">\n                                    <span id=\"ecm-full-name\" class=\"adf-userinfo__detail-title\">{{ecmUser.fullNameDisplay}}</span>\n                                    <span class=\"adf-userinfo__detail-profile\" id=\"ecm-email\"> {{ecmUser.email}} </span>\n                                </div>\n                                <div class=\"adf-userinfo-detail\">\n                                    <span class=\"adf-userinfo__secondary-info\" id=\"ecm-job-title-label\">\n                                        {{ 'USER_PROFILE.LABELS.ECM.JOB_TITLE' | translate }}\n                                        <span id=\"ecm-job-title\" class=\"adf-userinfo__detail-profile\"> {{ ecmUser.jobTitle ? ecmUser.jobTitle : 'N/A' }} </span>\n                                    </span>\n                                </div>\n                        </div>\n                    </mat-card-content>\n                </mat-card>\n            </mat-tab>\n            <mat-tab id=\"bpm-panel\" label=\"{{ 'USER_PROFILE.TAB.PS' | translate }}\" *ngIf=\"bpmUser\">\n            <mat-card class=\"adf-userinfo-card\">\n                <mat-card-header class=\"adf-userinfo-card-header\" [style.background-image]=\"'url(' + bpmBackgroundImage + ')'\">\n                    <div *ngIf=\"!hasBpmUserPictureId()\" [outerHTML]=\"bpmUser | usernameInitials:'adf-userinfo-profile-initials adf-hide-small'\"></div>\n                    <img *ngIf=\"hasBpmUserPictureId()\" class=\"adf-userinfo-profile-picture adf-hide-small\" id=\"bpm-user-detail-image\"\n                            alt=\"bpm-profile-image\" [src]=\"bpmUserImage\"/>\n                   <div class=\"adf-userinfo-title\" id=\"bpm-username\">{{bpmUser.fullNameDisplay}}</div>\n                </mat-card-header>\n                <mat-card-content>\n                    <div class=\"adf-userinfo-supporting-text\">\n                            <div class=\"adf-userinfo-detail\">\n                                <span id=\"bpm-full-name\" class=\"adf-userinfo__detail-title\">{{ bpmUser.fullNameDisplay }}</span>\n                                <span class=\"adf-userinfo__detail-profile\" id=\"bpm-email\"> {{bpmUser.email}} </span>\n                            </div>\n                            <div class=\"adf-userinfo-detail\">\n                                <span id=\"bpm-tenant\" class=\"adf-userinfo__secondary-info\">\n                                    {{ 'USER_PROFILE.LABELS.BPM.TENANT' | translate }}\n                                    <span class=\"adf-userinfo__detail-profile\">{{ bpmUser.tenantName ? bpmUser.tenantName : '' }}</span>\n                                </span>\n                            </div>\n                    </div>\n                </mat-card-content>\n            </mat-card>\n            </mat-tab>\n        </mat-tab-group>\n    </mat-menu>\n</div>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        UserInfoComponent.ctorParameters = function () {
            return [
                { type: EcmUserService },
                { type: BpmUserService },
                { type: AuthenticationService }
            ];
        };
        UserInfoComponent.propDecorators = {
            ecmBackgroundImage: [{ type: i0.Input }],
            bpmBackgroundImage: [{ type: i0.Input }],
            menuPositionX: [{ type: i0.Input }],
            menuPositionY: [{ type: i0.Input }],
            showName: [{ type: i0.Input }],
            namePosition: [{ type: i0.Input }]
        };
        return UserInfoComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var UserInfoModule = /** @class */ (function () {
        function UserInfoModule() {
        }
        UserInfoModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            MaterialModule,
                            core$1.TranslateModule.forChild(),
                            PipeModule
                        ],
                        declarations: [
                            UserInfoComponent
                        ],
                        exports: [
                            UserInfoComponent
                        ]
                    },] }
        ];
        return UserInfoModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var HostSettingsComponent = /** @class */ (function () {
        function HostSettingsComponent(formBuilder, storageService, alfrescoApiService, appConfig) {
            this.formBuilder = formBuilder;
            this.storageService = storageService;
            this.alfrescoApiService = alfrescoApiService;
            this.appConfig = appConfig;
            this.HOST_REGEX = '^(http|https):\/\/.*[^/]$';
            /**
             * Tells the component which provider options are available. Possible valid values
             * are "ECM" (Content), "BPM" (Process) , "ALL" (Content and Process), 'OAUTH2' SSO.
             */
            this.providers = ['BPM', 'ECM', 'ALL'];
            this.showSelectProviders = true;
            /**
             * Emitted when the URL is invalid.
             */
            this.error = new i0.EventEmitter();
            /**
             * Emitted when the ecm host URL is changed.
             * @deprecated in 2.4.0
             */
            this.ecmHostChange = new i0.EventEmitter();
            /**
             * Emitted when the user cancels the changes.
             */
            this.cancel = new i0.EventEmitter();
            /**
             * Emitted when the changes are successfully applied.
             */
            this.success = new i0.EventEmitter();
            /**
             * Emitted when the bpm host URL is changed.
             * @deprecated in 2.4.0
             */
            this.bpmHostChange = new i0.EventEmitter();
        }
        /**
         * @return {?}
         */
        HostSettingsComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.providers.length === 1) {
                    this.showSelectProviders = false;
                }
                /** @type {?} */
                var providerSelected = this.appConfig.get(AppConfigValues.PROVIDERS);
                /** @type {?} */
                var authType = this.appConfig.get(AppConfigValues.AUTHTYPE, 'BASIC');
                this.form = this.formBuilder.group({
                    providersControl: [providerSelected, forms.Validators.required],
                    authType: authType
                });
                this.addFormGroups();
                if (authType === 'OAUTH') {
                    this.addOAuthFormGroup();
                }
                this.form.get('authType').valueChanges.subscribe(function (value) {
                    if (value === 'BASIC') {
                        _this.form.removeControl('oauthConfig');
                    }
                    else {
                        _this.addOAuthFormGroup();
                    }
                });
                this.providersControl.valueChanges.subscribe(function () {
                    _this.removeFormGroups();
                    _this.addFormGroups();
                });
            };
        /**
         * @return {?}
         */
        HostSettingsComponent.prototype.removeFormGroups = /**
         * @return {?}
         */
            function () {
                this.form.removeControl('bpmHost');
                this.form.removeControl('ecmHost');
            };
        /**
         * @return {?}
         */
        HostSettingsComponent.prototype.addFormGroups = /**
         * @return {?}
         */
            function () {
                this.addBPMFormControl();
                this.addECMFormControl();
            };
        /**
         * @return {?}
         */
        HostSettingsComponent.prototype.addOAuthFormGroup = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var oauthFormGroup = this.createOAuthFormGroup();
                this.form.addControl('oauthConfig', oauthFormGroup);
            };
        /**
         * @return {?}
         */
        HostSettingsComponent.prototype.addBPMFormControl = /**
         * @return {?}
         */
            function () {
                if ((this.isBPM() || this.isALL() || this.isOAUTH()) && !this.bpmHost) {
                    /** @type {?} */
                    var bpmFormControl = this.createBPMFormControl();
                    this.form.addControl('bpmHost', bpmFormControl);
                }
            };
        /**
         * @return {?}
         */
        HostSettingsComponent.prototype.addECMFormControl = /**
         * @return {?}
         */
            function () {
                if ((this.isECM() || this.isALL()) && !this.ecmHost) {
                    /** @type {?} */
                    var ecmFormControl = this.createECMFormControl();
                    this.form.addControl('ecmHost', ecmFormControl);
                }
            };
        /**
         * @return {?}
         */
        HostSettingsComponent.prototype.createOAuthFormGroup = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var oauth = /** @type {?} */ (this.appConfig.get(AppConfigValues.OAUTHCONFIG, {}));
                return this.formBuilder.group({
                    host: [oauth.host, [forms.Validators.required, forms.Validators.pattern(this.HOST_REGEX)]],
                    clientId: [oauth.clientId, forms.Validators.required],
                    redirectUri: [oauth.redirectUri, forms.Validators.required],
                    redirectUriLogout: [oauth.redirectUriLogout],
                    scope: [oauth.scope, forms.Validators.required],
                    secret: oauth.secret,
                    silentLogin: oauth.silentLogin,
                    implicitFlow: oauth.implicitFlow
                });
            };
        /**
         * @return {?}
         */
        HostSettingsComponent.prototype.createBPMFormControl = /**
         * @return {?}
         */
            function () {
                return new forms.FormControl(this.appConfig.get(AppConfigValues.BPMHOST), [forms.Validators.required, forms.Validators.pattern(this.HOST_REGEX)]);
            };
        /**
         * @return {?}
         */
        HostSettingsComponent.prototype.createECMFormControl = /**
         * @return {?}
         */
            function () {
                return new forms.FormControl(this.appConfig.get(AppConfigValues.ECMHOST), [forms.Validators.required, forms.Validators.pattern(this.HOST_REGEX)]);
            };
        /**
         * @return {?}
         */
        HostSettingsComponent.prototype.onCancel = /**
         * @return {?}
         */
            function () {
                this.cancel.emit(true);
            };
        /**
         * @param {?} values
         * @return {?}
         */
        HostSettingsComponent.prototype.onSubmit = /**
         * @param {?} values
         * @return {?}
         */
            function (values) {
                this.storageService.setItem(AppConfigValues.PROVIDERS, values.providersControl);
                if (this.isBPM()) {
                    this.saveBPMValues(values);
                }
                else if (this.isECM()) {
                    this.saveECMValues(values);
                }
                else if (this.isALL()) {
                    this.saveECMValues(values);
                    this.saveBPMValues(values);
                }
                if (this.isOAUTH()) {
                    this.saveOAuthValues(values);
                }
                this.storageService.setItem(AppConfigValues.AUTHTYPE, values.authType);
                this.alfrescoApiService.reset();
                this.alfrescoApiService.getInstance().invalidateSession();
                this.success.emit(true);
            };
        /**
         * @param {?} values
         * @return {?}
         */
        HostSettingsComponent.prototype.saveOAuthValues = /**
         * @param {?} values
         * @return {?}
         */
            function (values) {
                this.storageService.setItem(AppConfigValues.OAUTHCONFIG, JSON.stringify(values.oauthConfig));
            };
        /**
         * @param {?} values
         * @return {?}
         */
        HostSettingsComponent.prototype.saveBPMValues = /**
         * @param {?} values
         * @return {?}
         */
            function (values) {
                this.storageService.setItem(AppConfigValues.BPMHOST, values.bpmHost);
            };
        /**
         * @param {?} values
         * @return {?}
         */
        HostSettingsComponent.prototype.saveECMValues = /**
         * @param {?} values
         * @return {?}
         */
            function (values) {
                this.storageService.setItem(AppConfigValues.ECMHOST, values.ecmHost);
            };
        /**
         * @return {?}
         */
        HostSettingsComponent.prototype.isBPM = /**
         * @return {?}
         */
            function () {
                return this.providersControl.value === 'BPM';
            };
        /**
         * @return {?}
         */
        HostSettingsComponent.prototype.isECM = /**
         * @return {?}
         */
            function () {
                return this.providersControl.value === 'ECM';
            };
        /**
         * @return {?}
         */
        HostSettingsComponent.prototype.isALL = /**
         * @return {?}
         */
            function () {
                return this.providersControl.value === 'ALL';
            };
        /**
         * @return {?}
         */
        HostSettingsComponent.prototype.isOAUTH = /**
         * @return {?}
         */
            function () {
                return this.form.get('authType').value === 'OAUTH';
            };
        Object.defineProperty(HostSettingsComponent.prototype, "providersControl", {
            get: /**
             * @return {?}
             */ function () {
                return this.form.get('providersControl');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(HostSettingsComponent.prototype, "bpmHost", {
            get: /**
             * @return {?}
             */ function () {
                return this.form.get('bpmHost');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(HostSettingsComponent.prototype, "ecmHost", {
            get: /**
             * @return {?}
             */ function () {
                return this.form.get('ecmHost');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(HostSettingsComponent.prototype, "host", {
            get: /**
             * @return {?}
             */ function () {
                return this.oauthConfig.get('host');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(HostSettingsComponent.prototype, "clientId", {
            get: /**
             * @return {?}
             */ function () {
                return this.oauthConfig.get('clientId');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(HostSettingsComponent.prototype, "scope", {
            get: /**
             * @return {?}
             */ function () {
                return this.oauthConfig.get('scope');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(HostSettingsComponent.prototype, "secretId", {
            get: /**
             * @return {?}
             */ function () {
                return this.oauthConfig.get('secretId');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(HostSettingsComponent.prototype, "implicitFlow", {
            get: /**
             * @return {?}
             */ function () {
                return this.oauthConfig.get('implicitFlow');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(HostSettingsComponent.prototype, "silentLogin", {
            get: /**
             * @return {?}
             */ function () {
                return this.oauthConfig.get('silentLogin');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(HostSettingsComponent.prototype, "redirectUri", {
            get: /**
             * @return {?}
             */ function () {
                return this.oauthConfig.get('redirectUri');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(HostSettingsComponent.prototype, "redirectUriLogout", {
            get: /**
             * @return {?}
             */ function () {
                return this.oauthConfig.get('redirectUriLogout');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(HostSettingsComponent.prototype, "oauthConfig", {
            get: /**
             * @return {?}
             */ function () {
                return this.form.get('oauthConfig');
            },
            enumerable: true,
            configurable: true
        });
        HostSettingsComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-host-settings',
                        template: "<div class=\"adf-setting-container\">\n    <mat-toolbar color=\"primary\" class=\"adf-setting-toolbar\">\n        <h3>{{'CORE.HOST_SETTINGS.TITLE' | translate}}</h3>\n    </mat-toolbar>\n    <mat-card class=\"adf-setting-card\">\n        <form id=\"host-form\" [formGroup]=\"form\" (submit)=\"onSubmit(form.value)\">\n\n            <mat-form-field floatLabel=\"{{'CORE.HOST_SETTINGS.PROVIDER' | translate }}\" *ngIf=\"showSelectProviders\">\n                <mat-select  id=\"adf-provider-selector\" placeholder=\"Provider\" [formControl]=\"providersControl\">\n                    <mat-option *ngFor=\"let provider of providers\" [value]=\"provider\">\n                        {{ provider }}\n                    </mat-option>\n                </mat-select>\n            </mat-form-field>\n\n            <div class=\"adf-authentication-type\">\n                <label> {{'CORE.HOST_SETTINGS.TYPE-AUTH' | translate }} : </label>\n                <mat-radio-group formControlName=\"authType\" >\n                <mat-radio-button value=\"BASIC\">{{'CORE.HOST_SETTINGS.BASIC' | translate }}\n                </mat-radio-button>\n                <mat-radio-button value=\"OAUTH\">{{'CORE.HOST_SETTINGS.SSO' | translate }}\n                </mat-radio-button>\n            </mat-radio-group>\n            </div>\n\n            <ng-container *ngIf=\"isALL() || isECM()\">\n                <mat-card-content>\n                    <mat-form-field class=\"full-width\" floatLabel=\"{{'CORE.HOST_SETTINGS.CS-HOST' | translate }}\">\n                        <mat-label>{{'CORE.HOST_SETTINGS.CS-HOST' | translate }}</mat-label>\n                        <input matInput [formControl]=\"ecmHost\" data-automation-id=\"ecmHost\" type=\"text\" tabindex=\"2\"\n                               id=\"ecmHost\" placeholder=\"http(s)://host|ip:port(/path)\">\n                        <mat-error *ngIf=\"ecmHost.hasError('pattern')\">\n                            {{ 'CORE.HOST_SETTINGS.NOT_VALID'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf=\"ecmHost.hasError('required')\">\n                            {{ 'CORE.HOST_SETTINGS.REQUIRED'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                    <p>\n                </mat-card-content>\n            </ng-container>\n\n            <ng-container *ngIf=\"isALL() || isBPM()\">\n                <mat-card-content>\n                    <mat-form-field class=\"full-width\" floatLabel=\"{{'CORE.HOST_SETTINGS.BP-HOST' | translate }}\">\n                        <mat-label>{{'CORE.HOST_SETTINGS.BP-HOST' | translate }}</mat-label>\n                        <input matInput [formControl]=\"bpmHost\" data-automation-id=\"bpmHost\" type=\"text\" tabindex=\"2\"\n                               id=\"bpmHost\" placeholder=\"http(s)://host|ip:port(/path)\">\n                        <mat-error *ngIf=\"bpmHost.hasError('pattern')\">\n                            {{ 'CORE.HOST_SETTINGS.NOT_VALID'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf=\"bpmHost.hasError('required')\">\n                            {{ 'CORE.HOST_SETTINGS.REQUIRED'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                </mat-card-content>\n            </ng-container>\n\n            <ng-container *ngIf=\"isOAUTH()\">\n                <div formGroupName=\"oauthConfig\">\n                    <mat-form-field class=\"full-width\" floatLabel=\"Auth Host\">\n                        <mat-label>Auth Host</mat-label>\n                        <input matInput name=\"host\" id=\"oauthHost\" formControlName=\"host\"\n                               placeholder=\"http(s)://host|ip:port(/path)\">\n                        <mat-error *ngIf=\"host.hasError('pattern')\">\n                            {{ 'CORE.HOST_SETTINGS.NOT_VALID'| translate }}\n                        </mat-error>\n                        <mat-error *ngIf=\"host.hasError('required')\">\n                            {{ 'CORE.HOST_SETTINGS.REQUIRED'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n                    <mat-form-field class=\"full-width\" floatLabel=\"Client Id\">\n                        <mat-label>{{ 'CORE.HOST_SETTINGS.CLIENT'| translate }}d</mat-label>\n                        <input matInput name=\"clientId\" id=\"clientId\" formControlName=\"clientId\"\n                               placeholder=\"Client Id\">\n                        <mat-error *ngIf=\"clientId.hasError('required')\">\n                            {{ 'CORE.HOST_SETTINGS.REQUIRED'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n\n                    <mat-form-field class=\"full-width\" floatLabel=\"Scope\">\n                        <mat-label>{{ 'CORE.HOST_SETTINGS.SCOPE'| translate }}</mat-label>\n                        <input matInput name=\"{{ 'CORE.HOST_SETTINGS.SCOPE'| translate }}\"\n                               formControlName=\"scope\" placeholder=\"Scope Id\">\n                        <mat-error *ngIf=\"scope.hasError('required')\">\n                            {{ 'CORE.HOST_SETTINGS.REQUIRED'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n\n                    <label for=\"silentLogin\">{{ 'CORE.HOST_SETTINGS.SILENT'| translate }}</label>\n                    <mat-slide-toggle class=\"full-width\" name=\"silentLogin\" [color]=\"'primary'\"\n                                      formControlName=\"silentLogin\">\n                    </mat-slide-toggle>\n\n                    <label for=\"implicitFlow\">{{ 'CORE.HOST_SETTINGS.IMPLICIT-FLOW'| translate }}</label>\n                    <mat-slide-toggle class=\"full-width\" name=\"implicitFlow\" [color]=\"'primary'\"\n                                      formControlName=\"implicitFlow\">\n                    </mat-slide-toggle>\n\n\n                    <mat-form-field class=\"full-width\" floatLabel=\"Redirect Uri\">\n                        <mat-label>{{ 'CORE.HOST_SETTINGS.REDIRECT'| translate }}</mat-label>\n                        <input matInput placeholder=\"{{ 'CORE.HOST_SETTINGS.REDIRECT'| translate }}\"\n                               name=\"redirectUri\" formControlName=\"redirectUri\">\n                        <mat-error *ngIf=\"redirectUri.hasError('required')\">\n                            {{ 'CORE.HOST_SETTINGS.REQUIRED'| translate }}\n                        </mat-error>\n                    </mat-form-field>\n\n                    <mat-form-field class=\"full-width\" floatLabel=\"Redirect Uri Logout\">\n                        <mat-label>{{ 'CORE.HOST_SETTINGS.REDIRECT_LOGOUT'| translate }}</mat-label>\n                        <input matInput placeholder=\"{{ 'CORE.HOST_SETTINGS.REDIRECT_LOGOUT'| translate }}\"\n                               name=\"redirectUriLogout\" formControlName=\"redirectUriLogout\">\n                    </mat-form-field>\n                </div>\n            </ng-container>\n            <mat-card-actions class=\"adf-actions\">\n                <button mat-button (click)=\"onCancel()\" color=\"primary\">\n                    {{'CORE.HOST_SETTINGS.BACK' | translate }}\n                </button>\n                <button type=\"submit\" id=\"host-button\" tabindex=\"4\" class=\"adf-login-button\" mat-raised-button\n                        color=\"primary\" data-automation-id=\"host-button\"\n                        [disabled]=\"!form.valid\">\n                    {{'CORE.HOST_SETTINGS.APPLY' | translate }}\n                </button>\n            </mat-card-actions>\n        </form>\n    </mat-card>\n</div>\n",
                        host: {
                            'class': 'adf-host-settings'
                        },
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        HostSettingsComponent.ctorParameters = function () {
            return [
                { type: forms.FormBuilder },
                { type: StorageService },
                { type: AlfrescoApiService },
                { type: AppConfigService }
            ];
        };
        HostSettingsComponent.propDecorators = {
            providers: [{ type: i0.Input }],
            error: [{ type: i0.Output }],
            ecmHostChange: [{ type: i0.Output }],
            cancel: [{ type: i0.Output }],
            success: [{ type: i0.Output }],
            bpmHostChange: [{ type: i0.Output }]
        };
        return HostSettingsComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var HostSettingsModule = /** @class */ (function () {
        function HostSettingsModule() {
        }
        HostSettingsModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            MaterialModule,
                            core$1.TranslateModule.forChild(),
                            forms.FormsModule,
                            forms.ReactiveFormsModule
                        ],
                        declarations: [
                            HostSettingsComponent
                        ],
                        exports: [
                            HostSettingsComponent
                        ]
                    },] }
        ];
        return HostSettingsModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var PaginationComponent = /** @class */ (function () {
        function PaginationComponent(cdr, userPreferencesService) {
            this.cdr = cdr;
            this.userPreferencesService = userPreferencesService;
            /**
             * Emitted when pagination changes in any way.
             */
            this.change = new i0.EventEmitter();
            /**
             * Emitted when the page number changes.
             */
            this.changePageNumber = new i0.EventEmitter();
            /**
             * Emitted when the page size changes.
             */
            this.changePageSize = new i0.EventEmitter();
            /**
             * Emitted when the next page is requested.
             */
            this.nextPage = new i0.EventEmitter();
            /**
             * Emitted when the previous page is requested.
             */
            this.prevPage = new i0.EventEmitter();
        }
        /**
         * @return {?}
         */
        PaginationComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (!this.pagination) {
                    /** @type {?} */
                    var defaultPagination = PaginationComponent.DEFAULT_PAGINATION;
                    defaultPagination.maxItems = this.userPreferencesService.paginationSize;
                    this.pagination = defaultPagination;
                }
                if (!this.supportedPageSizes) {
                    this.supportedPageSizes = this.userPreferencesService.getDefaultPageSizes();
                }
                if (this.target) {
                    this.paginationSubscription = this.target.pagination.subscribe(function (pagination) {
                        if (pagination.count === 0 && !_this.isFirstPage) {
                            _this.goPrevious();
                        }
                        _this.pagination = pagination;
                        _this.cdr.detectChanges();
                    });
                }
                if (!this.pagination) {
                    this.pagination = PaginationComponent.DEFAULT_PAGINATION;
                }
            };
        Object.defineProperty(PaginationComponent.prototype, "lastPage", {
            get: /**
             * @return {?}
             */ function () {
                var _a = this.pagination, maxItems = _a.maxItems, totalItems = _a.totalItems;
                return (totalItems && maxItems)
                    ? Math.ceil(totalItems / maxItems)
                    : 1;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PaginationComponent.prototype, "current", {
            get: /**
             * @return {?}
             */ function () {
                var _a = this.pagination, maxItems = _a.maxItems, skipCount = _a.skipCount;
                return (skipCount && maxItems)
                    ? Math.floor(skipCount / maxItems) + 1
                    : 1;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PaginationComponent.prototype, "isLastPage", {
            get: /**
             * @return {?}
             */ function () {
                return this.current === this.lastPage;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PaginationComponent.prototype, "isFirstPage", {
            get: /**
             * @return {?}
             */ function () {
                return this.current === 1;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PaginationComponent.prototype, "next", {
            get: /**
             * @return {?}
             */ function () {
                return this.isLastPage ? this.current : this.current + 1;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PaginationComponent.prototype, "previous", {
            get: /**
             * @return {?}
             */ function () {
                return this.isFirstPage ? 1 : this.current - 1;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PaginationComponent.prototype, "hasItems", {
            get: /**
             * @return {?}
             */ function () {
                return this.pagination && this.pagination.count > 0;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PaginationComponent.prototype, "isEmpty", {
            get: /**
             * @return {?}
             */ function () {
                return !this.hasItems;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PaginationComponent.prototype, "range", {
            get: /**
             * @return {?}
             */ function () {
                var _a = this.pagination, skipCount = _a.skipCount, maxItems = _a.maxItems, totalItems = _a.totalItems;
                var isLastPage = this.isLastPage;
                /** @type {?} */
                var start = totalItems ? skipCount + 1 : 0;
                /** @type {?} */
                var end = isLastPage ? totalItems : skipCount + maxItems;
                return [start, end];
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(PaginationComponent.prototype, "pages", {
            get: /**
             * @return {?}
             */ function () {
                return Array(this.lastPage)
                    .fill('n')
                    .map(function (item, index) { return (index + 1); });
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        PaginationComponent.prototype.goNext = /**
         * @return {?}
         */
            function () {
                if (this.hasItems) {
                    /** @type {?} */
                    var maxItems = this.pagination.maxItems;
                    /** @type {?} */
                    var skipCount = (this.next - 1) * maxItems;
                    this.pagination.skipCount = skipCount;
                    this.handlePaginationEvent(PaginationComponent.ACTIONS.NEXT_PAGE, {
                        skipCount: skipCount,
                        maxItems: maxItems
                    });
                }
            };
        /**
         * @return {?}
         */
        PaginationComponent.prototype.goPrevious = /**
         * @return {?}
         */
            function () {
                if (this.hasItems) {
                    /** @type {?} */
                    var maxItems = this.pagination.maxItems;
                    /** @type {?} */
                    var skipCount = (this.previous - 1) * maxItems;
                    this.pagination.skipCount = skipCount;
                    this.handlePaginationEvent(PaginationComponent.ACTIONS.PREV_PAGE, {
                        skipCount: skipCount,
                        maxItems: maxItems
                    });
                }
            };
        /**
         * @param {?} pageNumber
         * @return {?}
         */
        PaginationComponent.prototype.onChangePageNumber = /**
         * @param {?} pageNumber
         * @return {?}
         */
            function (pageNumber) {
                if (this.hasItems) {
                    /** @type {?} */
                    var maxItems = this.pagination.maxItems;
                    /** @type {?} */
                    var skipCount = (pageNumber - 1) * maxItems;
                    this.pagination.skipCount = skipCount;
                    this.handlePaginationEvent(PaginationComponent.ACTIONS.CHANGE_PAGE_NUMBER, {
                        skipCount: skipCount,
                        maxItems: maxItems
                    });
                }
            };
        /**
         * @param {?} maxItems
         * @return {?}
         */
        PaginationComponent.prototype.onChangePageSize = /**
         * @param {?} maxItems
         * @return {?}
         */
            function (maxItems) {
                this.pagination.skipCount = 0;
                this.pagination.maxItems = maxItems;
                this.handlePaginationEvent(PaginationComponent.ACTIONS.CHANGE_PAGE_SIZE, {
                    skipCount: 0,
                    maxItems: maxItems
                });
            };
        /**
         * @param {?} action
         * @param {?} params
         * @return {?}
         */
        PaginationComponent.prototype.handlePaginationEvent = /**
         * @param {?} action
         * @param {?} params
         * @return {?}
         */
            function (action, params) {
                var _a = PaginationComponent.ACTIONS, NEXT_PAGE = _a.NEXT_PAGE, PREV_PAGE = _a.PREV_PAGE, CHANGE_PAGE_NUMBER = _a.CHANGE_PAGE_NUMBER, CHANGE_PAGE_SIZE = _a.CHANGE_PAGE_SIZE;
                var _b = this, change = _b.change, changePageNumber = _b.changePageNumber, changePageSize = _b.changePageSize, nextPage = _b.nextPage, prevPage = _b.prevPage, pagination = _b.pagination;
                /** @type {?} */
                var data = Object.assign({}, pagination, params);
                if (action === NEXT_PAGE) {
                    nextPage.emit(data);
                }
                if (action === PREV_PAGE) {
                    prevPage.emit(data);
                }
                if (action === CHANGE_PAGE_NUMBER) {
                    changePageNumber.emit(data);
                }
                if (action === CHANGE_PAGE_SIZE) {
                    changePageSize.emit(data);
                }
                change.emit(params);
                if (this.target) {
                    this.target.updatePagination(params);
                }
            };
        /**
         * @return {?}
         */
        PaginationComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                if (this.paginationSubscription) {
                    this.paginationSubscription.unsubscribe();
                }
            };
        PaginationComponent.DEFAULT_PAGINATION = {
            skipCount: 0,
            maxItems: 25,
            totalItems: 0
        };
        PaginationComponent.ACTIONS = {
            NEXT_PAGE: 'NEXT_PAGE',
            PREV_PAGE: 'PREV_PAGE',
            CHANGE_PAGE_SIZE: 'CHANGE_PAGE_SIZE',
            CHANGE_PAGE_NUMBER: 'CHANGE_PAGE_NUMBER'
        };
        PaginationComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-pagination',
                        host: { 'class': 'adf-pagination' },
                        template: "<ng-container *ngIf=\"hasItems\">\n    <div class=\"adf-pagination__block adf-pagination__range-block\">\n        <span class=\"adf-pagination__range\">\n            {{\n                'CORE.PAGINATION.ITEMS_RANGE' | translate: {\n                    range: range.join('-'),\n                    total: pagination.totalItems\n                }\n            }}\n        </span>\n    </div>\n\n    <div class=\"adf-pagination__block adf-pagination__perpage-block\">\n        <span>\n            {{ 'CORE.PAGINATION.ITEMS_PER_PAGE' | translate }}\n        </span>\n\n        <span class=\"adf-pagination__max-items\">\n            {{ pagination.maxItems }}\n        </span>\n\n        <button\n            mat-icon-button\n            [attr.aria-label]=\"'CORE.PAGINATION.ARIA.ITEMS_PER_PAGE' | translate\"\n            [matMenuTriggerFor]=\"pageSizeMenu\">\n            <mat-icon>arrow_drop_down</mat-icon>\n        </button>\n\n        <mat-menu #pageSizeMenu=\"matMenu\" class=\"adf-pagination__page-selector\">\n            <button\n                mat-menu-item\n                *ngFor=\"let pageSize of supportedPageSizes\"\n                (click)=\"onChangePageSize(pageSize)\">\n                {{ pageSize }}\n            </button>\n        </mat-menu>\n    </div>\n\n    <div class=\"adf-pagination__block adf-pagination__actualinfo-block\">\n        <span class=\"adf-pagination__current-page\">\n            {{ 'CORE.PAGINATION.CURRENT_PAGE' | translate: { number: current } }}\n        </span>\n\n        <button\n            mat-icon-button\n            [attr.aria-label]=\"'CORE.PAGINATION.ARIA.CURRENT_PAGE' | translate\"\n            [matMenuTriggerFor]=\"pagesMenu\"\n            *ngIf=\"pages.length > 1\">\n            <mat-icon>arrow_drop_down</mat-icon>\n        </button>\n\n        <span class=\"adf-pagination__total-pages\">\n            {{ 'CORE.PAGINATION.TOTAL_PAGES' | translate: { total: pages.length } }}\n        </span>\n\n        <mat-menu #pagesMenu=\"matMenu\" class=\"adf-pagination__page-selector\">\n            <button\n                mat-menu-item\n                *ngFor=\"let pageNumber of pages\"\n                (click)=\"onChangePageNumber(pageNumber)\">\n                {{ pageNumber }}\n            </button>\n        </mat-menu>\n    </div>\n\n    <div class=\"adf-pagination__block adf-pagination__controls-block\">\n        <button\n            class=\"adf-pagination__previous-button\"\n            mat-icon-button\n            [attr.aria-label]=\"'CORE.PAGINATION.ARIA.PREVIOUS_PAGE' | translate\"\n            [disabled]=\"isFirstPage\"\n            (click)=\"goPrevious()\">\n            <mat-icon>keyboard_arrow_left</mat-icon>\n        </button>\n\n        <button\n            class=\"adf-pagination__next-button\"\n            mat-icon-button\n            [attr.aria-label]=\"'CORE.PAGINATION.ARIA.NEXT_PAGE' | translate\"\n            [disabled]=\"isLastPage\"\n            (click)=\"goNext()\">\n            <mat-icon>keyboard_arrow_right</mat-icon>\n        </button>\n    </div>\n</ng-container>\n",
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        PaginationComponent.ctorParameters = function () {
            return [
                { type: i0.ChangeDetectorRef },
                { type: UserPreferencesService }
            ];
        };
        PaginationComponent.propDecorators = {
            target: [{ type: i0.Input }],
            supportedPageSizes: [{ type: i0.Input }],
            pagination: [{ type: i0.Input }],
            change: [{ type: i0.Output }],
            changePageNumber: [{ type: i0.Output }],
            changePageSize: [{ type: i0.Output }],
            nextPage: [{ type: i0.Output }],
            prevPage: [{ type: i0.Output }],
            isEmpty: [{ type: i0.HostBinding, args: ['class.adf-pagination__empty',] }]
        };
        return PaginationComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var InfinitePaginationComponent = /** @class */ (function () {
        function InfinitePaginationComponent(cdr, userPreferencesService) {
            this.cdr = cdr;
            this.userPreferencesService = userPreferencesService;
            /**
             * Number of items that are added with each "load more" event.
             */
            this.pageSize = InfinitePaginationComponent.DEFAULT_PAGE_SIZE;
            /**
             * Is a new page loading?
             */
            this.isLoading = false;
            /**
             * Emitted when the "Load More" button is clicked.
             */
            this.loadMore = new i0.EventEmitter();
        }
        /**
         * @return {?}
         */
        InfinitePaginationComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.target) {
                    this.paginationSubscription = this.target.pagination.subscribe(function (pagination) {
                        _this.isLoading = false;
                        _this.pagination = pagination;
                        _this.pageSize = _this.userPreferencesService.paginationSize || _this.pageSize;
                        _this.cdr.detectChanges();
                    });
                }
                if (!this.pagination) {
                    this.pagination = InfinitePaginationComponent.DEFAULT_PAGINATION;
                }
            };
        /**
         * @return {?}
         */
        InfinitePaginationComponent.prototype.onLoadMore = /**
         * @return {?}
         */
            function () {
                this.pagination.skipCount = 0;
                this.pagination.maxItems = this.pagination.maxItems + this.pageSize;
                this.pagination.merge = true;
                this.loadMore.next(this.pagination);
                if (this.pagination.maxItems >= this.pagination.totalItems) {
                    this.pagination.hasMoreItems = false;
                }
                if (this.target) {
                    this.target.pagination.value.merge = this.pagination.merge;
                    this.target.pagination.value.skipCount = this.pagination.skipCount;
                    this.isLoading = true;
                    this.target.updatePagination(/** @type {?} */ (this.pagination));
                }
            };
        /**
         * @return {?}
         */
        InfinitePaginationComponent.prototype.reset = /**
         * @return {?}
         */
            function () {
                this.pagination.skipCount = 0;
                this.target.updatePagination(this.pagination);
            };
        /**
         * @return {?}
         */
        InfinitePaginationComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                if (this.paginationSubscription) {
                    this.paginationSubscription.unsubscribe();
                }
            };
        InfinitePaginationComponent.DEFAULT_PAGE_SIZE = 25;
        InfinitePaginationComponent.DEFAULT_PAGINATION = {
            skipCount: 0,
            hasMoreItems: false,
            merge: true
        };
        InfinitePaginationComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-infinite-pagination',
                        host: { 'class': 'infinite-adf-pagination' },
                        template: "<div *ngIf=\"pagination?.hasMoreItems || isLoading\" class=\"adf-infinite-pagination\">\n    <button mat-button\n        *ngIf=\"!isLoading\"\n        class=\"adf-infinite-pagination-load-more\"\n        (click)=\"onLoadMore()\"\n        data-automation-id=\"adf-infinite-pagination-button\">\n            <ng-content></ng-content>\n    </button>\n\n    <mat-progress-bar *ngIf=\"isLoading\"\n        mode=\"indeterminate\"\n        class=\"adf-infinite-pagination-spinner\"\n        data-automation-id=\"adf-infinite-pagination-spinner\"></mat-progress-bar>\n</div>\n",
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-infinite-pagination{display:flex;justify-content:space-around;min-height:56px}.adf-infinite-pagination-load-more{margin-bottom:10px;margin-top:10px}"]
                    }] }
        ];
        /** @nocollapse */
        InfinitePaginationComponent.ctorParameters = function () {
            return [
                { type: i0.ChangeDetectorRef },
                { type: UserPreferencesService }
            ];
        };
        InfinitePaginationComponent.propDecorators = {
            pagination: [{ type: i0.Input }],
            target: [{ type: i0.Input }],
            pageSize: [{ type: i0.Input }],
            isLoading: [{ type: i0.Input, args: ['loading',] }],
            loadMore: [{ type: i0.Output }]
        };
        return InfinitePaginationComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var PaginationModule = /** @class */ (function () {
        function PaginationModule() {
        }
        PaginationModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            MaterialModule,
                            core$1.TranslateModule.forChild()
                        ],
                        declarations: [
                            InfinitePaginationComponent,
                            PaginationComponent
                        ],
                        exports: [
                            InfinitePaginationComponent,
                            PaginationComponent
                        ]
                    },] }
        ];
        return PaginationModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SettingsService = /** @class */ (function () {
        function SettingsService(appConfig, logService, storage) {
            this.appConfig = appConfig;
            this.logService = logService;
            this.storage = storage;
        }
        Object.defineProperty(SettingsService.prototype, "ecmHost", {
            get: /**
             * @deprecated in 1.6.0
             * @return {?}
             */ function () {
                this.logService.log('SettingsService.ecmHost is deprecated. Use AppConfigService instead.');
                return this.appConfig.get(AppConfigValues.ECMHOST);
            },
            set: /**
             * @deprecated in 1.6.0
             * @param {?} ecmHostUrl
             * @return {?}
             */ function (ecmHostUrl) {
                this.logService.log('SettingsService.ecmHost is deprecated. Use AppConfigService instead.');
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SettingsService.prototype, "csrfDisabled", {
            set: /**
             * @deprecated in 1.7.0
             * @param {?} csrfDisabled
             * @return {?}
             */ function (csrfDisabled) {
                this.logService.log("SettingsService.csrfDisabled is deprecated. Use UserPreferencesService.disableCSRF instead.");
                if (csrfDisabled !== null && csrfDisabled !== undefined) {
                    this.storage.setItem(AppConfigValues.DISABLECSRF, csrfDisabled.toString());
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SettingsService.prototype, "bpmHost", {
            get: /**
             * @deprecated in 1.6.0
             * @return {?}
             */ function () {
                this.logService.log('SettingsService.bpmHost is deprecated. Use AppConfigService instead.');
                return this.appConfig.get(AppConfigValues.BPMHOST);
            },
            set: /**
             * @deprecated in 1.6.0
             * @param {?} bpmHostUrl
             * @return {?}
             */ function (bpmHostUrl) {
                this.logService.log('SettingsService.bpmHost is deprecated. Use AppConfigService instead.');
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @deprecated in 1.6.0
         * @return {?}
         */
        SettingsService.prototype.getBPMApiBaseUrl = /**
         * @deprecated in 1.6.0
         * @return {?}
         */
            function () {
                this.logService.log('SettingsService.getBPMApiBaseUrl is deprecated.');
                return this.bpmHost + '/activiti-app';
            };
        /**
         * @deprecated in 1.7.0
         * @return {?}
         */
        SettingsService.prototype.getProviders = /**
         * @deprecated in 1.7.0
         * @return {?}
         */
            function () {
                this.logService.log("SettingsService.getProviders is deprecated. Use UserPreferencesService.authType instead.");
                return this.storage.getItem(AppConfigValues.PROVIDERS) || this.appConfig.get(AppConfigValues.PROVIDERS);
            };
        /**
         * @deprecated in 1.7.0
         * @param {?} providers
         * @return {?}
         */
        SettingsService.prototype.setProviders = /**
         * @deprecated in 1.7.0
         * @param {?} providers
         * @return {?}
         */
            function (providers) {
                this.logService.log("SettingsService.setProviders is deprecated. Use the app-config.json");
                if (providers) {
                    this.storage.setItem(AppConfigValues.PROVIDERS, providers);
                }
            };
        SettingsService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        SettingsService.ctorParameters = function () {
            return [
                { type: AppConfigService },
                { type: LogService },
                { type: StorageService }
            ];
        };
        return SettingsService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var LoginErrorEvent = /** @class */ (function () {
        function LoginErrorEvent(err) {
            this.err = err;
        }
        return LoginErrorEvent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var LoginSubmitEvent = /** @class */ (function () {
        function LoginSubmitEvent(_values) {
            this._defaultPrevented = false;
            this._values = _values;
        }
        Object.defineProperty(LoginSubmitEvent.prototype, "values", {
            get: /**
             * @return {?}
             */ function () {
                return this._values;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LoginSubmitEvent.prototype, "defaultPrevented", {
            get: /**
             * @return {?}
             */ function () {
                return this._defaultPrevented;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        LoginSubmitEvent.prototype.preventDefault = /**
         * @return {?}
         */
            function () {
                this._defaultPrevented = true;
            };
        return LoginSubmitEvent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var LoginSuccessEvent = /** @class */ (function () {
        function LoginSuccessEvent(token, username, password) {
            this.token = token;
            this.username = username;
            this.password = password;
        }
        return LoginSuccessEvent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @enum {number} */
    var LoginSteps = {
        Landing: 0,
        Checking: 1,
        Welcome: 2,
    };
    LoginSteps[LoginSteps.Landing] = 'Landing';
    LoginSteps[LoginSteps.Checking] = 'Checking';
    LoginSteps[LoginSteps.Welcome] = 'Welcome';
    var LoginComponent = /** @class */ (function () {
        /**
         * Constructor
         * @param _fb
         * @param authService
         * @param translate
         */
        function LoginComponent(_fb, authService, translateService, logService, elementRef, router$$1, appConfig, userPreferences, settingsService) {
            this._fb = _fb;
            this.authService = authService;
            this.translateService = translateService;
            this.logService = logService;
            this.elementRef = elementRef;
            this.router = router$$1;
            this.appConfig = appConfig;
            this.userPreferences = userPreferences;
            this.settingsService = settingsService;
            this.isPasswordShow = false;
            /**
             * Should the `Remember me` checkbox be shown? When selected, this
             * option will remember the logged-in user after the browser is closed
             * to avoid logging in repeatedly.
             */
            this.showRememberMe = true;
            /**
             * Should the extra actions (`Need Help`, `Register`, etc) be shown?
             */
            this.showLoginActions = true;
            /**
             * Sets the URL of the NEED HELP link in the footer.
             */
            this.needHelpLink = '';
            /**
             * Sets the URL of the REGISTER link in the footer.
             */
            this.registerLink = '';
            /**
             * Path to a custom logo image.
             */
            this.logoImageUrl = './assets/images/alfresco-logo.svg';
            /**
             * Path to a custom background image.
             */
            this.backgroundImageUrl = './assets/images/background.svg';
            /**
             * The copyright text below the login box.
             */
            this.copyrightText = '\u00A9 2016 Alfresco Software, Inc. All Rights Reserved.';
            /**
             * Route to redirect to on successful login.
             */
            this.successRoute = null;
            /**
             * Emitted when the login is successful.
             */
            this.success = new i0.EventEmitter();
            /**
             * Emitted when the login fails.
             */
            this.error = new i0.EventEmitter();
            /**
             * Emitted when the login form is submitted.
             */
            this.executeSubmit = new i0.EventEmitter();
            this.implicitFlow = false;
            this.isError = false;
            this.actualLoginStep = LoginSteps.Landing;
            this.LoginSteps = LoginSteps;
            this.rememberMe = true;
            this.minLength = 2;
            this.initFormError();
            this.initFormFieldsMessages();
        }
        /**
         * @return {?}
         */
        LoginComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.authService.isOauth()) {
                    /** @type {?} */
                    var oauth = this.appConfig.get(AppConfigValues.OAUTHCONFIG, null);
                    if (oauth && oauth.implicitFlow) {
                        this.implicitFlow = true;
                    }
                }
                if (this.hasCustomFieldsValidation()) {
                    this.form = this._fb.group(this.fieldsValidation);
                }
                else {
                    this.initFormFieldsDefault();
                    this.initFormFieldsMessagesDefault();
                }
                this.form.valueChanges.subscribe(function (data) { return _this.onValueChanged(data); });
            };
        /**
         * @return {?}
         */
        LoginComponent.prototype.submit = /**
         * @return {?}
         */
            function () {
                this.onSubmit(this.form.value);
            };
        /**
         * Method called on submit form
         * @param values
         * @param event
         */
        /**
         * Method called on submit form
         * @param {?} values
         * @return {?}
         */
        LoginComponent.prototype.onSubmit = /**
         * Method called on submit form
         * @param {?} values
         * @return {?}
         */
            function (values) {
                this.settingsService.setProviders(this.providers);
                this.settingsService.csrfDisabled = this.disableCsrf;
                this.disableError();
                /** @type {?} */
                var args = new LoginSubmitEvent({
                    controls: { username: this.form.controls["username"] }
                });
                this.executeSubmit.emit(args);
                if (args.defaultPrevented) {
                    return false;
                }
                else {
                    this.performLogin(values);
                }
            };
        /**
         * @return {?}
         */
        LoginComponent.prototype.implicitLogin = /**
         * @return {?}
         */
            function () {
                this.authService.ssoImplicitLogin();
            };
        /**
         * The method check the error in the form and push the error in the formError object
         * @param data
         */
        /**
         * The method check the error in the form and push the error in the formError object
         * @param {?} data
         * @return {?}
         */
        LoginComponent.prototype.onValueChanged = /**
         * The method check the error in the form and push the error in the formError object
         * @param {?} data
         * @return {?}
         */
            function (data) {
                this.disableError();
                for (var field in this.formError) {
                    if (field) {
                        this.formError[field] = '';
                        /** @type {?} */
                        var hasError = (this.form.controls[field].errors && data[field] !== '') ||
                            (this.form.controls[field].dirty &&
                                !this.form.controls[field].valid);
                        if (hasError) {
                            for (var key in this.form.controls[field].errors) {
                                if (key) {
                                    this.formError[field] +=
                                        this._message[field][key] + '';
                                }
                            }
                        }
                    }
                }
            };
        /**
         * Performe the login service
         * @param {?} values
         * @return {?}
         */
        LoginComponent.prototype.performLogin = /**
         * Performe the login service
         * @param {?} values
         * @return {?}
         */
            function (values) {
                var _this = this;
                this.actualLoginStep = LoginSteps.Checking;
                this.authService
                    .login(values.username, values.password, this.rememberMe)
                    .subscribe(function (token) {
                    /** @type {?} */
                    var redirectUrl = _this.authService.getRedirect(_this.providers);
                    _this.actualLoginStep = LoginSteps.Welcome;
                    _this.userPreferences.setStoragePrefix(values.username);
                    values.password = null;
                    _this.success.emit(new LoginSuccessEvent(token, values.username, null));
                    if (redirectUrl) {
                        _this.authService.setRedirect(null);
                        _this.router.navigateByUrl(redirectUrl);
                    }
                    else if (_this.successRoute) {
                        _this.router.navigate([_this.successRoute]);
                    }
                }, function (err) {
                    _this.actualLoginStep = LoginSteps.Landing;
                    _this.displayErrorMessage(err);
                    _this.enableError();
                    _this.error.emit(new LoginErrorEvent(err));
                }, function () { return _this.logService.info('Login done'); });
            };
        /**
         * Check and display the right error message in the UI
         * @param {?} err
         * @return {?}
         */
        LoginComponent.prototype.displayErrorMessage = /**
         * Check and display the right error message in the UI
         * @param {?} err
         * @return {?}
         */
            function (err) {
                if (err.error &&
                    err.error.crossDomain &&
                    err.error.message.indexOf('Access-Control-Allow-Origin') !== -1) {
                    this.errorMsg = err.error.message;
                }
                else if (err.status === 403 &&
                    err.message.indexOf('Invalid CSRF-token') !== -1) {
                    this.errorMsg = 'LOGIN.MESSAGES.LOGIN-ERROR-CSRF';
                }
                else if (err.status === 403 &&
                    err.message.indexOf('The system is currently in read-only mode') !==
                        -1) {
                    this.errorMsg = 'LOGIN.MESSAGES.LOGIN-ECM-LICENSE';
                }
                else {
                    this.errorMsg = 'LOGIN.MESSAGES.LOGIN-ERROR-CREDENTIALS';
                }
            };
        /**
         * Add a custom form error for a field
         * @param {?} field
         * @param {?} msg
         * @return {?}
         */
        LoginComponent.prototype.addCustomFormError = /**
         * Add a custom form error for a field
         * @param {?} field
         * @param {?} msg
         * @return {?}
         */
            function (field, msg) {
                this.formError[field] += msg;
            };
        /**
         * Add a custom validation rule error for a field
         * @param field
         * @param ruleId - i.e. required | minlength | maxlength
         * @param msg
         */
        /**
         * Add a custom validation rule error for a field
         * @param {?} field
         * @param {?} ruleId - i.e. required | minlength | maxlength
         * @param {?} msg
         * @param {?=} params
         * @return {?}
         */
        LoginComponent.prototype.addCustomValidationError = /**
         * Add a custom validation rule error for a field
         * @param {?} field
         * @param {?} ruleId - i.e. required | minlength | maxlength
         * @param {?} msg
         * @param {?=} params
         * @return {?}
         */
            function (field, ruleId, msg, params) {
                var _this = this;
                if (params) {
                    this.translateService.get(msg, params).subscribe(function (res) {
                        _this._message[field][ruleId] = res;
                    });
                }
                else {
                    this._message[field][ruleId] = msg;
                }
            };
        /**
         * Display and hide the password value.
         */
        /**
         * Display and hide the password value.
         * @return {?}
         */
        LoginComponent.prototype.toggleShowPassword = /**
         * Display and hide the password value.
         * @return {?}
         */
            function () {
                this.isPasswordShow = !this.isPasswordShow;
                this.elementRef.nativeElement.querySelector('#password').type = this
                    .isPasswordShow
                    ? 'text'
                    : 'password';
            };
        /**
         * The method return if a field is valid or not
         * @param field
         */
        /**
         * The method return if a field is valid or not
         * @param {?} field
         * @return {?}
         */
        LoginComponent.prototype.isErrorStyle = /**
         * The method return if a field is valid or not
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return !field.valid && field.dirty && !field.pristine;
            };
        /**
         * Trim username
         */
        /**
         * Trim username
         * @param {?} event
         * @return {?}
         */
        LoginComponent.prototype.trimUsername = /**
         * Trim username
         * @param {?} event
         * @return {?}
         */
            function (event) {
                event.target.value = event.target.value.trim();
            };
        /**
         * Default formError values
         * @return {?}
         */
        LoginComponent.prototype.initFormError = /**
         * Default formError values
         * @return {?}
         */
            function () {
                this.formError = {
                    username: '',
                    password: ''
                };
            };
        /**
         * Init form fields messages
         * @return {?}
         */
        LoginComponent.prototype.initFormFieldsMessages = /**
         * Init form fields messages
         * @return {?}
         */
            function () {
                this._message = {
                    username: {},
                    password: {}
                };
            };
        /**
         * Default form fields messages
         * @return {?}
         */
        LoginComponent.prototype.initFormFieldsMessagesDefault = /**
         * Default form fields messages
         * @return {?}
         */
            function () {
                var _this = this;
                this._message = {
                    username: {
                        required: 'LOGIN.MESSAGES.USERNAME-REQUIRED'
                    },
                    password: {
                        required: 'LOGIN.MESSAGES.PASSWORD-REQUIRED'
                    }
                };
                this.translateService
                    .get('LOGIN.MESSAGES.USERNAME-MIN', { minLength: this.minLength })
                    .subscribe(function (res) {
                    _this._message['username']['minlength'] = res;
                });
            };
        /**
         * @return {?}
         */
        LoginComponent.prototype.initFormFieldsDefault = /**
         * @return {?}
         */
            function () {
                this.form = this._fb.group({
                    username: ['', forms.Validators.required],
                    password: ['', forms.Validators.required]
                });
            };
        /**
         * Disable the error flag
         * @return {?}
         */
        LoginComponent.prototype.disableError = /**
         * Disable the error flag
         * @return {?}
         */
            function () {
                this.isError = false;
                this.initFormError();
            };
        /**
         * Enable the error flag
         * @return {?}
         */
        LoginComponent.prototype.enableError = /**
         * Enable the error flag
         * @return {?}
         */
            function () {
                this.isError = true;
            };
        /**
         * @return {?}
         */
        LoginComponent.prototype.hasCustomFieldsValidation = /**
         * @return {?}
         */
            function () {
                return this.fieldsValidation !== undefined;
            };
        LoginComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-login',
                        template: "<div class=\"adf-login-content\" [style.background-image]=\"'url(' + backgroundImageUrl + ')'\">\n    <div class=\"ie11FixerParent\">\n        <div class=\"ie11FixerChild\">\n\n            <mat-card class=\"adf-login-card-wide\">\n                <form id=\"adf-login-form\" [formGroup]=\"form\" (submit)=\"onSubmit(form.value)\" autocomplete=\"off\">\n\n                    <mat-card-header>\n                        <mat-card-title>\n                            <div class=\"adf-alfresco-logo\">\n                                <!--HEADER TEMPLATE-->\n                                <ng-template *ngIf=\"headerTemplate\"\n                                             ngFor [ngForOf]=\"[data]\"\n                                             [ngForTemplate]=\"headerTemplate\">\n                                </ng-template>\n                                <img *ngIf=\"!headerTemplate\" id=\"adf-login-img-logo\" class=\"adf-img-logo\" [src]=\"logoImageUrl\"\n                                     alt=\"{{'LOGIN.LOGO' | translate }}\">\n                            </div>\n                        </mat-card-title>\n                    </mat-card-header>\n\n                    <mat-card-content class=\"adf-login-controls\">\n\n                        <div *ngIf=\"!implicitFlow\">\n                            <!--ERRORS AREA-->\n                            <div class=\"adf-error-container\">\n                                <div *ngIf=\"isError\" id=\"login-error\" data-automation-id=\"login-error\"\n                                     class=\"error  adf-error-message\">\n                                    <mat-icon class=\"error-icon\">warning</mat-icon>\n                                    <span class=\"login-error-message\">{{errorMsg | translate }}</span>\n                                </div>\n                            </div>\n\n                            <!--USERNAME FIELD-->\n                            <div class=\"adf-login__field\"\n                                 [ngClass]=\"{'is-invalid': isErrorStyle(form.controls.username)}\">\n                                <mat-form-field class=\"adf-full-width\" floatPlaceholder=\"never\" color=\"primary\">\n                                    <input matInput placeholder=\"{{'LOGIN.LABEL.USERNAME' | translate }}\"\n                                           type=\"text\"\n                                           class=\"adf-full-width\"\n                                           [formControl]=\"form.controls['username']\"\n                                           autocapitalize=\"none\"\n                                           id=\"username\"\n                                           data-automation-id=\"username\"\n                                           (blur)=\"trimUsername($event)\"\n                                           tabindex=\"1\">\n                                </mat-form-field>\n\n                                <span class=\"adf-login-validation\" for=\"username\" *ngIf=\"formError.username\">\n                                <span id=\"username-error\" class=\"adf-login-error\" data-automation-id=\"username-error\">{{formError.username | translate }}</span>\n                            </span>\n                            </div>\n\n                            <!--PASSWORD FIELD-->\n                            <div class=\"adf-login__field\">\n                                <mat-form-field class=\"adf-full-width\" floatPlaceholder=\"never\" color=\"primary\">\n                                    <input matInput placeholder=\"{{'LOGIN.LABEL.PASSWORD' | translate }}\"\n                                           type=\"password\"\n                                           [formControl]=\"form.controls['password']\"\n                                           id=\"password\"\n                                           data-automation-id=\"password\"\n                                           tabindex=\"2\">\n                                    <mat-icon *ngIf=\"isPasswordShow\" matSuffix class=\"adf-login-password-icon\"\n                                              data-automation-id=\"hide_password\" (click)=\"toggleShowPassword()\" (keyup.enter)=\"toggleShowPassword()\" tabindex=\"3\">\n                                        visibility\n                                    </mat-icon>\n                                    <mat-icon *ngIf=\"!isPasswordShow\" matSuffix class=\"adf-login-password-icon\"\n                                              data-automation-id=\"show_password\" (click)=\"toggleShowPassword()\" (keyup.enter)=\"toggleShowPassword()\" tabindex=\"3\">\n                                        visibility_off\n                                    </mat-icon>\n                                </mat-form-field>\n                                <span class=\"adf-login-validation\" for=\"password\" *ngIf=\"formError.password\">\n                                <span id=\"password-required\" class=\"adf-login-error\"\n                                      data-automation-id=\"password-required\">{{formError.password | translate }}</span>\n                            </span>\n                            </div>\n\n                            <!--CUSTOM CONTENT-->\n                            <ng-content></ng-content>\n\n                            <br>\n                            <button type=\"submit\" id=\"login-button\" tabindex=\"4\"\n                                    class=\"adf-login-button\"\n                                    mat-raised-button color=\"primary\"\n                                    [class.isChecking]=\"actualLoginStep === LoginSteps.Checking\"\n                                    [class.isWelcome]=\"actualLoginStep === LoginSteps.Welcome\"\n                                    data-automation-id=\"login-button\" [disabled]=\"!form.valid\">\n\n                                <span *ngIf=\"actualLoginStep === LoginSteps.Landing\" class=\"adf-login-button-label\">{{ 'LOGIN.BUTTON.LOGIN' | translate }}</span>\n\n                                <div *ngIf=\"actualLoginStep === LoginSteps.Checking\"\n                                     class=\"adf-interactive-login-label\">\n                                    <span\n                                        class=\"adf-login-button-label\">{{ 'LOGIN.BUTTON.CHECKING' | translate }}</span>\n                                    <div class=\"adf-login-spinner-container\">\n                                        <mat-spinner id=\"checking-spinner\" class=\"adf-login-checking-spinner\"\n                                                     [diameter]=\"25\"></mat-spinner>\n                                    </div>\n                                </div>\n\n\n                                <div *ngIf=\"actualLoginStep === LoginSteps.Welcome\" class=\"adf-interactive-login-label\">\n                                    <span class=\"adf-login-button-label\">{{ 'LOGIN.BUTTON.WELCOME' | translate }}</span>\n                                    <mat-icon class=\"welcome-icon\">done</mat-icon>\n                                </div>\n\n                            </button>\n                            <div *ngIf=\"showRememberMe\" class=\"adf-login__remember-me\">\n                                <mat-checkbox id=\"adf-login-remember\" color=\"primary\" class=\"adf-login-rememberme\"\n                                              [checked]=\"rememberMe\"\n                                              (change)=\"rememberMe = !rememberMe\">{{ 'LOGIN.LABEL.REMEMBER' | translate\n                                    }}\n                                </mat-checkbox>\n                            </div>\n                        </div>\n\n                        <div *ngIf=\"implicitFlow\">\n                            <button type=\"button\" (click)=\"implicitLogin()\" id=\"login-button-sso\" tabindex=\"1\"\n                                    class=\"adf-login-button\"\n                                    mat-raised-button color=\"primary\"\n                                    data-automation-id=\"login-button-sso\">\n                                <span  class=\"adf-login-button-label\">{{ 'LOGIN.BUTTON.SSO' | translate }}</span>\n                            </button>\n                        </div>\n\n                    </mat-card-content>\n\n                    <mat-card-actions *ngIf=\"footerTemplate || showLoginActions\">\n\n                        <div class=\"adf-login-action-container\">\n                            <!--FOOTER TEMPLATE-->\n                            <ng-template *ngIf=\"footerTemplate\"\n                                         ngFor [ngForOf]=\"[data]\"\n                                         [ngForTemplate]=\"footerTemplate\">\n                            </ng-template>\n                            <div class=\"adf-login-action\" *ngIf=\"!footerTemplate && showLoginActions\">\n                                <div id=\"adf-login-action-left\" class=\"adf-login-action-left\">\n                                    <a href=\"{{needHelpLink}}\">{{'LOGIN.ACTION.HELP' | translate }}</a>\n                                </div>\n                                <div id=\"adf-login-action-right\" class=\"adf-login-action-right\">\n                                    <a href=\"{{registerLink}}\">{{'LOGIN.ACTION.REGISTER' | translate }}</a>\n                                </div>\n                            </div>\n                        </div>\n                    </mat-card-actions>\n\n                </form>\n            </mat-card>\n\n            <div class=\"copyright\" data-automation-id=\"login-copyright\">\n                {{ copyrightText }}\n            </div>\n\n        </div>\n    </div>\n</div>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        host: {
                            class: 'adf-login'
                        },
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        LoginComponent.ctorParameters = function () {
            return [
                { type: forms.FormBuilder },
                { type: AuthenticationService },
                { type: TranslationService },
                { type: LogService },
                { type: i0.ElementRef },
                { type: router.Router },
                { type: AppConfigService },
                { type: UserPreferencesService },
                { type: SettingsService }
            ];
        };
        LoginComponent.propDecorators = {
            showRememberMe: [{ type: i0.Input }],
            showLoginActions: [{ type: i0.Input }],
            needHelpLink: [{ type: i0.Input }],
            registerLink: [{ type: i0.Input }],
            logoImageUrl: [{ type: i0.Input }],
            backgroundImageUrl: [{ type: i0.Input }],
            copyrightText: [{ type: i0.Input }],
            providers: [{ type: i0.Input }],
            fieldsValidation: [{ type: i0.Input }],
            disableCsrf: [{ type: i0.Input }],
            successRoute: [{ type: i0.Input }],
            success: [{ type: i0.Output }],
            error: [{ type: i0.Output }],
            executeSubmit: [{ type: i0.Output }]
        };
        return LoginComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LoginHeaderDirective = /** @class */ (function () {
        function LoginHeaderDirective(alfrescoLoginComponent) {
            this.alfrescoLoginComponent = alfrescoLoginComponent;
        }
        /**
         * @return {?}
         */
        LoginHeaderDirective.prototype.ngAfterContentInit = /**
         * @return {?}
         */
            function () {
                this.alfrescoLoginComponent.headerTemplate = this.template;
            };
        LoginHeaderDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: 'login-header'
                    },] }
        ];
        /** @nocollapse */
        LoginHeaderDirective.ctorParameters = function () {
            return [
                { type: LoginComponent }
            ];
        };
        LoginHeaderDirective.propDecorators = {
            template: [{ type: i0.ContentChild, args: [i0.TemplateRef,] }]
        };
        return LoginHeaderDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LoginFooterDirective = /** @class */ (function () {
        function LoginFooterDirective(alfrescoLoginComponent) {
            this.alfrescoLoginComponent = alfrescoLoginComponent;
        }
        /**
         * @return {?}
         */
        LoginFooterDirective.prototype.ngAfterContentInit = /**
         * @return {?}
         */
            function () {
                this.alfrescoLoginComponent.footerTemplate = this.template;
            };
        LoginFooterDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: 'login-footer'
                    },] }
        ];
        /** @nocollapse */
        LoginFooterDirective.ctorParameters = function () {
            return [
                { type: LoginComponent }
            ];
        };
        LoginFooterDirective.propDecorators = {
            template: [{ type: i0.ContentChild, args: [i0.TemplateRef,] }]
        };
        return LoginFooterDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LoginDialogComponent = /** @class */ (function () {
        function LoginDialogComponent(data) {
            this.data = data;
            this.buttonActionName = '';
            this.buttonActionName = data.actionName ? "LOGIN.DIALOG." + data.actionName.toUpperCase() : 'LOGIN.DIALOG.CHOOSE';
        }
        /**
         * @return {?}
         */
        LoginDialogComponent.prototype.close = /**
         * @return {?}
         */
            function () {
                this.data.logged.complete();
            };
        /**
         * @return {?}
         */
        LoginDialogComponent.prototype.submitForm = /**
         * @return {?}
         */
            function () {
                this.loginPanel.submitForm();
            };
        /**
         * @param {?} event
         * @return {?}
         */
        LoginDialogComponent.prototype.onLoginSuccess = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                this.data.logged.next(event);
                this.close();
            };
        /**
         * @return {?}
         */
        LoginDialogComponent.prototype.isFormValid = /**
         * @return {?}
         */
            function () {
                return this.loginPanel ? this.loginPanel.isValid() : false;
            };
        LoginDialogComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-login-dialog',
                        template: "<header\n    mat-dialog-title\n    data-automation-id=\"login-dialog-title\">{{data?.title}}\n</header>\n\n<mat-dialog-content class=\"adf-login-dialog-content\">\n    <adf-login-dialog-panel #adfLoginPanel\n                            (success)=\"onLoginSuccess($event)\">\n    </adf-login-dialog-panel>\n</mat-dialog-content>\n\n<mat-dialog-actions align=\"end\">\n    <button\n        mat-button\n        (click)=\"close()\"\n        data-automation-id=\"login-dialog-actions-cancel\">{{ 'LOGIN.DIALOG.CANCEL' | translate }}\n    </button>\n\n    <button mat-button\n        class=\"choose-action\"\n        data-automation-id=\"login-dialog-actions-perform\"\n        [disabled]=\"!isFormValid()\"\n        (click)=\"submitForm()\">{{ buttonActionName | translate}}\n    </button>\n</mat-dialog-actions>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        LoginDialogComponent.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: i0.Inject, args: [material.MAT_DIALOG_DATA,] }] }
            ];
        };
        LoginDialogComponent.propDecorators = {
            loginPanel: [{ type: i0.ViewChild, args: ['adfLoginPanel',] }]
        };
        return LoginDialogComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LoginDialogPanelComponent = /** @class */ (function () {
        function LoginDialogPanelComponent() {
            this.success = new i0.EventEmitter();
        }
        /**
         * @return {?}
         */
        LoginDialogPanelComponent.prototype.submitForm = /**
         * @return {?}
         */
            function () {
                this.login.submit();
            };
        /**
         * @param {?} event
         * @return {?}
         */
        LoginDialogPanelComponent.prototype.onLoginSuccess = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                this.success.emit(event);
            };
        /**
         * @return {?}
         */
        LoginDialogPanelComponent.prototype.isValid = /**
         * @return {?}
         */
            function () {
                return this.login && this.login.form ? this.login.form.valid : false;
            };
        LoginDialogPanelComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-login-dialog-panel',
                        template: "<div>\n    <adf-login #adfLogin\n               [showRememberMe]=\"false\"\n               [showLoginActions]=\"false\"\n               [backgroundImageUrl]=\"''\"\n               (success)=\"onLoginSuccess($event)\">\n        <login-header><ng-template></ng-template></login-header>\n        <login-footer><ng-template></ng-template></login-footer>\n    </adf-login>\n</div>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        LoginDialogPanelComponent.propDecorators = {
            success: [{ type: i0.Output }],
            login: [{ type: i0.ViewChild, args: ['adfLogin',] }]
        };
        return LoginDialogPanelComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LoginModule = /** @class */ (function () {
        function LoginModule() {
        }
        LoginModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            router.RouterModule,
                            MaterialModule,
                            forms.FormsModule,
                            forms.ReactiveFormsModule,
                            common.CommonModule,
                            core$1.TranslateModule.forChild()
                        ],
                        declarations: [
                            LoginComponent,
                            LoginFooterDirective,
                            LoginHeaderDirective,
                            LoginDialogComponent,
                            LoginDialogPanelComponent
                        ],
                        entryComponents: [LoginDialogComponent, LoginDialogPanelComponent],
                        exports: [
                            LoginComponent,
                            LoginFooterDirective,
                            LoginHeaderDirective,
                            LoginDialogComponent,
                            LoginDialogPanelComponent
                        ]
                    },] }
        ];
        return LoginModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LanguageMenuComponent = /** @class */ (function () {
        function LanguageMenuComponent(appConfig, userPreference) {
            this.appConfig = appConfig;
            this.userPreference = userPreference;
            this.languages = [
                { key: 'en', label: 'English' }
            ];
        }
        /**
         * @return {?}
         */
        LanguageMenuComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var languagesCongifApp = this.appConfig.get(AppConfigValues.APP_CONFIG_LANGUAGES_KEY);
                if (languagesCongifApp) {
                    this.languages = languagesCongifApp;
                }
            };
        /**
         * @param {?} lang
         * @return {?}
         */
        LanguageMenuComponent.prototype.changeLanguage = /**
         * @param {?} lang
         * @return {?}
         */
            function (lang) {
                this.userPreference.locale = lang;
            };
        LanguageMenuComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-language-menu',
                        template: "<button mat-menu-item *ngFor=\"let language of languages\" (click)=\"changeLanguage(language.key)\">{{language.label}}\n</button>\n"
                    }] }
        ];
        /** @nocollapse */
        LanguageMenuComponent.ctorParameters = function () {
            return [
                { type: AppConfigService },
                { type: UserPreferencesService }
            ];
        };
        return LanguageMenuComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LanguageMenuModule = /** @class */ (function () {
        function LanguageMenuModule() {
        }
        LanguageMenuModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            MaterialModule
                        ],
                        declarations: [
                            LanguageMenuComponent
                        ],
                        exports: [
                            LanguageMenuComponent
                        ]
                    },] }
        ];
        return LanguageMenuModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var InfoDrawerLayoutComponent = /** @class */ (function () {
        function InfoDrawerLayoutComponent() {
        }
        InfoDrawerLayoutComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-info-drawer-layout',
                        template: "<div class=\"adf-info-drawer-layout-header\">\n    <div class=\"adf-info-drawer-layout-header-title\">\n        <ng-content select=\"[info-drawer-title]\"></ng-content>\n    </div>\n    <div class=\"adf-info-drawer-layout-header-buttons\">\n        <ng-content select=\"[info-drawer-buttons]\"></ng-content>\n    </div>\n</div>\n<div class=\"adf-info-drawer-layout-content\">\n    <ng-content select=\"[info-drawer-content]\"></ng-content>\n</div>",
                        encapsulation: i0.ViewEncapsulation.None,
                        host: { 'class': 'adf-info-drawer-layout' },
                        styles: [""]
                    }] }
        ];
        return InfoDrawerLayoutComponent;
    }());
    var InfoDrawerTitleDirective = /** @class */ (function () {
        function InfoDrawerTitleDirective() {
        }
        InfoDrawerTitleDirective.decorators = [
            { type: i0.Directive, args: [{ selector: '[info-drawer-title]' },] }
        ];
        return InfoDrawerTitleDirective;
    }());
    var InfoDrawerButtonsDirective = /** @class */ (function () {
        function InfoDrawerButtonsDirective() {
        }
        InfoDrawerButtonsDirective.decorators = [
            { type: i0.Directive, args: [{ selector: '[info-drawer-buttons]' },] }
        ];
        return InfoDrawerButtonsDirective;
    }());
    var InfoDrawerContentDirective = /** @class */ (function () {
        function InfoDrawerContentDirective() {
        }
        InfoDrawerContentDirective.decorators = [
            { type: i0.Directive, args: [{ selector: '[info-drawer-content]' },] }
        ];
        return InfoDrawerContentDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var InfoDrawerTabComponent = /** @class */ (function () {
        function InfoDrawerTabComponent() {
            /**
             * The title of the tab.
             */
            this.label = '';
            /**
             * Icon to render for the tab.
             */
            this.icon = null;
        }
        InfoDrawerTabComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-info-drawer-tab',
                        template: '<ng-template><ng-content></ng-content></ng-template>'
                    }] }
        ];
        InfoDrawerTabComponent.propDecorators = {
            label: [{ type: i0.Input }],
            icon: [{ type: i0.Input }],
            content: [{ type: i0.ViewChild, args: [i0.TemplateRef,] }]
        };
        return InfoDrawerTabComponent;
    }());
    var InfoDrawerComponent = /** @class */ (function () {
        function InfoDrawerComponent() {
            /**
             * The title of the info drawer.
             */
            this.title = null;
            /**
             * The selected index tab.
             */
            this.selectedIndex = 0;
            /**
             * Emitted when the currently active tab changes.
             */
            this.currentTab = new i0.EventEmitter();
        }
        /**
         * @return {?}
         */
        InfoDrawerComponent.prototype.showTabLayout = /**
         * @return {?}
         */
            function () {
                return this.contentBlocks.length > 0;
            };
        /**
         * @param {?} event
         * @return {?}
         */
        InfoDrawerComponent.prototype.onTabChange = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                this.currentTab.emit(event.index);
            };
        InfoDrawerComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-info-drawer',
                        template: "<adf-info-drawer-layout>\n    <div *ngIf=\"title\" info-drawer-title>{{title}}</div>\n    <ng-content *ngIf=\"!title\" info-drawer-title select=\"[info-drawer-title]\"></ng-content>\n\n    <ng-content info-drawer-buttons select=\"[info-drawer-buttons]\"></ng-content>\n\n    <ng-container info-drawer-content *ngIf=\"showTabLayout(); then tabLayout else singleLayout\"></ng-container>\n\n    <ng-template #tabLayout>\n        <mat-tab-group [(selectedIndex)]=\"selectedIndex\" class=\"adf-info-drawer-tabs\" (selectedTabChange)=\"onTabChange($event)\">\n            <mat-tab *ngFor=\"let contentBlock of contentBlocks\" [label]=\"contentBlock.label\" class=\"adf-info-drawer-tab\">\n                <ng-container *ngIf=\"contentBlock.icon\">\n                    <ng-template mat-tab-label>\n                        <mat-icon>{{ contentBlock.icon }}</mat-icon>\n                        <span *ngIf=\"contentBlock.label\">{{ contentBlock.label }}</span>\n                    </ng-template>\n                </ng-container>\n\n                <ng-container *ngTemplateOutlet=\"contentBlock.content\"></ng-container>\n            </mat-tab>\n        </mat-tab-group>\n    </ng-template>\n\n    <ng-template #singleLayout>\n        <ng-content select=\"[info-drawer-content]\"></ng-content>\n    </ng-template>\n</adf-info-drawer-layout>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        host: { 'class': 'adf-info-drawer' },
                        styles: [".adf-info-drawer{display:block}.adf-info-drawer .adf-info-drawer-layout-content{padding:0}.adf-info-drawer .adf-info-drawer-layout-content>:not(.adf-info-drawer-tabs){padding:10px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content>*,.adf-info-drawer .adf-info-drawer-layout-content>:not(.adf-info-drawer-tabs)>*{margin-bottom:20px;display:block}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content>:last-child{margin-bottom:0}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-label{flex-grow:1}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-label .mat-icon+span{padding-left:5px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-ink-bar{height:4px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body{padding:10px}.adf-info-drawer .adf-info-drawer-layout-content .adf-info-drawer-tabs .mat-tab-body-content{overflow:initial}"]
                    }] }
        ];
        InfoDrawerComponent.propDecorators = {
            title: [{ type: i0.Input }],
            selectedIndex: [{ type: i0.Input }],
            currentTab: [{ type: i0.Output }],
            contentBlocks: [{ type: i0.ContentChildren, args: [InfoDrawerTabComponent,] }]
        };
        return InfoDrawerComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * @return {?}
     */
    function declarations() {
        return [
            InfoDrawerLayoutComponent,
            InfoDrawerTabComponent,
            InfoDrawerComponent,
            InfoDrawerTitleDirective,
            InfoDrawerButtonsDirective,
            InfoDrawerContentDirective
        ];
    }
    var InfoDrawerModule = /** @class */ (function () {
        function InfoDrawerModule() {
        }
        InfoDrawerModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            MaterialModule
                        ],
                        declarations: declarations(),
                        exports: declarations()
                    },] }
        ];
        return InfoDrawerModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * @abstract
     */
    var DataTableSchema = /** @class */ (function () {
        function DataTableSchema(appConfigService, presetKey, presetsModel) {
            this.appConfigService = appConfigService;
            this.presetKey = presetKey;
            this.presetsModel = presetsModel;
            this.layoutPresets = {};
        }
        /**
         * @return {?}
         */
        DataTableSchema.prototype.createDatatableSchema = /**
         * @return {?}
         */
            function () {
                this.loadLayoutPresets();
                if (!this.columns || this.columns.length === 0) {
                    this.columns = this.mergeJsonAndHtmlSchema();
                }
            };
        /**
         * @return {?}
         */
        DataTableSchema.prototype.loadLayoutPresets = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var externalSettings = this.appConfigService.get(this.presetKey, null);
                if (externalSettings) {
                    this.layoutPresets = Object.assign({}, this.presetsModel, externalSettings);
                }
                else {
                    this.layoutPresets = this.presetsModel;
                }
            };
        /**
         * @return {?}
         */
        DataTableSchema.prototype.mergeJsonAndHtmlSchema = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var customSchemaColumns = [];
                customSchemaColumns = this.getSchemaFromConfig(this.presetColumn).concat(this.getSchemaFromHtml(this.columnList));
                if (customSchemaColumns.length === 0) {
                    customSchemaColumns = this.getDefaultLayoutPreset();
                }
                return customSchemaColumns;
            };
        /**
         * @param {?} columnList
         * @return {?}
         */
        DataTableSchema.prototype.getSchemaFromHtml = /**
         * @param {?} columnList
         * @return {?}
         */
            function (columnList) {
                /** @type {?} */
                var schema = [];
                if (columnList && columnList.columns && columnList.columns.length > 0) {
                    schema = columnList.columns.map(function (c) { return (c); });
                }
                return schema;
            };
        /**
         * @param {?} presetColoumn
         * @return {?}
         */
        DataTableSchema.prototype.getSchemaFromConfig = /**
         * @param {?} presetColoumn
         * @return {?}
         */
            function (presetColoumn) {
                return presetColoumn ? (this.layoutPresets[presetColoumn]).map(function (col) { return new ObjectDataColumn(col); }) : [];
            };
        /**
         * @return {?}
         */
        DataTableSchema.prototype.getDefaultLayoutPreset = /**
         * @return {?}
         */
            function () {
                return (this.layoutPresets['default']).map(function (col) { return new ObjectDataColumn(col); });
            };
        DataTableSchema.propDecorators = {
            columnList: [{ type: i0.ContentChild, args: [DataColumnListComponent,] }],
            presetColumn: [{ type: i0.Input }]
        };
        return DataTableSchema;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AccordionGroupComponent = /** @class */ (function () {
        function AccordionGroupComponent() {
            this._isOpen = false;
            this._isSelected = false;
            /**
             * Should the (expanded) accordion icon be shown?
             */
            this.hasAccordionIcon = true;
            /**
             * Emitted when the heading is clicked.
             */
            this.headingClick = new i0.EventEmitter();
        }
        Object.defineProperty(AccordionGroupComponent.prototype, "isOpen", {
            get: /**
             * @return {?}
             */ function () {
                return this._isOpen;
            },
            /** Is this group currently open? */
            set: /**
             * Is this group currently open?
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._isOpen = value;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(AccordionGroupComponent.prototype, "isSelected", {
            get: /**
             * @return {?}
             */ function () {
                return this._isSelected;
            },
            /** Is this group currently selected? */
            set: /**
             * Is this group currently selected?
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._isSelected = value;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        AccordionGroupComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
            function () {
                this.hasContent = this.contentWrapper.nativeElement && this.contentWrapper.nativeElement.children.length > 0;
            };
        /**
         * @return {?}
         */
        AccordionGroupComponent.prototype.hasHeadingIcon = /**
         * @return {?}
         */
            function () {
                return !!this.headingIcon;
            };
        /**
         * @return {?}
         */
        AccordionGroupComponent.prototype.onHeaderClick = /**
         * @return {?}
         */
            function () {
                this.headingClick.emit(this.heading);
            };
        /**
         * @return {?}
         */
        AccordionGroupComponent.prototype.isExpandable = /**
         * @return {?}
         */
            function () {
                if (!this.hasContent || !this.isOpen) {
                    this.expandPanel();
                }
            };
        /**
         * @return {?}
         */
        AccordionGroupComponent.prototype.expandPanel = /**
         * @return {?}
         */
            function () {
                this.expansionPanel.expanded = !this.expansionPanel.expanded;
            };
        /**
         * @return {?}
         */
        AccordionGroupComponent.prototype.toggleExpansion = /**
         * @return {?}
         */
            function () {
                return this.isOpen && this.isSelected;
            };
        AccordionGroupComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-accordion-group',
                        template: "<mat-accordion class=\"adf-panel\">\n    <mat-expansion-panel #expansionPanel\n        id=\"adf-expansion-panel-id\"\n        (click)=\"isExpandable()\"\n        [expanded]=\"toggleExpansion()\"\n        (opened)=\"onHeaderClick()\"\n        [hideToggle]=\"!hasAccordionIcon\">\n        <mat-expansion-panel-header>\n            <mat-panel-title>\n                <div class=\"adf-panel-heading\" data-automation-id=\"adf-panel-heading\" [ngClass]=\"{'adf-panel-heading-selected': isSelected}\">\n                    <div id=\"heading-icon\" *ngIf=\"hasHeadingIcon()\" class=\"adf-panel-heading-icon\">\n                        <mat-icon class=\"material-icons\"\n                            [matTooltip]=\"headingIconTooltip\"\n                            [matTooltipDisabled]=\"!headingIconTooltip\">\n                            {{headingIcon}}\n                        </mat-icon>\n                    </div>\n                    <div id=\"heading-text\" class=\"adf-panel-heading-text\">{{heading}}</div>\n                </div>\n            </mat-panel-title>\n        </mat-expansion-panel-header>\n        <div id=\"adf-expansion-panel-content-id\" #contentWrapper>\n            <ng-content></ng-content>\n        </div>\n    </mat-expansion-panel>\n</mat-accordion>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        AccordionGroupComponent.ctorParameters = function () { return []; };
        AccordionGroupComponent.propDecorators = {
            contentWrapper: [{ type: i0.ViewChild, args: ['contentWrapper',] }],
            expansionPanel: [{ type: i0.ViewChild, args: ['expansionPanel',] }],
            heading: [{ type: i0.Input }],
            headingIcon: [{ type: i0.Input }],
            headingIconTooltip: [{ type: i0.Input }],
            hasAccordionIcon: [{ type: i0.Input }],
            headingClick: [{ type: i0.Output }],
            isOpen: [{ type: i0.Input }],
            isSelected: [{ type: i0.Input }]
        };
        return AccordionGroupComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AccordionComponent = /** @class */ (function () {
        function AccordionComponent() {
        }
        AccordionComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-accordion',
                        template: "\n        <ng-content></ng-content>\n    ",
                        host: {
                            'class': 'panel-group'
                        },
                        encapsulation: i0.ViewEncapsulation.None
                    }] }
        ];
        return AccordionComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CollapsableModule = /** @class */ (function () {
        function CollapsableModule() {
        }
        CollapsableModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            MaterialModule,
                            common.CommonModule
                        ],
                        declarations: [
                            AccordionComponent,
                            AccordionGroupComponent
                        ],
                        exports: [
                            AccordionComponent,
                            AccordionGroupComponent
                        ]
                    },] }
        ];
        return CollapsableModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewComponent = /** @class */ (function () {
        function CardViewComponent() {
            /**
             * Toggles whether or not to show empty items in non-editable mode.
             */
            this.displayEmpty = true;
        }
        CardViewComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-card-view',
                        template: "<div class=\"adf-property-list\">\n    <div *ngFor=\"let property of properties\">\n        <div [attr.data-automation-id]=\"'header-'+property.key\" class=\"adf-property\">\n            <adf-card-view-item-dispatcher\n                [property]=\"property\"\n                [editable]=\"editable\"\n                [displayEmpty]=\"displayEmpty\">\n            </adf-card-view-item-dispatcher>\n        </div>\n    </div>\n</div>\n",
                        styles: [""]
                    }] }
        ];
        CardViewComponent.propDecorators = {
            properties: [{ type: i0.Input }],
            editable: [{ type: i0.Input }],
            displayEmpty: [{ type: i0.Input }]
        };
        return CardViewComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * @param {?} key
     * @param {?} value
     * @return {?}
     */
    function transformKeyToObject(key, value) {
        /** @type {?} */
        var objectLevels = key.split('.').reverse();
        return objectLevels.reduce(function (previousValue, currentValue) {
            var _a;
            return _a = {}, _a[currentValue] = previousValue, _a;
        }, value);
    }
    var CardViewUpdateService = /** @class */ (function () {
        function CardViewUpdateService() {
            this.itemUpdatedSource = new rxjs.Subject();
            this.itemClickedSource = new rxjs.Subject();
            this.itemUpdated$ = /** @type {?} */ (this.itemUpdatedSource.asObservable());
            this.itemClicked$ = /** @type {?} */ (this.itemClickedSource.asObservable());
        }
        /**
         * @param {?} property
         * @param {?} newValue
         * @return {?}
         */
        CardViewUpdateService.prototype.update = /**
         * @param {?} property
         * @param {?} newValue
         * @return {?}
         */
            function (property, newValue) {
                this.itemUpdatedSource.next({
                    target: property,
                    changed: transformKeyToObject(property.key, newValue)
                });
            };
        /**
         * @param {?} property
         * @return {?}
         */
        CardViewUpdateService.prototype.clicked = /**
         * @param {?} property
         * @return {?}
         */
            function (property) {
                this.itemClickedSource.next({
                    target: property
                });
            };
        CardViewUpdateService.decorators = [
            { type: i0.Injectable }
        ];
        return CardViewUpdateService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewBoolItemComponent = /** @class */ (function () {
        function CardViewBoolItemComponent(cardViewUpdateService) {
            this.cardViewUpdateService = cardViewUpdateService;
        }
        /**
         * @return {?}
         */
        CardViewBoolItemComponent.prototype.isEditable = /**
         * @return {?}
         */
            function () {
                return this.editable && this.property.editable;
            };
        /**
         * @param {?} change
         * @return {?}
         */
        CardViewBoolItemComponent.prototype.changed = /**
         * @param {?} change
         * @return {?}
         */
            function (change) {
                this.cardViewUpdateService.update(this.property, change.checked);
                this.property.value = change.checked;
            };
        CardViewBoolItemComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-card-view-boolitem',
                        template: "<ng-container *ngIf=\"!property.isEmpty() || isEditable()\">\n    <div [attr.data-automation-id]=\"'card-boolean-label-' + property.key\" class=\"adf-property-label\">{{ property.label | translate }}</div>\n    <div class=\"adf-property-value\">\n        <mat-checkbox\n            [attr.data-automation-id]=\"'card-boolean-' + property.key\"\n            [attr.title]=\"'CORE.METADATA.ACTIONS.TOGGLE' | translate\"\n            [checked]=\"property.displayValue\"\n            [disabled]=\"!isEditable()\"\n            (change)=\"changed($event)\">\n        </mat-checkbox>\n    </div>\n</ng-container>\n",
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        CardViewBoolItemComponent.ctorParameters = function () {
            return [
                { type: CardViewUpdateService }
            ];
        };
        CardViewBoolItemComponent.propDecorators = {
            property: [{ type: i0.Input }],
            editable: [{ type: i0.Input }]
        };
        return CardViewBoolItemComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ɵ0 = MOMENT_DATE_FORMATS, ɵ1 = moment$2.MAT_MOMENT_DATETIME_FORMATS;
    var CardViewDateItemComponent = /** @class */ (function () {
        function CardViewDateItemComponent(cardViewUpdateService, dateAdapter, preferences) {
            this.cardViewUpdateService = cardViewUpdateService;
            this.dateAdapter = dateAdapter;
            this.preferences = preferences;
            this.SHOW_FORMAT = 'MMM DD YY';
            this.editable = false;
            this.displayEmpty = true;
        }
        /**
         * @return {?}
         */
        CardViewDateItemComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.preferences.locale$.subscribe(function (locale) {
                    _this.dateAdapter.setLocale(locale);
                });
                ( /** @type {?} */(this.dateAdapter)).overrideDisplyaFormat = this.SHOW_FORMAT;
                if (this.property.value) {
                    this.valueDate = moment$1(this.property.value, this.SHOW_FORMAT);
                }
            };
        /**
         * @return {?}
         */
        CardViewDateItemComponent.prototype.showProperty = /**
         * @return {?}
         */
            function () {
                return this.displayEmpty || !this.property.isEmpty();
            };
        /**
         * @return {?}
         */
        CardViewDateItemComponent.prototype.isEditable = /**
         * @return {?}
         */
            function () {
                return this.editable && this.property.editable;
            };
        /**
         * @return {?}
         */
        CardViewDateItemComponent.prototype.showDatePicker = /**
         * @return {?}
         */
            function () {
                this.datepicker.open();
            };
        /**
         * @param {?} newDateValue
         * @return {?}
         */
        CardViewDateItemComponent.prototype.onDateChanged = /**
         * @param {?} newDateValue
         * @return {?}
         */
            function (newDateValue) {
                if (newDateValue) {
                    /** @type {?} */
                    var momentDate = moment$1(newDateValue.value, this.SHOW_FORMAT, true);
                    if (momentDate.isValid()) {
                        this.valueDate = momentDate;
                        this.cardViewUpdateService.update(this.property, momentDate.toDate());
                        this.property.value = momentDate.toDate();
                    }
                }
            };
        CardViewDateItemComponent.decorators = [
            { type: i0.Component, args: [{
                        providers: [
                            { provide: material.DateAdapter, useClass: MomentDateAdapter },
                            { provide: material.MAT_DATE_FORMATS, useValue: ɵ0 },
                            { provide: core.DatetimeAdapter, useClass: moment$2.MomentDatetimeAdapter },
                            { provide: core.MAT_DATETIME_FORMATS, useValue: ɵ1 }
                        ],
                        selector: 'adf-card-view-dateitem',
                        template: "<div [attr.data-automation-id]=\"'card-dateitem-label-' + property.key\" class=\"adf-property-label\" *ngIf=\"showProperty() || isEditable()\">{{ property.label | translate }}</div>\n<div class=\"adf-property-value\">\n    <span *ngIf=\"!isEditable()\" [attr.data-automation-id]=\"'card-' + property.type + '-value-' + property.key\">\n        <span [attr.data-automation-id]=\"'card-dateitem-' + property.key\">\n            <span *ngIf=\"showProperty()\">{{ property.displayValue }}</span>\n        </span>\n    </span>\n    <div *ngIf=\"isEditable()\" class=\"adf-dateitem-editable\">\n        <div class=\"adf-dateitem-editable-controls\">\n            <span\n                class=\"adf-datepicker-toggle\"\n                [attr.data-automation-id]=\"'datepicker-label-toggle-' + property.key\"\n                (click)=\"showDatePicker()\">\n                <span [attr.data-automation-id]=\"'card-' + property.type + '-value-' + property.key\" *ngIf=\"showProperty(); else elseEmptyValueBlock\">{{ property.displayValue }}</span>\n            </span>\n            <mat-datetimepicker-toggle\n                [attr.title]=\"'CORE.METADATA.ACTIONS.EDIT' | translate\"\n                [attr.data-automation-id]=\"'datepickertoggle-' + property.key\"\n                [for]=\"datetimePicker\">\n            </mat-datetimepicker-toggle>\n        </div>\n\n        <input class=\"adf-invisible-date-input\"\n            [matDatetimepicker]=\"datetimePicker\"\n            [value]=\"valueDate\"\n            (dateChange)=\"onDateChanged($event)\">\n\n        <mat-datetimepicker #datetimePicker\n            [type]=\"property.type\"\n            timeInterval=\"5\"\n            [attr.data-automation-id]=\"'datepicker-' + property.key\"\n            [startAt]=\"valueDate\">\n        </mat-datetimepicker>\n    </div>\n    <ng-template #elseEmptyValueBlock>\n        {{ property.default | translate }}\n    </ng-template>\n</div>\n",
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        CardViewDateItemComponent.ctorParameters = function () {
            return [
                { type: CardViewUpdateService },
                { type: material.DateAdapter },
                { type: UserPreferencesService }
            ];
        };
        CardViewDateItemComponent.propDecorators = {
            property: [{ type: i0.Input }],
            editable: [{ type: i0.Input }],
            displayEmpty: [{ type: i0.Input }],
            datepicker: [{ type: i0.ViewChild, args: ['datetimePicker',] }]
        };
        return CardViewDateItemComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewMapItemComponent = /** @class */ (function () {
        function CardViewMapItemComponent(cardViewUpdateService) {
            this.cardViewUpdateService = cardViewUpdateService;
            this.displayEmpty = true;
        }
        /**
         * @return {?}
         */
        CardViewMapItemComponent.prototype.showProperty = /**
         * @return {?}
         */
            function () {
                return this.displayEmpty || !this.property.isEmpty();
            };
        /**
         * @return {?}
         */
        CardViewMapItemComponent.prototype.isClickable = /**
         * @return {?}
         */
            function () {
                return this.property.clickable;
            };
        /**
         * @return {?}
         */
        CardViewMapItemComponent.prototype.clicked = /**
         * @return {?}
         */
            function () {
                this.cardViewUpdateService.clicked(this.property);
            };
        CardViewMapItemComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-card-view-mapitem',
                        template: "<div [attr.data-automation-id]=\"'card-mapitem-label-' + property.key\" class=\"adf-property-label\" *ngIf=\"showProperty()\">{{ property.label | translate }}</div>\n<div class=\"adf-property-value\">\n    <div>\n        <span *ngIf=\"!isClickable(); else elseBlock\" [attr.data-automation-id]=\"'card-mapitem-value-' + property.key\">\n            <span *ngIf=\"showProperty();\">{{ property.displayValue }}</span>\n        </span>\n        <ng-template #elseBlock>\n            <span class=\"adf-mapitem-clickable-value\" (click)=\"clicked()\" [attr.data-automation-id]=\"'card-mapitem-value-' + property.key\">\n                <span *ngIf=\"showProperty(); else elseEmptyValueBlock\">{{ property.displayValue }}</span>\n            </span>\n        </ng-template>\n    </div>\n    <ng-template #elseEmptyValueBlock>\n        {{ property.default | translate }}\n    </ng-template>\n</div>\n",
                        styles: [".adf-mapitem-clickable-value{cursor:pointer}"]
                    }] }
        ];
        /** @nocollapse */
        CardViewMapItemComponent.ctorParameters = function () {
            return [
                { type: CardViewUpdateService }
            ];
        };
        CardViewMapItemComponent.propDecorators = {
            property: [{ type: i0.Input }],
            displayEmpty: [{ type: i0.Input }]
        };
        return CardViewMapItemComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewTextItemComponent = /** @class */ (function () {
        function CardViewTextItemComponent(cardViewUpdateService) {
            this.cardViewUpdateService = cardViewUpdateService;
            this.editable = false;
            this.displayEmpty = true;
            this.inEdit = false;
        }
        /**
         * @return {?}
         */
        CardViewTextItemComponent.prototype.ngOnChanges = /**
         * @return {?}
         */
            function () {
                this.editedValue = this.property.value;
            };
        /**
         * @return {?}
         */
        CardViewTextItemComponent.prototype.showProperty = /**
         * @return {?}
         */
            function () {
                return this.displayEmpty || !this.property.isEmpty();
            };
        /**
         * @return {?}
         */
        CardViewTextItemComponent.prototype.isEditable = /**
         * @return {?}
         */
            function () {
                return this.editable && this.property.editable;
            };
        /**
         * @return {?}
         */
        CardViewTextItemComponent.prototype.isClickable = /**
         * @return {?}
         */
            function () {
                return this.property.clickable;
            };
        /**
         * @return {?}
         */
        CardViewTextItemComponent.prototype.hasIcon = /**
         * @return {?}
         */
            function () {
                return !!this.property.icon;
            };
        /**
         * @return {?}
         */
        CardViewTextItemComponent.prototype.hasErrors = /**
         * @return {?}
         */
            function () {
                return this.errorMessages && this.errorMessages.length;
            };
        /**
         * @param {?} editStatus
         * @return {?}
         */
        CardViewTextItemComponent.prototype.setEditMode = /**
         * @param {?} editStatus
         * @return {?}
         */
            function (editStatus) {
                var _this = this;
                this.inEdit = editStatus;
                setTimeout(function () {
                    if (_this.editorInput) {
                        _this.editorInput.nativeElement.click();
                    }
                }, 0);
            };
        /**
         * @return {?}
         */
        CardViewTextItemComponent.prototype.reset = /**
         * @return {?}
         */
            function () {
                this.editedValue = this.property.value;
                this.setEditMode(false);
            };
        /**
         * @return {?}
         */
        CardViewTextItemComponent.prototype.update = /**
         * @return {?}
         */
            function () {
                if (this.property.isValid(this.editedValue)) {
                    this.cardViewUpdateService.update(this.property, this.editedValue);
                    this.property.value = this.editedValue;
                    this.setEditMode(false);
                }
                else {
                    this.errorMessages = this.property.getValidationErrors(this.editedValue);
                }
            };
        /**
         * @return {?}
         */
        CardViewTextItemComponent.prototype.clicked = /**
         * @return {?}
         */
            function () {
                this.cardViewUpdateService.clicked(this.property);
            };
        CardViewTextItemComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-card-view-textitem',
                        template: "<div [attr.data-automation-id]=\"'card-textitem-label-' + property.key\" class=\"adf-property-label\" *ngIf=\"showProperty() || isEditable()\">{{ property.label | translate }}</div>\n<div class=\"adf-property-value\">\n    <span *ngIf=\"!isEditable()\">\n        <span *ngIf=\"!isClickable(); else elseBlock\" [attr.data-automation-id]=\"'card-textitem-value-' + property.key\">\n            <span *ngIf=\"showProperty()\">{{ property.displayValue }}</span>\n        </span>\n        <ng-template #elseBlock>\n        <div class=\"adf-textitem-clickable\" (click)=\"clicked()\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n            <span class=\"adf-textitem-clickable-value\" [attr.data-automation-id]=\"'card-textitem-value-' + property.key\">\n                <span *ngIf=\"showProperty(); else elseEmptyValueBlock\">{{ property.displayValue }}</span>\n            </span>\n            <mat-icon *ngIf=\"hasIcon()\" fxFlex=\"0 0 auto\" [attr.data-automation-id]=\"'card-textitem-edit-icon-' + property.icon\" class=\"adf-textitem-icon\">{{ property.icon }}</mat-icon>\n        </div>\n        </ng-template>\n    </span>\n    <span *ngIf=\"isEditable()\">\n        <div *ngIf=\"!inEdit\" (click)=\"setEditMode(true)\" class=\"adf-textitem-readonly\" [attr.data-automation-id]=\"'card-textitem-edit-toggle-' + property.key\" fxLayout=\"row\" fxLayoutAlign=\"space-between center\">\n            <span [attr.data-automation-id]=\"'card-textitem-value-' + property.key\">\n                <span *ngIf=\"showProperty(); else elseEmptyValueBlock\">{{ property.displayValue }}</span>\n            </span>\n            <mat-icon fxFlex=\"0 0 auto\"\n                [attr.data-automation-id]=\"'card-textitem-edit-icon-' + property.key\"\n                [attr.title]=\"'CORE.METADATA.ACTIONS.EDIT' | translate\"\n                class=\"adf-textitem-icon\">create</mat-icon>\n        </div>\n        <div *ngIf=\"inEdit\" class=\"adf-textitem-editable\">\n            <div class=\"adf-textitem-editable-controls\">\n                <mat-form-field floatPlaceholder=\"never\" class=\"adf-input-container\">\n                    <input *ngIf=\"!property.multiline\" #editorInput\n                        matInput\n                        class=\"adf-input\"\n                        [placeholder]=\"property.default | translate\"\n                        [(ngModel)]=\"editedValue\"\n                        [attr.data-automation-id]=\"'card-textitem-editinput-' + property.key\">\n                    <textarea *ngIf=\"property.multiline\" #editorInput\n                        matInput\n                        matTextareaAutosize\n                        matAutosizeMaxRows=\"1\"\n                        matAutosizeMaxRows=\"5\"\n                        class=\"adf-textarea\"\n                        [placeholder]=\"property.default | translate\"\n                        [(ngModel)]=\"editedValue\"\n                        [attr.data-automation-id]=\"'card-textitem-edittextarea-' + property.key\"></textarea>\n                </mat-form-field>\n                <mat-icon\n                    class=\"adf-textitem-icon adf-update-icon\"\n                    (click)=\"update()\"\n                    [attr.title]=\"'CORE.METADATA.ACTIONS.SAVE' | translate\"\n                    [attr.data-automation-id]=\"'card-textitem-update-' + property.key\">done</mat-icon>\n                <mat-icon\n                    class=\"adf-textitem-icon adf-reset-icon\"\n                    (click)=\"reset()\"\n                    [attr.title]=\"'CORE.METADATA.ACTIONS.CANCEL' | translate\"\n                    [attr.data-automation-id]=\"'card-textitem-reset-' + property.key\">clear</mat-icon>\n            </div>\n            <mat-error  [attr.data-automation-id]=\"'card-textitem-error-' + property.key\" class=\"adf-textitem-editable-error\" *ngIf=\"hasErrors()\">\n                <ul>\n                    <li *ngFor=\"let errorMessage of errorMessages\">{{ errorMessage | translate }}</li>\n                </ul>\n            </mat-error>\n        </div>\n    </span>\n    <ng-template #elseEmptyValueBlock>\n        <span class=\"adf-textitem-default-value\">{{ property.default | translate }}</span>\n    </ng-template>\n</div>\n",
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        CardViewTextItemComponent.ctorParameters = function () {
            return [
                { type: CardViewUpdateService }
            ];
        };
        CardViewTextItemComponent.propDecorators = {
            property: [{ type: i0.Input }],
            editable: [{ type: i0.Input }],
            displayEmpty: [{ type: i0.Input }],
            editorInput: [{ type: i0.ViewChild, args: ['editorInput',] }]
        };
        return CardViewTextItemComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewSelectItemComponent = /** @class */ (function () {
        function CardViewSelectItemComponent(cardViewUpdateService) {
            this.cardViewUpdateService = cardViewUpdateService;
            this.editable = false;
        }
        /**
         * @return {?}
         */
        CardViewSelectItemComponent.prototype.ngOnChanges = /**
         * @return {?}
         */
            function () {
                this.value = this.property.value;
            };
        /**
         * @return {?}
         */
        CardViewSelectItemComponent.prototype.isEditable = /**
         * @return {?}
         */
            function () {
                return this.editable && this.property.editable;
            };
        /**
         * @return {?}
         */
        CardViewSelectItemComponent.prototype.getOptions = /**
         * @return {?}
         */
            function () {
                return this.options$ || this.property.options$;
            };
        /**
         * @param {?} event
         * @return {?}
         */
        CardViewSelectItemComponent.prototype.onChange = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                this.cardViewUpdateService.update(this.property, event.value);
                this.property.value = event.value;
            };
        CardViewSelectItemComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-card-view-selectitem',
                        template: "<div [attr.data-automation-id]=\"'card-select-label-' + property.key\" class=\"adf-property-label\">{{ property.label | translate }}</div>\n<div class=\"adf-property-value\">\n    <div *ngIf=\"!isEditable()\" data-automation-class=\"read-only-value\">{{ property.displayValue | async }}</div>\n    <div *ngIf=\"isEditable()\">\n        <mat-form-field>\n            <mat-select [(value)]=\"value\" (selectionChange)=\"onChange($event)\" data-automation-class=\"select-box\">\n              <mat-option *ngFor=\"let option of getOptions() | async\" [value]=\"option.key\">\n                {{ option.label | translate }}\n              </mat-option>\n            </mat-select>\n          </mat-form-field>\n    </div>\n</div>\n",
                        styles: [".mat-form-field-type-mat-select{width:100%}"]
                    }] }
        ];
        /** @nocollapse */
        CardViewSelectItemComponent.ctorParameters = function () {
            return [
                { type: CardViewUpdateService }
            ];
        };
        CardViewSelectItemComponent.propDecorators = {
            property: [{ type: i0.Input }],
            editable: [{ type: i0.Input }],
            options$: [{ type: i0.Input }]
        };
        return CardViewSelectItemComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewKeyValuePairsItemComponent = /** @class */ (function () {
        function CardViewKeyValuePairsItemComponent(cardViewUpdateService) {
            this.cardViewUpdateService = cardViewUpdateService;
            this.editable = false;
        }
        /**
         * @return {?}
         */
        CardViewKeyValuePairsItemComponent.prototype.ngOnChanges = /**
         * @return {?}
         */
            function () {
                this.values = this.property.value || [];
                this.matTableValues = new material.MatTableDataSource(this.values);
            };
        /**
         * @return {?}
         */
        CardViewKeyValuePairsItemComponent.prototype.isEditable = /**
         * @return {?}
         */
            function () {
                return this.editable && this.property.editable;
            };
        /**
         * @return {?}
         */
        CardViewKeyValuePairsItemComponent.prototype.add = /**
         * @return {?}
         */
            function () {
                this.values.push({ name: '', value: '' });
            };
        /**
         * @param {?} index
         * @return {?}
         */
        CardViewKeyValuePairsItemComponent.prototype.remove = /**
         * @param {?} index
         * @return {?}
         */
            function (index) {
                this.values.splice(index, 1);
                this.save(true);
            };
        /**
         * @param {?} value
         * @return {?}
         */
        CardViewKeyValuePairsItemComponent.prototype.onBlur = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                if (value.length) {
                    this.save();
                }
            };
        /**
         * @param {?=} remove
         * @return {?}
         */
        CardViewKeyValuePairsItemComponent.prototype.save = /**
         * @param {?=} remove
         * @return {?}
         */
            function (remove) {
                /** @type {?} */
                var validValues = this.values.filter(function (i) { return i.name.length && i.value.length; });
                if (remove || validValues.length) {
                    this.cardViewUpdateService.update(this.property, validValues);
                    this.property.value = validValues;
                }
            };
        CardViewKeyValuePairsItemComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-card-view-boolitem',
                        template: "<div [attr.data-automation-id]=\"'card-key-value-pairs-label-' + property.key\" class=\"adf-property-label\">{{ property.label | translate }}</div>\n<div class=\"adf-property-value\">\n\n    <div *ngIf=\"isEditable()\">\n        {{ 'CORE.CARDVIEW.KEYVALUEPAIRS.ADD' | translate }}\n        <button (click)=\"add()\" mat-icon-button class=\"card-view__key-value-pairs__add-btn\" [attr.data-automation-id]=\"'card-key-value-pairs-button-' + property.key\">\n            <mat-icon>add</mat-icon>\n        </button>\n    </div>\n\n    <div *ngIf=\"!isEditable()\" class=\"card-view__key-value-pairs__read-only\">\n        <mat-table #table [dataSource]=\"matTableValues\" class=\"mat-elevation-z8\">\n            <ng-container matColumnDef=\"name\">\n                <mat-header-cell *matHeaderCellDef>{{ 'CORE.CARDVIEW.KEYVALUEPAIRS.NAME' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef=\"let item\">{{item.name}}</mat-cell>\n            </ng-container>\n            <ng-container matColumnDef=\"value\">\n                <mat-header-cell *matHeaderCellDef>{{ 'CORE.CARDVIEW.KEYVALUEPAIRS.VALUE' | translate }}</mat-header-cell>\n                <mat-cell *matCellDef=\"let item\">{{item.value}}</mat-cell>\n            </ng-container>\n\n            <mat-header-row *matHeaderRowDef=\"['name', 'value']\"></mat-header-row>\n            <mat-row *matRowDef=\"let row; columns: ['name', 'value'];\"></mat-row>\n        </mat-table>\n    </div>\n\n\n    <div class=\"card-view__key-value-pairs\" *ngIf=\"isEditable() && values && values.length\">\n        <div class=\"card-view__key-value-pairs__row\">\n            <div class=\"card-view__key-value-pairs__col\">{{ 'CORE.CARDVIEW.KEYVALUEPAIRS.NAME' | translate }}</div>\n            <div class=\"card-view__key-value-pairs__col\">{{ 'CORE.CARDVIEW.KEYVALUEPAIRS.VALUE' | translate }}</div>\n        </div>\n\n        <div class=\"card-view__key-value-pairs__row\" *ngFor=\"let item of values; let i = index\">\n            <div class=\"card-view__key-value-pairs__col\">\n                <mat-form-field class=\"example-full-width\">\n                    <input matInput\n                           placeholder=\"{{ 'CORE.CARDVIEW.KEYVALUEPAIRS.NAME' | translate }}\"\n                           (blur)=\"onBlur(item.value)\"\n                           [attr.data-automation-id]=\"'card-'+ property.key +'-name-input-' + i\"\n                           [(ngModel)]=\"values[i].name\">\n                </mat-form-field>\n            </div>\n            <div class=\"card-view__key-value-pairs__col\">\n                <mat-form-field class=\"example-full-width\">\n                    <input matInput\n                           placeholder=\"{{ 'CORE.CARDVIEW.KEYVALUEPAIRS.VALUE' | translate }}\"\n                           (blur)=\"onBlur(item.value)\"\n                           [attr.data-automation-id]=\"'card-'+ property.key +'-value-input-' + i\"\n                           [(ngModel)]=\"values[i].value\">\n                </mat-form-field>\n            </div>\n            <button mat-icon-button (click)=\"remove(i)\" class=\"card-view__key-value-pairs__remove-btn\">\n                <mat-icon>close</mat-icon>\n            </button>\n        </div>\n    </div>\n</div>\n",
                        styles: [".card-view__key-value-pairs__col{display:inline-block;width:39%}.card-view__key-value-pairs__col .mat-form-field{width:100%}.card-view__key-value-pairs__read-only .mat-table{box-shadow:none}.card-view__key-value-pairs__read-only .mat-header-row,.card-view__key-value-pairs__read-only .mat-row{padding:0}"]
                    }] }
        ];
        /** @nocollapse */
        CardViewKeyValuePairsItemComponent.ctorParameters = function () {
            return [
                { type: CardViewUpdateService }
            ];
        };
        CardViewKeyValuePairsItemComponent.propDecorators = {
            property: [{ type: i0.Input }],
            editable: [{ type: i0.Input }]
        };
        return CardViewKeyValuePairsItemComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /**
     * @param {?} type
     * @return {?}
     */
    function getType(type) {
        return function () { return type; };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DynamicComponentResolver = /** @class */ (function () {
        function DynamicComponentResolver() {
        }
        /**
         * @param {?} type
         * @return {?}
         */
        DynamicComponentResolver.fromType = /**
         * @param {?} type
         * @return {?}
         */
            function (type) {
                return getType(type);
            };
        return DynamicComponentResolver;
    }());
    /**
     * @abstract
     */
    var /**
     * @abstract
     */ DynamicComponentMapper = /** @class */ (function () {
        function DynamicComponentMapper() {
            this.defaultValue = undefined;
            this.types = {};
        }
        /**
         * Gets the currently active ComponentTypeResolver function for a field type.
         * @param type The type whose resolver you want
         * @param defaultValue Default type returned for types that are not yet mapped
         * @returns Resolver function
         */
        /**
         * Gets the currently active ComponentTypeResolver function for a field type.
         * @param {?} type The type whose resolver you want
         * @param {?=} defaultValue Default type returned for types that are not yet mapped
         * @return {?} Resolver function
         */
        DynamicComponentMapper.prototype.getComponentTypeResolver = /**
         * Gets the currently active ComponentTypeResolver function for a field type.
         * @param {?} type The type whose resolver you want
         * @param {?=} defaultValue Default type returned for types that are not yet mapped
         * @return {?} Resolver function
         */
            function (type, defaultValue) {
                if (defaultValue === void 0) {
                    defaultValue = this.defaultValue;
                }
                if (type) {
                    return this.types[type] || DynamicComponentResolver.fromType(defaultValue);
                }
                return DynamicComponentResolver.fromType(defaultValue);
            };
        /**
         * Sets or optionally replaces a ComponentTypeResolver function for a field type.
         * @param type The type whose resolver you want to set
         * @param resolver The new resolver function
         * @param override The new resolver will only replace an existing one if this parameter is true
         */
        /**
         * Sets or optionally replaces a ComponentTypeResolver function for a field type.
         * @param {?} type The type whose resolver you want to set
         * @param {?} resolver The new resolver function
         * @param {?=} override The new resolver will only replace an existing one if this parameter is true
         * @return {?}
         */
        DynamicComponentMapper.prototype.setComponentTypeResolver = /**
         * Sets or optionally replaces a ComponentTypeResolver function for a field type.
         * @param {?} type The type whose resolver you want to set
         * @param {?} resolver The new resolver function
         * @param {?=} override The new resolver will only replace an existing one if this parameter is true
         * @return {?}
         */
            function (type, resolver, override) {
                if (override === void 0) {
                    override = true;
                }
                if (!type) {
                    throw new Error("type is null or not defined");
                }
                if (!resolver) {
                    throw new Error("resolver is null or not defined");
                }
                /** @type {?} */
                var existing = this.types[type];
                if (existing && !override) {
                    throw new Error("already mapped, use override option if you intend replacing existing mapping.");
                }
                this.types[type] = resolver;
            };
        /**
         * Finds the component type that is needed to render a form field.
         * @param model Form field model for the field to render
         * @param defaultValue Default type returned for field types that are not yet mapped.
         * @returns Component type
         */
        /**
         * Finds the component type that is needed to render a form field.
         * @param {?} model Form field model for the field to render
         * @param {?=} defaultValue Default type returned for field types that are not yet mapped.
         * @return {?} Component type
         */
        DynamicComponentMapper.prototype.resolveComponentType = /**
         * Finds the component type that is needed to render a form field.
         * @param {?} model Form field model for the field to render
         * @param {?=} defaultValue Default type returned for field types that are not yet mapped.
         * @return {?} Component type
         */
            function (model, defaultValue) {
                if (defaultValue === void 0) {
                    defaultValue = this.defaultValue;
                }
                if (model) {
                    /** @type {?} */
                    var resolver = this.getComponentTypeResolver(model.type, defaultValue);
                    return resolver(model);
                }
                return defaultValue;
            };
        return DynamicComponentMapper;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardItemTypeService = /** @class */ (function (_super) {
        __extends(CardItemTypeService, _super);
        function CardItemTypeService() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.defaultValue = CardViewTextItemComponent;
            _this.types = {
                'text': DynamicComponentResolver.fromType(CardViewTextItemComponent),
                'select': DynamicComponentResolver.fromType(CardViewSelectItemComponent),
                'int': DynamicComponentResolver.fromType(CardViewTextItemComponent),
                'float': DynamicComponentResolver.fromType(CardViewTextItemComponent),
                'date': DynamicComponentResolver.fromType(CardViewDateItemComponent),
                'datetime': DynamicComponentResolver.fromType(CardViewDateItemComponent),
                'bool': DynamicComponentResolver.fromType(CardViewBoolItemComponent),
                'map': DynamicComponentResolver.fromType(CardViewMapItemComponent),
                'keyvaluepairs': DynamicComponentResolver.fromType(CardViewKeyValuePairsItemComponent)
            };
            return _this;
        }
        CardItemTypeService.decorators = [
            { type: i0.Injectable }
        ];
        return CardItemTypeService;
    }(DynamicComponentMapper));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewContentProxyDirective = /** @class */ (function () {
        function CardViewContentProxyDirective(viewContainerRef) {
            this.viewContainerRef = viewContainerRef;
        }
        CardViewContentProxyDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: '[adf-card-view-content-proxy]'
                    },] }
        ];
        /** @nocollapse */
        CardViewContentProxyDirective.ctorParameters = function () {
            return [
                { type: i0.ViewContainerRef }
            ];
        };
        return CardViewContentProxyDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewItemDispatcherComponent = /** @class */ (function () {
        function CardViewItemDispatcherComponent(cardItemTypeService, resolver) {
            var _this = this;
            this.cardItemTypeService = cardItemTypeService;
            this.resolver = resolver;
            this.displayEmpty = true;
            this.loaded = false;
            this.componentReference = null;
            /** @type {?} */
            var dynamicLifecycleMethods = [
                'ngOnInit',
                'ngDoCheck',
                'ngAfterContentInit',
                'ngAfterContentChecked',
                'ngAfterViewInit',
                'ngAfterViewChecked',
                'ngOnDestroy'
            ];
            dynamicLifecycleMethods.forEach(function (dynamicLifecycleMethod) {
                _this[dynamicLifecycleMethod] = _this.proxy.bind(_this, dynamicLifecycleMethod);
            });
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        CardViewItemDispatcherComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                var _this = this;
                if (!this.loaded) {
                    this.loadComponent();
                    this.loaded = true;
                }
                Object.keys(changes)
                    .map(function (changeName) { return [changeName, changes[changeName]]; })
                    .forEach(function (_a) {
                    var _b = __read(_a, 2), inputParamName = _b[0], simpleChange = _b[1];
                    _this.componentReference.instance[inputParamName] = simpleChange.currentValue;
                });
                this.proxy('ngOnChanges', changes);
            };
        /**
         * @return {?}
         */
        CardViewItemDispatcherComponent.prototype.loadComponent = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var factoryClass = this.cardItemTypeService.resolveComponentType(this.property);
                /** @type {?} */
                var factory = this.resolver.resolveComponentFactory(factoryClass);
                this.componentReference = this.content.viewContainerRef.createComponent(factory);
                this.componentReference.instance.editable = this.editable;
                this.componentReference.instance.property = this.property;
                this.componentReference.instance.displayEmpty = this.displayEmpty;
            };
        /**
         * @param {?} methodName
         * @param {...?} args
         * @return {?}
         */
        CardViewItemDispatcherComponent.prototype.proxy = /**
         * @param {?} methodName
         * @param {...?} args
         * @return {?}
         */
            function (methodName) {
                var args = [];
                for (var _i = 1; _i < arguments.length; _i++) {
                    args[_i - 1] = arguments[_i];
                }
                if (this.componentReference.instance[methodName]) {
                    this.componentReference.instance[methodName].apply(this.componentReference.instance, args);
                }
            };
        CardViewItemDispatcherComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-card-view-item-dispatcher',
                        template: '<ng-template adf-card-view-content-proxy></ng-template>'
                    }] }
        ];
        /** @nocollapse */
        CardViewItemDispatcherComponent.ctorParameters = function () {
            return [
                { type: CardItemTypeService },
                { type: i0.ComponentFactoryResolver }
            ];
        };
        CardViewItemDispatcherComponent.propDecorators = {
            property: [{ type: i0.Input }],
            editable: [{ type: i0.Input }],
            displayEmpty: [{ type: i0.Input }],
            content: [{ type: i0.ViewChild, args: [CardViewContentProxyDirective,] }]
        };
        return CardViewItemDispatcherComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var CardViewItemIntValidator = /** @class */ (function () {
        function CardViewItemIntValidator() {
            this.message = 'CORE.CARDVIEW.VALIDATORS.INT_VALIDATION_ERROR';
        }
        /**
         * @param {?} value
         * @return {?}
         */
        CardViewItemIntValidator.prototype.isValid = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                return !isNaN(value) && (function (x) { return (x | 0) === x; })(parseFloat(value));
            };
        return CardViewItemIntValidator;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var CardViewItemFloatValidator = /** @class */ (function () {
        function CardViewItemFloatValidator() {
            this.message = 'CORE.CARDVIEW.VALIDATORS.FLOAT_VALIDATION_ERROR';
        }
        /**
         * @param {?} value
         * @return {?}
         */
        CardViewItemFloatValidator.prototype.isValid = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                return !isNaN(parseFloat(value)) && isFinite(value);
            };
        return CardViewItemFloatValidator;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /**
     * @abstract
     */
    var /**
     * @abstract
     */ CardViewBaseItemModel = /** @class */ (function () {
        function CardViewBaseItemModel(obj) {
            this.label = obj.label || '';
            this.value = obj.value;
            this.key = obj.key;
            this.default = obj.default;
            this.editable = !!obj.editable;
            this.clickable = !!obj.clickable;
            this.icon = obj.icon || '';
            this.validators = obj.validators || [];
            this.data = obj.data || null;
        }
        /**
         * @return {?}
         */
        CardViewBaseItemModel.prototype.isEmpty = /**
         * @return {?}
         */
            function () {
                return this.value === undefined || this.value === null || this.value === '';
            };
        /**
         * @param {?} newValue
         * @return {?}
         */
        CardViewBaseItemModel.prototype.isValid = /**
         * @param {?} newValue
         * @return {?}
         */
            function (newValue) {
                if (!this.validators.length) {
                    return true;
                }
                return this.validators
                    .map(function (validator) { return validator.isValid(newValue); })
                    .reduce(function (isValidUntilNow, isValid) { return isValidUntilNow && isValid; }, true);
            };
        /**
         * @param {?} value
         * @return {?}
         */
        CardViewBaseItemModel.prototype.getValidationErrors = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                if (!this.validators.length) {
                    return [];
                }
                return this.validators.filter(function (validator) { return !validator.isValid(value); }).map(function (validator) { return validator.message; });
            };
        return CardViewBaseItemModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewBoolItemModel = /** @class */ (function (_super) {
        __extends(CardViewBoolItemModel, _super);
        function CardViewBoolItemModel(obj) {
            var _this = _super.call(this, obj) || this;
            _this.type = 'bool';
            _this.value = false;
            if (obj.value !== undefined) {
                _this.value = !!JSON.parse(obj.value);
            }
            return _this;
        }
        Object.defineProperty(CardViewBoolItemModel.prototype, "displayValue", {
            get: /**
             * @return {?}
             */ function () {
                if (this.isEmpty()) {
                    return this.default;
                }
                else {
                    return this.value;
                }
            },
            enumerable: true,
            configurable: true
        });
        return CardViewBoolItemModel;
    }(CardViewBaseItemModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewDateItemModel = /** @class */ (function (_super) {
        __extends(CardViewDateItemModel, _super);
        function CardViewDateItemModel(obj) {
            var _this = _super.call(this, obj) || this;
            _this.type = 'date';
            _this.format = 'MMM DD YYYY';
            if (obj.format) {
                _this.format = obj.format;
            }
            return _this;
        }
        Object.defineProperty(CardViewDateItemModel.prototype, "displayValue", {
            get: /**
             * @return {?}
             */ function () {
                if (!this.value) {
                    return this.default;
                }
                else {
                    return moment$1(this.value).format(this.format);
                }
            },
            enumerable: true,
            configurable: true
        });
        return CardViewDateItemModel;
    }(CardViewBaseItemModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewDatetimeItemModel = /** @class */ (function (_super) {
        __extends(CardViewDatetimeItemModel, _super);
        function CardViewDatetimeItemModel() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.type = 'datetime';
            _this.format = 'MMM DD YYYY HH:mm';
            return _this;
        }
        return CardViewDatetimeItemModel;
    }(CardViewDateItemModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewTextItemModel = /** @class */ (function (_super) {
        __extends(CardViewTextItemModel, _super);
        function CardViewTextItemModel(obj) {
            var _this = _super.call(this, obj) || this;
            _this.type = 'text';
            _this.multiline = !!obj.multiline;
            _this.pipes = obj.pipes || [];
            return _this;
        }
        Object.defineProperty(CardViewTextItemModel.prototype, "displayValue", {
            get: /**
             * @return {?}
             */ function () {
                if (this.isEmpty()) {
                    return this.default;
                }
                else {
                    return this.applyPipes(this.value);
                }
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @param {?} displayValue
         * @return {?}
         */
        CardViewTextItemModel.prototype.applyPipes = /**
         * @param {?} displayValue
         * @return {?}
         */
            function (displayValue) {
                if (this.pipes.length) {
                    displayValue = this.pipes.reduce(function (accumulator, _a) {
                        var pipe = _a.pipe, _b = _a.params, params = _b === void 0 ? [] : _b;
                        return pipe.transform.apply(pipe, __spread([accumulator], params));
                    }, displayValue);
                }
                return displayValue;
            };
        return CardViewTextItemModel;
    }(CardViewBaseItemModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewFloatItemModel = /** @class */ (function (_super) {
        __extends(CardViewFloatItemModel, _super);
        function CardViewFloatItemModel(obj) {
            var _this = _super.call(this, obj) || this;
            _this.type = 'float';
            _this.validators.push(new CardViewItemFloatValidator());
            if (obj.value) {
                _this.value = parseFloat(obj.value);
            }
            return _this;
        }
        return CardViewFloatItemModel;
    }(CardViewTextItemModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewIntItemModel = /** @class */ (function (_super) {
        __extends(CardViewIntItemModel, _super);
        function CardViewIntItemModel(obj) {
            var _this = _super.call(this, obj) || this;
            _this.type = 'int';
            _this.validators.push(new CardViewItemIntValidator());
            if (obj.value) {
                _this.value = parseInt(obj.value, 10);
            }
            return _this;
        }
        return CardViewIntItemModel;
    }(CardViewTextItemModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewMapItemModel = /** @class */ (function (_super) {
        __extends(CardViewMapItemModel, _super);
        function CardViewMapItemModel() {
            var _this = _super !== null && _super.apply(this, arguments) || this;
            _this.type = 'map';
            return _this;
        }
        Object.defineProperty(CardViewMapItemModel.prototype, "displayValue", {
            get: /**
             * @return {?}
             */ function () {
                if (this.value && this.value.size > 0) {
                    return this.value.values().next().value;
                }
                else {
                    return this.default;
                }
            },
            enumerable: true,
            configurable: true
        });
        return CardViewMapItemModel;
    }(CardViewBaseItemModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewKeyValuePairsItemModel = /** @class */ (function (_super) {
        __extends(CardViewKeyValuePairsItemModel, _super);
        function CardViewKeyValuePairsItemModel(obj) {
            var _this = _super.call(this, obj) || this;
            _this.type = 'keyvaluepairs';
            return _this;
        }
        Object.defineProperty(CardViewKeyValuePairsItemModel.prototype, "displayValue", {
            get: /**
             * @return {?}
             */ function () {
                return this.value;
            },
            enumerable: true,
            configurable: true
        });
        return CardViewKeyValuePairsItemModel;
    }(CardViewBaseItemModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * @template T
     */
    var /**
     * @template T
     */ CardViewSelectItemModel = /** @class */ (function (_super) {
        __extends(CardViewSelectItemModel, _super);
        function CardViewSelectItemModel(obj) {
            var _this = _super.call(this, obj) || this;
            _this.type = 'select';
            _this.options$ = obj.options$;
            return _this;
        }
        Object.defineProperty(CardViewSelectItemModel.prototype, "displayValue", {
            get: /**
             * @return {?}
             */ function () {
                var _this = this;
                return this.options$.pipe(operators.switchMap(function (options) {
                    /** @type {?} */
                    var option = options.find(function (o) { return o.key === _this.value; });
                    return rxjs.of(option ? option.label : '');
                }));
            },
            enumerable: true,
            configurable: true
        });
        return CardViewSelectItemModel;
    }(CardViewBaseItemModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CardViewModule = /** @class */ (function () {
        function CardViewModule() {
        }
        CardViewModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            forms.FormsModule,
                            flexLayout.FlexLayoutModule,
                            core$1.TranslateModule.forChild(),
                            material.MatDatepickerModule,
                            material.MatNativeDateModule,
                            material.MatCheckboxModule,
                            material.MatInputModule,
                            material.MatTableModule,
                            material.MatIconModule,
                            material.MatSelectModule,
                            material.MatButtonModule,
                            core.MatDatetimepickerModule,
                            core.MatNativeDatetimeModule
                        ],
                        declarations: [
                            CardViewComponent,
                            CardViewBoolItemComponent,
                            CardViewDateItemComponent,
                            CardViewMapItemComponent,
                            CardViewTextItemComponent,
                            CardViewKeyValuePairsItemComponent,
                            CardViewSelectItemComponent,
                            CardViewItemDispatcherComponent,
                            CardViewContentProxyDirective
                        ],
                        entryComponents: [
                            CardViewBoolItemComponent,
                            CardViewDateItemComponent,
                            CardViewMapItemComponent,
                            CardViewTextItemComponent,
                            CardViewSelectItemComponent,
                            CardViewKeyValuePairsItemComponent
                        ],
                        exports: [
                            CardViewComponent,
                            CardViewBoolItemComponent,
                            CardViewDateItemComponent,
                            CardViewMapItemComponent,
                            CardViewTextItemComponent,
                            CardViewSelectItemComponent,
                            CardViewKeyValuePairsItemComponent
                        ]
                    },] }
        ];
        return CardViewModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DebugAppConfigService = /** @class */ (function (_super) {
        __extends(DebugAppConfigService, _super);
        function DebugAppConfigService(storage, http$$1) {
            var _this = _super.call(this, http$$1) || this;
            _this.storage = storage;
            return _this;
        }
        /** @override */
        /**
         * @override
         * @template T
         * @param {?} key
         * @param {?=} defaultValue
         * @return {?}
         */
        DebugAppConfigService.prototype.get = /**
         * @override
         * @template T
         * @param {?} key
         * @param {?=} defaultValue
         * @return {?}
         */
            function (key, defaultValue) {
                if (key === AppConfigValues.OAUTHCONFIG) {
                    return /** @type {?} */ ((JSON.parse(this.storage.getItem(key)) || _super.prototype.get.call(this, key, defaultValue)));
                }
                else {
                    return /** @type {?} */ (( /** @type {?} */(this.storage.getItem(key)) || _super.prototype.get.call(this, key, defaultValue)));
                }
            };
        DebugAppConfigService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        DebugAppConfigService.ctorParameters = function () {
            return [
                { type: StorageService },
                { type: http.HttpClient }
            ];
        };
        return DebugAppConfigService;
    }(AppConfigService));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AppConfigPipe = /** @class */ (function () {
        function AppConfigPipe(config) {
            this.config = config;
        }
        /**
         * @param {?} value
         * @param {?} fallback
         * @return {?}
         */
        AppConfigPipe.prototype.transform = /**
         * @param {?} value
         * @param {?} fallback
         * @return {?}
         */
            function (value, fallback) {
                return this.config.get(value, fallback);
            };
        AppConfigPipe.decorators = [
            { type: i0.Pipe, args: [{
                        name: 'adfAppConfig'
                    },] }
        ];
        /** @nocollapse */
        AppConfigPipe.ctorParameters = function () {
            return [
                { type: AppConfigService }
            ];
        };
        return AppConfigPipe;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AppConfigModule = /** @class */ (function () {
        function AppConfigModule() {
        }
        AppConfigModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            http.HttpClientModule
                        ],
                        declarations: [
                            AppConfigPipe
                        ],
                        exports: [
                            AppConfigPipe
                        ]
                    },] }
        ];
        return AppConfigModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var FormEvent = /** @class */ (function () {
        function FormEvent(form) {
            this.isDefaultPrevented = false;
            this.form = form;
        }
        Object.defineProperty(FormEvent.prototype, "defaultPrevented", {
            get: /**
             * @return {?}
             */ function () {
                return this.isDefaultPrevented;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        FormEvent.prototype.preventDefault = /**
         * @return {?}
         */
            function () {
                this.isDefaultPrevented = true;
            };
        return FormEvent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FormErrorEvent = /** @class */ (function (_super) {
        __extends(FormErrorEvent, _super);
        function FormErrorEvent(form, error) {
            var _this = _super.call(this, form) || this;
            _this.error = error;
            return _this;
        }
        return FormErrorEvent;
    }(FormEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FormFieldEvent = /** @class */ (function (_super) {
        __extends(FormFieldEvent, _super);
        function FormFieldEvent(form, field) {
            var _this = _super.call(this, form) || this;
            _this.field = field;
            return _this;
        }
        return FormFieldEvent;
    }(FormEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ValidateFormFieldEvent = /** @class */ (function (_super) {
        __extends(ValidateFormFieldEvent, _super);
        function ValidateFormFieldEvent(form, field) {
            var _this = _super.call(this, form, field) || this;
            _this.isValid = true;
            return _this;
        }
        return ValidateFormFieldEvent;
    }(FormFieldEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ValidateFormEvent = /** @class */ (function (_super) {
        __extends(ValidateFormEvent, _super);
        function ValidateFormEvent(form) {
            var _this = _super.call(this, form) || this;
            _this.isValid = true;
            _this.errorsField = [];
            return _this;
        }
        return ValidateFormEvent;
    }(FormEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ValidateDynamicTableRowEvent = /** @class */ (function (_super) {
        __extends(ValidateDynamicTableRowEvent, _super);
        function ValidateDynamicTableRowEvent(form, field, row, summary) {
            var _this = _super.call(this, form, field) || this;
            _this.row = row;
            _this.summary = summary;
            _this.isValid = true;
            return _this;
        }
        return ValidateDynamicTableRowEvent;
    }(FormFieldEvent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var EcmModelService = /** @class */ (function () {
        function EcmModelService(apiService, logService) {
            this.apiService = apiService;
            this.logService = logService;
        }
        /**
         * @param {?} formName
         * @param {?} form
         * @return {?}
         */
        EcmModelService.prototype.createEcmTypeForActivitiForm = /**
         * @param {?} formName
         * @param {?} form
         * @return {?}
         */
            function (formName, form) {
                var _this = this;
                return rxjs.Observable.create(function (observer) {
                    _this.searchActivitiEcmModel().subscribe(function (model) {
                        if (!model) {
                            _this.createActivitiEcmModel(formName, form).subscribe(function (typeForm) {
                                observer.next(typeForm);
                                observer.complete();
                            });
                        }
                        else {
                            _this.saveFomType(formName, form).subscribe(function (typeForm) {
                                observer.next(typeForm);
                                observer.complete();
                            });
                        }
                    }, function (err) { return _this.handleError(err); });
                });
            };
        /**
         * @return {?}
         */
        EcmModelService.prototype.searchActivitiEcmModel = /**
         * @return {?}
         */
            function () {
                return this.getEcmModels().pipe(operators.map(function (ecmModels) {
                    return ecmModels.list.entries.find(function (model) { return model.entry.name === EcmModelService.MODEL_NAME; });
                }));
            };
        /**
         * @param {?} formName
         * @param {?} form
         * @return {?}
         */
        EcmModelService.prototype.createActivitiEcmModel = /**
         * @param {?} formName
         * @param {?} form
         * @return {?}
         */
            function (formName, form) {
                var _this = this;
                return rxjs.Observable.create(function (observer) {
                    _this.createEcmModel(EcmModelService.MODEL_NAME, EcmModelService.MODEL_NAMESPACE).subscribe(function (model) {
                        _this.logService.info('model created', model);
                        _this.activeEcmModel(EcmModelService.MODEL_NAME).subscribe(function (modelActive) {
                            _this.logService.info('model active', modelActive);
                            _this.createEcmTypeWithProperties(formName, form).subscribe(function (typeCreated) {
                                observer.next(typeCreated);
                                observer.complete();
                            });
                        }, function (err) { return _this.handleError(err); });
                    }, function (err) { return _this.handleError(err); });
                });
            };
        /**
         * @param {?} formName
         * @param {?} form
         * @return {?}
         */
        EcmModelService.prototype.saveFomType = /**
         * @param {?} formName
         * @param {?} form
         * @return {?}
         */
            function (formName, form) {
                var _this = this;
                return rxjs.Observable.create(function (observer) {
                    _this.searchEcmType(formName, EcmModelService.MODEL_NAME).subscribe(function (ecmType) {
                        _this.logService.info('custom types', ecmType);
                        if (!ecmType) {
                            _this.createEcmTypeWithProperties(formName, form).subscribe(function (typeCreated) {
                                observer.next(typeCreated);
                                observer.complete();
                            });
                        }
                        else {
                            observer.next(ecmType);
                            observer.complete();
                        }
                    }, function (err) { return _this.handleError(err); });
                });
            };
        /**
         * @param {?} formName
         * @param {?} form
         * @return {?}
         */
        EcmModelService.prototype.createEcmTypeWithProperties = /**
         * @param {?} formName
         * @param {?} form
         * @return {?}
         */
            function (formName, form) {
                var _this = this;
                return rxjs.Observable.create(function (observer) {
                    _this.createEcmType(formName, EcmModelService.MODEL_NAME, EcmModelService.TYPE_MODEL).subscribe(function (typeCreated) {
                        _this.logService.info('type Created', typeCreated);
                        _this.addPropertyToAType(EcmModelService.MODEL_NAME, formName, form).subscribe(function (properyAdded) {
                            _this.logService.info('property Added', properyAdded);
                            observer.next(typeCreated);
                            observer.complete();
                        }, function (err) { return _this.handleError(err); });
                    }, function (err) { return _this.handleError(err); });
                });
            };
        /**
         * @param {?} typeName
         * @param {?} modelName
         * @return {?}
         */
        EcmModelService.prototype.searchEcmType = /**
         * @param {?} typeName
         * @param {?} modelName
         * @return {?}
         */
            function (typeName, modelName) {
                return this.getEcmType(modelName).pipe(operators.map(function (customTypes) {
                    return customTypes.list.entries.find(function (type) { return type.entry.prefixedName === typeName || type.entry.title === typeName; });
                }));
            };
        /**
         * @param {?} modelName
         * @return {?}
         */
        EcmModelService.prototype.activeEcmModel = /**
         * @param {?} modelName
         * @return {?}
         */
            function (modelName) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().core.customModelApi.activateCustomModel(modelName))
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} modelName
         * @param {?} nameSpace
         * @return {?}
         */
        EcmModelService.prototype.createEcmModel = /**
         * @param {?} modelName
         * @param {?} nameSpace
         * @return {?}
         */
            function (modelName, nameSpace) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().core.customModelApi.createCustomModel('DRAFT', '', modelName, modelName, nameSpace))
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @return {?}
         */
        EcmModelService.prototype.getEcmModels = /**
         * @return {?}
         */
            function () {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().core.customModelApi.getAllCustomModel())
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} modelName
         * @return {?}
         */
        EcmModelService.prototype.getEcmType = /**
         * @param {?} modelName
         * @return {?}
         */
            function (modelName) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().core.customModelApi.getAllCustomType(modelName))
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} typeName
         * @param {?} modelName
         * @param {?} parentType
         * @return {?}
         */
        EcmModelService.prototype.createEcmType = /**
         * @param {?} typeName
         * @param {?} modelName
         * @param {?} parentType
         * @return {?}
         */
            function (typeName, modelName, parentType) {
                var _this = this;
                /** @type {?} */
                var name = this.cleanNameType(typeName);
                return rxjs.from(this.apiService.getInstance().core.customModelApi.createCustomType(modelName, name, parentType, typeName, ''))
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} modelName
         * @param {?} typeName
         * @param {?} formFields
         * @return {?}
         */
        EcmModelService.prototype.addPropertyToAType = /**
         * @param {?} modelName
         * @param {?} typeName
         * @param {?} formFields
         * @return {?}
         */
            function (modelName, typeName, formFields) {
                var _this = this;
                /** @type {?} */
                var name = this.cleanNameType(typeName);
                /** @type {?} */
                var properties = [];
                if (formFields && formFields.values) {
                    for (var key in formFields.values) {
                        if (key) {
                            properties.push({
                                name: key,
                                title: key,
                                description: key,
                                dataType: 'd:text',
                                multiValued: false,
                                mandatory: false,
                                mandatoryEnforced: false
                            });
                        }
                    }
                }
                return rxjs.from(this.apiService.getInstance().core.customModelApi.addPropertyToType(modelName, name, properties))
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} name
         * @return {?}
         */
        EcmModelService.prototype.cleanNameType = /**
         * @param {?} name
         * @return {?}
         */
            function (name) {
                /** @type {?} */
                var cleanName = name;
                if (name.indexOf(':') !== -1) {
                    cleanName = name.split(':')[1];
                }
                return cleanName.replace(/[^a-zA-Z ]/g, '');
            };
        /**
         * @param {?} res
         * @return {?}
         */
        EcmModelService.prototype.toJson = /**
         * @param {?} res
         * @return {?}
         */
            function (res) {
                if (res) {
                    return res || {};
                }
                return {};
            };
        /**
         * @param {?} err
         * @return {?}
         */
        EcmModelService.prototype.handleError = /**
         * @param {?} err
         * @return {?}
         */
            function (err) {
                this.logService.error(err);
            };
        EcmModelService.MODEL_NAMESPACE = 'activitiForms';
        EcmModelService.MODEL_NAME = 'activitiFormsModel';
        EcmModelService.TYPE_MODEL = 'cm:folder';
        EcmModelService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        EcmModelService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: LogService }
            ];
        };
        return EcmModelService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var FormDefinitionModel = /** @class */ (function () {
        function FormDefinitionModel(id, name, lastUpdatedByFullName, lastUpdated, metadata) {
            this.reusable = false;
            this.newVersion = false;
            this.formImageBase64 = '';
            this.formRepresentation = {
                id: id,
                name: name,
                description: '',
                version: 1,
                lastUpdatedBy: 1,
                lastUpdatedByFullName: lastUpdatedByFullName,
                lastUpdated: lastUpdated,
                stencilSetId: 0,
                referenceId: null,
                formDefinition: {
                    fields: [{
                            name: 'Label',
                            type: 'container',
                            fieldType: 'ContainerRepresentation',
                            numberOfColumns: 2,
                            required: false,
                            readOnly: false,
                            sizeX: 2,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            fields: { '1': this.metadataToFields(metadata) }
                        }],
                    gridsterForm: false,
                    javascriptEvents: [],
                    metadata: {},
                    outcomes: [],
                    className: '',
                    style: '',
                    tabs: [],
                    variables: []
                }
            };
        }
        /**
         * @param {?} metadata
         * @return {?}
         */
        FormDefinitionModel.prototype.metadataToFields = /**
         * @param {?} metadata
         * @return {?}
         */
            function (metadata) {
                /** @type {?} */
                var fields = [];
                if (metadata) {
                    metadata.forEach(function (property) {
                        if (property) {
                            /** @type {?} */
                            var field = {
                                type: 'text',
                                id: property.name,
                                name: property.name,
                                required: false,
                                readOnly: false,
                                sizeX: 1,
                                sizeY: 1,
                                row: -1,
                                col: -1,
                                colspan: 1,
                                params: {
                                    existingColspan: 1,
                                    maxColspan: 2
                                },
                                layout: {
                                    colspan: 1,
                                    row: -1,
                                    column: -1
                                }
                            };
                            fields.push(field);
                        }
                    });
                }
                return fields;
            };
        return FormDefinitionModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /* tslint:disable:component-selector  */
    var FormFieldTypes = /** @class */ (function () {
        function FormFieldTypes() {
        }
        /**
         * @param {?} type
         * @return {?}
         */
        FormFieldTypes.isReadOnlyType = /**
         * @param {?} type
         * @return {?}
         */
            function (type) {
                return FormFieldTypes.READONLY_TYPES.indexOf(type) > -1;
            };
        /**
         * @param {?} type
         * @return {?}
         */
        FormFieldTypes.isContainerType = /**
         * @param {?} type
         * @return {?}
         */
            function (type) {
                return type === FormFieldTypes.CONTAINER || type === FormFieldTypes.GROUP;
            };
        FormFieldTypes.CONTAINER = 'container';
        FormFieldTypes.GROUP = 'group';
        FormFieldTypes.DYNAMIC_TABLE = 'dynamic-table';
        FormFieldTypes.TEXT = 'text';
        FormFieldTypes.MULTILINE_TEXT = 'multi-line-text';
        FormFieldTypes.DROPDOWN = 'dropdown';
        FormFieldTypes.HYPERLINK = 'hyperlink';
        FormFieldTypes.RADIO_BUTTONS = 'radio-buttons';
        FormFieldTypes.DISPLAY_VALUE = 'readonly';
        FormFieldTypes.READONLY_TEXT = 'readonly-text';
        FormFieldTypes.UPLOAD = 'upload';
        FormFieldTypes.TYPEAHEAD = 'typeahead';
        FormFieldTypes.FUNCTIONAL_GROUP = 'functional-group';
        FormFieldTypes.PEOPLE = 'people';
        FormFieldTypes.BOOLEAN = 'boolean';
        FormFieldTypes.NUMBER = 'integer';
        FormFieldTypes.DATE = 'date';
        FormFieldTypes.AMOUNT = 'amount';
        FormFieldTypes.DOCUMENT = 'document';
        FormFieldTypes.DATETIME = 'datetime';
        FormFieldTypes.READONLY_TYPES = [
            FormFieldTypes.HYPERLINK,
            FormFieldTypes.DISPLAY_VALUE,
            FormFieldTypes.READONLY_TEXT
        ];
        return FormFieldTypes;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /**
     * @abstract
     */
    var /**
     * @abstract
     */ FormWidgetModel = /** @class */ (function () {
        function FormWidgetModel(form, json) {
            this.form = form;
            this.json = json;
            if (json) {
                this.fieldType = json.fieldType;
                this.id = json.id;
                this.name = json.name;
                this.type = json.type;
                this.tab = json.tab;
            }
        }
        return FormWidgetModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var ContainerColumnModel = /** @class */ (function () {
        function ContainerColumnModel() {
            this.size = 12;
            this.fields = [];
            this.colspan = 1;
            this.rowspan = 1;
        }
        /**
         * @return {?}
         */
        ContainerColumnModel.prototype.hasFields = /**
         * @return {?}
         */
            function () {
                return this.fields && this.fields.length > 0;
            };
        return ContainerColumnModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /* tslint:disable:component-selector  */
    var /* tslint:disable:component-selector  */ ErrorMessageModel = /** @class */ (function () {
        function ErrorMessageModel(obj) {
            this.message = '';
            this.attributes = null;
            this.message = obj && obj.message ? obj.message : '';
            this.attributes = new Map();
        }
        /**
         * @return {?}
         */
        ErrorMessageModel.prototype.isActive = /**
         * @return {?}
         */
            function () {
                return this.message ? true : false;
            };
        /**
         * @return {?}
         */
        ErrorMessageModel.prototype.getAttributesAsJsonObj = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var result = {};
                if (this.attributes.size > 0) {
                    /** @type {?} */
                    var obj_1 = Object.create(null);
                    this.attributes.forEach(function (value, key) {
                        obj_1[key] = value;
                    });
                    result = JSON.stringify(obj_1);
                }
                return result;
            };
        return ErrorMessageModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var RequiredFieldValidator = /** @class */ (function () {
        function RequiredFieldValidator() {
            this.supportedTypes = [
                FormFieldTypes.TEXT,
                FormFieldTypes.MULTILINE_TEXT,
                FormFieldTypes.NUMBER,
                FormFieldTypes.BOOLEAN,
                FormFieldTypes.TYPEAHEAD,
                FormFieldTypes.DROPDOWN,
                FormFieldTypes.PEOPLE,
                FormFieldTypes.FUNCTIONAL_GROUP,
                FormFieldTypes.RADIO_BUTTONS,
                FormFieldTypes.UPLOAD,
                FormFieldTypes.AMOUNT,
                FormFieldTypes.DYNAMIC_TABLE,
                FormFieldTypes.DATE,
                FormFieldTypes.DATETIME
            ];
        }
        /**
         * @param {?} field
         * @return {?}
         */
        RequiredFieldValidator.prototype.isSupported = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field &&
                    this.supportedTypes.indexOf(field.type) > -1 &&
                    field.required;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        RequiredFieldValidator.prototype.validate = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                if (this.isSupported(field) && field.isVisible) {
                    if (field.type === FormFieldTypes.DROPDOWN) {
                        if (field.hasEmptyValue && field.emptyOption) {
                            if (field.value === field.emptyOption.id) {
                                return false;
                            }
                        }
                    }
                    if (field.type === FormFieldTypes.RADIO_BUTTONS) {
                        /** @type {?} */
                        var option = field.options.find(function (opt) { return opt.id === field.value; });
                        return !!option;
                    }
                    if (field.type === FormFieldTypes.UPLOAD) {
                        return field.value && field.value.length > 0;
                    }
                    if (field.type === FormFieldTypes.DYNAMIC_TABLE) {
                        return field.value && field.value instanceof Array && field.value.length > 0;
                    }
                    if (field.type === FormFieldTypes.BOOLEAN) {
                        return field.value ? true : false;
                    }
                    if (field.value === null || field.value === undefined || field.value === '') {
                        return false;
                    }
                }
                return true;
            };
        return RequiredFieldValidator;
    }());
    var NumberFieldValidator = /** @class */ (function () {
        function NumberFieldValidator() {
            this.supportedTypes = [
                FormFieldTypes.NUMBER,
                FormFieldTypes.AMOUNT
            ];
        }
        /**
         * @param {?} value
         * @return {?}
         */
        NumberFieldValidator.isNumber = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                if (value === null || value === undefined || value === '') {
                    return false;
                }
                return !isNaN(+value);
            };
        /**
         * @param {?} field
         * @return {?}
         */
        NumberFieldValidator.prototype.isSupported = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field && this.supportedTypes.indexOf(field.type) > -1;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        NumberFieldValidator.prototype.validate = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                if (this.isSupported(field) && field.isVisible) {
                    if (field.value === null ||
                        field.value === undefined ||
                        field.value === '') {
                        return true;
                    }
                    /** @type {?} */
                    var valueStr = '' + field.value;
                    /** @type {?} */
                    var pattern = new RegExp(/^-?\d+$/);
                    if (field.enableFractions) {
                        pattern = new RegExp(/^-?[0-9]+(\.[0-9]{1,2})?$/);
                    }
                    if (valueStr.match(pattern)) {
                        return true;
                    }
                    field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_NUMBER';
                    return false;
                }
                return true;
            };
        return NumberFieldValidator;
    }());
    var DateFieldValidator = /** @class */ (function () {
        function DateFieldValidator() {
            this.supportedTypes = [
                FormFieldTypes.DATE
            ];
        }
        // Validates that the input string is a valid date formatted as <dateFormat> (default D-M-YYYY)
        /**
         * @param {?} inputDate
         * @param {?=} dateFormat
         * @return {?}
         */
        DateFieldValidator.isValidDate = /**
         * @param {?} inputDate
         * @param {?=} dateFormat
         * @return {?}
         */
            function (inputDate, dateFormat) {
                if (dateFormat === void 0) {
                    dateFormat = 'D-M-YYYY';
                }
                if (inputDate) {
                    /** @type {?} */
                    var d = moment$1(inputDate, dateFormat, true);
                    return d.isValid();
                }
                return false;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        DateFieldValidator.prototype.isSupported = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field && this.supportedTypes.indexOf(field.type) > -1;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        DateFieldValidator.prototype.validate = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                if (this.isSupported(field) && field.value && field.isVisible) {
                    if (DateFieldValidator.isValidDate(field.value, field.dateDisplayFormat)) {
                        return true;
                    }
                    field.validationSummary.message = field.dateDisplayFormat;
                    return false;
                }
                return true;
            };
        return DateFieldValidator;
    }());
    var MinDateFieldValidator = /** @class */ (function () {
        function MinDateFieldValidator() {
            this.supportedTypes = [
                FormFieldTypes.DATE
            ];
        }
        /**
         * @param {?} field
         * @return {?}
         */
        MinDateFieldValidator.prototype.isSupported = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field &&
                    this.supportedTypes.indexOf(field.type) > -1 && !!field.minValue;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        MinDateFieldValidator.prototype.validate = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                /** @type {?} */
                var isValid = true;
                if (this.isSupported(field) && field.value && field.isVisible) {
                    /** @type {?} */
                    var dateFormat = field.dateDisplayFormat;
                    if (!DateFieldValidator.isValidDate(field.value, dateFormat)) {
                        field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_DATE';
                        isValid = false;
                    }
                    else {
                        isValid = this.checkDate(field, dateFormat);
                    }
                }
                return isValid;
            };
        /**
         * @param {?} field
         * @param {?} dateFormat
         * @return {?}
         */
        MinDateFieldValidator.prototype.checkDate = /**
         * @param {?} field
         * @param {?} dateFormat
         * @return {?}
         */
            function (field, dateFormat) {
                /** @type {?} */
                var MIN_DATE_FORMAT = 'DD-MM-YYYY';
                /** @type {?} */
                var isValid = true;
                /** @type {?} */
                var fieldValueData;
                if (typeof field.value === 'string') {
                    fieldValueData = moment$1(field.value.split('T')[0], dateFormat);
                }
                else {
                    fieldValueData = field.value;
                }
                /** @type {?} */
                var min = moment$1(field.minValue, MIN_DATE_FORMAT);
                if (fieldValueData.isBefore(min)) {
                    field.validationSummary.message = "FORM.FIELD.VALIDATOR.NOT_LESS_THAN";
                    field.validationSummary.attributes.set('minValue', min.format(field.dateDisplayFormat).toLocaleUpperCase());
                    isValid = false;
                }
                return isValid;
            };
        return MinDateFieldValidator;
    }());
    var MaxDateFieldValidator = /** @class */ (function () {
        function MaxDateFieldValidator() {
            this.MAX_DATE_FORMAT = 'DD-MM-YYYY';
            this.supportedTypes = [
                FormFieldTypes.DATE
            ];
        }
        /**
         * @param {?} field
         * @return {?}
         */
        MaxDateFieldValidator.prototype.isSupported = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field &&
                    this.supportedTypes.indexOf(field.type) > -1 && !!field.maxValue;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        MaxDateFieldValidator.prototype.validate = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                if (this.isSupported(field) && field.value && field.isVisible) {
                    /** @type {?} */
                    var dateFormat = field.dateDisplayFormat;
                    if (!DateFieldValidator.isValidDate(field.value, dateFormat)) {
                        field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_DATE';
                        return false;
                    }
                    /** @type {?} */
                    var d = void 0;
                    if (typeof field.value === 'string') {
                        d = moment$1(field.value.split('T')[0], dateFormat);
                    }
                    else {
                        d = field.value;
                    }
                    /** @type {?} */
                    var max = moment$1(field.maxValue, this.MAX_DATE_FORMAT);
                    if (d.isAfter(max)) {
                        field.validationSummary.message = "FORM.FIELD.VALIDATOR.NOT_GREATER_THAN";
                        field.validationSummary.attributes.set('maxValue', max.format(field.dateDisplayFormat).toLocaleUpperCase());
                        return false;
                    }
                }
                return true;
            };
        return MaxDateFieldValidator;
    }());
    var MinDateTimeFieldValidator = /** @class */ (function () {
        function MinDateTimeFieldValidator() {
            this.supportedTypes = [
                FormFieldTypes.DATETIME
            ];
            this.MIN_DATETIME_FORMAT = 'YYYY-MM-DD hh:mm AZ';
        }
        /**
         * @param {?} field
         * @return {?}
         */
        MinDateTimeFieldValidator.prototype.isSupported = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field &&
                    this.supportedTypes.indexOf(field.type) > -1 && !!field.minValue;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        MinDateTimeFieldValidator.prototype.validate = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                /** @type {?} */
                var isValid = true;
                if (this.isSupported(field) && field.value && field.isVisible) {
                    /** @type {?} */
                    var dateFormat = field.dateDisplayFormat;
                    if (!DateFieldValidator.isValidDate(field.value, dateFormat)) {
                        field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_DATE';
                        isValid = false;
                    }
                    else {
                        isValid = this.checkDateTime(field, dateFormat);
                    }
                }
                return isValid;
            };
        /**
         * @param {?} field
         * @param {?} dateFormat
         * @return {?}
         */
        MinDateTimeFieldValidator.prototype.checkDateTime = /**
         * @param {?} field
         * @param {?} dateFormat
         * @return {?}
         */
            function (field, dateFormat) {
                /** @type {?} */
                var isValid = true;
                /** @type {?} */
                var fieldValueDate;
                if (typeof field.value === 'string') {
                    fieldValueDate = moment$1(field.value, dateFormat);
                }
                else {
                    fieldValueDate = field.value;
                }
                /** @type {?} */
                var min = moment$1(field.minValue, this.MIN_DATETIME_FORMAT);
                if (fieldValueDate.isBefore(min)) {
                    field.validationSummary.message = "FORM.FIELD.VALIDATOR.NOT_LESS_THAN";
                    field.validationSummary.attributes.set('minValue', min.format(field.dateDisplayFormat).replace(':', '-'));
                    isValid = false;
                }
                return isValid;
            };
        return MinDateTimeFieldValidator;
    }());
    var MaxDateTimeFieldValidator = /** @class */ (function () {
        function MaxDateTimeFieldValidator() {
            this.supportedTypes = [
                FormFieldTypes.DATETIME
            ];
            this.MAX_DATETIME_FORMAT = 'YYYY-MM-DD hh:mm AZ';
        }
        /**
         * @param {?} field
         * @return {?}
         */
        MaxDateTimeFieldValidator.prototype.isSupported = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field &&
                    this.supportedTypes.indexOf(field.type) > -1 && !!field.maxValue;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        MaxDateTimeFieldValidator.prototype.validate = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                /** @type {?} */
                var isValid = true;
                if (this.isSupported(field) && field.value && field.isVisible) {
                    /** @type {?} */
                    var dateFormat = field.dateDisplayFormat;
                    if (!DateFieldValidator.isValidDate(field.value, dateFormat)) {
                        field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_DATE';
                        isValid = false;
                    }
                    else {
                        isValid = this.checkDateTime(field, dateFormat);
                    }
                }
                return isValid;
            };
        /**
         * @param {?} field
         * @param {?} dateFormat
         * @return {?}
         */
        MaxDateTimeFieldValidator.prototype.checkDateTime = /**
         * @param {?} field
         * @param {?} dateFormat
         * @return {?}
         */
            function (field, dateFormat) {
                /** @type {?} */
                var isValid = true;
                /** @type {?} */
                var fieldValueDate;
                if (typeof field.value === 'string') {
                    fieldValueDate = moment$1(field.value, dateFormat);
                }
                else {
                    fieldValueDate = field.value;
                }
                /** @type {?} */
                var max = moment$1(field.maxValue, this.MAX_DATETIME_FORMAT);
                if (fieldValueDate.isAfter(max)) {
                    field.validationSummary.message = "FORM.FIELD.VALIDATOR.NOT_GREATER_THAN";
                    field.validationSummary.attributes.set('maxValue', max.format(field.dateDisplayFormat).replace(':', '-'));
                    isValid = false;
                }
                return isValid;
            };
        return MaxDateTimeFieldValidator;
    }());
    var MinLengthFieldValidator = /** @class */ (function () {
        function MinLengthFieldValidator() {
            this.supportedTypes = [
                FormFieldTypes.TEXT,
                FormFieldTypes.MULTILINE_TEXT
            ];
        }
        /**
         * @param {?} field
         * @return {?}
         */
        MinLengthFieldValidator.prototype.isSupported = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field &&
                    this.supportedTypes.indexOf(field.type) > -1 &&
                    field.minLength > 0;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        MinLengthFieldValidator.prototype.validate = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                if (this.isSupported(field) && field.value && field.isVisible) {
                    if (field.value.length >= field.minLength) {
                        return true;
                    }
                    field.validationSummary.message = "FORM.FIELD.VALIDATOR.AT_LEAST_LONG";
                    field.validationSummary.attributes.set('minLength', field.minLength.toLocaleString());
                    return false;
                }
                return true;
            };
        return MinLengthFieldValidator;
    }());
    var MaxLengthFieldValidator = /** @class */ (function () {
        function MaxLengthFieldValidator() {
            this.supportedTypes = [
                FormFieldTypes.TEXT,
                FormFieldTypes.MULTILINE_TEXT
            ];
        }
        /**
         * @param {?} field
         * @return {?}
         */
        MaxLengthFieldValidator.prototype.isSupported = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field &&
                    this.supportedTypes.indexOf(field.type) > -1 &&
                    field.maxLength > 0;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        MaxLengthFieldValidator.prototype.validate = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                if (this.isSupported(field) && field.value && field.isVisible) {
                    if (field.value.length <= field.maxLength) {
                        return true;
                    }
                    field.validationSummary.message = "FORM.FIELD.VALIDATOR.NO_LONGER_THAN";
                    field.validationSummary.attributes.set('maxLength', field.maxLength.toLocaleString());
                    return false;
                }
                return true;
            };
        return MaxLengthFieldValidator;
    }());
    var MinValueFieldValidator = /** @class */ (function () {
        function MinValueFieldValidator() {
            this.supportedTypes = [
                FormFieldTypes.NUMBER,
                FormFieldTypes.AMOUNT
            ];
        }
        /**
         * @param {?} field
         * @return {?}
         */
        MinValueFieldValidator.prototype.isSupported = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field &&
                    this.supportedTypes.indexOf(field.type) > -1 &&
                    NumberFieldValidator.isNumber(field.minValue);
            };
        /**
         * @param {?} field
         * @return {?}
         */
        MinValueFieldValidator.prototype.validate = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                if (this.isSupported(field) && field.value && field.isVisible) {
                    /** @type {?} */
                    var value = +field.value;
                    /** @type {?} */
                    var minValue = +field.minValue;
                    if (value >= minValue) {
                        return true;
                    }
                    field.validationSummary.message = "FORM.FIELD.VALIDATOR.NOT_LESS_THAN";
                    field.validationSummary.attributes.set('minValue', field.minValue.toLocaleString());
                    return false;
                }
                return true;
            };
        return MinValueFieldValidator;
    }());
    var MaxValueFieldValidator = /** @class */ (function () {
        function MaxValueFieldValidator() {
            this.supportedTypes = [
                FormFieldTypes.NUMBER,
                FormFieldTypes.AMOUNT
            ];
        }
        /**
         * @param {?} field
         * @return {?}
         */
        MaxValueFieldValidator.prototype.isSupported = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field &&
                    this.supportedTypes.indexOf(field.type) > -1 &&
                    NumberFieldValidator.isNumber(field.maxValue);
            };
        /**
         * @param {?} field
         * @return {?}
         */
        MaxValueFieldValidator.prototype.validate = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                if (this.isSupported(field) && field.value && field.isVisible) {
                    /** @type {?} */
                    var value = +field.value;
                    /** @type {?} */
                    var maxValue = +field.maxValue;
                    if (value <= maxValue) {
                        return true;
                    }
                    field.validationSummary.message = "FORM.FIELD.VALIDATOR.NOT_GREATER_THAN";
                    field.validationSummary.attributes.set('maxValue', field.maxValue.toLocaleString());
                    return false;
                }
                return true;
            };
        return MaxValueFieldValidator;
    }());
    var RegExFieldValidator = /** @class */ (function () {
        function RegExFieldValidator() {
            this.supportedTypes = [
                FormFieldTypes.TEXT,
                FormFieldTypes.MULTILINE_TEXT
            ];
        }
        /**
         * @param {?} field
         * @return {?}
         */
        RegExFieldValidator.prototype.isSupported = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field &&
                    this.supportedTypes.indexOf(field.type) > -1 && !!field.regexPattern;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        RegExFieldValidator.prototype.validate = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                if (this.isSupported(field) && field.value && field.isVisible) {
                    if (field.value.length > 0 && field.value.match(new RegExp('^' + field.regexPattern + '$'))) {
                        return true;
                    }
                    field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_VALUE';
                    return false;
                }
                return true;
            };
        return RegExFieldValidator;
    }());
    var FixedValueFieldValidator = /** @class */ (function () {
        function FixedValueFieldValidator() {
            this.supportedTypes = [
                FormFieldTypes.TYPEAHEAD
            ];
        }
        /**
         * @param {?} field
         * @return {?}
         */
        FixedValueFieldValidator.prototype.isSupported = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field && this.supportedTypes.indexOf(field.type) > -1;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        FixedValueFieldValidator.prototype.hasValidNameOrValidId = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return this.hasValidName(field) || this.hasValidId(field);
            };
        /**
         * @param {?} field
         * @return {?}
         */
        FixedValueFieldValidator.prototype.hasValidName = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field.options.find(function (item) { return item.name && item.name.toLocaleLowerCase() === field.value.toLocaleLowerCase(); }) ? true : false;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        FixedValueFieldValidator.prototype.hasValidId = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field.options[field.value - 1] ? true : false;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        FixedValueFieldValidator.prototype.hasStringValue = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field.value && typeof field.value === 'string';
            };
        /**
         * @param {?} field
         * @return {?}
         */
        FixedValueFieldValidator.prototype.hasOptions = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                return field.options && field.options.length > 0;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        FixedValueFieldValidator.prototype.validate = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                if (this.isSupported(field) && field.isVisible) {
                    if (this.hasStringValue(field) && this.hasOptions(field) && !this.hasValidNameOrValidId(field)) {
                        field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_VALUE';
                        return false;
                    }
                }
                return true;
            };
        return FixedValueFieldValidator;
    }());
    /** @type {?} */
    var FORM_FIELD_VALIDATORS = [
        new RequiredFieldValidator(),
        new NumberFieldValidator(),
        new MinLengthFieldValidator(),
        new MaxLengthFieldValidator(),
        new MinValueFieldValidator(),
        new MaxValueFieldValidator(),
        new RegExFieldValidator(),
        new DateFieldValidator(),
        new MinDateFieldValidator(),
        new MaxDateFieldValidator(),
        new FixedValueFieldValidator(),
        new MinDateTimeFieldValidator(),
        new MaxDateTimeFieldValidator()
    ];

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FormFieldModel = /** @class */ (function (_super) {
        __extends(FormFieldModel, _super);
        function FormFieldModel(form, json) {
            var _this = _super.call(this, form, json) || this;
            _this._readOnly = false;
            _this._isValid = true;
            _this._required = false;
            _this.defaultDateFormat = 'D-M-YYYY';
            _this.deafultDateTimeFormat = 'D-M-YYYY hh:mm A';
            _this.rowspan = 1;
            _this.colspan = 1;
            _this.placeholder = null;
            _this.minLength = 0;
            _this.maxLength = 0;
            _this.options = [];
            _this.params = {};
            _this.isVisible = true;
            _this.visibilityCondition = null;
            _this.enableFractions = false;
            _this.currency = null;
            _this.dateDisplayFormat = _this.dateDisplayFormat || _this.defaultDateFormat;
            // container model members
            _this.numberOfColumns = 1;
            _this.fields = [];
            _this.columns = [];
            if (json) {
                _this.fieldType = json.fieldType;
                _this.id = json.id;
                _this.name = json.name;
                _this.type = json.type;
                _this._required = /** @type {?} */ (json.required);
                _this._readOnly = /** @type {?} */ (json.readOnly) || json.type === 'readonly';
                _this.overrideId = /** @type {?} */ (json.overrideId);
                _this.tab = json.tab;
                _this.restUrl = json.restUrl;
                _this.restResponsePath = json.restResponsePath;
                _this.restIdProperty = json.restIdProperty;
                _this.restLabelProperty = json.restLabelProperty;
                _this.colspan = /** @type {?} */ (json.colspan);
                _this.minLength = /** @type {?} */ (json.minLength) || 0;
                _this.maxLength = /** @type {?} */ (json.maxLength) || 0;
                _this.minValue = json.minValue;
                _this.maxValue = json.maxValue;
                _this.regexPattern = json.regexPattern;
                _this.options = /** @type {?} */ (json.options) || [];
                _this.hasEmptyValue = /** @type {?} */ (json.hasEmptyValue);
                _this.className = json.className;
                _this.optionType = json.optionType;
                _this.params = /** @type {?} */ (json.params) || {};
                _this.hyperlinkUrl = json.hyperlinkUrl;
                _this.displayText = json.displayText;
                _this.visibilityCondition = /** @type {?} */ (json.visibilityCondition);
                _this.enableFractions = /** @type {?} */ (json.enableFractions);
                _this.currency = json.currency;
                _this.dateDisplayFormat = json.dateDisplayFormat || _this.getDefaultDateFormat(json);
                _this._value = _this.parseValue(json);
                _this.validationSummary = new ErrorMessageModel();
                if (json.placeholder && json.placeholder !== '' && json.placeholder !== 'null') {
                    _this.placeholder = json.placeholder;
                }
                if (FormFieldTypes.isReadOnlyType(json.type)) {
                    if (json.params && json.params.field) {
                        if (form.processVariables) {
                            /** @type {?} */
                            var processVariable = _this.getProcessVariableValue(json.params.field, form);
                            if (processVariable) {
                                _this.value = processVariable;
                            }
                        }
                        else if (json.params.field.responseVariable) {
                            /** @type {?} */
                            var formVariable = _this.getVariablesValue(json.params.field.name, form);
                            if (formVariable) {
                                _this.value = formVariable;
                            }
                        }
                    }
                }
                if (FormFieldTypes.isContainerType(json.type)) {
                    _this.containerFactory(json, form);
                }
            }
            if (_this.hasEmptyValue && _this.options && _this.options.length > 0) {
                _this.emptyOption = _this.options[0];
            }
            _this.updateForm();
            return _this;
        }
        Object.defineProperty(FormFieldModel.prototype, "value", {
            get: /**
             * @return {?}
             */ function () {
                return this._value;
            },
            set: /**
             * @param {?} v
             * @return {?}
             */ function (v) {
                this._value = v;
                this.updateForm();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormFieldModel.prototype, "readOnly", {
            get: /**
             * @return {?}
             */ function () {
                if (this.form && this.form.readOnly) {
                    return true;
                }
                return this._readOnly;
            },
            set: /**
             * @param {?} readOnly
             * @return {?}
             */ function (readOnly) {
                this._readOnly = readOnly;
                this.updateForm();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormFieldModel.prototype, "required", {
            get: /**
             * @return {?}
             */ function () {
                return this._required;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                this._required = value;
                this.updateForm();
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormFieldModel.prototype, "isValid", {
            get: /**
             * @return {?}
             */ function () {
                return this._isValid;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        FormFieldModel.prototype.markAsInvalid = /**
         * @return {?}
         */
            function () {
                this._isValid = false;
            };
        /**
         * @return {?}
         */
        FormFieldModel.prototype.validate = /**
         * @return {?}
         */
            function () {
                var e_1, _a;
                this.validationSummary = new ErrorMessageModel();
                if (!this.readOnly) {
                    /** @type {?} */
                    var validators = this.form.fieldValidators || [];
                    try {
                        for (var validators_1 = __values(validators), validators_1_1 = validators_1.next(); !validators_1_1.done; validators_1_1 = validators_1.next()) {
                            var validator = validators_1_1.value;
                            if (!validator.validate(this)) {
                                this._isValid = false;
                                return this._isValid;
                            }
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (validators_1_1 && !validators_1_1.done && (_a = validators_1.return))
                                _a.call(validators_1);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                this._isValid = true;
                return this._isValid;
            };
        /**
         * @param {?} jsonField
         * @return {?}
         */
        FormFieldModel.prototype.getDefaultDateFormat = /**
         * @param {?} jsonField
         * @return {?}
         */
            function (jsonField) {
                /** @type {?} */
                var originalType = jsonField.type;
                if (FormFieldTypes.isReadOnlyType(jsonField.type) &&
                    jsonField.params &&
                    jsonField.params.field) {
                    originalType = jsonField.params.field.type;
                }
                return originalType === FormFieldTypes.DATETIME ? this.deafultDateTimeFormat : this.defaultDateFormat;
            };
        /**
         * @param {?} type
         * @return {?}
         */
        FormFieldModel.prototype.isTypeaHeadFieldType = /**
         * @param {?} type
         * @return {?}
         */
            function (type) {
                return type === 'typeahead' ? true : false;
            };
        /**
         * @param {?} name
         * @return {?}
         */
        FormFieldModel.prototype.getFieldNameWithLabel = /**
         * @param {?} name
         * @return {?}
         */
            function (name) {
                return name += '_LABEL';
            };
        /**
         * @param {?} field
         * @param {?} form
         * @return {?}
         */
        FormFieldModel.prototype.getProcessVariableValue = /**
         * @param {?} field
         * @param {?} form
         * @return {?}
         */
            function (field, form) {
                /** @type {?} */
                var fieldName = field.name;
                if (this.isTypeaHeadFieldType(field.type)) {
                    fieldName = this.getFieldNameWithLabel(field.id);
                }
                return this.findProcessVariableValue(fieldName, form);
            };
        /**
         * @param {?} variableName
         * @param {?} form
         * @return {?}
         */
        FormFieldModel.prototype.getVariablesValue = /**
         * @param {?} variableName
         * @param {?} form
         * @return {?}
         */
            function (variableName, form) {
                /** @type {?} */
                var variable = form.json.variables.find(function (currentVariable) {
                    return currentVariable.name === variableName;
                });
                if (variable) {
                    if (variable.type === 'boolean') {
                        return JSON.parse(variable.value);
                    }
                    return variable.value;
                }
                return null;
            };
        /**
         * @param {?} variableName
         * @param {?} form
         * @return {?}
         */
        FormFieldModel.prototype.findProcessVariableValue = /**
         * @param {?} variableName
         * @param {?} form
         * @return {?}
         */
            function (variableName, form) {
                if (form.processVariables) {
                    /** @type {?} */
                    var variable = form.processVariables.find(function (currentVariable) {
                        return currentVariable.name === variableName;
                    });
                    if (variable) {
                        return variable.type === 'boolean' ? JSON.parse(variable.value) : variable.value;
                    }
                }
                return undefined;
            };
        /**
         * @param {?} json
         * @param {?} form
         * @return {?}
         */
        FormFieldModel.prototype.containerFactory = /**
         * @param {?} json
         * @param {?} form
         * @return {?}
         */
            function (json, form) {
                var _this = this;
                this.numberOfColumns = /** @type {?} */ (json.numberOfColumns) || 1;
                this.fields = json.fields;
                this.rowspan = 1;
                this.colspan = 1;
                if (json.fields) {
                    for (var currentField in json.fields) {
                        if (json.fields.hasOwnProperty(currentField)) {
                            /** @type {?} */
                            var col = new ContainerColumnModel();
                            /** @type {?} */
                            var fields = (json.fields[currentField] || []).map(function (f) { return new FormFieldModel(form, f); });
                            col.fields = fields;
                            col.rowspan = json.fields[currentField].length;
                            col.fields.forEach(function (colFields) {
                                _this.colspan = colFields.colspan > _this.colspan ? colFields.colspan : _this.colspan;
                            });
                            this.rowspan = this.rowspan < col.rowspan ? col.rowspan : this.rowspan;
                            this.columns.push(col);
                        }
                    }
                }
            };
        /**
         * @param {?} json
         * @return {?}
         */
        FormFieldModel.prototype.parseValue = /**
         * @param {?} json
         * @return {?}
         */
            function (json) {
                /** @type {?} */
                var value = json.value;
                /*
                         This is needed due to Activiti issue related to reading dropdown values as value string
                         but saving back as object: { id: <id>, name: <name> }
                         */
                if (json.type === FormFieldTypes.DROPDOWN) {
                    if (json.hasEmptyValue && json.options) {
                        /** @type {?} */
                        var options = /** @type {?} */ (json.options) || [];
                        if (options.length > 0) {
                            /** @type {?} */
                            var emptyOption = json.options[0];
                            if (value === '' || value === emptyOption.id || value === emptyOption.name) {
                                value = emptyOption.id;
                            }
                            else if (value.id && value.name) {
                                value = value.id;
                            }
                        }
                    }
                }
                /*
                         This is needed due to Activiti issue related to reading radio button values as value string
                         but saving back as object: { id: <id>, name: <name> }
                         */
                if (json.type === FormFieldTypes.RADIO_BUTTONS) {
                    /** @type {?} */
                    var entry = this.options.filter(function (opt) {
                        return opt.id === value || opt.name === value || (value && (opt.id === value.id || opt.name === value.name));
                    });
                    if (entry.length > 0) {
                        value = entry[0].id;
                    }
                }
                /*
                         This is needed due to Activiti displaying/editing dates in d-M-YYYY format
                         but storing on server in ISO8601 format (i.e. 2013-02-04T22:44:30.652Z)
                         */
                if (this.isDateField(json) || this.isDateTimeField(json)) {
                    if (value) {
                        /** @type {?} */
                        var dateValue = void 0;
                        if (NumberFieldValidator.isNumber(value)) {
                            dateValue = moment$1(value);
                        }
                        else {
                            dateValue = this.isDateTimeField(json) ? moment$1(value, 'YYYY-MM-DD hh:mm A') : moment$1(value.split('T')[0], 'YYYY-M-D');
                        }
                        if (dateValue && dateValue.isValid()) {
                            value = dateValue.format(this.dateDisplayFormat);
                        }
                    }
                }
                return value;
            };
        /**
         * @return {?}
         */
        FormFieldModel.prototype.updateForm = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (!this.form) {
                    return;
                }
                switch (this.type) {
                    case FormFieldTypes.DROPDOWN:
                        /*
                                         This is needed due to Activiti reading dropdown values as string
                                         but saving back as object: { id: <id>, name: <name> }
                                         */
                        if (this.value === 'empty' || this.value === '') {
                            this.form.values[this.id] = {};
                        }
                        else {
                            /** @type {?} */
                            var entry = this.options.filter(function (opt) { return opt.id === _this.value; });
                            if (entry.length > 0) {
                                this.form.values[this.id] = entry[0];
                            }
                        }
                        break;
                    case FormFieldTypes.RADIO_BUTTONS:
                        /** @type {?} */
                        var rbEntry = this.options.filter(function (opt) { return opt.id === _this.value; });
                        if (rbEntry.length > 0) {
                            this.form.values[this.id] = rbEntry[0];
                        }
                        break;
                    case FormFieldTypes.UPLOAD:
                        if (this.value && this.value.length > 0) {
                            this.form.values[this.id] = this.value.map(function (elem) { return elem.id; }).join(',');
                        }
                        else {
                            this.form.values[this.id] = null;
                        }
                        break;
                    case FormFieldTypes.TYPEAHEAD:
                        /** @type {?} */
                        var taEntry = this.options.filter(function (opt) { return opt.id === _this.value || opt.name === _this.value; });
                        if (taEntry.length > 0) {
                            this.form.values[this.id] = taEntry[0];
                        }
                        else if (this.options.length > 0) {
                            this.form.values[this.id] = null;
                        }
                        break;
                    case FormFieldTypes.DATE:
                        /** @type {?} */
                        var dateValue = moment$1(this.value, this.dateDisplayFormat, true);
                        if (dateValue && dateValue.isValid()) {
                            this.form.values[this.id] = dateValue.format('YYYY-MM-DD') + "T00:00:00.000Z";
                        }
                        else {
                            this.form.values[this.id] = null;
                            this._value = this.value;
                        }
                        break;
                    case FormFieldTypes.DATETIME:
                        /** @type {?} */
                        var dateTimeValue = moment$1(this.value, this.dateDisplayFormat, true);
                        if (dateTimeValue && dateTimeValue.isValid()) {
                            this.form.values[this.id] = dateTimeValue.format('YYYY-MM-DDTHH:mm:ssZ');
                        }
                        else {
                            this.form.values[this.id] = null;
                            this._value = this.value;
                        }
                        break;
                    case FormFieldTypes.NUMBER:
                        this.form.values[this.id] = parseInt(this.value, 10);
                        break;
                    case FormFieldTypes.AMOUNT:
                        this.form.values[this.id] = this.enableFractions ? parseFloat(this.value) : parseInt(this.value, 10);
                        break;
                    default:
                        if (!FormFieldTypes.isReadOnlyType(this.type) && !this.isInvalidFieldType(this.type)) {
                            this.form.values[this.id] = this.value;
                        }
                }
                this.form.onFormFieldChanged(this);
            };
        /**
         * Skip the invalid field type
         * @param type
         */
        /**
         * Skip the invalid field type
         * @param {?} type
         * @return {?}
         */
        FormFieldModel.prototype.isInvalidFieldType = /**
         * Skip the invalid field type
         * @param {?} type
         * @return {?}
         */
            function (type) {
                if (type === 'container') {
                    return true;
                }
                else {
                    return false;
                }
            };
        /**
         * @return {?}
         */
        FormFieldModel.prototype.getOptionName = /**
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var option = this.options.find(function (opt) { return opt.id === _this.value; });
                return option ? option.name : null;
            };
        /**
         * @return {?}
         */
        FormFieldModel.prototype.hasOptions = /**
         * @return {?}
         */
            function () {
                return this.options && this.options.length > 0;
            };
        /**
         * @param {?} json
         * @return {?}
         */
        FormFieldModel.prototype.isDateField = /**
         * @param {?} json
         * @return {?}
         */
            function (json) {
                return (json.params &&
                    json.params.field &&
                    json.params.field.type === FormFieldTypes.DATE) ||
                    json.type === FormFieldTypes.DATE;
            };
        /**
         * @param {?} json
         * @return {?}
         */
        FormFieldModel.prototype.isDateTimeField = /**
         * @param {?} json
         * @return {?}
         */
            function (json) {
                return (json.params &&
                    json.params.field &&
                    json.params.field.type === FormFieldTypes.DATETIME) ||
                    json.type === FormFieldTypes.DATETIME;
            };
        return FormFieldModel;
    }(FormWidgetModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ContainerModel = /** @class */ (function (_super) {
        __extends(ContainerModel, _super);
        function ContainerModel(field) {
            var _this = _super.call(this, field.form, field.json) || this;
            if (field) {
                _this.field = field;
            }
            return _this;
        }
        Object.defineProperty(ContainerModel.prototype, "isVisible", {
            get: /**
             * @return {?}
             */ function () {
                return this.field.isVisible;
            },
            enumerable: true,
            configurable: true
        });
        return ContainerModel;
    }(FormWidgetModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FormOutcomeModel = /** @class */ (function (_super) {
        __extends(FormOutcomeModel, _super);
        function FormOutcomeModel(form, json) {
            var _this = _super.call(this, form, json) || this;
            _this.isSystem = false;
            _this.isSelected = false;
            if (json) {
                _this.isSystem = json.isSystem ? true : false;
                _this.isSelected = form && json.name === form.selectedOutcome ? true : false;
            }
            return _this;
        }
        FormOutcomeModel.SAVE_ACTION = 'Save';
        FormOutcomeModel.COMPLETE_ACTION = 'Complete';
        FormOutcomeModel.START_PROCESS_ACTION = 'Start Process';
        return FormOutcomeModel;
    }(FormWidgetModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var TabModel = /** @class */ (function (_super) {
        __extends(TabModel, _super);
        function TabModel(form, json) {
            var _this = _super.call(this, form, json) || this;
            _this.isVisible = true;
            _this.fields = [];
            if (json) {
                _this.title = json.title;
                _this.visibilityCondition = /** @type {?} */ (json.visibilityCondition);
            }
            return _this;
        }
        /**
         * @return {?}
         */
        TabModel.prototype.hasContent = /**
         * @return {?}
         */
            function () {
                return this.fields && this.fields.length > 0;
            };
        return TabModel;
    }(FormWidgetModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FormModel = /** @class */ (function () {
        function FormModel(json, data, readOnly, formService) {
            if (readOnly === void 0) {
                readOnly = false;
            }
            var _this = this;
            this.formService = formService;
            this.taskName = FormModel.UNSET_TASK_NAME;
            this._isValid = true;
            this.readOnly = false;
            this.tabs = [];
            /**
             * Stores root containers
             */
            this.fields = [];
            this.outcomes = [];
            this.customFieldTemplates = {};
            this.fieldValidators = __spread(FORM_FIELD_VALIDATORS);
            this.values = {};
            this.readOnly = readOnly;
            if (json) {
                this.json = json;
                this.id = json.id;
                this.name = json.name;
                this.taskId = json.taskId;
                this.taskName = json.taskName || json.name || FormModel.UNSET_TASK_NAME;
                this.processDefinitionId = json.processDefinitionId;
                this.customFieldTemplates = json.customFieldTemplates || {};
                this.selectedOutcome = json.selectedOutcome || {};
                this.className = json.className || '';
                /** @type {?} */
                var tabCache_1 = {};
                this.processVariables = json.processVariables;
                this.tabs = (json.tabs || []).map(function (t) {
                    /** @type {?} */
                    var model = new TabModel(_this, t);
                    tabCache_1[model.id] = model;
                    return model;
                });
                this.fields = this.parseRootFields(json);
                if (data) {
                    this.loadData(data);
                }
                for (var i = 0; i < this.fields.length; i++) {
                    /** @type {?} */
                    var field = this.fields[i];
                    if (field.tab) {
                        /** @type {?} */
                        var tab = tabCache_1[field.tab];
                        if (tab) {
                            tab.fields.push(field);
                        }
                    }
                }
                if (json.fields) {
                    /** @type {?} */
                    var saveOutcome = new FormOutcomeModel(this, {
                        id: FormModel.SAVE_OUTCOME,
                        name: 'Save',
                        isSystem: true
                    });
                    /** @type {?} */
                    var completeOutcome = new FormOutcomeModel(this, {
                        id: FormModel.COMPLETE_OUTCOME,
                        name: 'Complete',
                        isSystem: true
                    });
                    /** @type {?} */
                    var startProcessOutcome = new FormOutcomeModel(this, {
                        id: FormModel.START_PROCESS_OUTCOME,
                        name: 'Start Process',
                        isSystem: true
                    });
                    /** @type {?} */
                    var customOutcomes = (json.outcomes || []).map(function (obj) { return new FormOutcomeModel(_this, obj); });
                    this.outcomes = [saveOutcome].concat(customOutcomes.length > 0 ? customOutcomes : [completeOutcome, startProcessOutcome]);
                }
            }
            this.validateForm();
        }
        Object.defineProperty(FormModel.prototype, "isValid", {
            get: /**
             * @return {?}
             */ function () {
                return this._isValid;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        FormModel.prototype.hasTabs = /**
         * @return {?}
         */
            function () {
                return this.tabs && this.tabs.length > 0;
            };
        /**
         * @return {?}
         */
        FormModel.prototype.hasFields = /**
         * @return {?}
         */
            function () {
                return this.fields && this.fields.length > 0;
            };
        /**
         * @return {?}
         */
        FormModel.prototype.hasOutcomes = /**
         * @return {?}
         */
            function () {
                return this.outcomes && this.outcomes.length > 0;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        FormModel.prototype.onFormFieldChanged = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                this.validateField(field);
                if (this.formService) {
                    this.formService.formFieldValueChanged.next(new FormFieldEvent(this, field));
                }
            };
        /**
         * @param {?} fieldId
         * @return {?}
         */
        FormModel.prototype.getFieldById = /**
         * @param {?} fieldId
         * @return {?}
         */
            function (fieldId) {
                return this.getFormFields().find(function (field) { return field.id === fieldId; });
            };
        // TODO: consider evaluating and caching once the form is loaded
        /**
         * @return {?}
         */
        FormModel.prototype.getFormFields = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var result = [];
                for (var i = 0; i < this.fields.length; i++) {
                    /** @type {?} */
                    var field = this.fields[i];
                    if (field instanceof ContainerModel) {
                        /** @type {?} */
                        var container = /** @type {?} */ (field);
                        result.push(container.field);
                        container.field.columns.forEach(function (column) {
                            result.push.apply(result, __spread(column.fields));
                        });
                    }
                }
                return result;
            };
        /**
         * @return {?}
         */
        FormModel.prototype.markAsInvalid = /**
         * @return {?}
         */
            function () {
                this._isValid = false;
            };
        /**
         * Validates entire form and all form fields.
         *
         * @memberof FormModel
         */
        /**
         * Validates entire form and all form fields.
         *
         * \@memberof FormModel
         * @return {?}
         */
        FormModel.prototype.validateForm = /**
         * Validates entire form and all form fields.
         *
         * \@memberof FormModel
         * @return {?}
         */
            function () {
                /** @type {?} */
                var validateFormEvent = new ValidateFormEvent(this);
                /** @type {?} */
                var errorsField = [];
                /** @type {?} */
                var fields = this.getFormFields();
                for (var i = 0; i < fields.length; i++) {
                    if (!fields[i].validate()) {
                        errorsField.push(fields[i]);
                    }
                }
                this._isValid = errorsField.length > 0 ? false : true;
                if (this.formService) {
                    validateFormEvent.isValid = this._isValid;
                    validateFormEvent.errorsField = errorsField;
                    this.formService.validateForm.next(validateFormEvent);
                }
            };
        /**
         * Validates a specific form field, triggers form validation.
         *
         * @param field Form field to validate.
         * @memberof FormModel
         */
        /**
         * Validates a specific form field, triggers form validation.
         *
         * \@memberof FormModel
         * @param {?} field Form field to validate.
         * @return {?}
         */
        FormModel.prototype.validateField = /**
         * Validates a specific form field, triggers form validation.
         *
         * \@memberof FormModel
         * @param {?} field Form field to validate.
         * @return {?}
         */
            function (field) {
                if (!field) {
                    return;
                }
                /** @type {?} */
                var validateFieldEvent = new ValidateFormFieldEvent(this, field);
                if (this.formService) {
                    this.formService.validateFormField.next(validateFieldEvent);
                }
                if (!validateFieldEvent.isValid) {
                    this._isValid = false;
                    return;
                }
                if (validateFieldEvent.defaultPrevented) {
                    return;
                }
                if (!field.validate()) {
                    this._isValid = false;
                }
                this.validateForm();
            };
        /**
         * @param {?} json
         * @return {?}
         */
        FormModel.prototype.parseRootFields = /**
         * @param {?} json
         * @return {?}
         */
            function (json) {
                var e_1, _a;
                /** @type {?} */
                var fields = [];
                if (json.fields) {
                    fields = json.fields;
                }
                else if (json.formDefinition && json.formDefinition.fields) {
                    fields = json.formDefinition.fields;
                }
                /** @type {?} */
                var result = [];
                try {
                    for (var fields_1 = __values(fields), fields_1_1 = fields_1.next(); !fields_1_1.done; fields_1_1 = fields_1.next()) {
                        var field = fields_1_1.value;
                        if (field.type === FormFieldTypes.DISPLAY_VALUE) {
                            // workaround for dynamic table on a completed/readonly form
                            if (field.params) {
                                /** @type {?} */
                                var originalField = field.params['field'];
                                if (originalField.type === FormFieldTypes.DYNAMIC_TABLE) {
                                    result.push(new ContainerModel(new FormFieldModel(this, field)));
                                }
                            }
                        }
                        else {
                            result.push(new ContainerModel(new FormFieldModel(this, field)));
                        }
                    }
                }
                catch (e_1_1) {
                    e_1 = { error: e_1_1 };
                }
                finally {
                    try {
                        if (fields_1_1 && !fields_1_1.done && (_a = fields_1.return))
                            _a.call(fields_1);
                    }
                    finally {
                        if (e_1)
                            throw e_1.error;
                    }
                }
                return result;
            };
        /**
         * @param {?} data
         * @return {?}
         */
        FormModel.prototype.loadData = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                var e_2, _a;
                try {
                    for (var _b = __values(this.getFormFields()), _c = _b.next(); !_c.done; _c = _b.next()) {
                        var field = _c.value;
                        if (data[field.id]) {
                            field.json.value = data[field.id];
                            field.value = field.parseValue(field.json);
                        }
                    }
                }
                catch (e_2_1) {
                    e_2 = { error: e_2_1 };
                }
                finally {
                    try {
                        if (_c && !_c.done && (_a = _b.return))
                            _a.call(_b);
                    }
                    finally {
                        if (e_2)
                            throw e_2.error;
                    }
                }
            };
        FormModel.UNSET_TASK_NAME = 'Nameless task';
        FormModel.SAVE_OUTCOME = '$save';
        FormModel.COMPLETE_OUTCOME = '$complete';
        FormModel.START_PROCESS_OUTCOME = '$startProcess';
        return FormModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var FormOutcomeEvent = /** @class */ (function () {
        function FormOutcomeEvent(outcome) {
            this._defaultPrevented = false;
            this._outcome = outcome;
        }
        Object.defineProperty(FormOutcomeEvent.prototype, "outcome", {
            get: /**
             * @return {?}
             */ function () {
                return this._outcome;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormOutcomeEvent.prototype, "defaultPrevented", {
            get: /**
             * @return {?}
             */ function () {
                return this._defaultPrevented;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        FormOutcomeEvent.prototype.preventDefault = /**
         * @return {?}
         */
            function () {
                this._defaultPrevented = true;
            };
        return FormOutcomeEvent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var ContentLinkModel = /** @class */ (function () {
        function ContentLinkModel(obj) {
            this.contentAvailable = obj && obj.contentAvailable;
            this.created = obj && obj.created;
            this.createdBy = obj && obj.createdBy || {};
            this.id = obj && obj.id;
            this.link = obj && obj.link;
            this.mimeType = obj && obj.mimeType;
            this.name = obj && obj.name;
            this.previewStatus = obj && obj.previewStatus;
            this.relatedContent = obj && obj.relatedContent;
            this.simpleType = obj && obj.simpleType;
            this.thumbnailStatus = obj && obj.thumbnailStatus;
        }
        /**
         * @return {?}
         */
        ContentLinkModel.prototype.hasPreviewStatus = /**
         * @return {?}
         */
            function () {
                return this.previewStatus === 'supported' ? true : false;
            };
        /**
         * @return {?}
         */
        ContentLinkModel.prototype.isTypeImage = /**
         * @return {?}
         */
            function () {
                return this.simpleType === 'image' ? true : false;
            };
        /**
         * @return {?}
         */
        ContentLinkModel.prototype.isTypePdf = /**
         * @return {?}
         */
            function () {
                return this.simpleType === 'pdf' ? true : false;
            };
        /**
         * @return {?}
         */
        ContentLinkModel.prototype.isTypeDoc = /**
         * @return {?}
         */
            function () {
                return this.simpleType === 'word' || this.simpleType === 'content' ? true : false;
            };
        /**
         * @return {?}
         */
        ContentLinkModel.prototype.isThumbnailReady = /**
         * @return {?}
         */
            function () {
                return this.thumbnailStatus === 'created';
            };
        /**
         * @return {?}
         */
        ContentLinkModel.prototype.isThumbnailSupported = /**
         * @return {?}
         */
            function () {
                return this.isTypeImage() || ((this.isTypePdf() || this.isTypeDoc()) && this.isThumbnailReady());
            };
        return ContentLinkModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FormService = /** @class */ (function () {
        function FormService(ecmModelService, apiService, logService) {
            this.ecmModelService = ecmModelService;
            this.apiService = apiService;
            this.logService = logService;
            this.formLoaded = new rxjs.Subject();
            this.formDataRefreshed = new rxjs.Subject();
            this.formFieldValueChanged = new rxjs.Subject();
            this.formEvents = new rxjs.Subject();
            this.taskCompleted = new rxjs.Subject();
            this.taskCompletedError = new rxjs.Subject();
            this.taskSaved = new rxjs.Subject();
            this.taskSavedError = new rxjs.Subject();
            this.formContentClicked = new rxjs.Subject();
            this.validateForm = new rxjs.Subject();
            this.validateFormField = new rxjs.Subject();
            this.validateDynamicTableRow = new rxjs.Subject();
            this.executeOutcome = new rxjs.Subject();
        }
        Object.defineProperty(FormService.prototype, "taskApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.apiService.getInstance().activiti.taskApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormService.prototype, "modelsApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.apiService.getInstance().activiti.modelsApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormService.prototype, "editorApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.apiService.getInstance().activiti.editorApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormService.prototype, "processApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.apiService.getInstance().activiti.processApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormService.prototype, "processInstanceVariablesApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.apiService.getInstance().activiti.processInstanceVariablesApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormService.prototype, "usersWorkflowApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.apiService.getInstance().activiti.usersWorkflowApi;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(FormService.prototype, "groupsApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.apiService.getInstance().activiti.groupsApi;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Parses JSON data to create a corresponding Form model.
         * @param json JSON to create the form
         * @param data Values for the form fields
         * @param readOnly Should the form fields be read-only?
         * @returns Form model created from input data
         */
        /**
         * Parses JSON data to create a corresponding Form model.
         * @param {?} json JSON to create the form
         * @param {?=} data Values for the form fields
         * @param {?=} readOnly Should the form fields be read-only?
         * @return {?} Form model created from input data
         */
        FormService.prototype.parseForm = /**
         * Parses JSON data to create a corresponding Form model.
         * @param {?} json JSON to create the form
         * @param {?=} data Values for the form fields
         * @param {?=} readOnly Should the form fields be read-only?
         * @return {?} Form model created from input data
         */
            function (json, data, readOnly) {
                if (readOnly === void 0) {
                    readOnly = false;
                }
                if (json) {
                    /** @type {?} */
                    var form = new FormModel(json, data, readOnly, this);
                    if (!json.fields) {
                        form.outcomes = [
                            new FormOutcomeModel(form, {
                                id: '$custom',
                                name: FormOutcomeModel.SAVE_ACTION,
                                isSystem: true
                            })
                        ];
                    }
                    return form;
                }
                return null;
            };
        /**
         * Creates a Form with a field for each metadata property.
         * @param formName Name of the new form
         * @returns The new form
         */
        /**
         * Creates a Form with a field for each metadata property.
         * @param {?} formName Name of the new form
         * @return {?} The new form
         */
        FormService.prototype.createFormFromANode = /**
         * Creates a Form with a field for each metadata property.
         * @param {?} formName Name of the new form
         * @return {?} The new form
         */
            function (formName) {
                var _this = this;
                return rxjs.Observable.create(function (observer) {
                    _this.createForm(formName).subscribe(function (form) {
                        _this.ecmModelService.searchEcmType(formName, EcmModelService.MODEL_NAME).subscribe(function (customType) {
                            /** @type {?} */
                            var formDefinitionModel = new FormDefinitionModel(form.id, form.name, form.lastUpdatedByFullName, form.lastUpdated, customType.entry.properties);
                            _this.addFieldsToAForm(form.id, formDefinitionModel).subscribe(function (formData) {
                                observer.next(formData);
                                observer.complete();
                            }, function (err) { return _this.handleError(err); });
                        }, function (err) { return _this.handleError(err); });
                    }, function (err) { return _this.handleError(err); });
                });
            };
        /**
         * Create a Form.
         * @param formName Name of the new form
         * @returns The new form
         */
        /**
         * Create a Form.
         * @param {?} formName Name of the new form
         * @return {?} The new form
         */
        FormService.prototype.createForm = /**
         * Create a Form.
         * @param {?} formName Name of the new form
         * @return {?} The new form
         */
            function (formName) {
                /** @type {?} */
                var dataModel = {
                    name: formName,
                    description: '',
                    modelType: 2,
                    stencilSet: 0
                };
                return rxjs.from(this.modelsApi.createModel(dataModel));
            };
        /**
         * Saves a form.
         * @param formId ID of the form to save
         * @param formModel Model data for the form
         * @returns Data for the saved form
         */
        /**
         * Saves a form.
         * @param {?} formId ID of the form to save
         * @param {?} formModel Model data for the form
         * @return {?} Data for the saved form
         */
        FormService.prototype.saveForm = /**
         * Saves a form.
         * @param {?} formId ID of the form to save
         * @param {?} formModel Model data for the form
         * @return {?} Data for the saved form
         */
            function (formId, formModel) {
                return rxjs.from(this.editorApi.saveForm(formId, formModel));
            };
        /**
         * Add Fields to a form
         * @deprecated in 1.7.0, use saveForm API instead
         * @param formId ID of the form
         * @param formModel Form definition
         */
        /**
         * Add Fields to a form
         * @deprecated in 1.7.0, use saveForm API instead
         * @param {?} formId ID of the form
         * @param {?} formModel Form definition
         * @return {?}
         */
        FormService.prototype.addFieldsToAForm = /**
         * Add Fields to a form
         * @deprecated in 1.7.0, use saveForm API instead
         * @param {?} formId ID of the form
         * @param {?} formModel Form definition
         * @return {?}
         */
            function (formId, formModel) {
                this.logService.log('addFieldsToAForm is deprecated in 1.7.0, use saveForm API instead');
                return rxjs.from(this.editorApi.saveForm(formId, formModel));
            };
        /**
         * Searches for a form by name.
         * @param name The form name to search for
         * @returns Form model(s) matching the search name
         */
        /**
         * Searches for a form by name.
         * @param {?} name The form name to search for
         * @return {?} Form model(s) matching the search name
         */
        FormService.prototype.searchFrom = /**
         * Searches for a form by name.
         * @param {?} name The form name to search for
         * @return {?} Form model(s) matching the search name
         */
            function (name) {
                var _this = this;
                /** @type {?} */
                var opts = {
                    'modelType': 2
                };
                return rxjs.from(this.modelsApi.getModels(opts))
                    .pipe(operators.map(function (forms$$1) {
                    return forms$$1.data.find(function (formdata) { return formdata.name === name; });
                }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets all the forms.
         * @returns List of form models
         */
        /**
         * Gets all the forms.
         * @return {?} List of form models
         */
        FormService.prototype.getForms = /**
         * Gets all the forms.
         * @return {?} List of form models
         */
            function () {
                var _this = this;
                /** @type {?} */
                var opts = {
                    'modelType': 2
                };
                return rxjs.from(this.modelsApi.getModels(opts))
                    .pipe(operators.map(this.toJsonArray), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets process definitions.
         * @returns List of process definitions
         */
        /**
         * Gets process definitions.
         * @return {?} List of process definitions
         */
        FormService.prototype.getProcessDefinitions = /**
         * Gets process definitions.
         * @return {?} List of process definitions
         */
            function () {
                var _this = this;
                return rxjs.from(this.processApi.getProcessDefinitions({}))
                    .pipe(operators.map(this.toJsonArray), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets instance variables for a process.
         * @param processInstanceId ID of the target process
         * @returns List of instance variable information
         */
        /**
         * Gets instance variables for a process.
         * @param {?} processInstanceId ID of the target process
         * @return {?} List of instance variable information
         */
        FormService.prototype.getProcessVarablesById = /**
         * Gets instance variables for a process.
         * @param {?} processInstanceId ID of the target process
         * @return {?} List of instance variable information
         */
            function (processInstanceId) {
                var _this = this;
                return rxjs.from(this.processInstanceVariablesApi.getProcessInstanceVariables(processInstanceId))
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets all the tasks.
         * @returns List of tasks
         */
        /**
         * Gets all the tasks.
         * @return {?} List of tasks
         */
        FormService.prototype.getTasks = /**
         * Gets all the tasks.
         * @return {?} List of tasks
         */
            function () {
                var _this = this;
                return rxjs.from(this.taskApi.listTasks({}))
                    .pipe(operators.map(this.toJsonArray), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets a task.
         * @param taskId Task Id
         * @returns Task info
         */
        /**
         * Gets a task.
         * @param {?} taskId Task Id
         * @return {?} Task info
         */
        FormService.prototype.getTask = /**
         * Gets a task.
         * @param {?} taskId Task Id
         * @return {?} Task info
         */
            function (taskId) {
                var _this = this;
                return rxjs.from(this.taskApi.getTask(taskId))
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Saves a task form.
         * @param taskId Task Id
         * @param formValues Form Values
         * @returns Null response when the operation is complete
         */
        /**
         * Saves a task form.
         * @param {?} taskId Task Id
         * @param {?} formValues Form Values
         * @return {?} Null response when the operation is complete
         */
        FormService.prototype.saveTaskForm = /**
         * Saves a task form.
         * @param {?} taskId Task Id
         * @param {?} formValues Form Values
         * @return {?} Null response when the operation is complete
         */
            function (taskId, formValues) {
                var _this = this;
                /** @type {?} */
                var body = JSON.stringify({ values: formValues });
                return rxjs.from(this.taskApi.saveTaskForm(taskId, body))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Completes a Task Form.
         * @param taskId Task Id
         * @param formValues Form Values
         * @param outcome Form Outcome
         * @returns Null response when the operation is complete
         */
        /**
         * Completes a Task Form.
         * @param {?} taskId Task Id
         * @param {?} formValues Form Values
         * @param {?=} outcome Form Outcome
         * @return {?} Null response when the operation is complete
         */
        FormService.prototype.completeTaskForm = /**
         * Completes a Task Form.
         * @param {?} taskId Task Id
         * @param {?} formValues Form Values
         * @param {?=} outcome Form Outcome
         * @return {?} Null response when the operation is complete
         */
            function (taskId, formValues, outcome) {
                var _this = this;
                /** @type {?} */
                var data = { values: formValues };
                if (outcome) {
                    data.outcome = outcome;
                }
                /** @type {?} */
                var body = JSON.stringify(data);
                return rxjs.from(this.taskApi.completeTaskForm(taskId, body))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets a form related to a task.
         * @param taskId ID of the target task
         * @returns Form definition
         */
        /**
         * Gets a form related to a task.
         * @param {?} taskId ID of the target task
         * @return {?} Form definition
         */
        FormService.prototype.getTaskForm = /**
         * Gets a form related to a task.
         * @param {?} taskId ID of the target task
         * @return {?} Form definition
         */
            function (taskId) {
                var _this = this;
                return rxjs.from(this.taskApi.getTaskForm(taskId))
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets a form definition.
         * @param formId ID of the target form
         * @returns Form definition
         */
        /**
         * Gets a form definition.
         * @param {?} formId ID of the target form
         * @return {?} Form definition
         */
        FormService.prototype.getFormDefinitionById = /**
         * Gets a form definition.
         * @param {?} formId ID of the target form
         * @return {?} Form definition
         */
            function (formId) {
                var _this = this;
                return rxjs.from(this.editorApi.getForm(formId))
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets the form definition with a given name.
         * @param name The form name
         * @returns Form definition
         */
        /**
         * Gets the form definition with a given name.
         * @param {?} name The form name
         * @return {?} Form definition
         */
        FormService.prototype.getFormDefinitionByName = /**
         * Gets the form definition with a given name.
         * @param {?} name The form name
         * @return {?} Form definition
         */
            function (name) {
                var _this = this;
                /** @type {?} */
                var opts = {
                    'filter': 'myReusableForms',
                    'filterText': name,
                    'modelType': 2
                };
                return rxjs.from(this.modelsApi.getModels(opts))
                    .pipe(operators.map(this.getFormId), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets the start form instance for a given process.
         * @param processId Process definition ID
         * @returns Form definition
         */
        /**
         * Gets the start form instance for a given process.
         * @param {?} processId Process definition ID
         * @return {?} Form definition
         */
        FormService.prototype.getStartFormInstance = /**
         * Gets the start form instance for a given process.
         * @param {?} processId Process definition ID
         * @return {?} Form definition
         */
            function (processId) {
                var _this = this;
                return rxjs.from(this.processApi.getProcessInstanceStartForm(processId))
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets a process instance.
         * @param processId ID of the process to get
         * @returns Process instance
         */
        /**
         * Gets a process instance.
         * @param {?} processId ID of the process to get
         * @return {?} Process instance
         */
        FormService.prototype.getProcessIntance = /**
         * Gets a process instance.
         * @param {?} processId ID of the process to get
         * @return {?} Process instance
         */
            function (processId) {
                var _this = this;
                return rxjs.from(this.processApi.getProcessInstance(processId))
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets the start form definition for a given process.
         * @param processId Process definition ID
         * @returns Form definition
         */
        /**
         * Gets the start form definition for a given process.
         * @param {?} processId Process definition ID
         * @return {?} Form definition
         */
        FormService.prototype.getStartFormDefinition = /**
         * Gets the start form definition for a given process.
         * @param {?} processId Process definition ID
         * @return {?} Form definition
         */
            function (processId) {
                var _this = this;
                return rxjs.from(this.processApi.getProcessDefinitionStartForm(processId))
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets values of fields populated by a REST backend.
         * @param taskId Task identifier
         * @param field Field identifier
         * @returns Field values
         */
        /**
         * Gets values of fields populated by a REST backend.
         * @param {?} taskId Task identifier
         * @param {?} field Field identifier
         * @return {?} Field values
         */
        FormService.prototype.getRestFieldValues = /**
         * Gets values of fields populated by a REST backend.
         * @param {?} taskId Task identifier
         * @param {?} field Field identifier
         * @return {?} Field values
         */
            function (taskId, field) {
                var _this = this;
                return rxjs.from(this.taskApi.getRestFieldValues(taskId, field))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets values of fields populated by a REST backend using a process ID.
         * @param processDefinitionId Process identifier
         * @param field Field identifier
         * @returns Field values
         */
        /**
         * Gets values of fields populated by a REST backend using a process ID.
         * @param {?} processDefinitionId Process identifier
         * @param {?} field Field identifier
         * @return {?} Field values
         */
        FormService.prototype.getRestFieldValuesByProcessId = /**
         * Gets values of fields populated by a REST backend using a process ID.
         * @param {?} processDefinitionId Process identifier
         * @param {?} field Field identifier
         * @return {?} Field values
         */
            function (processDefinitionId, field) {
                var _this = this;
                return rxjs.from(this.processApi.getRestFieldValues(processDefinitionId, field))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets column values of fields populated by a REST backend using a process ID.
         * @param processDefinitionId Process identifier
         * @param field Field identifier
         * @param column Column identifier
         * @returns Field values
         */
        /**
         * Gets column values of fields populated by a REST backend using a process ID.
         * @param {?} processDefinitionId Process identifier
         * @param {?} field Field identifier
         * @param {?=} column Column identifier
         * @return {?} Field values
         */
        FormService.prototype.getRestFieldValuesColumnByProcessId = /**
         * Gets column values of fields populated by a REST backend using a process ID.
         * @param {?} processDefinitionId Process identifier
         * @param {?} field Field identifier
         * @param {?=} column Column identifier
         * @return {?} Field values
         */
            function (processDefinitionId, field, column) {
                var _this = this;
                return rxjs.from(this.processApi.getRestTableFieldValues(processDefinitionId, field, column))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets column values of fields populated by a REST backend.
         * @param taskId Task identifier
         * @param field Field identifier
         * @param column Column identifier
         * @returns Field values
         */
        /**
         * Gets column values of fields populated by a REST backend.
         * @param {?} taskId Task identifier
         * @param {?} field Field identifier
         * @param {?=} column Column identifier
         * @return {?} Field values
         */
        FormService.prototype.getRestFieldValuesColumn = /**
         * Gets column values of fields populated by a REST backend.
         * @param {?} taskId Task identifier
         * @param {?} field Field identifier
         * @param {?=} column Column identifier
         * @return {?} Field values
         */
            function (taskId, field, column) {
                var _this = this;
                return rxjs.from(this.taskApi.getRestFieldValuesColumn(taskId, field, column))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Returns a URL for the profile picture of a user.
         * @param userId ID of the target user
         * @returns URL string
         */
        /**
         * Returns a URL for the profile picture of a user.
         * @param {?} userId ID of the target user
         * @return {?} URL string
         */
        FormService.prototype.getUserProfileImageApi = /**
         * Returns a URL for the profile picture of a user.
         * @param {?} userId ID of the target user
         * @return {?} URL string
         */
            function (userId) {
                return this.apiService.getInstance().activiti.userApi.getUserProfilePictureUrl(userId);
            };
        /**
         * Gets a list of workflow users.
         * @param filter Filter to select specific users
         * @param groupId Group ID for the search
         * @returns Array of users
         */
        /**
         * Gets a list of workflow users.
         * @param {?} filter Filter to select specific users
         * @param {?=} groupId Group ID for the search
         * @return {?} Array of users
         */
        FormService.prototype.getWorkflowUsers = /**
         * Gets a list of workflow users.
         * @param {?} filter Filter to select specific users
         * @param {?=} groupId Group ID for the search
         * @return {?} Array of users
         */
            function (filter, groupId) {
                var _this = this;
                /** @type {?} */
                var option = { filter: filter };
                if (groupId) {
                    option.groupId = groupId;
                }
                return rxjs.from(this.usersWorkflowApi.getUsers(option))
                    .pipe(operators.switchMap(function (response) { return (response.data) || []; }), operators.map(function (user) {
                    user.userImage = _this.getUserProfileImageApi(user.id);
                    return rxjs.of(user);
                }), operators.combineAll(), operators.defaultIfEmpty([]), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets a list of groups in a workflow.
         * @param filter Filter to select specific groups
         * @param groupId Group ID for the search
         * @returns Array of groups
         */
        /**
         * Gets a list of groups in a workflow.
         * @param {?} filter Filter to select specific groups
         * @param {?=} groupId Group ID for the search
         * @return {?} Array of groups
         */
        FormService.prototype.getWorkflowGroups = /**
         * Gets a list of groups in a workflow.
         * @param {?} filter Filter to select specific groups
         * @param {?=} groupId Group ID for the search
         * @return {?} Array of groups
         */
            function (filter, groupId) {
                var _this = this;
                /** @type {?} */
                var option = { filter: filter };
                if (groupId) {
                    option.groupId = groupId;
                }
                return rxjs.from(this.groupsApi.getGroups(option))
                    .pipe(operators.map(function (response) { return (response.data) || []; }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets the ID of a form.
         * @param res Object representing a form
         * @returns ID string
         */
        /**
         * Gets the ID of a form.
         * @param {?} res Object representing a form
         * @return {?} ID string
         */
        FormService.prototype.getFormId = /**
         * Gets the ID of a form.
         * @param {?} res Object representing a form
         * @return {?} ID string
         */
            function (res) {
                /** @type {?} */
                var result = null;
                if (res && res.data && res.data.length > 0) {
                    result = res.data[0].id;
                }
                return result;
            };
        /**
         * Creates a JSON representation of form data.
         * @param res Object representing form data
         * @returns JSON data
         */
        /**
         * Creates a JSON representation of form data.
         * @param {?} res Object representing form data
         * @return {?} JSON data
         */
        FormService.prototype.toJson = /**
         * Creates a JSON representation of form data.
         * @param {?} res Object representing form data
         * @return {?} JSON data
         */
            function (res) {
                if (res) {
                    return res || {};
                }
                return {};
            };
        /**
         * Creates a JSON array representation of form data.
         * @param res Object representing form data
         * @returns JSON data
         */
        /**
         * Creates a JSON array representation of form data.
         * @param {?} res Object representing form data
         * @return {?} JSON data
         */
        FormService.prototype.toJsonArray = /**
         * Creates a JSON array representation of form data.
         * @param {?} res Object representing form data
         * @return {?} JSON data
         */
            function (res) {
                if (res) {
                    return res.data || [];
                }
                return [];
            };
        /**
         * Reports an error message.
         * @param error Data object with optional `message` and `status` fields for the error
         * @returns Error message
         */
        /**
         * Reports an error message.
         * @param {?} error Data object with optional `message` and `status` fields for the error
         * @return {?} Error message
         */
        FormService.prototype.handleError = /**
         * Reports an error message.
         * @param {?} error Data object with optional `message` and `status` fields for the error
         * @return {?} Error message
         */
            function (error) {
                /** @type {?} */
                var errMsg = FormService.UNKNOWN_ERROR_MESSAGE;
                if (error) {
                    errMsg = (error.message) ? error.message :
                        error.status ? error.status + " - " + error.statusText : FormService.GENERIC_ERROR_MESSAGE;
                }
                this.logService.error(errMsg);
                return rxjs.throwError(errMsg);
            };
        FormService.UNKNOWN_ERROR_MESSAGE = 'Unknown error';
        FormService.GENERIC_ERROR_MESSAGE = 'Server error';
        FormService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        FormService.ctorParameters = function () {
            return [
                { type: EcmModelService },
                { type: AlfrescoApiService },
                { type: LogService }
            ];
        };
        return FormService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var NodeMetadata = /** @class */ (function () {
        function NodeMetadata(metadata, nodeType) {
            this.metadata = metadata;
            this.nodeType = nodeType;
        }
        return NodeMetadata;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var NodeService = /** @class */ (function () {
        function NodeService(apiService) {
            this.apiService = apiService;
        }
        /**
         * Get the metadata and the nodeType for a nodeId cleaned by the prefix.
         * @param {?} nodeId ID of the target node
         * @return {?} Node metadata
         */
        NodeService.prototype.getNodeMetadata = /**
         * Get the metadata and the nodeType for a nodeId cleaned by the prefix.
         * @param {?} nodeId ID of the target node
         * @return {?} Node metadata
         */
            function (nodeId) {
                return rxjs.from(this.apiService.getInstance().nodes.getNodeInfo(nodeId))
                    .pipe(operators.map(this.cleanMetadataFromSemicolon));
            };
        /**
         * Create a new Node from form metadata.
         * @param {?} nodeType Node type
         * @param {?} nameSpace Namespace for properties
         * @param {?} data Property data to store in the node under namespace
         * @param {?} path Path to the node
         * @param {?=} name Node name
         * @return {?} The created node
         */
        NodeService.prototype.createNodeMetadata = /**
         * Create a new Node from form metadata.
         * @param {?} nodeType Node type
         * @param {?} nameSpace Namespace for properties
         * @param {?} data Property data to store in the node under namespace
         * @param {?} path Path to the node
         * @param {?=} name Node name
         * @return {?} The created node
         */
            function (nodeType, nameSpace, data, path, name) {
                /** @type {?} */
                var properties = {};
                for (var key in data) {
                    if (data[key]) {
                        properties[nameSpace + ':' + key] = data[key];
                    }
                }
                return this.createNode(name || this.generateUuid(), nodeType, properties, path);
            };
        /**
         * Create a new Node from form metadata
         * @param {?} name Node name
         * @param {?} nodeType Node type
         * @param {?} properties Node body properties
         * @param {?} path Path to the node
         * @return {?} The created node
         */
        NodeService.prototype.createNode = /**
         * Create a new Node from form metadata
         * @param {?} name Node name
         * @param {?} nodeType Node type
         * @param {?} properties Node body properties
         * @param {?} path Path to the node
         * @return {?} The created node
         */
            function (name, nodeType, properties, path) {
                /** @type {?} */
                var body = {
                    name: name,
                    nodeType: nodeType,
                    properties: properties,
                    relativePath: path
                };
                /** @type {?} */
                var apiService = this.apiService.getInstance();
                return rxjs.from(apiService.nodes.addNode('-root-', body, {}));
            };
        /**
         * @return {?}
         */
        NodeService.prototype.generateUuid = /**
         * @return {?}
         */
            function () {
                return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (c) {
                    /** @type {?} */
                    var r = Math.random() * 16 | 0;
                    /** @type {?} */
                    var v = c === 'x' ? r : (r & 0x3 | 0x8);
                    return v.toString(16);
                });
            };
        /**
         * @param {?} data
         * @return {?}
         */
        NodeService.prototype.cleanMetadataFromSemicolon = /**
         * @param {?} data
         * @return {?}
         */
            function (data) {
                /** @type {?} */
                var metadata = {};
                if (data && data.properties) {
                    for (var key in data.properties) {
                        if (key) {
                            if (key.indexOf(':') !== -1) {
                                metadata[key.split(':')[1]] = data.properties[key];
                            }
                            else {
                                metadata[key] = data.properties[key];
                            }
                        }
                    }
                }
                return new NodeMetadata(metadata, data.nodeType);
            };
        NodeService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        NodeService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService }
            ];
        };
        return NodeService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var WidgetVisibilityService = /** @class */ (function () {
        function WidgetVisibilityService(apiService, logService) {
            this.apiService = apiService;
            this.logService = logService;
        }
        /**
         * @param {?} form
         * @return {?}
         */
        WidgetVisibilityService.prototype.refreshVisibility = /**
         * @param {?} form
         * @return {?}
         */
            function (form) {
                var _this = this;
                if (form && form.tabs && form.tabs.length > 0) {
                    form.tabs.map(function (tabModel) { return _this.refreshEntityVisibility(tabModel); });
                }
                if (form) {
                    form.getFormFields().map(function (field) { return _this.refreshEntityVisibility(field); });
                }
            };
        /**
         * @param {?} element
         * @return {?}
         */
        WidgetVisibilityService.prototype.refreshEntityVisibility = /**
         * @param {?} element
         * @return {?}
         */
            function (element) {
                /** @type {?} */
                var visible = this.evaluateVisibility(element.form, element.visibilityCondition);
                element.isVisible = visible;
            };
        /**
         * @param {?} form
         * @param {?} visibilityObj
         * @return {?}
         */
        WidgetVisibilityService.prototype.evaluateVisibility = /**
         * @param {?} form
         * @param {?} visibilityObj
         * @return {?}
         */
            function (form, visibilityObj) {
                /** @type {?} */
                var isLeftFieldPresent = visibilityObj && (visibilityObj.leftFormFieldId || visibilityObj.leftRestResponseId);
                if (!isLeftFieldPresent || isLeftFieldPresent === 'null') {
                    return true;
                }
                else {
                    return this.isFieldVisible(form, visibilityObj);
                }
            };
        /**
         * @param {?} form
         * @param {?} visibilityObj
         * @return {?}
         */
        WidgetVisibilityService.prototype.isFieldVisible = /**
         * @param {?} form
         * @param {?} visibilityObj
         * @return {?}
         */
            function (form, visibilityObj) {
                /** @type {?} */
                var leftValue = this.getLeftValue(form, visibilityObj);
                /** @type {?} */
                var rightValue = this.getRightValue(form, visibilityObj);
                /** @type {?} */
                var actualResult = this.evaluateCondition(leftValue, rightValue, visibilityObj.operator);
                if (visibilityObj.nextCondition) {
                    return this.evaluateLogicalOperation(visibilityObj.nextConditionOperator, actualResult, this.isFieldVisible(form, visibilityObj.nextCondition));
                }
                else {
                    return actualResult;
                }
            };
        /**
         * @param {?} form
         * @param {?} visibilityObj
         * @return {?}
         */
        WidgetVisibilityService.prototype.getLeftValue = /**
         * @param {?} form
         * @param {?} visibilityObj
         * @return {?}
         */
            function (form, visibilityObj) {
                /** @type {?} */
                var leftValue = '';
                if (visibilityObj.leftRestResponseId && visibilityObj.leftRestResponseId !== 'null') {
                    leftValue = this.getVariableValue(form, visibilityObj.leftRestResponseId, this.processVarList);
                }
                else if (visibilityObj.leftFormFieldId) {
                    leftValue = this.getFormValue(form, visibilityObj.leftFormFieldId);
                    leftValue = leftValue ? leftValue : this.getVariableValue(form, visibilityObj.leftFormFieldId, this.processVarList);
                }
                return leftValue;
            };
        /**
         * @param {?} form
         * @param {?} visibilityObj
         * @return {?}
         */
        WidgetVisibilityService.prototype.getRightValue = /**
         * @param {?} form
         * @param {?} visibilityObj
         * @return {?}
         */
            function (form, visibilityObj) {
                /** @type {?} */
                var valueFound = '';
                if (visibilityObj.rightRestResponseId) {
                    valueFound = this.getVariableValue(form, visibilityObj.rightRestResponseId, this.processVarList);
                }
                else if (visibilityObj.rightFormFieldId) {
                    valueFound = this.getFormValue(form, visibilityObj.rightFormFieldId);
                }
                else {
                    if (moment$1(visibilityObj.rightValue, 'YYYY-MM-DD', true).isValid()) {
                        valueFound = visibilityObj.rightValue + 'T00:00:00.000Z';
                    }
                    else {
                        valueFound = visibilityObj.rightValue;
                    }
                }
                return valueFound;
            };
        /**
         * @param {?} form
         * @param {?} fieldId
         * @return {?}
         */
        WidgetVisibilityService.prototype.getFormValue = /**
         * @param {?} form
         * @param {?} fieldId
         * @return {?}
         */
            function (form, fieldId) {
                /** @type {?} */
                var value = this.getFieldValue(form.values, fieldId);
                if (!value) {
                    value = this.searchValueInForm(form, fieldId);
                }
                return value;
            };
        /**
         * @param {?} valueList
         * @param {?} fieldId
         * @return {?}
         */
        WidgetVisibilityService.prototype.getFieldValue = /**
         * @param {?} valueList
         * @param {?} fieldId
         * @return {?}
         */
            function (valueList, fieldId) {
                /** @type {?} */
                var dropDownFilterByName;
                /** @type {?} */
                var valueFound;
                if (fieldId && fieldId.indexOf('_LABEL') > 0) {
                    dropDownFilterByName = fieldId.substring(0, fieldId.length - 6);
                    if (valueList[dropDownFilterByName]) {
                        valueFound = valueList[dropDownFilterByName].name;
                    }
                }
                else if (valueList[fieldId] && valueList[fieldId].id) {
                    valueFound = valueList[fieldId].id;
                }
                else {
                    valueFound = valueList[fieldId];
                }
                return valueFound;
            };
        /**
         * @param {?} form
         * @param {?} fieldId
         * @return {?}
         */
        WidgetVisibilityService.prototype.searchValueInForm = /**
         * @param {?} form
         * @param {?} fieldId
         * @return {?}
         */
            function (form, fieldId) {
                var _this = this;
                /** @type {?} */
                var fieldValue = '';
                form.getFormFields().forEach(function (formField) {
                    if (_this.isSearchedField(formField, fieldId)) {
                        fieldValue = _this.getObjectValue(formField, fieldId);
                        if (!fieldValue) {
                            if (formField.value && formField.value.id) {
                                fieldValue = formField.value.id;
                            }
                            else {
                                fieldValue = formField.value;
                            }
                        }
                    }
                });
                return fieldValue;
            };
        /**
         * @param {?} field
         * @param {?} fieldId
         * @return {?}
         */
        WidgetVisibilityService.prototype.getObjectValue = /**
         * @param {?} field
         * @param {?} fieldId
         * @return {?}
         */
            function (field, fieldId) {
                /** @type {?} */
                var value = '';
                if (field.value && field.value.name) {
                    value = field.value.name;
                }
                else if (field.options) {
                    /** @type {?} */
                    var option = field.options.find(function (opt) { return opt.id === field.value; });
                    if (option) {
                        value = this.getValueFromOption(fieldId, option);
                    }
                }
                return value;
            };
        /**
         * @param {?} fieldId
         * @param {?} option
         * @return {?}
         */
        WidgetVisibilityService.prototype.getValueFromOption = /**
         * @param {?} fieldId
         * @param {?} option
         * @return {?}
         */
            function (fieldId, option) {
                /** @type {?} */
                var optionValue = '';
                if (fieldId && fieldId.indexOf('_LABEL') > 0) {
                    optionValue = option.name;
                }
                else {
                    optionValue = option.id;
                }
                return optionValue;
            };
        /**
         * @param {?} field
         * @param {?} fieldToFind
         * @return {?}
         */
        WidgetVisibilityService.prototype.isSearchedField = /**
         * @param {?} field
         * @param {?} fieldToFind
         * @return {?}
         */
            function (field, fieldToFind) {
                /** @type {?} */
                var formattedFieldName = this.removeLabel(field, fieldToFind);
                return field.id ? field.id.toUpperCase() === formattedFieldName.toUpperCase() : false;
            };
        /**
         * @param {?} field
         * @param {?} fieldToFind
         * @return {?}
         */
        WidgetVisibilityService.prototype.removeLabel = /**
         * @param {?} field
         * @param {?} fieldToFind
         * @return {?}
         */
            function (field, fieldToFind) {
                /** @type {?} */
                var formattedFieldName = fieldToFind || '';
                if (field.fieldType === 'RestFieldRepresentation' && fieldToFind.indexOf('_LABEL') > 0) {
                    formattedFieldName = fieldToFind.substring(0, fieldToFind.length - 6);
                }
                return formattedFieldName;
            };
        /**
         * @param {?} form
         * @param {?} name
         * @param {?} processVarList
         * @return {?}
         */
        WidgetVisibilityService.prototype.getVariableValue = /**
         * @param {?} form
         * @param {?} name
         * @param {?} processVarList
         * @return {?}
         */
            function (form, name, processVarList) {
                return this.getFormVariableValue(form, name) ||
                    this.getProcessVariableValue(name, processVarList);
            };
        /**
         * @param {?} form
         * @param {?} name
         * @return {?}
         */
        WidgetVisibilityService.prototype.getFormVariableValue = /**
         * @param {?} form
         * @param {?} name
         * @return {?}
         */
            function (form, name) {
                if (form.json.variables) {
                    /** @type {?} */
                    var formVariable = form.json.variables.find(function (formVar) { return formVar.name === name; });
                    return formVariable ? formVariable.value : formVariable;
                }
            };
        /**
         * @param {?} name
         * @param {?} processVarList
         * @return {?}
         */
        WidgetVisibilityService.prototype.getProcessVariableValue = /**
         * @param {?} name
         * @param {?} processVarList
         * @return {?}
         */
            function (name, processVarList) {
                if (this.processVarList) {
                    /** @type {?} */
                    var processVariable = this.processVarList.find(function (variable) { return variable.id === name; });
                    return processVariable ? processVariable.value : processVariable;
                }
            };
        /**
         * @param {?} logicOp
         * @param {?} previousValue
         * @param {?} newValue
         * @return {?}
         */
        WidgetVisibilityService.prototype.evaluateLogicalOperation = /**
         * @param {?} logicOp
         * @param {?} previousValue
         * @param {?} newValue
         * @return {?}
         */
            function (logicOp, previousValue, newValue) {
                switch (logicOp) {
                    case 'and':
                        return previousValue && newValue;
                    case 'or':
                        return previousValue || newValue;
                    case 'and-not':
                        return previousValue && !newValue;
                    case 'or-not':
                        return previousValue || !newValue;
                    default:
                        this.logService.error('NO valid operation! wrong op request : ' + logicOp);
                        break;
                }
            };
        /**
         * @param {?} leftValue
         * @param {?} rightValue
         * @param {?} operator
         * @return {?}
         */
        WidgetVisibilityService.prototype.evaluateCondition = /**
         * @param {?} leftValue
         * @param {?} rightValue
         * @param {?} operator
         * @return {?}
         */
            function (leftValue, rightValue, operator) {
                switch (operator) {
                    case '==':
                        return leftValue + '' === rightValue + '';
                    case '<':
                        return leftValue < rightValue;
                    case '!=':
                        return leftValue + '' !== rightValue + '';
                    case '>':
                        return leftValue > rightValue;
                    case '>=':
                        return leftValue >= rightValue;
                    case '<=':
                        return leftValue <= rightValue;
                    case 'empty':
                        return leftValue ? leftValue === '' : true;
                    case '!empty':
                        return leftValue ? leftValue !== '' : false;
                    default:
                        this.logService.error('NO valid operation!');
                        break;
                }
                return;
            };
        /**
         * @return {?}
         */
        WidgetVisibilityService.prototype.cleanProcessVariable = /**
         * @return {?}
         */
            function () {
                this.processVarList = [];
            };
        /**
         * @param {?} taskId
         * @return {?}
         */
        WidgetVisibilityService.prototype.getTaskProcessVariable = /**
         * @param {?} taskId
         * @return {?}
         */
            function (taskId) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().activiti.taskFormsApi.getTaskFormVariables(taskId))
                    .pipe(operators.map(function (res) {
                    /** @type {?} */
                    var jsonRes = _this.toJson(res);
                    _this.processVarList = /** @type {?} */ (jsonRes);
                    return jsonRes;
                }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} res
         * @return {?}
         */
        WidgetVisibilityService.prototype.toJson = /**
         * @param {?} res
         * @return {?}
         */
            function (res) {
                return res || {};
            };
        /**
         * @param {?} err
         * @return {?}
         */
        WidgetVisibilityService.prototype.handleError = /**
         * @param {?} err
         * @return {?}
         */
            function (err) {
                this.logService.error('Error while performing a call');
                return rxjs.throwError('Error while performing a call - Server error');
            };
        WidgetVisibilityService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        WidgetVisibilityService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: LogService }
            ];
        };
        return WidgetVisibilityService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FormComponent = /** @class */ (function () {
        function FormComponent(formService, visibilityService, ecmModelService, nodeService) {
            this.formService = formService;
            this.visibilityService = visibilityService;
            this.ecmModelService = ecmModelService;
            this.nodeService = nodeService;
            /**
             * Toggle saving of form metadata.
             */
            this.saveMetadata = false;
            /**
             * Toggle rendering of the form title.
             */
            this.showTitle = true;
            /**
             * Toggle rendering of the `Complete` outcome button.
             */
            this.showCompleteButton = true;
            /**
             * If true then the `Complete` outcome button is shown but it will be disabled.
             */
            this.disableCompleteButton = false;
            /**
             * If true then the `Start Process` outcome button is shown but it will be disabled.
             */
            this.disableStartProcessButton = false;
            /**
             * Toggle rendering of the `Save` outcome button.
             */
            this.showSaveButton = true;
            /**
             * Toggle debug options.
             */
            this.showDebugButton = false;
            /**
             * Toggle readonly state of the form. Forces all form widgets to render as readonly if enabled.
             */
            this.readOnly = false;
            /**
             * Toggle rendering of the `Refresh` button.
             */
            this.showRefreshButton = true;
            /**
             * Toggle rendering of the validation icon next to the form title.
             */
            this.showValidationIcon = true;
            /**
             * Contains a list of form field validator instances.
             */
            this.fieldValidators = [];
            /**
             * Emitted when the form is submitted with the `Save` or custom outcomes.
             */
            this.formSaved = new i0.EventEmitter();
            /**
             * Emitted when the form is submitted with the `Complete` outcome.
             */
            this.formCompleted = new i0.EventEmitter();
            /**
             * Emitted when form content is clicked.
             */
            this.formContentClicked = new i0.EventEmitter();
            /**
             * Emitted when the form is loaded or reloaded.
             */
            this.formLoaded = new i0.EventEmitter();
            /**
             * Emitted when form values are refreshed due to a data property change.
             */
            this.formDataRefreshed = new i0.EventEmitter();
            /**
             * Emitted when form validations has validation error.
             */
            this.formError = new i0.EventEmitter();
            /**
             * Emitted when any outcome is executed. Default behaviour can be prevented
             * via `event.preventDefault()`.
             */
            this.executeOutcome = new i0.EventEmitter();
            /**
             * Emitted when any error occurs.
             * @deprecated in 2.4.0, will be renamed as "error" in 3.x.x
             */
            this.onError = new i0.EventEmitter();
            this.debugMode = false;
            this.subscriptions = [];
        }
        /**
         * @return {?}
         */
        FormComponent.prototype.hasForm = /**
         * @return {?}
         */
            function () {
                return this.form ? true : false;
            };
        /**
         * @return {?}
         */
        FormComponent.prototype.isTitleEnabled = /**
         * @return {?}
         */
            function () {
                if (this.showTitle) {
                    if (this.form && this.form.taskName) {
                        return true;
                    }
                }
                return false;
            };
        /**
         * @param {?} outcomeName
         * @return {?}
         */
        FormComponent.prototype.getColorForOutcome = /**
         * @param {?} outcomeName
         * @return {?}
         */
            function (outcomeName) {
                return outcomeName === FormComponent.COMPLETE_OUTCOME_NAME ? FormComponent.COMPLETE_BUTTON_COLOR : '';
            };
        /**
         * @param {?} outcome
         * @return {?}
         */
        FormComponent.prototype.isOutcomeButtonEnabled = /**
         * @param {?} outcome
         * @return {?}
         */
            function (outcome) {
                if (this.form.readOnly) {
                    return false;
                }
                if (outcome) {
                    // Make 'Save' button always available
                    if (outcome.name === FormOutcomeModel.SAVE_ACTION) {
                        return true;
                    }
                    if (outcome.name === FormOutcomeModel.COMPLETE_ACTION) {
                        return this.disableCompleteButton ? false : this.form.isValid;
                    }
                    if (outcome.name === FormOutcomeModel.START_PROCESS_ACTION) {
                        return this.disableStartProcessButton ? false : this.form.isValid;
                    }
                    return this.form.isValid;
                }
                return false;
            };
        /**
         * @param {?} outcome
         * @param {?} isFormReadOnly
         * @return {?}
         */
        FormComponent.prototype.isOutcomeButtonVisible = /**
         * @param {?} outcome
         * @param {?} isFormReadOnly
         * @return {?}
         */
            function (outcome, isFormReadOnly) {
                if (outcome && outcome.name) {
                    if (outcome.name === FormOutcomeModel.COMPLETE_ACTION) {
                        return this.showCompleteButton;
                    }
                    if (isFormReadOnly) {
                        return outcome.isSelected;
                    }
                    if (outcome.name === FormOutcomeModel.SAVE_ACTION) {
                        return this.showSaveButton;
                    }
                    if (outcome.name === FormOutcomeModel.START_PROCESS_ACTION) {
                        return false;
                    }
                    return true;
                }
                return false;
            };
        /**
         * @return {?}
         */
        FormComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.subscriptions.push(this.formService.formContentClicked.subscribe(function (content) {
                    _this.formContentClicked.emit(content);
                }), this.formService.validateForm.subscribe(function (validateFormEvent) {
                    if (validateFormEvent.errorsField.length > 0) {
                        _this.formError.next(validateFormEvent.errorsField);
                    }
                }));
            };
        /**
         * @return {?}
         */
        FormComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this.subscriptions.forEach(function (subscription) { return subscription.unsubscribe(); });
                this.subscriptions = [];
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        FormComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                /** @type {?} */
                var taskId = changes['taskId'];
                if (taskId && taskId.currentValue) {
                    this.getFormByTaskId(taskId.currentValue);
                    return;
                }
                /** @type {?} */
                var formId = changes['formId'];
                if (formId && formId.currentValue) {
                    this.getFormDefinitionByFormId(formId.currentValue);
                    return;
                }
                /** @type {?} */
                var formName = changes['formName'];
                if (formName && formName.currentValue) {
                    this.getFormDefinitionByFormName(formName.currentValue);
                    return;
                }
                /** @type {?} */
                var nodeId = changes['nodeId'];
                if (nodeId && nodeId.currentValue) {
                    this.loadFormForEcmNode(nodeId.currentValue);
                    return;
                }
                /** @type {?} */
                var data = changes['data'];
                if (data && data.currentValue) {
                    this.refreshFormData();
                    return;
                }
            };
        /**
         * Invoked when user clicks outcome button.
         * @param outcome Form outcome model
         */
        /**
         * Invoked when user clicks outcome button.
         * @param {?} outcome Form outcome model
         * @return {?}
         */
        FormComponent.prototype.onOutcomeClicked = /**
         * Invoked when user clicks outcome button.
         * @param {?} outcome Form outcome model
         * @return {?}
         */
            function (outcome) {
                if (!this.readOnly && outcome && this.form) {
                    if (!this.onExecuteOutcome(outcome)) {
                        return false;
                    }
                    if (outcome.isSystem) {
                        if (outcome.id === FormComponent.SAVE_OUTCOME_ID) {
                            this.saveTaskForm();
                            return true;
                        }
                        if (outcome.id === FormComponent.COMPLETE_OUTCOME_ID) {
                            this.completeTaskForm();
                            return true;
                        }
                        if (outcome.id === FormComponent.START_PROCESS_OUTCOME_ID) {
                            this.completeTaskForm();
                            return true;
                        }
                        if (outcome.id === FormComponent.CUSTOM_OUTCOME_ID) {
                            this.onTaskSaved(this.form);
                            this.storeFormAsMetadata();
                            return true;
                        }
                    }
                    else {
                        // Note: Activiti is using NAME field rather than ID for outcomes
                        if (outcome.name) {
                            this.onTaskSaved(this.form);
                            this.completeTaskForm(outcome.name);
                            return true;
                        }
                    }
                }
                return false;
            };
        /**
         * Invoked when user clicks form refresh button.
         */
        /**
         * Invoked when user clicks form refresh button.
         * @return {?}
         */
        FormComponent.prototype.onRefreshClicked = /**
         * Invoked when user clicks form refresh button.
         * @return {?}
         */
            function () {
                this.loadForm();
            };
        /**
         * @return {?}
         */
        FormComponent.prototype.loadForm = /**
         * @return {?}
         */
            function () {
                if (this.taskId) {
                    this.getFormByTaskId(this.taskId);
                    return;
                }
                if (this.formId) {
                    this.getFormDefinitionByFormId(this.formId);
                    return;
                }
                if (this.formName) {
                    this.getFormDefinitionByFormName(this.formName);
                    return;
                }
            };
        /**
         * @param {?} taskId
         * @return {?}
         */
        FormComponent.prototype.findProcessVariablesByTaskId = /**
         * @param {?} taskId
         * @return {?}
         */
            function (taskId) {
                var _this = this;
                return this.formService.getTask(taskId).pipe(operators.switchMap(function (task) {
                    if (_this.isAProcessTask(task)) {
                        return _this.visibilityService.getTaskProcessVariable(taskId);
                    }
                    else {
                        return rxjs.of({});
                    }
                }));
            };
        /**
         * @param {?} taskRepresentation
         * @return {?}
         */
        FormComponent.prototype.isAProcessTask = /**
         * @param {?} taskRepresentation
         * @return {?}
         */
            function (taskRepresentation) {
                return taskRepresentation.processDefinitionId && taskRepresentation.processDefinitionDeploymentId !== 'null';
            };
        /**
         * @param {?} taskId
         * @return {?}
         */
        FormComponent.prototype.getFormByTaskId = /**
         * @param {?} taskId
         * @return {?}
         */
            function (taskId) {
                var _this = this;
                return new Promise(function (resolve, reject) {
                    _this.findProcessVariablesByTaskId(taskId).subscribe(function (processVariables) {
                        _this.formService
                            .getTaskForm(taskId)
                            .subscribe(function (form) {
                            /** @type {?} */
                            var parsedForm = _this.parseForm(form);
                            _this.visibilityService.refreshVisibility(parsedForm);
                            parsedForm.validateForm();
                            _this.form = parsedForm;
                            _this.onFormLoaded(_this.form);
                            resolve(_this.form);
                        }, function (error) {
                            _this.handleError(error);
                            // reject(error);
                            resolve(null);
                        });
                    });
                });
            };
        /**
         * @param {?} formId
         * @return {?}
         */
        FormComponent.prototype.getFormDefinitionByFormId = /**
         * @param {?} formId
         * @return {?}
         */
            function (formId) {
                var _this = this;
                this.formService
                    .getFormDefinitionById(formId)
                    .subscribe(function (form) {
                    _this.formName = form.name;
                    _this.form = _this.parseForm(form);
                    _this.visibilityService.refreshVisibility(_this.form);
                    _this.form.validateForm();
                    _this.onFormLoaded(_this.form);
                }, function (error) {
                    _this.handleError(error);
                });
            };
        /**
         * @param {?} formName
         * @return {?}
         */
        FormComponent.prototype.getFormDefinitionByFormName = /**
         * @param {?} formName
         * @return {?}
         */
            function (formName) {
                var _this = this;
                this.formService
                    .getFormDefinitionByName(formName)
                    .subscribe(function (id) {
                    _this.formService.getFormDefinitionById(id).subscribe(function (form) {
                        _this.form = _this.parseForm(form);
                        _this.visibilityService.refreshVisibility(_this.form);
                        _this.form.validateForm();
                        _this.onFormLoaded(_this.form);
                    }, function (error) {
                        _this.handleError(error);
                    });
                }, function (error) {
                    _this.handleError(error);
                });
            };
        /**
         * @return {?}
         */
        FormComponent.prototype.saveTaskForm = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.form && this.form.taskId) {
                    this.formService
                        .saveTaskForm(this.form.taskId, this.form.values)
                        .subscribe(function () {
                        _this.onTaskSaved(_this.form);
                        _this.storeFormAsMetadata();
                    }, function (error) { return _this.onTaskSavedError(_this.form, error); });
                }
            };
        /**
         * @param {?=} outcome
         * @return {?}
         */
        FormComponent.prototype.completeTaskForm = /**
         * @param {?=} outcome
         * @return {?}
         */
            function (outcome) {
                var _this = this;
                if (this.form && this.form.taskId) {
                    this.formService
                        .completeTaskForm(this.form.taskId, this.form.values, outcome)
                        .subscribe(function () {
                        _this.onTaskCompleted(_this.form);
                        _this.storeFormAsMetadata();
                    }, function (error) { return _this.onTaskCompletedError(_this.form, error); });
                }
            };
        /**
         * @param {?} err
         * @return {?}
         */
        FormComponent.prototype.handleError = /**
         * @param {?} err
         * @return {?}
         */
            function (err) {
                this.onError.emit(err);
            };
        /**
         * @param {?} json
         * @return {?}
         */
        FormComponent.prototype.parseForm = /**
         * @param {?} json
         * @return {?}
         */
            function (json) {
                if (json) {
                    /** @type {?} */
                    var form = new FormModel(json, this.data, this.readOnly, this.formService);
                    if (!json.fields) {
                        form.outcomes = this.getFormDefinitionOutcomes(form);
                    }
                    if (this.fieldValidators && this.fieldValidators.length > 0) {
                        form.fieldValidators = this.fieldValidators;
                    }
                    return form;
                }
                return null;
            };
        /**
         * Get custom set of outcomes for a Form Definition.
         * @param form Form definition model.
         */
        /**
         * Get custom set of outcomes for a Form Definition.
         * @param {?} form Form definition model.
         * @return {?}
         */
        FormComponent.prototype.getFormDefinitionOutcomes = /**
         * Get custom set of outcomes for a Form Definition.
         * @param {?} form Form definition model.
         * @return {?}
         */
            function (form) {
                return [
                    new FormOutcomeModel(form, { id: '$custom', name: FormOutcomeModel.SAVE_ACTION, isSystem: true })
                ];
            };
        /**
         * @param {?} field
         * @return {?}
         */
        FormComponent.prototype.checkVisibility = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                if (field && field.form) {
                    this.visibilityService.refreshVisibility(field.form);
                }
            };
        /**
         * @return {?}
         */
        FormComponent.prototype.refreshFormData = /**
         * @return {?}
         */
            function () {
                this.form = this.parseForm(this.form.json);
                this.onFormLoaded(this.form);
                this.onFormDataRefreshed(this.form);
            };
        /**
         * @param {?} nodeId
         * @return {?}
         */
        FormComponent.prototype.loadFormForEcmNode = /**
         * @param {?} nodeId
         * @return {?}
         */
            function (nodeId) {
                var _this = this;
                this.nodeService.getNodeMetadata(nodeId).subscribe(function (data) {
                    _this.data = data.metadata;
                    _this.loadFormFromActiviti(data.nodeType);
                }, this.handleError);
            };
        /**
         * @param {?} nodeType
         * @return {?}
         */
        FormComponent.prototype.loadFormFromActiviti = /**
         * @param {?} nodeType
         * @return {?}
         */
            function (nodeType) {
                var _this = this;
                this.formService.searchFrom(nodeType).subscribe(function (form) {
                    if (!form) {
                        _this.formService.createFormFromANode(nodeType).subscribe(function (formMetadata) {
                            _this.loadFormFromFormId(formMetadata.id);
                        });
                    }
                    else {
                        _this.loadFormFromFormId(form.id);
                    }
                }, function (error) {
                    _this.handleError(error);
                });
            };
        /**
         * @param {?} formId
         * @return {?}
         */
        FormComponent.prototype.loadFormFromFormId = /**
         * @param {?} formId
         * @return {?}
         */
            function (formId) {
                this.formId = formId;
                this.loadForm();
            };
        /**
         * @return {?}
         */
        FormComponent.prototype.storeFormAsMetadata = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.saveMetadata) {
                    this.ecmModelService.createEcmTypeForActivitiForm(this.formName, this.form).subscribe(function (type) {
                        _this.nodeService.createNodeMetadata(type.nodeType || type.entry.prefixedName, EcmModelService.MODEL_NAMESPACE, _this.form.values, _this.path, _this.nameNode);
                    }, function (error) {
                        _this.handleError(error);
                    });
                }
            };
        /**
         * @param {?} form
         * @return {?}
         */
        FormComponent.prototype.onFormLoaded = /**
         * @param {?} form
         * @return {?}
         */
            function (form) {
                this.formLoaded.emit(form);
                this.formService.formLoaded.next(new FormEvent(form));
            };
        /**
         * @param {?} form
         * @return {?}
         */
        FormComponent.prototype.onFormDataRefreshed = /**
         * @param {?} form
         * @return {?}
         */
            function (form) {
                this.formDataRefreshed.emit(form);
                this.formService.formDataRefreshed.next(new FormEvent(form));
            };
        /**
         * @param {?} form
         * @return {?}
         */
        FormComponent.prototype.onTaskSaved = /**
         * @param {?} form
         * @return {?}
         */
            function (form) {
                this.formSaved.emit(form);
                this.formService.taskSaved.next(new FormEvent(form));
            };
        /**
         * @param {?} form
         * @param {?} error
         * @return {?}
         */
        FormComponent.prototype.onTaskSavedError = /**
         * @param {?} form
         * @param {?} error
         * @return {?}
         */
            function (form, error) {
                this.handleError(error);
                this.formService.taskSavedError.next(new FormErrorEvent(form, error));
            };
        /**
         * @param {?} form
         * @return {?}
         */
        FormComponent.prototype.onTaskCompleted = /**
         * @param {?} form
         * @return {?}
         */
            function (form) {
                this.formCompleted.emit(form);
                this.formService.taskCompleted.next(new FormEvent(form));
            };
        /**
         * @param {?} form
         * @param {?} error
         * @return {?}
         */
        FormComponent.prototype.onTaskCompletedError = /**
         * @param {?} form
         * @param {?} error
         * @return {?}
         */
            function (form, error) {
                this.handleError(error);
                this.formService.taskCompletedError.next(new FormErrorEvent(form, error));
            };
        /**
         * @param {?} outcome
         * @return {?}
         */
        FormComponent.prototype.onExecuteOutcome = /**
         * @param {?} outcome
         * @return {?}
         */
            function (outcome) {
                /** @type {?} */
                var args = new FormOutcomeEvent(outcome);
                this.formService.executeOutcome.next(args);
                if (args.defaultPrevented) {
                    return false;
                }
                this.executeOutcome.emit(args);
                if (args.defaultPrevented) {
                    return false;
                }
                return true;
            };
        FormComponent.SAVE_OUTCOME_ID = '$save';
        FormComponent.COMPLETE_OUTCOME_ID = '$complete';
        FormComponent.START_PROCESS_OUTCOME_ID = '$startProcess';
        FormComponent.CUSTOM_OUTCOME_ID = '$custom';
        FormComponent.COMPLETE_BUTTON_COLOR = 'primary';
        FormComponent.COMPLETE_OUTCOME_NAME = 'Complete';
        FormComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-form',
                        template: "<div *ngIf=\"!hasForm()\">\n    <ng-content select=\"[empty-form]\">\n    </ng-content>\n</div>\n\n<div *ngIf=\"hasForm()\" class=\"{{form.className}} adf-form-container\" [ngClass]=\"{'adf-readonly-form': readOnly }\">\n    <mat-card>\n        <mat-card-header>\n            <mat-card-title>\n                <h4>\n                    <div *ngIf=\"showValidationIcon\" class=\"adf-form-validation-button\">\n                        <i id=\"adf-valid-form-icon\" class=\"material-icons\" *ngIf=\"form.isValid; else no_valid_form\">check_circle</i>\n                        <ng-template #no_valid_form>\n                            <i id=\"adf-invalid-form-icon\" class=\"material-icons invalid-color\">error</i>\n                        </ng-template>\n                    </div>\n                    <div *ngIf=\"showRefreshButton\" class=\"adf-form-reload-button\">\n                        <button mat-icon-button (click)=\"onRefreshClicked()\">\n                            <mat-icon>refresh</mat-icon>\n                        </button>\n                    </div>\n                    <span *ngIf=\"isTitleEnabled()\" class=\"adf-form-title\">{{form.taskName}}</span>\n\n                </h4>\n            </mat-card-title>\n        </mat-card-header>\n        <mat-card-content>\n            <div *ngIf=\"form.hasTabs()\">\n                <tabs-widget [tabs]=\"form.tabs\"></tabs-widget>\n            </div>\n\n            <div *ngIf=\"!form.hasTabs() && form.hasFields()\">\n                <div *ngFor=\"let field of form.fields\">\n                    <adf-form-field [field]=\"field.field\"></adf-form-field>\n                </div>\n            </div>\n        </mat-card-content>\n        <mat-card-actions *ngIf=\"form.hasOutcomes()\" class=\"adf-form-mat-card-actions\">\n            <!--[class.mdl-button--colored]=\"!outcome.isSystem\"-->\n            <button [id]=\"'adf-form-'+ outcome.name  | lowercase\" *ngFor=\"let outcome of form.outcomes\"\n                    [color]=\"getColorForOutcome(outcome.name)\"\n                    mat-button\n                    [disabled]=\"!isOutcomeButtonEnabled(outcome)\"\n                    [class.adf-form-hide-button]=\"!isOutcomeButtonVisible(outcome, form.readOnly)\"\n                    (click)=\"onOutcomeClicked(outcome)\">\n                {{outcome.name | translate | uppercase }}\n            </button>\n        </mat-card-actions>\n    </mat-card>\n</div>\n<!--\nFor debugging and data visualisation purposes,\nwill be removed during future revisions\n-->\n<div *ngIf=\"showDebugButton\" class=\"adf-form-debug-container\">\n    <mat-slide-toggle [(ngModel)]=\"debugMode\">Debug mode</mat-slide-toggle>\n    <div *ngIf=\"debugMode && hasForm()\">\n        <h4>Values</h4>\n        <pre>{{form.values | json}}</pre>\n\n        <h4>Form</h4>\n        <pre>{{form.json | json}}</pre>\n    </div>\n</div>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        FormComponent.ctorParameters = function () {
            return [
                { type: FormService },
                { type: WidgetVisibilityService },
                { type: EcmModelService },
                { type: NodeService }
            ];
        };
        FormComponent.propDecorators = {
            form: [{ type: i0.Input }],
            taskId: [{ type: i0.Input }],
            nodeId: [{ type: i0.Input }],
            formId: [{ type: i0.Input }],
            formName: [{ type: i0.Input }],
            saveMetadata: [{ type: i0.Input }],
            data: [{ type: i0.Input }],
            path: [{ type: i0.Input }],
            nameNode: [{ type: i0.Input }],
            showTitle: [{ type: i0.Input }],
            showCompleteButton: [{ type: i0.Input }],
            disableCompleteButton: [{ type: i0.Input }],
            disableStartProcessButton: [{ type: i0.Input }],
            showSaveButton: [{ type: i0.Input }],
            showDebugButton: [{ type: i0.Input }],
            readOnly: [{ type: i0.Input }],
            showRefreshButton: [{ type: i0.Input }],
            showValidationIcon: [{ type: i0.Input }],
            fieldValidators: [{ type: i0.Input }],
            formSaved: [{ type: i0.Output }],
            formCompleted: [{ type: i0.Output }],
            formContentClicked: [{ type: i0.Output }],
            formLoaded: [{ type: i0.Output }],
            formDataRefreshed: [{ type: i0.Output }],
            formError: [{ type: i0.Output }],
            executeOutcome: [{ type: i0.Output }],
            onError: [{ type: i0.Output }]
        };
        return FormComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FormListComponent = /** @class */ (function () {
        function FormListComponent(formService) {
            this.formService = formService;
            /**
             * The array that contains the information to show inside the list.
             */
            this.forms = [];
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        FormListComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                this.getForms();
            };
        /**
         * @return {?}
         */
        FormListComponent.prototype.isEmpty = /**
         * @return {?}
         */
            function () {
                return this.forms && this.forms.length === 0;
            };
        /**
         * @return {?}
         */
        FormListComponent.prototype.getForms = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.formService.getForms().subscribe(function (forms$$1) {
                    var _a;
                    (_a = _this.forms).push.apply(_a, __spread(forms$$1));
                });
            };
        FormListComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-form-list',
                        template: "<adf-datatable *ngIf=\"!isEmpty()\"\n    [rows]=\"forms\">\n    <data-columns>\n        <data-column key=\"name\" type=\"text\" title=\"Name\" class=\"ellipsis-cell\" [sortable]=\"true\"></data-column>\n        <data-column key=\"lastUpdatedByFullName\" type=\"text\" title=\"User\" class=\"ellipsis-cell\" [sortable]=\"true\"></data-column>\n        <data-column key=\"lastUpdated\" type=\"date\" format=\"shortDate\" title=\"Date\"></data-column>\n    </data-columns>\n</adf-datatable>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        FormListComponent.ctorParameters = function () {
            return [
                { type: FormService }
            ];
        };
        FormListComponent.propDecorators = {
            forms: [{ type: i0.Input }]
        };
        return FormListComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ProcessContentService = /** @class */ (function () {
        function ProcessContentService(apiService, logService) {
            this.apiService = apiService;
            this.logService = logService;
        }
        Object.defineProperty(ProcessContentService.prototype, "contentApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.apiService.getInstance().activiti.contentApi;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Create temporary related content from an uploaded file.
         * @param file File to use for content
         * @returns The created content data
         */
        /**
         * Create temporary related content from an uploaded file.
         * @param {?} file File to use for content
         * @return {?} The created content data
         */
        ProcessContentService.prototype.createTemporaryRawRelatedContent = /**
         * Create temporary related content from an uploaded file.
         * @param {?} file File to use for content
         * @return {?} The created content data
         */
            function (file) {
                var _this = this;
                return rxjs.from(this.contentApi.createTemporaryRawRelatedContent(file))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets the metadata for a related content item.
         * @param contentId ID of the content item
         * @returns Metadata for the content
         */
        /**
         * Gets the metadata for a related content item.
         * @param {?} contentId ID of the content item
         * @return {?} Metadata for the content
         */
        ProcessContentService.prototype.getFileContent = /**
         * Gets the metadata for a related content item.
         * @param {?} contentId ID of the content item
         * @return {?} Metadata for the content
         */
            function (contentId) {
                var _this = this;
                return rxjs.from(this.contentApi.getContent(contentId))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets raw binary content data for a related content file.
         * @param contentId ID of the related content
         * @returns Binary data of the related content
         */
        /**
         * Gets raw binary content data for a related content file.
         * @param {?} contentId ID of the related content
         * @return {?} Binary data of the related content
         */
        ProcessContentService.prototype.getFileRawContent = /**
         * Gets raw binary content data for a related content file.
         * @param {?} contentId ID of the related content
         * @return {?} Binary data of the related content
         */
            function (contentId) {
                var _this = this;
                return rxjs.from(this.contentApi.getRawContent(contentId))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets the preview for a related content file.
         * @param contentId ID of the related content
         * @returns Binary data of the content preview
         */
        /**
         * Gets the preview for a related content file.
         * @param {?} contentId ID of the related content
         * @return {?} Binary data of the content preview
         */
        ProcessContentService.prototype.getContentPreview = /**
         * Gets the preview for a related content file.
         * @param {?} contentId ID of the related content
         * @return {?} Binary data of the content preview
         */
            function (contentId) {
                var _this = this;
                return new rxjs.Observable(function (observer) {
                    _this.contentApi.getContentPreview(contentId).then(function (result) {
                        observer.next(result);
                        observer.complete();
                    }, function () {
                        _this.contentApi.getRawContent(contentId).then(function (data) {
                            observer.next(data);
                            observer.complete();
                        }, function (err) {
                            observer.error(err);
                            observer.complete();
                        });
                    });
                });
            };
        /**
         * Gets a URL for direct access to a related content file.
         * @param contentId ID of the related content
         * @returns URL to access the content
         */
        /**
         * Gets a URL for direct access to a related content file.
         * @param {?} contentId ID of the related content
         * @return {?} URL to access the content
         */
        ProcessContentService.prototype.getFileRawContentUrl = /**
         * Gets a URL for direct access to a related content file.
         * @param {?} contentId ID of the related content
         * @return {?} URL to access the content
         */
            function (contentId) {
                return this.contentApi.getRawContentUrl(contentId);
            };
        /**
         * Gets the thumbnail for a related content file.
         * @param contentId ID of the related content
         * @returns Binary data of the thumbnail image
         */
        /**
         * Gets the thumbnail for a related content file.
         * @param {?} contentId ID of the related content
         * @return {?} Binary data of the thumbnail image
         */
        ProcessContentService.prototype.getContentThumbnail = /**
         * Gets the thumbnail for a related content file.
         * @param {?} contentId ID of the related content
         * @return {?} Binary data of the thumbnail image
         */
            function (contentId) {
                var _this = this;
                return rxjs.from(this.contentApi.getContentThumbnail(contentId))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets related content items for a task instance.
         * @param taskId ID of the target task
         * @returns Metadata for the content
         */
        /**
         * Gets related content items for a task instance.
         * @param {?} taskId ID of the target task
         * @return {?} Metadata for the content
         */
        ProcessContentService.prototype.getTaskRelatedContent = /**
         * Gets related content items for a task instance.
         * @param {?} taskId ID of the target task
         * @return {?} Metadata for the content
         */
            function (taskId) {
                var _this = this;
                return rxjs.from(this.contentApi.getRelatedContentForTask(taskId))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets related content items for a process instance.
         * @param processId ID of the target process
         * @returns Metadata for the content
         */
        /**
         * Gets related content items for a process instance.
         * @param {?} processId ID of the target process
         * @return {?} Metadata for the content
         */
        ProcessContentService.prototype.getProcessRelatedContent = /**
         * Gets related content items for a process instance.
         * @param {?} processId ID of the target process
         * @return {?} Metadata for the content
         */
            function (processId) {
                var _this = this;
                return rxjs.from(this.contentApi.getRelatedContentForProcessInstance(processId))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Deletes related content.
         * @param contentId Identifier of the content to delete
         * @returns Null response that notifies when the deletion is complete
         */
        /**
         * Deletes related content.
         * @param {?} contentId Identifier of the content to delete
         * @return {?} Null response that notifies when the deletion is complete
         */
        ProcessContentService.prototype.deleteRelatedContent = /**
         * Deletes related content.
         * @param {?} contentId Identifier of the content to delete
         * @return {?} Null response that notifies when the deletion is complete
         */
            function (contentId) {
                var _this = this;
                return rxjs.from(this.contentApi.deleteContent(contentId))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Associates an uploaded file with a process instance.
         * @param processInstanceId ID of the target process instance
         * @param content File to associate
         * @param opts Options supported by JSAPI
         * @returns Details of created content
         */
        /**
         * Associates an uploaded file with a process instance.
         * @param {?} processInstanceId ID of the target process instance
         * @param {?} content File to associate
         * @param {?=} opts Options supported by JSAPI
         * @return {?} Details of created content
         */
        ProcessContentService.prototype.createProcessRelatedContent = /**
         * Associates an uploaded file with a process instance.
         * @param {?} processInstanceId ID of the target process instance
         * @param {?} content File to associate
         * @param {?=} opts Options supported by JSAPI
         * @return {?} Details of created content
         */
            function (processInstanceId, content, opts) {
                var _this = this;
                return rxjs.from(this.contentApi.createRelatedContentOnProcessInstance(processInstanceId, content, opts))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Associates an uploaded file with a task instance.
         * @param taskId ID of the target task
         * @param file File to associate
         * @param opts Options supported by JSAPI
         * @returns Details of created content
         */
        /**
         * Associates an uploaded file with a task instance.
         * @param {?} taskId ID of the target task
         * @param {?} file File to associate
         * @param {?=} opts Options supported by JSAPI
         * @return {?} Details of created content
         */
        ProcessContentService.prototype.createTaskRelatedContent = /**
         * Associates an uploaded file with a task instance.
         * @param {?} taskId ID of the target task
         * @param {?} file File to associate
         * @param {?=} opts Options supported by JSAPI
         * @return {?} Details of created content
         */
            function (taskId, file, opts) {
                var _this = this;
                return rxjs.from(this.contentApi.createRelatedContentOnTask(taskId, file, opts))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Creates a JSON representation of data.
         * @param res Object representing data
         * @returns JSON object
         */
        /**
         * Creates a JSON representation of data.
         * @param {?} res Object representing data
         * @return {?} JSON object
         */
        ProcessContentService.prototype.toJson = /**
         * Creates a JSON representation of data.
         * @param {?} res Object representing data
         * @return {?} JSON object
         */
            function (res) {
                if (res) {
                    return res || {};
                }
                return {};
            };
        /**
         * Creates a JSON array representation of data.
         * @param res Object representing data
         * @returns JSON array object
         */
        /**
         * Creates a JSON array representation of data.
         * @param {?} res Object representing data
         * @return {?} JSON array object
         */
        ProcessContentService.prototype.toJsonArray = /**
         * Creates a JSON array representation of data.
         * @param {?} res Object representing data
         * @return {?} JSON array object
         */
            function (res) {
                if (res) {
                    return res.data || [];
                }
                return [];
            };
        /**
         * Reports an error message.
         * @param error Data object with optional `message` and `status` fields for the error
         * @returns Callback when an error occurs
         */
        /**
         * Reports an error message.
         * @param {?} error Data object with optional `message` and `status` fields for the error
         * @return {?} Callback when an error occurs
         */
        ProcessContentService.prototype.handleError = /**
         * Reports an error message.
         * @param {?} error Data object with optional `message` and `status` fields for the error
         * @return {?} Callback when an error occurs
         */
            function (error) {
                /** @type {?} */
                var errMsg = ProcessContentService.UNKNOWN_ERROR_MESSAGE;
                if (error) {
                    errMsg = (error.message) ? error.message :
                        error.status ? error.status + " - " + error.statusText : ProcessContentService.GENERIC_ERROR_MESSAGE;
                }
                this.logService.error(errMsg);
                return rxjs.throwError(errMsg);
            };
        ProcessContentService.UNKNOWN_ERROR_MESSAGE = 'Unknown error';
        ProcessContentService.GENERIC_ERROR_MESSAGE = 'Server error';
        ProcessContentService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        ProcessContentService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: LogService }
            ];
        };
        return ProcessContentService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ContentWidgetComponent = /** @class */ (function () {
        function ContentWidgetComponent(formService, logService, contentService, processContentService) {
            this.formService = formService;
            this.logService = logService;
            this.contentService = contentService;
            this.processContentService = processContentService;
            this.showDocumentContent = true;
            this.contentClick = new i0.EventEmitter();
            this.thumbnailLoaded = new i0.EventEmitter();
            this.contentLoaded = new i0.EventEmitter();
            this.error = new i0.EventEmitter();
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        ContentWidgetComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                /** @type {?} */
                var contentId = changes['id'];
                if (contentId && contentId.currentValue) {
                    this.loadContent(contentId.currentValue);
                }
            };
        /**
         * @param {?} id
         * @return {?}
         */
        ContentWidgetComponent.prototype.loadContent = /**
         * @param {?} id
         * @return {?}
         */
            function (id) {
                var _this = this;
                this.processContentService
                    .getFileContent(id)
                    .subscribe(function (response) {
                    _this.content = new ContentLinkModel(response);
                    _this.contentLoaded.emit(_this.content);
                    _this.loadThumbnailUrl(_this.content);
                }, function (error) {
                    _this.error.emit(error);
                });
            };
        /**
         * @param {?} content
         * @return {?}
         */
        ContentWidgetComponent.prototype.loadThumbnailUrl = /**
         * @param {?} content
         * @return {?}
         */
            function (content) {
                var _this = this;
                if (this.content.isThumbnailSupported()) {
                    /** @type {?} */
                    var observable = void 0;
                    if (this.content.isTypeImage()) {
                        observable = this.processContentService.getFileRawContent(content.id);
                    }
                    else {
                        observable = this.processContentService.getContentThumbnail(content.id);
                    }
                    if (observable) {
                        observable.subscribe(function (response) {
                            _this.content.thumbnailUrl = _this.contentService.createTrustedUrl(response);
                            _this.thumbnailLoaded.emit(_this.content.thumbnailUrl);
                        }, function (error) {
                            _this.error.emit(error);
                        });
                    }
                }
            };
        /**
         * @param {?} content
         * @return {?}
         */
        ContentWidgetComponent.prototype.openViewer = /**
         * @param {?} content
         * @return {?}
         */
            function (content) {
                var _this = this;
                /** @type {?} */
                var fetch = this.processContentService.getContentPreview(content.id);
                if (content.isTypeImage() || content.isTypePdf()) {
                    fetch = this.processContentService.getFileRawContent(content.id);
                }
                fetch.subscribe(function (blob) {
                    content.contentBlob = blob;
                    _this.contentClick.emit(content);
                    _this.logService.info('Content clicked' + content.id);
                    _this.formService.formContentClicked.next(content);
                }, function (error) {
                    _this.error.emit(error);
                });
            };
        /**
         * Invoke content download.
         */
        /**
         * Invoke content download.
         * @param {?} content
         * @return {?}
         */
        ContentWidgetComponent.prototype.download = /**
         * Invoke content download.
         * @param {?} content
         * @return {?}
         */
            function (content) {
                var _this = this;
                this.processContentService.getFileRawContent(content.id).subscribe(function (blob) { return _this.contentService.downloadBlob(blob, content.name); }, function (error) {
                    _this.error.emit(error);
                });
            };
        ContentWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-content',
                        template: "<mat-card class=\"adf-content-container\" *ngIf=\"content\">\n    <mat-card-content *ngIf=\"showDocumentContent\">\n        <div *ngIf=\"content.isThumbnailSupported()\" >\n            <img id=\"thumbnailPreview\" class=\"adf-img-upload-widget\" [src]=\"content.thumbnailUrl\" alt=\"{{content.name}}\">\n        </div>\n        <div *ngIf=\"!content.isThumbnailSupported()\">\n            <mat-icon>image</mat-icon>\n            <div id=\"unsupported-thumbnail\" class=\"adf-content-widget-preview-text\">{{ 'FORM.PREVIEW.IMAGE_NOT_AVAILABLE' | translate }}\n            </div>\n        </div>\n        <div class=\"mdl-card__supporting-text upload-widget__content-text\">{{content.name}}</div>\n    </mat-card-content>\n\n    <mat-card-actions>\n        <button mat-icon-button id=\"view\" (click)=\"openViewer(content)\">\n            <mat-icon class=\"mat-24\">zoom_in</mat-icon>\n        </button>\n        <button mat-icon-button id=\"download\" (click)=\"download(content)\">\n            <mat-icon class=\"mat-24\">file_download</mat-icon>\n        </button>\n    </mat-card-actions>\n</mat-card>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-img-upload-widget{width:100%;height:100%;border:1px solid rgba(117,117,117,.57);box-shadow:1px 1px 2px #ddd;background-color:#fff}.adf-content-widget-preview-text{word-wrap:break-word;word-break:break-all;text-align:center}"]
                    }] }
        ];
        /** @nocollapse */
        ContentWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService },
                { type: LogService },
                { type: ContentService },
                { type: ProcessContentService }
            ];
        };
        ContentWidgetComponent.propDecorators = {
            id: [{ type: i0.Input }],
            showDocumentContent: [{ type: i0.Input }],
            contentClick: [{ type: i0.Output }],
            thumbnailLoaded: [{ type: i0.Output }],
            contentLoaded: [{ type: i0.Output }],
            error: [{ type: i0.Output }]
        };
        return ContentWidgetComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var StartFormComponent = /** @class */ (function (_super) {
        __extends(StartFormComponent, _super);
        function StartFormComponent(formService, visibilityService) {
            var _this = _super.call(this, formService, visibilityService, null, null) || this;
            /**
             * Should form outcome buttons be shown?
             */
            _this.showOutcomeButtons = true;
            /**
             * Should the refresh button be shown?
             */
            _this.showRefreshButton = true;
            /**
             * Is the form read-only (ie, can't be edited)?
             */
            _this.readOnlyForm = false;
            /**
             * Emitted when the user clicks one of the outcome buttons that completes the form.
             */
            _this.outcomeClick = new i0.EventEmitter();
            /**
             * Emitted when a field of the form is clicked.
             */
            _this.formContentClicked = new i0.EventEmitter();
            _this.outcomesContainer = null;
            _this.showTitle = false;
            return _this;
        }
        /**
         * @return {?}
         */
        StartFormComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.subscriptions.push(this.formService.formContentClicked.subscribe(function (content) {
                    _this.formContentClicked.emit(content);
                }), this.formService.validateForm.subscribe(function (validateFormEvent) {
                    if (validateFormEvent.errorsField.length > 0) {
                        _this.formError.next(validateFormEvent.errorsField);
                    }
                }));
            };
        /**
         * @return {?}
         */
        StartFormComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this.subscriptions.forEach(function (subscription) { return subscription.unsubscribe(); });
                this.subscriptions = [];
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        StartFormComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                /** @type {?} */
                var processDefinitionId = changes['processDefinitionId'];
                if (processDefinitionId && processDefinitionId.currentValue) {
                    this.visibilityService.cleanProcessVariable();
                    this.getStartFormDefinition(processDefinitionId.currentValue);
                    return;
                }
                /** @type {?} */
                var processId = changes['processId'];
                if (processId && processId.currentValue) {
                    this.visibilityService.cleanProcessVariable();
                    this.loadStartForm(processId.currentValue);
                    return;
                }
            };
        /**
         * @param {?} processId
         * @return {?}
         */
        StartFormComponent.prototype.loadStartForm = /**
         * @param {?} processId
         * @return {?}
         */
            function (processId) {
                var _this = this;
                this.formService.getProcessIntance(processId)
                    .subscribe(function (instance) {
                    _this.formService
                        .getStartFormInstance(processId)
                        .subscribe(function (form) {
                        _this.formName = form.name;
                        if (instance.variables) {
                            form.processVariables = instance.variables;
                        }
                        _this.form = _this.parseForm(form);
                        _this.visibilityService.refreshVisibility(_this.form);
                        _this.form.validateForm();
                        _this.form.readOnly = _this.readOnlyForm;
                        _this.onFormLoaded(_this.form);
                    }, function (error) { return _this.handleError(error); });
                });
            };
        /**
         * @param {?} processId
         * @return {?}
         */
        StartFormComponent.prototype.getStartFormDefinition = /**
         * @param {?} processId
         * @return {?}
         */
            function (processId) {
                var _this = this;
                this.formService
                    .getStartFormDefinition(processId)
                    .subscribe(function (form) {
                    _this.formName = form.processDefinitionName;
                    _this.form = _this.parseForm(form);
                    _this.visibilityService.refreshVisibility(_this.form);
                    _this.form.validateForm();
                    _this.form.readOnly = _this.readOnlyForm;
                    _this.onFormLoaded(_this.form);
                }, function (error) { return _this.handleError(error); });
            };
        /** @override */
        /**
         * @override
         * @param {?} outcome
         * @param {?} isFormReadOnly
         * @return {?}
         */
        StartFormComponent.prototype.isOutcomeButtonVisible = /**
         * @override
         * @param {?} outcome
         * @param {?} isFormReadOnly
         * @return {?}
         */
            function (outcome, isFormReadOnly) {
                if (outcome && outcome.isSystem && (outcome.name === FormOutcomeModel.SAVE_ACTION ||
                    outcome.name === FormOutcomeModel.COMPLETE_ACTION)) {
                    return false;
                }
                else if (outcome && outcome.name === FormOutcomeModel.START_PROCESS_ACTION) {
                    return true;
                }
                return _super.prototype.isOutcomeButtonVisible.call(this, outcome, isFormReadOnly);
            };
        /** @override */
        /**
         * @override
         * @return {?}
         */
        StartFormComponent.prototype.saveTaskForm = /**
         * @override
         * @return {?}
         */
            function () {
                // do nothing
            };
        /** @override */
        /**
         * @override
         * @return {?}
         */
        StartFormComponent.prototype.onRefreshClicked = /**
         * @override
         * @return {?}
         */
            function () {
                if (this.processDefinitionId) {
                    this.visibilityService.cleanProcessVariable();
                    this.getStartFormDefinition(this.processDefinitionId);
                }
                else if (this.processId) {
                    this.visibilityService.cleanProcessVariable();
                    this.loadStartForm(this.processId);
                }
            };
        /**
         * @param {?=} outcome
         * @return {?}
         */
        StartFormComponent.prototype.completeTaskForm = /**
         * @param {?=} outcome
         * @return {?}
         */
            function (outcome) {
                this.outcomeClick.emit(outcome);
            };
        StartFormComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-start-form',
                        template: "<div class=\"adf-start-form-container\" *ngIf=\"hasForm()\">\n    <mat-card>\n        <mat-card-header>\n            <mat-card-title>\n                <h2 *ngIf=\"isTitleEnabled()\" class=\"mdl-card__title-text\">{{form.taskName}}</h2>\n            </mat-card-title>\n        </mat-card-header>\n        <mat-card-content>\n            <div *ngIf=\"form.hasTabs()\">\n                <tabs-widget [tabs]=\"form.tabs\" (formTabChanged)=\"checkVisibility($event);\"></tabs-widget>\n            </div>\n\n            <div *ngIf=\"!form.hasTabs() && form.hasFields()\">\n                <div *ngFor=\"let field of form.fields\">\n                    <adf-form-field [field]=\"field.field\"></adf-form-field>\n                </div>\n            </div>\n        </mat-card-content>\n        <mat-card-content class=\"adf-start-form-actions\" *ngIf=\"showOutcomeButtons && form.hasOutcomes()\"\n                          #outcomesContainer>\n            <ng-content select=\"[form-custom-button]\"></ng-content>\n            <button *ngFor=\"let outcome of form.outcomes\"\n                    mat-button\n                    [attr.data-automation-id]=\"'adf-form-' + outcome.name  | lowercase\"\n                    [disabled]=\"!isOutcomeButtonEnabled(outcome)\"\n                    [class.mdl-button--colored]=\"!outcome.isSystem\"\n                    [class.adf-form-hide-button]=\"!isOutcomeButtonVisible(outcome, form.readOnly)\"\n                    (click)=\"onOutcomeClicked(outcome)\">\n                {{ outcome.name | translate | uppercase}}\n            </button>\n        </mat-card-content>\n        <mat-card-actions *ngIf=\"showRefreshButton\">\n            <button mat-button\n                    (click)=\"onRefreshClicked()\">\n                <mat-icon>refresh</mat-icon>\n            </button>\n        </mat-card-actions>\n    </mat-card>\n</div>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        StartFormComponent.ctorParameters = function () {
            return [
                { type: FormService },
                { type: WidgetVisibilityService }
            ];
        };
        StartFormComponent.propDecorators = {
            processDefinitionId: [{ type: i0.Input }],
            processId: [{ type: i0.Input }],
            showOutcomeButtons: [{ type: i0.Input }],
            showRefreshButton: [{ type: i0.Input }],
            readOnlyForm: [{ type: i0.Input }],
            outcomeClick: [{ type: i0.Output }],
            formContentClicked: [{ type: i0.Output }],
            outcomesContainer: [{ type: i0.ViewChild, args: ['outcomesContainer', {},] }]
        };
        return StartFormComponent;
    }(FormComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var baseHost = {
        '(click)': 'event($event)',
        '(blur)': 'event($event)',
        '(change)': 'event($event)',
        '(focus)': 'event($event)',
        '(focusin)': 'event($event)',
        '(focusout)': 'event($event)',
        '(input)': 'event($event)',
        '(invalid)': 'event($event)',
        '(select)': 'event($event)'
    };
    /**
     * Base widget component.
     */
    var WidgetComponent = /** @class */ (function () {
        function WidgetComponent(formService) {
            this.formService = formService;
            /**
             * Does the widget show a read-only value? (ie, can't be edited)
             */
            this.readOnly = false;
            /**
             * Emitted when a field value changes.
             * @deprecated Used only to trigger visibility engine; components should do that internally if needed.
             */
            this.fieldChanged = new i0.EventEmitter();
        }
        /**
         * @return {?}
         */
        WidgetComponent.prototype.hasField = /**
         * @return {?}
         */
            function () {
                return this.field ? true : false;
            };
        // Note for developers:
        // returns <any> object to be able binding it to the <element reguired="required"> attribute
        /**
         * @return {?}
         */
        WidgetComponent.prototype.isRequired = /**
         * @return {?}
         */
            function () {
                if (this.field && this.field.required) {
                    return true;
                }
                return null;
            };
        /**
         * @return {?}
         */
        WidgetComponent.prototype.isValid = /**
         * @return {?}
         */
            function () {
                return this.field.validationSummary ? true : false;
            };
        /**
         * @return {?}
         */
        WidgetComponent.prototype.hasValue = /**
         * @return {?}
         */
            function () {
                return this.field &&
                    this.field.value !== null &&
                    this.field.value !== undefined;
            };
        /**
         * @return {?}
         */
        WidgetComponent.prototype.isInvalidFieldRequired = /**
         * @return {?}
         */
            function () {
                return !this.field.isValid && !this.field.validationSummary && this.isRequired();
            };
        /**
         * @return {?}
         */
        WidgetComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
            function () {
                this.fieldChanged.emit(this.field);
            };
        /** @deprecated used only to trigger visibility engine, components should do that internally if needed */
        /**
         * @deprecated used only to trigger visibility engine, components should do that internally if needed
         * @param {?} field
         * @return {?}
         */
        WidgetComponent.prototype.checkVisibility = /**
         * @deprecated used only to trigger visibility engine, components should do that internally if needed
         * @param {?} field
         * @return {?}
         */
            function (field) {
                this.fieldChanged.emit(field);
            };
        /** @deprecated used only to trigger visibility engine, components should do that internally if needed */
        /**
         * @deprecated used only to trigger visibility engine, components should do that internally if needed
         * @param {?} field
         * @return {?}
         */
        WidgetComponent.prototype.onFieldChanged = /**
         * @deprecated used only to trigger visibility engine, components should do that internally if needed
         * @param {?} field
         * @return {?}
         */
            function (field) {
                this.fieldChanged.emit(field);
            };
        /**
         * @param {?} field
         * @return {?}
         */
        WidgetComponent.prototype.getHyperlinkUrl = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                /** @type {?} */
                var url = WidgetComponent.DEFAULT_HYPERLINK_URL;
                if (field && field.hyperlinkUrl) {
                    url = field.hyperlinkUrl;
                    if (!/^https?:\/\//i.test(url)) {
                        url = "" + WidgetComponent.DEFAULT_HYPERLINK_SCHEME + url;
                    }
                }
                return url;
            };
        /**
         * @param {?} field
         * @return {?}
         */
        WidgetComponent.prototype.getHyperlinkText = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                if (field) {
                    return field.displayText || field.hyperlinkUrl;
                }
                return null;
            };
        /**
         * @param {?} event
         * @return {?}
         */
        WidgetComponent.prototype.event = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                this.formService.formEvents.next(event);
            };
        WidgetComponent.DEFAULT_HYPERLINK_URL = '#';
        WidgetComponent.DEFAULT_HYPERLINK_SCHEME = 'http://';
        WidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'base-widget',
                        template: '',
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        WidgetComponent.ctorParameters = function () {
            return [
                { type: FormService }
            ];
        };
        WidgetComponent.propDecorators = {
            readOnly: [{ type: i0.Input }],
            field: [{ type: i0.Input }],
            fieldChanged: [{ type: i0.Output }]
        };
        return WidgetComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ContainerWidgetComponentModel = /** @class */ (function (_super) {
        __extends(ContainerWidgetComponentModel, _super);
        function ContainerWidgetComponentModel(field) {
            var _this = _super.call(this, field) || this;
            _this.columns = [];
            _this.isExpanded = true;
            _this.rowspan = 1;
            _this.colspan = 1;
            if (_this.field) {
                _this.columns = _this.field.columns || [];
                _this.isExpanded = !_this.isCollapsedByDefault();
                _this.colspan = field.colspan;
                _this.rowspan = field.rowspan;
            }
            return _this;
        }
        /**
         * @return {?}
         */
        ContainerWidgetComponentModel.prototype.isGroup = /**
         * @return {?}
         */
            function () {
                return this.type === FormFieldTypes.GROUP;
            };
        /**
         * @return {?}
         */
        ContainerWidgetComponentModel.prototype.isCollapsible = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var allowCollapse = false;
                if (this.isGroup() && this.field.params['allowCollapse']) {
                    allowCollapse = /** @type {?} */ (this.field.params['allowCollapse']);
                }
                return allowCollapse;
            };
        /**
         * @return {?}
         */
        ContainerWidgetComponentModel.prototype.isCollapsedByDefault = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var collapseByDefault = false;
                if (this.isCollapsible() && this.field.params['collapseByDefault']) {
                    collapseByDefault = /** @type {?} */ (this.field.params['collapseByDefault']);
                }
                return collapseByDefault;
            };
        return ContainerWidgetComponentModel;
    }(ContainerModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ContainerWidgetComponent = /** @class */ (function (_super) {
        __extends(ContainerWidgetComponent, _super);
        function ContainerWidgetComponent(formService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            return _this;
        }
        /**
         * @return {?}
         */
        ContainerWidgetComponent.prototype.onExpanderClicked = /**
         * @return {?}
         */
            function () {
                if (this.content && this.content.isCollapsible()) {
                    this.content.isExpanded = !this.content.isExpanded;
                }
            };
        /**
         * @return {?}
         */
        ContainerWidgetComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (this.field) {
                    this.content = new ContainerWidgetComponentModel(this.field);
                }
            };
        Object.defineProperty(ContainerWidgetComponent.prototype, "fields", {
            /**
             * Serializes column fields
             */
            get: /**
             * Serializes column fields
             * @return {?}
             */ function () {
                /** @type {?} */
                var fields = [];
                /** @type {?} */
                var rowContainsElement = true;
                /** @type {?} */
                var rowIndex = 0;
                while (rowContainsElement) {
                    rowContainsElement = false;
                    for (var i = 0; i < this.content.columns.length; i++) {
                        /** @type {?} */
                        var field = this.content.columns[i].fields[rowIndex];
                        if (field) {
                            rowContainsElement = true;
                        }
                        fields.push(field);
                    }
                    rowIndex++;
                }
                return fields;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Calculate the column width based on the numberOfColumns and current field's colspan property
         *
         * @param field
         */
        /**
         * Calculate the column width based on the numberOfColumns and current field's colspan property
         *
         * @param {?} field
         * @return {?}
         */
        ContainerWidgetComponent.prototype.getColumnWith = /**
         * Calculate the column width based on the numberOfColumns and current field's colspan property
         *
         * @param {?} field
         * @return {?}
         */
            function (field) {
                /** @type {?} */
                var colspan = field ? field.colspan : 1;
                return (100 / this.content.json.numberOfColumns) * colspan + '%';
            };
        ContainerWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'container-widget',
                        template: "<div [hidden]=\"!content?.isGroup()\" class=\"container-widget__header\">\n    <h4 class=\"container-widget__header-text\" id=\"container-header\"\n        [class.collapsible]=\"content?.isCollapsible()\">\n        <button *ngIf=\"content?.isCollapsible()\"\n                mat-icon-button\n                class=\"mdl-button--icon\"\n                (click)=\"onExpanderClicked()\">\n            <mat-icon>{{ content?.isExpanded ? 'expand_more' : 'expand_less' }}</mat-icon>\n        </button>\n        <span (click)=\"onExpanderClicked()\" id=\"container-header-label\">{{content.name}}</span>\n    </h4>\n</div>\n\n<section class=\"grid-list\" *ngIf=\"content?.isExpanded\">\n    <div class=\"grid-list-item\" *ngFor=\"let field of fields\" [style.width]=\"getColumnWith(field)\">\n        <adf-form-field *ngIf=\"field\" [field]=\"field\"></adf-form-field>\n    </div>\n</section>\n\n\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        ContainerWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService }
            ];
        };
        return ContainerWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var TabsWidgetComponent = /** @class */ (function () {
        function TabsWidgetComponent() {
            this.tabs = [];
            this.formTabChanged = new i0.EventEmitter();
            this.visibleTabs = [];
        }
        /**
         * @return {?}
         */
        TabsWidgetComponent.prototype.hasTabs = /**
         * @return {?}
         */
            function () {
                return this.tabs && this.tabs.length > 0;
            };
        /**
         * @return {?}
         */
        TabsWidgetComponent.prototype.ngAfterContentChecked = /**
         * @return {?}
         */
            function () {
                this.filterVisibleTabs();
            };
        /**
         * @return {?}
         */
        TabsWidgetComponent.prototype.filterVisibleTabs = /**
         * @return {?}
         */
            function () {
                this.visibleTabs = this.tabs.filter(function (tab) {
                    return tab.isVisible;
                });
            };
        /**
         * @param {?} field
         * @return {?}
         */
        TabsWidgetComponent.prototype.tabChanged = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                this.formTabChanged.emit(field);
            };
        TabsWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'tabs-widget',
                        template: "<div *ngIf=\"hasTabs()\" class=\"alfresco-tabs-widget\">\n    <mat-tab-group>\n        <mat-tab *ngFor=\"let tab of visibleTabs\" [label]=\"tab.title\">\n            <div *ngFor=\"let field of tab.fields\">\n                <adf-form-field [field]=\"field.field\"></adf-form-field>\n             </div>\n        </mat-tab>\n    </mat-tab-group>\n</div>\n",
                        encapsulation: i0.ViewEncapsulation.None
                    }] }
        ];
        TabsWidgetComponent.propDecorators = {
            tabs: [{ type: i0.Input }],
            formTabChanged: [{ type: i0.Output }]
        };
        return TabsWidgetComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var UnknownWidgetComponent = /** @class */ (function (_super) {
        __extends(UnknownWidgetComponent, _super);
        function UnknownWidgetComponent(formService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            return _this;
        }
        UnknownWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'unknown-widget',
                        template: "\n            <mat-list class=\"adf-unknown-widget\">\n                <mat-list-item>\n                     <mat-icon class=\"mat-24\">error_outline</mat-icon>\n                     <span class=\"adf-unknown-text\">Unknown type: {{field.type}}</span>\n                </mat-list-item>\n            </mat-list>\n\n    ",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-unknown-text{margin-left:10px;color:red}.adf-unknown-widget{margin:42px}"]
                    }] }
        ];
        /** @nocollapse */
        UnknownWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService }
            ];
        };
        return UnknownWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AmountWidgetComponent = /** @class */ (function (_super) {
        __extends(AmountWidgetComponent, _super);
        function AmountWidgetComponent(formService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            _this.currency = AmountWidgetComponent.DEFAULT_CURRENCY;
            return _this;
        }
        /**
         * @return {?}
         */
        AmountWidgetComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (this.field && this.field.currency) {
                    this.currency = this.field.currency;
                }
            };
        AmountWidgetComponent.DEFAULT_CURRENCY = '$';
        AmountWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'amount-widget',
                        template: "<div class=\"adf-amount-widget__container adf-amount-widget {{field.className}}\" [class.adf-invalid]=\"!field.isValid\" [class.adf-readonly]=\"field.readOnly\">\n    <mat-form-field class=\"adf-amount-widget__input\">\n        <label class=\"adf-label\" [attr.for]=\"field.id\">{{field.name}}<span *ngIf=\"isRequired()\">*</span></label>\n        <span matPrefix class=\"adf-amount-widget__prefix-spacing\"> {{currency }}</span>\n        <input matInput\n                class=\"adf-amount-widget\"\n                type=\"text\"\n                [id]=\"field.id\"\n                [required]=\"isRequired()\"\n                [placeholder]=\"field.placeholder\"\n                [value]=\"field.value\"\n                [(ngModel)]=\"field.value\"\n                (ngModelChange)=\"onFieldChanged(field)\"\n                [disabled]=\"field.readOnly\">\n    </mat-form-field>\n    <error-widget [error]=\"field.validationSummary\" ></error-widget>\n    <error-widget *ngIf=\"isInvalidFieldRequired()\" required=\"{{ 'FORM.FIELD.REQUIRED' | translate }}\"></error-widget>\n</div>\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-amount-widget{width:100%;vertical-align:baseline!important}.adf-amount-widget .mat-input-placeholder{margin-top:5px;display:none}.adf-amount-widget .mat-form-field-flex{position:relative;padding-top:18.5px}.adf-amount-widget .mat-form-field-infix{position:static;padding-top:19px}.adf-amount-widget .adf-label{position:absolute;top:18.5px;left:0}.adf-amount-widget__container{max-width:100%}.adf-amount-widget__container .mat-form-field-label-wrapper{top:34px!important;left:13px}.adf-amount-widget__input .mat-focused{transition:none}.adf-amount-widget__prefix-spacing{padding-right:5px}"]
                    }] }
        ];
        /** @nocollapse */
        AmountWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService }
            ];
        };
        return AmountWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CheckboxWidgetComponent = /** @class */ (function (_super) {
        __extends(CheckboxWidgetComponent, _super);
        function CheckboxWidgetComponent(formService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            return _this;
        }
        CheckboxWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'checkbox-widget',
                        template: "<div [ngClass]=\"field.className\">\n    <mat-checkbox\n        [id]=\"field.id\"\n        color=\"primary\"\n        [required]=\"field.required\"\n        [disabled]=\"field.readOnly || readOnly\"\n        [(ngModel)]=\"field.value\"\n        (ngModelChange)=\"onFieldChanged(field)\">\n        {{field.name}}\n        <span *ngIf=\"field.required\">*</span>\n    </mat-checkbox>\n</div>\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        CheckboxWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService }
            ];
        };
        return CheckboxWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ɵ0$1 = MOMENT_DATE_FORMATS;
    var DateWidgetComponent = /** @class */ (function (_super) {
        __extends(DateWidgetComponent, _super);
        function DateWidgetComponent(formService, dateAdapter, preferences) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            _this.dateAdapter = dateAdapter;
            _this.preferences = preferences;
            return _this;
        }
        /**
         * @return {?}
         */
        DateWidgetComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.preferences.locale$.subscribe(function (locale) {
                    _this.dateAdapter.setLocale(locale);
                });
                /** @type {?} */
                var momentDateAdapter = /** @type {?} */ (this.dateAdapter);
                momentDateAdapter.overrideDisplyaFormat = this.field.dateDisplayFormat;
                if (this.field) {
                    if (this.field.minValue) {
                        this.minDate = moment$1(this.field.minValue, 'DD/MM/YYYY');
                    }
                    if (this.field.maxValue) {
                        this.maxDate = moment$1(this.field.maxValue, 'DD/MM/YYYY');
                    }
                }
                this.displayDate = moment$1(this.field.value, this.field.dateDisplayFormat);
            };
        /**
         * @param {?} newDateValue
         * @return {?}
         */
        DateWidgetComponent.prototype.onDateChanged = /**
         * @param {?} newDateValue
         * @return {?}
         */
            function (newDateValue) {
                if (newDateValue && newDateValue.value) {
                    this.field.value = newDateValue.value.format(this.field.dateDisplayFormat);
                }
                else if (newDateValue) {
                    this.field.value = newDateValue;
                }
                else {
                    this.field.value = null;
                }
                this.onFieldChanged(this.field);
            };
        DateWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'date-widget',
                        providers: [
                            { provide: material.DateAdapter, useClass: MomentDateAdapter },
                            { provide: material.MAT_DATE_FORMATS, useValue: ɵ0$1 }
                        ],
                        template: "<div class=\"{{field.className}}\" id=\"data-widget\" [class.adf-invalid]=\"!field.isValid\">\n    <mat-form-field class=\"adf-date-widget\">\n        <label class=\"adf-label\" [attr.for]=\"field.id\">{{field.name}} ({{field.dateDisplayFormat}})<span *ngIf=\"isRequired()\">*</span></label>\n        <input matInput\n               [id]=\"field.id\"\n               [matDatepicker]=\"datePicker\"\n               [(ngModel)]=\"displayDate\"\n               [required]=\"isRequired()\"\n               [disabled]=\"field.readOnly\"\n               [min]=\"minDate\"\n               [max]=\"maxDate\"\n               (focusout)=\"onDateChanged($event.srcElement.value)\"\n               (dateChange)=\"onDateChanged($event)\"\n               placeholder=\"{{field.placeholder}}\">\n        <mat-datepicker-toggle  matSuffix [for]=\"datePicker\" [disabled]=\"field.readOnly\" ></mat-datepicker-toggle>\n    </mat-form-field>\n    <error-widget [error]=\"field.validationSummary\"></error-widget>\n    <error-widget *ngIf=\"isInvalidFieldRequired()\" required=\"{{ 'FORM.FIELD.REQUIRED' | translate }}\"></error-widget>\n    <mat-datepicker #datePicker [touchUi]=\"true\" [startAt]=\"displayDate\" ></mat-datepicker>\n</div>\n\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-date-widget .mat-form-field-suffix{text-align:right;position:absolute;margin-top:30px;width:100%}.adf-date-widget-date-widget-button{position:relative;float:right}.adf-date-widget-date-input{padding-top:5px;padding-bottom:5px}.adf-date-widget-grid-date-widget{align-items:center;padding:0}.adf-date-widget-date-widget-button__cell{margin-top:0;margin-bottom:0}"]
                    }] }
        ];
        /** @nocollapse */
        DateWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService },
                { type: material.DateAdapter },
                { type: UserPreferencesService }
            ];
        };
        return DateWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DisplayTextWidgetComponentComponent = /** @class */ (function (_super) {
        __extends(DisplayTextWidgetComponentComponent, _super);
        function DisplayTextWidgetComponentComponent(formService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            return _this;
        }
        DisplayTextWidgetComponentComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'display-text-widget',
                        template: "<div class=\"adf-display-text-widget {{field.className}}\">{{field.value}}</div>\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-display-text-widget{white-space:pre-wrap}"]
                    }] }
        ];
        /** @nocollapse */
        DisplayTextWidgetComponentComponent.ctorParameters = function () {
            return [
                { type: FormService }
            ];
        };
        return DisplayTextWidgetComponentComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DocumentWidgetComponent = /** @class */ (function (_super) {
        __extends(DocumentWidgetComponent, _super);
        function DocumentWidgetComponent(formService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            _this.fileId = null;
            _this.hasFile = false;
            return _this;
        }
        /**
         * @return {?}
         */
        DocumentWidgetComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (this.field) {
                    /** @type {?} */
                    var file = this.field.value;
                    if (file) {
                        this.fileId = file.id;
                        this.hasFile = true;
                    }
                    else {
                        this.fileId = null;
                        this.hasFile = false;
                    }
                }
            };
        DocumentWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-form-document-widget',
                        template: "<div class=\"adf-form-document-widget {{field.className}}\">\n    <ng-container *ngIf=\"hasFile\">\n        <adf-content [id]=\"fileId\" [showDocumentContent]=\"true\"></adf-content>\n    </ng-container>\n</div>\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        DocumentWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService }
            ];
        };
        return DocumentWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DropdownWidgetComponent = /** @class */ (function (_super) {
        __extends(DropdownWidgetComponent, _super);
        function DropdownWidgetComponent(formService, logService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            _this.logService = logService;
            return _this;
        }
        /**
         * @return {?}
         */
        DropdownWidgetComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (this.field && this.field.restUrl) {
                    if (this.field.form.taskId) {
                        this.getValuesByTaskId();
                    }
                    else {
                        this.getValuesByProcessDefinitionId();
                    }
                }
            };
        /**
         * @return {?}
         */
        DropdownWidgetComponent.prototype.getValuesByTaskId = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.formService
                    .getRestFieldValues(this.field.form.taskId, this.field.id)
                    .subscribe(function (result) {
                    /** @type {?} */
                    var options = [];
                    if (_this.field.emptyOption) {
                        options.push(_this.field.emptyOption);
                    }
                    _this.field.options = options.concat((result || []));
                    _this.field.updateForm();
                }, function (err) { return _this.handleError(err); });
            };
        /**
         * @return {?}
         */
        DropdownWidgetComponent.prototype.getValuesByProcessDefinitionId = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.formService
                    .getRestFieldValuesByProcessId(this.field.form.processDefinitionId, this.field.id)
                    .subscribe(function (result) {
                    /** @type {?} */
                    var options = [];
                    if (_this.field.emptyOption) {
                        options.push(_this.field.emptyOption);
                    }
                    _this.field.options = options.concat((result || []));
                    _this.field.updateForm();
                }, function (err) { return _this.handleError(err); });
            };
        /**
         * @param {?} option
         * @param {?} fieldValue
         * @return {?}
         */
        DropdownWidgetComponent.prototype.getOptionValue = /**
         * @param {?} option
         * @param {?} fieldValue
         * @return {?}
         */
            function (option, fieldValue) {
                /** @type {?} */
                var optionValue = '';
                if (option.id === 'empty' || option.name !== fieldValue) {
                    optionValue = option.id;
                }
                else {
                    optionValue = option.name;
                }
                return optionValue;
            };
        /**
         * @param {?} error
         * @return {?}
         */
        DropdownWidgetComponent.prototype.handleError = /**
         * @param {?} error
         * @return {?}
         */
            function (error) {
                this.logService.error(error);
            };
        /**
         * @return {?}
         */
        DropdownWidgetComponent.prototype.isReadOnlyType = /**
         * @return {?}
         */
            function () {
                return this.field.type === 'readonly' ? true : false;
            };
        DropdownWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'dropdown-widget',
                        template: "<div class=\"adf-dropdown-widget {{field.className}}\"\n     [class.adf-invalid]=\"!field.isValid\" [class.adf-readonly]=\"field.readOnly\">\n    <label class=\"adf-label\" [attr.for]=\"field.id\">{{field.name}}<span *ngIf=\"isRequired()\">*</span></label>\n    <mat-form-field>\n        <mat-select class=\"adf-select\"\n                    [id]=\"field.id\"\n                    [(ngModel)]=\"field.value\"\n                    [disabled]=\"field.readOnly\"\n                    (ngModelChange)=\"onFieldChanged(field)\">\n            <mat-option *ngFor=\"let opt of field.options\"\n                        [value]=\"getOptionValue(opt, field.value)\"\n                        [id]=\"opt.id\">{{opt.name}}\n            </mat-option>\n            <mat-option id=\"readonlyOption\" *ngIf=\"isReadOnlyType()\" [value]=\"field.value\">{{field.value}}</mat-option>\n        </mat-select>\n    </mat-form-field>\n    <error-widget [error]=\"field.validationSummary\"></error-widget>\n    <error-widget class=\"adf-dropdown-required-message\" *ngIf=\"isInvalidFieldRequired()\"\n                  required=\"{{ 'FORM.FIELD.REQUIRED' | translate }}\"></error-widget>\n</div>\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-dropdown-widget{width:100%;margin-top:13px}.adf-dropdown-widget .adf-select{padding-top:0!important;width:100%}.adf-dropdown-widget .mat-select-value-text{font-size:14px}.adf-dropdown-widget-select{width:100%}.adf-dropdown-widget-dropdown-required-message .adf-error-text-container{margin-top:1px!important}"]
                    }] }
        ];
        /** @nocollapse */
        DropdownWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService },
                { type: LogService }
            ];
        };
        return DropdownWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DateCellValidator = /** @class */ (function () {
        function DateCellValidator() {
            this.supportedTypes = [
                'Date'
            ];
        }
        /**
         * @param {?} column
         * @return {?}
         */
        DateCellValidator.prototype.isSupported = /**
         * @param {?} column
         * @return {?}
         */
            function (column) {
                return column && column.editable && this.supportedTypes.indexOf(column.type) > -1;
            };
        /**
         * @param {?} row
         * @param {?} column
         * @param {?=} summary
         * @return {?}
         */
        DateCellValidator.prototype.validate = /**
         * @param {?} row
         * @param {?} column
         * @param {?=} summary
         * @return {?}
         */
            function (row, column, summary) {
                if (this.isSupported(column)) {
                    /** @type {?} */
                    var value = row.value[column.id];
                    /** @type {?} */
                    var dateValue = moment$1(value, 'D-M-YYYY');
                    if (!dateValue.isValid()) {
                        if (summary) {
                            summary.isValid = false;
                            summary.message = "Invalid '" + column.name + "' format.";
                        }
                        return false;
                    }
                }
                return true;
            };
        return DateCellValidator;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DynamicRowValidationSummary = /** @class */ (function (_super) {
        __extends(DynamicRowValidationSummary, _super);
        function DynamicRowValidationSummary(json) {
            var _this = _super.call(this, json) || this;
            _this.isValid = json.isValid;
            return _this;
        }
        return DynamicRowValidationSummary;
    }(ErrorMessageModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var NumberCellValidator = /** @class */ (function () {
        function NumberCellValidator() {
            this.supportedTypes = [
                'Number',
                'Amount'
            ];
        }
        /**
         * @param {?} column
         * @return {?}
         */
        NumberCellValidator.prototype.isSupported = /**
         * @param {?} column
         * @return {?}
         */
            function (column) {
                return column && column.required && this.supportedTypes.indexOf(column.type) > -1;
            };
        /**
         * @param {?} value
         * @return {?}
         */
        NumberCellValidator.prototype.isNumber = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                if (value === null || value === undefined || value === '') {
                    return false;
                }
                return !isNaN(+value);
            };
        /**
         * @param {?} row
         * @param {?} column
         * @param {?=} summary
         * @return {?}
         */
        NumberCellValidator.prototype.validate = /**
         * @param {?} row
         * @param {?} column
         * @param {?=} summary
         * @return {?}
         */
            function (row, column, summary) {
                if (this.isSupported(column)) {
                    /** @type {?} */
                    var value = row.value[column.id];
                    if (value === null ||
                        value === undefined ||
                        value === '' ||
                        this.isNumber(value)) {
                        return true;
                    }
                    if (summary) {
                        summary.isValid = false;
                        summary.message = "Field '" + column.name + "' must be a number.";
                    }
                    return false;
                }
                return true;
            };
        return NumberCellValidator;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var RequiredCellValidator = /** @class */ (function () {
        function RequiredCellValidator() {
            this.supportedTypes = [
                'String',
                'Number',
                'Amount',
                'Date',
                'Dropdown'
            ];
        }
        /**
         * @param {?} column
         * @return {?}
         */
        RequiredCellValidator.prototype.isSupported = /**
         * @param {?} column
         * @return {?}
         */
            function (column) {
                return column && column.required && this.supportedTypes.indexOf(column.type) > -1;
            };
        /**
         * @param {?} row
         * @param {?} column
         * @param {?=} summary
         * @return {?}
         */
        RequiredCellValidator.prototype.validate = /**
         * @param {?} row
         * @param {?} column
         * @param {?=} summary
         * @return {?}
         */
            function (row, column, summary) {
                if (this.isSupported(column)) {
                    /** @type {?} */
                    var value = row.value[column.id];
                    if (column.required) {
                        if (value === null || value === undefined || value === '') {
                            if (summary) {
                                summary.isValid = false;
                                summary.message = "Field '" + column.name + "' is required.";
                            }
                            return false;
                        }
                    }
                }
                return true;
            };
        return RequiredCellValidator;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DynamicTableModel = /** @class */ (function (_super) {
        __extends(DynamicTableModel, _super);
        function DynamicTableModel(field, formService) {
            var _this = _super.call(this, field.form, field.json) || this;
            _this.formService = formService;
            _this.columns = [];
            _this.visibleColumns = [];
            _this.rows = [];
            _this._validators = [];
            _this.field = field;
            if (field.json) {
                /** @type {?} */
                var columns = _this.getColumns(field);
                if (columns) {
                    _this.columns = columns;
                    _this.visibleColumns = _this.columns.filter(function (col) { return col.visible; });
                }
                if (field.json.value) {
                    _this.rows = field.json.value.map(function (obj) { return ({ selected: false, value: obj }); });
                }
            }
            _this._validators = [
                new RequiredCellValidator(),
                new DateCellValidator(),
                new NumberCellValidator()
            ];
            return _this;
        }
        Object.defineProperty(DynamicTableModel.prototype, "selectedRow", {
            get: /**
             * @return {?}
             */ function () {
                return this._selectedRow;
            },
            set: /**
             * @param {?} value
             * @return {?}
             */ function (value) {
                if (this._selectedRow && this._selectedRow === value) {
                    this._selectedRow.selected = false;
                    this._selectedRow = null;
                    return;
                }
                this.rows.forEach(function (row) { return row.selected = false; });
                this._selectedRow = value;
                if (value) {
                    this._selectedRow.selected = true;
                }
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @param {?} field
         * @return {?}
         */
        DynamicTableModel.prototype.getColumns = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                if (field && field.json) {
                    /** @type {?} */
                    var definitions = field.json.columnDefinitions;
                    if (!definitions && field.json.params && field.json.params.field) {
                        definitions = field.json.params.field.columnDefinitions;
                    }
                    if (definitions) {
                        return definitions.map(function (obj) { return (obj); });
                    }
                }
                return null;
            };
        /**
         * @return {?}
         */
        DynamicTableModel.prototype.flushValue = /**
         * @return {?}
         */
            function () {
                if (this.field) {
                    this.field.value = this.rows.map(function (r) { return r.value; });
                    this.field.updateForm();
                }
            };
        /**
         * @param {?} row
         * @param {?} offset
         * @return {?}
         */
        DynamicTableModel.prototype.moveRow = /**
         * @param {?} row
         * @param {?} offset
         * @return {?}
         */
            function (row, offset) {
                /** @type {?} */
                var oldIndex = this.rows.indexOf(row);
                if (oldIndex > -1) {
                    /** @type {?} */
                    var newIndex = (oldIndex + offset);
                    if (newIndex < 0) {
                        newIndex = 0;
                    }
                    else if (newIndex >= this.rows.length) {
                        newIndex = this.rows.length;
                    }
                    /** @type {?} */
                    var arr = this.rows.slice();
                    arr.splice(oldIndex, 1);
                    arr.splice(newIndex, 0, row);
                    this.rows = arr;
                    this.flushValue();
                }
            };
        /**
         * @param {?} row
         * @return {?}
         */
        DynamicTableModel.prototype.deleteRow = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                if (row) {
                    if (this.selectedRow === row) {
                        this.selectedRow = null;
                    }
                    /** @type {?} */
                    var idx = this.rows.indexOf(row);
                    if (idx > -1) {
                        this.rows.splice(idx, 1);
                        this.flushValue();
                    }
                }
            };
        /**
         * @param {?} row
         * @return {?}
         */
        DynamicTableModel.prototype.addRow = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                if (row) {
                    this.rows.push(row);
                    // this.selectedRow = row;
                }
            };
        /**
         * @param {?} row
         * @return {?}
         */
        DynamicTableModel.prototype.validateRow = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                var e_1, _a, e_2, _b;
                /** @type {?} */
                var summary = new DynamicRowValidationSummary({
                    isValid: true,
                    message: null
                });
                /** @type {?} */
                var event = new ValidateDynamicTableRowEvent(this.form, this.field, row, summary);
                this.formService.validateDynamicTableRow.next(event);
                if (event.defaultPrevented || !summary.isValid) {
                    return summary;
                }
                if (row) {
                    try {
                        for (var _c = __values(this.columns), _d = _c.next(); !_d.done; _d = _c.next()) {
                            var col = _d.value;
                            try {
                                for (var _e = __values(this._validators), _f = _e.next(); !_f.done; _f = _e.next()) {
                                    var validator = _f.value;
                                    if (!validator.validate(row, col, summary)) {
                                        return summary;
                                    }
                                }
                            }
                            catch (e_2_1) {
                                e_2 = { error: e_2_1 };
                            }
                            finally {
                                try {
                                    if (_f && !_f.done && (_b = _e.return))
                                        _b.call(_e);
                                }
                                finally {
                                    if (e_2)
                                        throw e_2.error;
                                }
                            }
                        }
                    }
                    catch (e_1_1) {
                        e_1 = { error: e_1_1 };
                    }
                    finally {
                        try {
                            if (_d && !_d.done && (_a = _c.return))
                                _a.call(_c);
                        }
                        finally {
                            if (e_1)
                                throw e_1.error;
                        }
                    }
                }
                return summary;
            };
        /**
         * @param {?} row
         * @param {?} column
         * @return {?}
         */
        DynamicTableModel.prototype.getCellValue = /**
         * @param {?} row
         * @param {?} column
         * @return {?}
         */
            function (row, column) {
                /** @type {?} */
                var result = row.value[column.id];
                if (column.type === 'Dropdown') {
                    if (result) {
                        return result.name;
                    }
                }
                if (column.type === 'Boolean') {
                    return result ? true : false;
                }
                if (column.type === 'Date') {
                    if (result) {
                        return moment$1(result.split('T')[0], 'YYYY-MM-DD').format('DD-MM-YYYY');
                    }
                }
                return result || '';
            };
        /**
         * @param {?} column
         * @return {?}
         */
        DynamicTableModel.prototype.getDisplayText = /**
         * @param {?} column
         * @return {?}
         */
            function (column) {
                /** @type {?} */
                var result = column.name;
                if (column.type === 'Amount') {
                    /** @type {?} */
                    var currency = column.amountCurrency || '$';
                    result = column.name + " (" + currency + ")";
                }
                return result;
            };
        return DynamicTableModel;
    }(FormWidgetModel));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DynamicTableWidgetComponent = /** @class */ (function (_super) {
        __extends(DynamicTableWidgetComponent, _super);
        function DynamicTableWidgetComponent(formService, elementRef, visibilityService, logService, cd) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            _this.elementRef = elementRef;
            _this.visibilityService = visibilityService;
            _this.logService = logService;
            _this.cd = cd;
            _this.ERROR_MODEL_NOT_FOUND = 'Table model not found';
            _this.editMode = false;
            _this.editRow = null;
            _this.selectArrayCode = [32, 0, 13];
            return _this;
        }
        /**
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (this.field) {
                    this.content = new DynamicTableModel(this.field, this.formService);
                    this.visibilityService.refreshVisibility(this.field.form);
                }
            };
        /**
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.forceFocusOnAddButton = /**
         * @return {?}
         */
            function () {
                if (this.content) {
                    this.cd.detectChanges();
                    /** @type {?} */
                    var buttonAddRow = /** @type {?} */ (this.elementRef.nativeElement.querySelector('#' + this.content.id + '-add-row'));
                    if (this.isDynamicTableReady(buttonAddRow)) {
                        buttonAddRow.focus();
                    }
                }
            };
        /**
         * @param {?} buttonAddRow
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.isDynamicTableReady = /**
         * @param {?} buttonAddRow
         * @return {?}
         */
            function (buttonAddRow) {
                return this.field && !this.editMode && buttonAddRow;
            };
        /**
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.isValid = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var result = true;
                if (this.content && this.content.field) {
                    result = this.content.field.isValid;
                }
                return result;
            };
        /**
         * @param {?} row
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.onRowClicked = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                if (this.content) {
                    this.content.selectedRow = row;
                }
            };
        /**
         * @param {?} $event
         * @param {?} row
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.onKeyPressed = /**
         * @param {?} $event
         * @param {?} row
         * @return {?}
         */
            function ($event, row) {
                if (this.content && this.isEnterOrSpacePressed($event.keyCode)) {
                    this.content.selectedRow = row;
                }
            };
        /**
         * @param {?} keycode
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.isEnterOrSpacePressed = /**
         * @param {?} keycode
         * @return {?}
         */
            function (keycode) {
                return this.selectArrayCode.indexOf(keycode) !== -1;
            };
        /**
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.hasSelection = /**
         * @return {?}
         */
            function () {
                return !!(this.content && this.content.selectedRow);
            };
        /**
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.moveSelectionUp = /**
         * @return {?}
         */
            function () {
                if (this.content && !this.readOnly) {
                    this.content.moveRow(this.content.selectedRow, -1);
                    return true;
                }
                return false;
            };
        /**
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.moveSelectionDown = /**
         * @return {?}
         */
            function () {
                if (this.content && !this.readOnly) {
                    this.content.moveRow(this.content.selectedRow, 1);
                    return true;
                }
                return false;
            };
        /**
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.deleteSelection = /**
         * @return {?}
         */
            function () {
                if (this.content && !this.readOnly) {
                    this.content.deleteRow(this.content.selectedRow);
                    return true;
                }
                return false;
            };
        /**
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.addNewRow = /**
         * @return {?}
         */
            function () {
                if (this.content && !this.readOnly) {
                    this.editRow = /** @type {?} */ ({
                        isNew: true,
                        selected: false,
                        value: {}
                    });
                    this.editMode = true;
                    return true;
                }
                return false;
            };
        /**
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.editSelection = /**
         * @return {?}
         */
            function () {
                if (this.content && !this.readOnly) {
                    this.editRow = this.copyRow(this.content.selectedRow);
                    this.editMode = true;
                    return true;
                }
                return false;
            };
        /**
         * @param {?} row
         * @param {?} column
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.getCellValue = /**
         * @param {?} row
         * @param {?} column
         * @return {?}
         */
            function (row, column) {
                if (this.content) {
                    /** @type {?} */
                    var result = this.content.getCellValue(row, column);
                    if (column.type === 'Amount') {
                        return (column.amountCurrency || '$') + ' ' + (result || 0);
                    }
                    return result;
                }
                return null;
            };
        /**
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.onSaveChanges = /**
         * @return {?}
         */
            function () {
                if (this.content) {
                    if (this.editRow.isNew) {
                        /** @type {?} */
                        var row = this.copyRow(this.editRow);
                        this.content.selectedRow = null;
                        this.content.addRow(row);
                        this.editRow.isNew = false;
                    }
                    else {
                        this.content.selectedRow.value = this.copyObject(this.editRow.value);
                    }
                    this.content.flushValue();
                }
                else {
                    this.logService.error(this.ERROR_MODEL_NOT_FOUND);
                }
                this.editMode = false;
                this.forceFocusOnAddButton();
            };
        /**
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.onCancelChanges = /**
         * @return {?}
         */
            function () {
                this.editMode = false;
                this.editRow = null;
                this.forceFocusOnAddButton();
            };
        /**
         * @param {?} row
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.copyRow = /**
         * @param {?} row
         * @return {?}
         */
            function (row) {
                return /** @type {?} */ ({
                    value: this.copyObject(row.value)
                });
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        DynamicTableWidgetComponent.prototype.copyObject = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                var _this = this;
                /** @type {?} */
                var result = obj;
                if (typeof obj === 'object' && obj !== null && obj !== undefined) {
                    result = Object.assign({}, obj);
                    Object.keys(obj).forEach(function (key) {
                        if (typeof obj[key] === 'object') {
                            result[key] = _this.copyObject(obj[key]);
                        }
                    });
                }
                return result;
            };
        DynamicTableWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'dynamic-table-widget',
                        template: "<div class=\"adf-dynamic-table-scrolling {{field.className}}\"\n    [class.adf-invalid]=\"!isValid()\">\n    <div class=\"adf-label\">{{content.name}}<span *ngIf=\"isRequired()\">*</span></div>\n\n    <div *ngIf=\"!editMode\">\n        <div class=\"adf-table-container\">\n            <table class=\"full-width adf-dynamic-table\" id=\"dynamic-table-{{content.id}}\">\n                <thead>\n                    <tr>\n                        <th *ngFor=\"let column of content.visibleColumns\">\n                            {{column.name}}\n                        </th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor=\"let row of content.rows; let idx = index\" tabindex=\"0\" id=\"{{content.id}}-row-{{idx}}\"\n                        [class.adf-dynamic-table-widget__row-selected]=\"row.selected\" (keyup)=\"onKeyPressed($event, row)\">\n                        <td *ngFor=\"let column of content.visibleColumns\"\n                            (click)=\"onRowClicked(row)\">\n                            <span *ngIf=\"column.type !== 'Boolean' else checkbox\">\n                                {{ getCellValue(row, column) }}\n                            </span>\n                            <ng-template #checkbox>\n                                <mat-checkbox disabled [checked]=\"getCellValue(row, column)\">\n                                </mat-checkbox>\n                            </ng-template>\n                        </td>\n                    </tr>\n                </tbody>\n            </table>\n        </div>\n\n        <div *ngIf=\"!readOnly\">\n            <button mat-button\n                    [disabled]=\"!hasSelection()\"\n                    (click)=\"moveSelectionUp()\">\n                <mat-icon>arrow_upward</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]=\"!hasSelection()\"\n                    (click)=\"moveSelectionDown()\">\n                <mat-icon>arrow_downward</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]=\"field.readOnly\"\n                    id=\"{{content.id}}-add-row\"\n                    (click)=\"addNewRow()\">\n                <mat-icon>add_circle_outline</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]=\"!hasSelection()\"\n                    (click)=\"deleteSelection()\">\n                <mat-icon>remove_circle_outline</mat-icon>\n            </button>\n            <button mat-button\n                    [disabled]=\"!hasSelection()\"\n                    (click)=\"editSelection()\">\n                <mat-icon>edit</mat-icon>\n            </button>\n        </div>\n     </div>\n\n     <row-editor *ngIf=\"editMode\"\n        [table]=\"content\"\n        [row]=\"editRow\"\n        (save)=\"onSaveChanges()\"\n        (cancel)=\"onCancelChanges()\">\n     </row-editor>\n    <error-widget [error]=\"field.validationSummary\" ></error-widget>\n    <error-widget *ngIf=\"isInvalidFieldRequired()\" required=\"{{ 'FORM.FIELD.REQUIRED' | translate }}\"></error-widget>\n</div>\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        DynamicTableWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService },
                { type: i0.ElementRef },
                { type: WidgetVisibilityService },
                { type: LogService },
                { type: i0.ChangeDetectorRef }
            ];
        };
        return DynamicTableWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var BooleanEditorComponent = /** @class */ (function () {
        function BooleanEditorComponent() {
        }
        /**
         * @param {?} row
         * @param {?} column
         * @param {?} event
         * @return {?}
         */
        BooleanEditorComponent.prototype.onValueChanged = /**
         * @param {?} row
         * @param {?} column
         * @param {?} event
         * @return {?}
         */
            function (row, column, event) {
                /** @type {?} */
                var value = ( /** @type {?} */(event)).checked;
                row.value[column.id] = value;
            };
        BooleanEditorComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-boolean-editor',
                        template: " <label [attr.for]=\"column.id\">\n    <mat-checkbox\n        color=\"primary\"\n        [id]=\"column.id\"\n        [checked]=\"table.getCellValue(row, column)\"\n        [required]=\"column.required\"\n        [disabled]=\"!column.editable\"\n        (change)=\"onValueChanged(row, column, $event)\">\n    <span class=\"adf-checkbox-label\">{{column.name}}</span>\n    </mat-checkbox>\n</label>\n",
                        styles: [".adf-checkbox-label{position:relative;cursor:pointer;font-size:16px;line-height:24px;margin:0}"]
                    }] }
        ];
        BooleanEditorComponent.propDecorators = {
            table: [{ type: i0.Input }],
            row: [{ type: i0.Input }],
            column: [{ type: i0.Input }]
        };
        return BooleanEditorComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ɵ0$2 = MOMENT_DATE_FORMATS;
    var DateEditorComponent = /** @class */ (function () {
        function DateEditorComponent(dateAdapter, preferences) {
            this.dateAdapter = dateAdapter;
            this.preferences = preferences;
            this.DATE_FORMAT = 'DD-MM-YYYY';
        }
        /**
         * @return {?}
         */
        DateEditorComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.preferences.locale$.subscribe(function (locale) {
                    _this.dateAdapter.setLocale(locale);
                });
                /** @type {?} */
                var momentDateAdapter = /** @type {?} */ (this.dateAdapter);
                momentDateAdapter.overrideDisplyaFormat = this.DATE_FORMAT;
                this.value = moment$1(this.table.getCellValue(this.row, this.column), 'YYYY-MM-DD');
            };
        /**
         * @param {?} newDateValue
         * @return {?}
         */
        DateEditorComponent.prototype.onDateChanged = /**
         * @param {?} newDateValue
         * @return {?}
         */
            function (newDateValue) {
                if (newDateValue && newDateValue.value) {
                    /** @type {?} */
                    var momentDate = moment$1(newDateValue.value, this.DATE_FORMAT, true);
                    if (!momentDate.isValid()) {
                        this.row.value[this.column.id] = '';
                    }
                    else {
                        this.row.value[this.column.id] = momentDate.format('YYYY-MM-DD') + "T00:00:00.000Z";
                        this.table.flushValue();
                    }
                }
            };
        DateEditorComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-date-editor',
                        template: "<div>\n    <mat-form-field class=\"adf-date-editor\">\n        <label [attr.for]=\"column.id\">{{column.name}} (d-M-yyyy)</label>\n        <input matInput\n            id=\"dateInput\"\n            type=\"text\"\n            [matDatepicker]=\"datePicker\"\n            [value]=\"value\"\n            [id]=\"column.id\"\n            [required]=\"column.required\"\n            [disabled]=\"!column.editable\"\n            (focusout)=\"onDateChanged($event.srcElement.value)\"\n            (dateChange)=\"onDateChanged($event)\">\n        <mat-datepicker-toggle  *ngIf=\"column.editable\" matSuffix [for]=\"datePicker\" class=\"adf-date-editor-button\" ></mat-datepicker-toggle>\n    </mat-form-field>\n    <mat-datepicker #datePicker [touchUi]=\"true\"></mat-datepicker>\n</div>\n",
                        providers: [
                            { provide: material.DateAdapter, useClass: MomentDateAdapter },
                            { provide: material.MAT_DATE_FORMATS, useValue: ɵ0$2 }
                        ],
                        styles: [".adf-date-editor{width:100%}.adf-date-editor-button{position:relative;top:25px}"]
                    }] }
        ];
        /** @nocollapse */
        DateEditorComponent.ctorParameters = function () {
            return [
                { type: material.DateAdapter },
                { type: UserPreferencesService }
            ];
        };
        DateEditorComponent.propDecorators = {
            table: [{ type: i0.Input }],
            row: [{ type: i0.Input }],
            column: [{ type: i0.Input }]
        };
        return DateEditorComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ɵ0$3 = MOMENT_DATE_FORMATS, ɵ1$1 = moment$2.MAT_MOMENT_DATETIME_FORMATS;
    var DateTimeEditorComponent = /** @class */ (function () {
        function DateTimeEditorComponent(dateAdapter, preferences) {
            this.dateAdapter = dateAdapter;
            this.preferences = preferences;
            this.DATE_FORMAT = 'D-M-YYYY hh:mm A';
        }
        /**
         * @return {?}
         */
        DateTimeEditorComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.preferences.locale$.subscribe(function (locale) {
                    _this.dateAdapter.setLocale(locale);
                });
                /** @type {?} */
                var momentDateAdapter = /** @type {?} */ (this.dateAdapter);
                momentDateAdapter.overrideDisplyaFormat = this.DATE_FORMAT;
                this.value = moment$1(this.table.getCellValue(this.row, this.column), this.DATE_FORMAT);
            };
        /**
         * @param {?} newDateValue
         * @return {?}
         */
        DateTimeEditorComponent.prototype.onDateChanged = /**
         * @param {?} newDateValue
         * @return {?}
         */
            function (newDateValue) {
                if (newDateValue && newDateValue.value) {
                    /** @type {?} */
                    var newValue = moment$1(newDateValue.value, this.DATE_FORMAT);
                    this.row.value[this.column.id] = newDateValue.value.format(this.DATE_FORMAT);
                    this.value = newValue;
                    this.table.flushValue();
                }
                else if (newDateValue) {
                    /** @type {?} */
                    var newValue = moment$1(newDateValue, this.DATE_FORMAT);
                    this.value = newValue;
                    this.row.value[this.column.id] = newDateValue;
                    this.table.flushValue();
                }
                else {
                    this.row.value[this.column.id] = '';
                }
            };
        DateTimeEditorComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-datetime-editor',
                        template: "<div>\n    <mat-form-field class=\"adf-date-editor\">\n        <label [attr.for]=\"column.id\">{{column.name}} {{DATE_FORMAT}}</label>\n        <input matInput\n            [matDatetimepicker]=\"datetimePicker\"\n            [(ngModel)]=\"value\"\n            [id]=\"column.id\"\n            [required]=\"column.required\"\n            [disabled]=\"!column.editable\"\n            (focusout)=\"onDateChanged($event.srcElement.value)\"\n            (dateChange)=\"onDateChanged($event)\">\n            <mat-datetimepicker-toggle matSuffix [for]=\"datetimePicker\"\n                            *ngIf=\"column.editable\"\n                            class=\"adf-date-editor-button\"></mat-datetimepicker-toggle>\n    </mat-form-field>\n    <mat-datetimepicker #datetimePicker\n                        type=\"datetime\"\n                        openOnFocus=\"true\"\n                        timeInterval=\"5\"></mat-datetimepicker>\n</div>\n",
                        providers: [
                            { provide: material.DateAdapter, useClass: MomentDateAdapter },
                            { provide: material.MAT_DATE_FORMATS, useValue: ɵ0$3 },
                            { provide: core.DatetimeAdapter, useClass: moment$2.MomentDatetimeAdapter },
                            { provide: core.MAT_DATETIME_FORMATS, useValue: ɵ1$1 }
                        ],
                        styles: [".adf-date-editor{width:100%}.adf-date-editor-button{position:relative;top:25px}"]
                    }] }
        ];
        /** @nocollapse */
        DateTimeEditorComponent.ctorParameters = function () {
            return [
                { type: material.DateAdapter },
                { type: UserPreferencesService }
            ];
        };
        DateTimeEditorComponent.propDecorators = {
            table: [{ type: i0.Input }],
            row: [{ type: i0.Input }],
            column: [{ type: i0.Input }]
        };
        return DateTimeEditorComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DropdownEditorComponent = /** @class */ (function () {
        function DropdownEditorComponent(formService, logService) {
            this.formService = formService;
            this.logService = logService;
            this.value = null;
            this.options = [];
        }
        /**
         * @return {?}
         */
        DropdownEditorComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var field = this.table.field;
                if (field) {
                    if (this.column.optionType === 'rest') {
                        if (this.table.form && this.table.form.taskId) {
                            this.getValuesByTaskId(field);
                        }
                        else {
                            this.getValuesByProcessDefinitionId(field);
                        }
                    }
                    else {
                        this.options = this.column.options || [];
                        this.value = this.table.getCellValue(this.row, this.column);
                    }
                }
            };
        /**
         * @param {?} field
         * @return {?}
         */
        DropdownEditorComponent.prototype.getValuesByTaskId = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                var _this = this;
                this.formService
                    .getRestFieldValuesColumn(field.form.taskId, field.id, this.column.id)
                    .subscribe(function (result) {
                    _this.column.options = result || [];
                    _this.options = _this.column.options;
                    _this.value = _this.table.getCellValue(_this.row, _this.column);
                }, function (err) { return _this.handleError(err); });
            };
        /**
         * @param {?} field
         * @return {?}
         */
        DropdownEditorComponent.prototype.getValuesByProcessDefinitionId = /**
         * @param {?} field
         * @return {?}
         */
            function (field) {
                var _this = this;
                this.formService
                    .getRestFieldValuesColumnByProcessId(field.form.processDefinitionId, field.id, this.column.id)
                    .subscribe(function (result) {
                    _this.column.options = result || [];
                    _this.options = _this.column.options;
                    _this.value = _this.table.getCellValue(_this.row, _this.column);
                }, function (err) { return _this.handleError(err); });
            };
        /**
         * @param {?} row
         * @param {?} column
         * @param {?} event
         * @return {?}
         */
        DropdownEditorComponent.prototype.onValueChanged = /**
         * @param {?} row
         * @param {?} column
         * @param {?} event
         * @return {?}
         */
            function (row, column, event) {
                /** @type {?} */
                var value = ( /** @type {?} */(event)).value;
                value = column.options.find(function (opt) { return opt.name === value; });
                row.value[column.id] = value;
            };
        /**
         * @param {?} error
         * @return {?}
         */
        DropdownEditorComponent.prototype.handleError = /**
         * @param {?} error
         * @return {?}
         */
            function (error) {
                this.logService.error(error);
            };
        DropdownEditorComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-dropdown-editor',
                        template: "<div class=\"dropdown-editor\">\n    <label [attr.for]=\"column.id\">{{column.name}}</label>\n    <mat-form-field>\n        <mat-select\n            floatPlaceholder=\"never\"\n            class=\"adf-dropdown-editor-select\"\n            [id]=\"column.id\"\n            [(ngModel)]=\"value\"\n            [required]=\"column.required\"\n            [disabled]=\"!column.editable\"\n            (selectionChange)=\"onValueChanged(row, column, $event)\">\n            <mat-option></mat-option>\n            <mat-option *ngFor=\"let opt of options\" [value]=\"opt.name\" [id]=\"opt.id\">{{opt.name}}</mat-option>\n        </mat-select>\n    </mat-form-field>\n</div>\n",
                        styles: [".adf-dropdown-editor-select{width:100%}"]
                    }] }
        ];
        /** @nocollapse */
        DropdownEditorComponent.ctorParameters = function () {
            return [
                { type: FormService },
                { type: LogService }
            ];
        };
        DropdownEditorComponent.propDecorators = {
            table: [{ type: i0.Input }],
            row: [{ type: i0.Input }],
            column: [{ type: i0.Input }]
        };
        return DropdownEditorComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var RowEditorComponent = /** @class */ (function () {
        function RowEditorComponent() {
            this.save = new i0.EventEmitter();
            this.cancel = new i0.EventEmitter();
            this.validationSummary = new DynamicRowValidationSummary({ isValid: true, message: '' });
        }
        /**
         * @return {?}
         */
        RowEditorComponent.prototype.onCancelChanges = /**
         * @return {?}
         */
            function () {
                this.cancel.emit({
                    table: this.table,
                    row: this.row,
                    column: this.column
                });
            };
        /**
         * @return {?}
         */
        RowEditorComponent.prototype.onSaveChanges = /**
         * @return {?}
         */
            function () {
                this.validate();
                if (this.isValid()) {
                    this.save.emit({
                        table: this.table,
                        row: this.row,
                        column: this.column
                    });
                }
            };
        /**
         * @return {?}
         */
        RowEditorComponent.prototype.isValid = /**
         * @return {?}
         */
            function () {
                return this.validationSummary && this.validationSummary.isValid;
            };
        /**
         * @return {?}
         */
        RowEditorComponent.prototype.validate = /**
         * @return {?}
         */
            function () {
                this.validationSummary = this.table.validateRow(this.row);
            };
        RowEditorComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'row-editor',
                        template: "<div class=\"row-editor mdl-shadow--2dp\"\n    [class.row-editor__invalid]=\"!validationSummary.isValid\">\n    <div class=\"mdl-grid\" *ngFor=\"let column of table.columns\">\n        <div class=\"mdl-cell mdl-cell--6-col\" [ngSwitch]=\"column.type\">\n            <div *ngSwitchCase=\"'Dropdown'\">\n                <adf-dropdown-editor\n                    [table]=\"table\"\n                    [row]=\"row\"\n                    [column]=\"column\">\n                </adf-dropdown-editor>\n                </div>\n                <div *ngSwitchCase=\"'Date'\">\n                    <adf-date-editor\n                    [table]=\"table\"\n                    [row]=\"row\"\n                    [column]=\"column\">\n                </adf-date-editor>\n                </div>\n                <div *ngSwitchCase=\"'Datetime'\">\n                    <adf-datetime-editor\n                        [table]=\"table\"\n                        [row]=\"row\"\n                        [column]=\"column\">\n                    </adf-datetime-editor>\n                </div>\n                <div *ngSwitchCase=\"'Boolean'\">\n                <adf-boolean-editor\n                    [table]=\"table\"\n                    [row]=\"row\"\n                    [column]=\"column\">\n                </adf-boolean-editor>\n                </div>\n                <div *ngSwitchDefault>\n                <adf-text-editor\n                    [table]=\"table\"\n                    [row]=\"row\"\n                    [column]=\"column\">\n                </adf-text-editor>\n            </div>\n        </div>\n    </div>\n    <error-widget [error]=\"validationSummary\"></error-widget>\n    <div>\n        <button mat-button (click)=\"onCancelChanges()\">Cancel</button>\n        <button mat-button (click)=\"onSaveChanges()\">Save</button>\n    </div>\n</div>\n",
                        styles: [".row-editor{padding:8px}.row-editor__validation-summary{visibility:hidden}.row-editor__invalid .row-editor__validation-summary{color:#d50000;visibility:visible;padding:8px 16px}"]
                    }] }
        ];
        /** @nocollapse */
        RowEditorComponent.ctorParameters = function () { return []; };
        RowEditorComponent.propDecorators = {
            table: [{ type: i0.Input }],
            row: [{ type: i0.Input }],
            column: [{ type: i0.Input }],
            save: [{ type: i0.Output }],
            cancel: [{ type: i0.Output }]
        };
        return RowEditorComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var TextEditorComponent = /** @class */ (function () {
        function TextEditorComponent() {
        }
        /**
         * @return {?}
         */
        TextEditorComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.displayName = this.table.getDisplayText(this.column);
            };
        /**
         * @param {?} row
         * @param {?} column
         * @param {?} event
         * @return {?}
         */
        TextEditorComponent.prototype.onValueChanged = /**
         * @param {?} row
         * @param {?} column
         * @param {?} event
         * @return {?}
         */
            function (row, column, event) {
                /** @type {?} */
                var value = ( /** @type {?} */(event.target)).value;
                row.value[column.id] = value;
            };
        TextEditorComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-text-editor',
                        template: "<div class=\"adf-text-editor\">\n    <mat-form-field>\n    <label [attr.for]=\"column.id\">{{displayName}}</label>\n    <input matInput\n        type=\"text\"\n        [value]=\"table.getCellValue(row, column)\"\n        (keyup)=\"onValueChanged(row, column, $event)\"\n        [required]=\"column.required\"\n        [disabled]=\"!column.editable\"\n        [id]=\"column.id\">\n    </mat-form-field>\n</div>\n",
                        styles: [".adf-text-editor{width:100%}"]
                    }] }
        ];
        TextEditorComponent.propDecorators = {
            table: [{ type: i0.Input }],
            row: [{ type: i0.Input }],
            column: [{ type: i0.Input }]
        };
        return TextEditorComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ErrorWidgetComponent = /** @class */ (function (_super) {
        __extends(ErrorWidgetComponent, _super);
        function ErrorWidgetComponent(formService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            _this.translateParameters = null;
            _this._subscriptAnimationState = '';
            return _this;
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        ErrorWidgetComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (changes['required']) {
                    this.required = changes["required"].currentValue;
                    this._subscriptAnimationState = 'enter';
                }
                if (changes['error'] && changes['error'].currentValue) {
                    if (changes["error"].currentValue.isActive()) {
                        this.error = changes["error"].currentValue;
                        this.translateParameters = this.error.getAttributesAsJsonObj();
                        this._subscriptAnimationState = 'enter';
                    }
                }
            };
        ErrorWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'error-widget',
                        template: "<div class=\"adf-error-text-container\">\n    <div *ngIf=\"error?.isActive()\" [@transitionMessages]=\"_subscriptAnimationState\">\n        <div class=\"adf-error-text\">{{error.message | translate:translateParameters}}</div>\n        <mat-icon class=\"adf-error-icon\">warning</mat-icon>\n    </div>\n    <div *ngIf=\"required\" [@transitionMessages]=\"_subscriptAnimationState\">\n            <div class=\"adf-error-text\">{{required}}</div>\n    </div>\n</div>\n",
                        animations: [
                            animations.trigger('transitionMessages', [
                                animations.state('enter', animations.style({ opacity: 1, transform: 'translateY(0%)' })),
                                animations.transition('void => enter', [
                                    animations.style({ opacity: 0, transform: 'translateY(-100%)' }),
                                    animations.animate('300ms cubic-bezier(0.55, 0, 0.55, 0.2)')
                                ])
                            ])
                        ],
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-error-text{width:85%}"]
                    }] }
        ];
        /** @nocollapse */
        ErrorWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService }
            ];
        };
        ErrorWidgetComponent.propDecorators = {
            error: [{ type: i0.Input }],
            required: [{ type: i0.Input }]
        };
        return ErrorWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FunctionalGroupWidgetComponent = /** @class */ (function (_super) {
        __extends(FunctionalGroupWidgetComponent, _super);
        function FunctionalGroupWidgetComponent(formService, elementRef) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            _this.elementRef = elementRef;
            _this.groups = [];
            _this.minTermLength = 1;
            return _this;
        }
        /**
         * @return {?}
         */
        FunctionalGroupWidgetComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.field) {
                    /** @type {?} */
                    var group = this.field.value;
                    if (group) {
                        this.value = group.name;
                    }
                    /** @type {?} */
                    var params = this.field.params;
                    if (params && params['restrictWithGroup']) {
                        /** @type {?} */
                        var restrictWithGroup = /** @type {?} */ (params['restrictWithGroup']);
                        this.groupId = restrictWithGroup.id;
                    }
                    // Load auto-completion for previously saved value
                    if (this.value) {
                        this.formService
                            .getWorkflowGroups(this.value, this.groupId)
                            .subscribe(function (result) { return _this.groups = result || []; });
                    }
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        FunctionalGroupWidgetComponent.prototype.onKeyUp = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                var _this = this;
                if (this.value && this.value.length >= this.minTermLength && this.oldValue !== this.value) {
                    if (event.keyCode !== keycodes.ESCAPE && event.keyCode !== keycodes.ENTER) {
                        this.oldValue = this.value;
                        this.formService.getWorkflowGroups(this.value, this.groupId)
                            .subscribe(function (result) {
                            _this.groups = result || [];
                        });
                    }
                }
            };
        /**
         * @return {?}
         */
        FunctionalGroupWidgetComponent.prototype.flushValue = /**
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var option = this.groups.find(function (item) { return item.name.toLocaleLowerCase() === _this.value.toLocaleLowerCase(); });
                if (option) {
                    this.field.value = option;
                    this.value = option.name;
                }
                else {
                    this.field.value = null;
                    this.value = null;
                }
                this.field.updateForm();
            };
        /**
         * @param {?} item
         * @param {?} event
         * @return {?}
         */
        FunctionalGroupWidgetComponent.prototype.onItemClick = /**
         * @param {?} item
         * @param {?} event
         * @return {?}
         */
            function (item, event) {
                if (item) {
                    this.field.value = item;
                    this.value = item.name;
                }
                if (event) {
                    event.preventDefault();
                }
            };
        /**
         * @param {?} item
         * @return {?}
         */
        FunctionalGroupWidgetComponent.prototype.onItemSelect = /**
         * @param {?} item
         * @return {?}
         */
            function (item) {
                if (item) {
                    this.field.value = item;
                    this.value = item.name;
                }
            };
        FunctionalGroupWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'functional-group-widget',
                        template: "<div class=\"adf-group-widget {{field.className}}\"\n     [class.is-dirty]=\"value\"\n     [class.adf-invalid]=\"!field.isValid\" [class.adf-readonly]=\"field.readOnly\" id=\"functional-group-div\">\n    <mat-form-field>\n        <label class=\"adf-label\" [attr.for]=\"field.id\">{{field.name}}<span *ngIf=\"isRequired()\">*</span></label>\n        <input matInput\n               class=\"adf-input\"\n               type=\"text\"\n               [id]=\"field.id\"\n               [(ngModel)]=\"value\"\n               (keyup)=\"onKeyUp($event)\"\n               [disabled]=\"field.readOnly\"\n               placeholder=\"{{field.placeholder}}\"\n               [matAutocomplete]=\"auto\">\n        <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"onItemSelect($event.option.value)\">\n            <mat-option *ngFor=\"let item of groups\"\n                       [id]=\"field.id +'-'+item.id\"\n                       (click)=\"onItemClick(item, $event)\"  [value]=\"item\">\n                <span>{{item.name}}</span>\n            </mat-option>\n        </mat-autocomplete>\n\n    </mat-form-field>\n    <error-widget [error]=\"field.validationSummary\"></error-widget>\n    <error-widget *ngIf=\"isInvalidFieldRequired()\" required=\"{{ 'FORM.FIELD.REQUIRED' | translate }}\"></error-widget>\n</div>\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-group-widget{width:100%}"]
                    }] }
        ];
        /** @nocollapse */
        FunctionalGroupWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService },
                { type: i0.ElementRef }
            ];
        };
        return FunctionalGroupWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var HyperlinkWidgetComponent = /** @class */ (function (_super) {
        __extends(HyperlinkWidgetComponent, _super);
        function HyperlinkWidgetComponent(formService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            _this.linkUrl = WidgetComponent.DEFAULT_HYPERLINK_URL;
            _this.linkText = null;
            return _this;
        }
        /**
         * @return {?}
         */
        HyperlinkWidgetComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (this.field) {
                    this.linkUrl = this.getHyperlinkUrl(this.field);
                    this.linkText = this.getHyperlinkText(this.field);
                }
            };
        HyperlinkWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'hyperlink-widget',
                        template: "<div class=\"adf-hyperlink-widget {{field.className}}\">\n    <label class=\"adf-label\" [attr.for]=\"field.id\">{{field.name}}<span *ngIf=\"isRequired()\">*</span></label>\n    <div>\n        <a [href]=\"linkUrl\" target=\"_blank\" rel=\"nofollow\">{{linkText}}</a>\n    </div>\n</div>\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        HyperlinkWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService }
            ];
        };
        return HyperlinkWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var MultilineTextWidgetComponentComponent = /** @class */ (function (_super) {
        __extends(MultilineTextWidgetComponentComponent, _super);
        function MultilineTextWidgetComponentComponent(formService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            return _this;
        }
        MultilineTextWidgetComponentComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'multiline-text-widget',
                        template: "<div class=\"adf-multiline-text-widget {{field.className}}\"\n     [class.adf-invalid]=\"!field.isValid\" [class.adf-readonly]=\"field.readOnly\">\n    <mat-form-field floatPlaceholder=\"never\">\n        <label class=\"adf-label\" [attr.for]=\"field.id\">{{field.name}}<span *ngIf=\"isRequired()\">*</span></label>\n        <textarea matInput class=\"adf-input\"\n                  matTextareaAutosize\n                  type=\"text\"\n                  rows=\"3\"\n                  [id]=\"field.id\"\n                  [required]=\"isRequired()\"\n                  [(ngModel)]=\"field.value\"\n                  (ngModelChange)=\"onFieldChanged(field)\"\n                  [disabled]=\"field.readOnly || readOnly\"\n                  placeholder=\"{{field.placeholder}}\">\n        </textarea>\n    </mat-form-field>\n    <div *ngIf=\"field.maxLength > 0\" class=\"adf-multiline-word-counter\">\n        <span>{{field?.value?.length || 0}}/{{field.maxLength}}</span>\n    </div>\n    <error-widget [error]=\"field.validationSummary\"></error-widget>\n    <error-widget class=\"adf-multiline-required-message\" *ngIf=\"isInvalidFieldRequired()\" required=\"{{ 'FORM.FIELD.REQUIRED' | translate }}\"></error-widget>\n</div>\n\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-multiline-text-widget{width:100%}.adf-multiline-word-counter{float:right;margin-top:-20px!important;min-height:24px;min-width:1px;font-size:12px;line-height:14px;overflow:hidden;transition:.3s cubic-bezier(.55,0,.55,.2);opacity:1;padding-top:5px;text-align:right;padding-right:2px;padding-left:0}.adf-multiline-required-message{display:flex}"]
                    }] }
        ];
        /** @nocollapse */
        MultilineTextWidgetComponentComponent.ctorParameters = function () {
            return [
                { type: FormService }
            ];
        };
        return MultilineTextWidgetComponentComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var NumberWidgetComponent = /** @class */ (function (_super) {
        __extends(NumberWidgetComponent, _super);
        function NumberWidgetComponent(formService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            return _this;
        }
        NumberWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'number-widget',
                        template: "<div class=\"adf-textfield adf-number-widget {{field.className}}\"\n     [class.adf-invalid]=\"!field.isValid\" [class.adf-readonly]=\"field.readOnly\">\n    <mat-form-field>\n        <label class=\"adf-label\" [attr.for]=\"field.id\">{{field.name}}<span *ngIf=\"isRequired()\">*</span></label>\n        <input matInput\n               class=\"adf-input\"\n               type=\"text\"\n               pattern=\"-?[0-9]*(\\.[0-9]+)?\"\n               [id]=\"field.id\"\n               [required]=\"isRequired()\"\n               [value]=\"field.value\"\n               [(ngModel)]=\"field.value\"\n               (ngModelChange)=\"onFieldChanged(field)\"\n               [disabled]=\"field.readOnly\"\n               placeholder=\"{{field.placeholder}}\">\n    </mat-form-field>\n    <error-widget [error]=\"field.validationSummary\" ></error-widget>\n    <error-widget *ngIf=\"isInvalidFieldRequired()\" required=\"{{ 'FORM.FIELD.REQUIRED' | translate }}\"></error-widget>\n</div>\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-number-widget{width:100%}"]
                    }] }
        ];
        /** @nocollapse */
        NumberWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService }
            ];
        };
        return NumberWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var PeopleProcessService = /** @class */ (function () {
        function PeopleProcessService(alfrescoJsApi, logService) {
            this.alfrescoJsApi = alfrescoJsApi;
            this.logService = logService;
        }
        /**
         * Gets information about users across all tasks.
         * @param taskId ID of the task
         * @param searchWord Filter text to search for
         * @returns Array of user information objects
         */
        /**
         * Gets information about users across all tasks.
         * @param {?=} taskId ID of the task
         * @param {?=} searchWord Filter text to search for
         * @return {?} Array of user information objects
         */
        PeopleProcessService.prototype.getWorkflowUsers = /**
         * Gets information about users across all tasks.
         * @param {?=} taskId ID of the task
         * @param {?=} searchWord Filter text to search for
         * @return {?} Array of user information objects
         */
            function (taskId, searchWord) {
                var _this = this;
                /** @type {?} */
                var option = { excludeTaskId: taskId, filter: searchWord };
                return rxjs.from(this.getWorkflowUserApi(option))
                    .pipe(operators.map(function (response) { return (response.data) || []; }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets the profile picture URL for the specified user.
         * @param user The target user
         * @returns Profile picture URL
         */
        /**
         * Gets the profile picture URL for the specified user.
         * @param {?} user The target user
         * @return {?} Profile picture URL
         */
        PeopleProcessService.prototype.getUserImage = /**
         * Gets the profile picture URL for the specified user.
         * @param {?} user The target user
         * @return {?} Profile picture URL
         */
            function (user) {
                return this.getUserProfileImageApi(user.id);
            };
        /**
         * Sets a user to be involved with a task.
         * @param taskId ID of the target task
         * @param idToInvolve ID of the user to involve
         * @returns Empty response when the update completes
         */
        /**
         * Sets a user to be involved with a task.
         * @param {?} taskId ID of the target task
         * @param {?} idToInvolve ID of the user to involve
         * @return {?} Empty response when the update completes
         */
        PeopleProcessService.prototype.involveUserWithTask = /**
         * Sets a user to be involved with a task.
         * @param {?} taskId ID of the target task
         * @param {?} idToInvolve ID of the user to involve
         * @return {?} Empty response when the update completes
         */
            function (taskId, idToInvolve) {
                var _this = this;
                /** @type {?} */
                var node = { userId: idToInvolve };
                return rxjs.from(this.involveUserToTaskApi(taskId, node))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Removes a user who is currently involved with a task.
         * @param taskId ID of the target task
         * @param idToRemove ID of the user to remove
         * @returns Empty response when the update completes
         */
        /**
         * Removes a user who is currently involved with a task.
         * @param {?} taskId ID of the target task
         * @param {?} idToRemove ID of the user to remove
         * @return {?} Empty response when the update completes
         */
        PeopleProcessService.prototype.removeInvolvedUser = /**
         * Removes a user who is currently involved with a task.
         * @param {?} taskId ID of the target task
         * @param {?} idToRemove ID of the user to remove
         * @return {?} Empty response when the update completes
         */
            function (taskId, idToRemove) {
                var _this = this;
                /** @type {?} */
                var node = { userId: idToRemove };
                return rxjs.from(this.removeInvolvedUserFromTaskApi(taskId, node))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} options
         * @return {?}
         */
        PeopleProcessService.prototype.getWorkflowUserApi = /**
         * @param {?} options
         * @return {?}
         */
            function (options) {
                return this.alfrescoJsApi.getInstance().activiti.usersWorkflowApi.getUsers(options);
            };
        /**
         * @param {?} taskId
         * @param {?} node
         * @return {?}
         */
        PeopleProcessService.prototype.involveUserToTaskApi = /**
         * @param {?} taskId
         * @param {?} node
         * @return {?}
         */
            function (taskId, node) {
                return this.alfrescoJsApi.getInstance().activiti.taskActionsApi.involveUser(taskId, node);
            };
        /**
         * @param {?} taskId
         * @param {?} node
         * @return {?}
         */
        PeopleProcessService.prototype.removeInvolvedUserFromTaskApi = /**
         * @param {?} taskId
         * @param {?} node
         * @return {?}
         */
            function (taskId, node) {
                return this.alfrescoJsApi.getInstance().activiti.taskActionsApi.removeInvolvedUser(taskId, node);
            };
        /**
         * @param {?} userId
         * @return {?}
         */
        PeopleProcessService.prototype.getUserProfileImageApi = /**
         * @param {?} userId
         * @return {?}
         */
            function (userId) {
                return this.alfrescoJsApi.getInstance().activiti.userApi.getUserProfilePictureUrl(userId);
            };
        /**
         * Throw the error
         * @param {?} error
         * @return {?}
         */
        PeopleProcessService.prototype.handleError = /**
         * Throw the error
         * @param {?} error
         * @return {?}
         */
            function (error) {
                this.logService.error(error);
                return rxjs.throwError(error || 'Server error');
            };
        PeopleProcessService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        PeopleProcessService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: LogService }
            ];
        };
        return PeopleProcessService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var PeopleWidgetComponent = /** @class */ (function (_super) {
        __extends(PeopleWidgetComponent, _super);
        function PeopleWidgetComponent(formService, peopleProcessService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            _this.peopleProcessService = peopleProcessService;
            _this.searchTerm = new forms.FormControl();
            _this.errorMsg = '';
            _this.searchTerms$ = _this.searchTerm.valueChanges;
            _this.users$ = _this.searchTerms$.pipe(operators.tap(function () {
                _this.errorMsg = '';
            }), operators.distinctUntilChanged(), operators.switchMap(function (searchTerm) {
                /** @type {?} */
                var value = searchTerm.email ? _this.getDisplayName(searchTerm) : searchTerm;
                return _this.formService.getWorkflowUsers(value, _this.groupId)
                    .pipe(operators.catchError(function (err) {
                    _this.errorMsg = err.message;
                    return rxjs.of();
                }));
            }), operators.map(function (list) {
                /** @type {?} */
                var value = _this.searchTerm.value.email ? _this.getDisplayName(_this.searchTerm.value) : _this.searchTerm.value;
                _this.checkUserAndValidateForm(list, value);
                return list;
            }));
            _this.peopleSelected = new i0.EventEmitter();
            return _this;
        }
        /**
         * @return {?}
         */
        PeopleWidgetComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (this.field) {
                    if (this.field.value) {
                        this.searchTerm.setValue(this.field.value);
                    }
                    if (this.field.readOnly) {
                        this.searchTerm.disable();
                    }
                    /** @type {?} */
                    var params = this.field.params;
                    if (params && params["restrictWithGroup"]) {
                        /** @type {?} */
                        var restrictWithGroup = /** @type {?} */ (params["restrictWithGroup"]);
                        this.groupId = restrictWithGroup.id;
                    }
                }
            };
        /**
         * @param {?} list
         * @param {?} value
         * @return {?}
         */
        PeopleWidgetComponent.prototype.checkUserAndValidateForm = /**
         * @param {?} list
         * @param {?} value
         * @return {?}
         */
            function (list, value) {
                /** @type {?} */
                var isValidUser = this.isValidUser(list, value);
                if (isValidUser || value === '') {
                    this.field.validationSummary.message = '';
                    this.field.validate();
                    this.field.form.validateForm();
                }
                else {
                    this.field.validationSummary.message = 'FORM.FIELD.VALIDATOR.INVALID_VALUE';
                    this.field.markAsInvalid();
                    this.field.form.markAsInvalid();
                }
            };
        /**
         * @param {?} users
         * @param {?} name
         * @return {?}
         */
        PeopleWidgetComponent.prototype.isValidUser = /**
         * @param {?} users
         * @param {?} name
         * @return {?}
         */
            function (users, name) {
                var _this = this;
                if (users) {
                    return users.find(function (user) {
                        /** @type {?} */
                        var selectedUser = _this.getDisplayName(user).toLocaleLowerCase() === name.toLocaleLowerCase();
                        if (selectedUser) {
                            _this.peopleSelected.emit(user && user.id || undefined);
                        }
                        return selectedUser;
                    });
                }
            };
        /**
         * @param {?} model
         * @return {?}
         */
        PeopleWidgetComponent.prototype.getDisplayName = /**
         * @param {?} model
         * @return {?}
         */
            function (model) {
                if (model) {
                    /** @type {?} */
                    var displayName = (model.firstName || '') + " " + (model.lastName || '');
                    return displayName.trim();
                }
                return '';
            };
        /**
         * @param {?} item
         * @return {?}
         */
        PeopleWidgetComponent.prototype.onItemSelect = /**
         * @param {?} item
         * @return {?}
         */
            function (item) {
                if (item) {
                    this.field.value = item;
                }
            };
        PeopleWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'people-widget',
                        template: "<div class=\"adf-people-widget {{field.className}}\"\n     [class.adf-invalid]=\"!field.isValid\"\n     [class.adf-readonly]=\"field.readOnly\"\n     id=\"people-widget-content\">\n    <mat-form-field>\n        <label class=\"adf-label\" [attr.for]=\"field.id\">{{field.name}}<span *ngIf=\"isRequired()\">*</span></label>\n        <input #inputValue\n               matInput\n               class=\"adf-input\"\n               data-automation-id=\"adf-people-search-input\"\n               type=\"text\"\n               [id]=\"field.id\"\n               [formControl]=\"searchTerm\"\n               placeholder=\"{{field.placeholder}}\"\n               [matAutocomplete]=\"auto\">\n        <mat-autocomplete class=\"adf-people-widget-list\"\n                          #auto=\"matAutocomplete\"\n                          (optionSelected)=\"onItemSelect($event.option.value)\"\n                          [displayWith]=\"getDisplayName\">\n            <mat-option *ngFor=\"let user of users$ | async; let i = index\" [value]=\"user\">\n                <div class=\"adf-people-widget-row\" id=\"adf-people-widget-user-{{i}}\">\n                    <div [outerHTML]=\"user | usernameInitials:'adf-people-widget-pic'\"></div>\n                    <div *ngIf=\"user.pictureId\" class=\"adf-people-widget-image-row\">\n                        <img id=\"adf-people-widget-pic-{{i}}\" class=\"adf-people-widget-image\"\n                             [src]=\"peopleProcessService.getUserImage(user)\"/>\n                    </div>\n                    <span class=\"adf-people-label-name\">{{getDisplayName(user)}}</span>\n                </div>\n            </mat-option>\n        </mat-autocomplete>\n    </mat-form-field>\n    <error-widget [error]=\"field.validationSummary\"></error-widget>\n    <error-widget *ngIf=\"isInvalidFieldRequired()\" required=\"{{ 'FORM.FIELD.REQUIRED' | translate }}\"></error-widget>\n</div>\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        PeopleWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService },
                { type: PeopleProcessService }
            ];
        };
        PeopleWidgetComponent.propDecorators = {
            input: [{ type: i0.ViewChild, args: ['inputValue',] }],
            peopleSelected: [{ type: i0.Output }]
        };
        return PeopleWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var RadioButtonsWidgetComponent = /** @class */ (function (_super) {
        __extends(RadioButtonsWidgetComponent, _super);
        function RadioButtonsWidgetComponent(formService, logService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            _this.logService = logService;
            return _this;
        }
        /**
         * @return {?}
         */
        RadioButtonsWidgetComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (this.field && this.field.restUrl) {
                    if (this.field.form.taskId) {
                        this.getOptionsByTaskId();
                    }
                    else {
                        this.getOptionsByProcessDefinitionId();
                    }
                }
            };
        /**
         * @return {?}
         */
        RadioButtonsWidgetComponent.prototype.getOptionsByTaskId = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.formService
                    .getRestFieldValues(this.field.form.taskId, this.field.id)
                    .subscribe(function (result) {
                    _this.field.options = result || [];
                    _this.field.updateForm();
                }, function (err) { return _this.handleError(err); });
            };
        /**
         * @return {?}
         */
        RadioButtonsWidgetComponent.prototype.getOptionsByProcessDefinitionId = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.formService
                    .getRestFieldValuesByProcessId(this.field.form.processDefinitionId, this.field.id)
                    .subscribe(function (result) {
                    _this.field.options = result || [];
                    _this.field.updateForm();
                }, function (err) { return _this.handleError(err); });
            };
        /**
         * @param {?} optionSelected
         * @return {?}
         */
        RadioButtonsWidgetComponent.prototype.onOptionClick = /**
         * @param {?} optionSelected
         * @return {?}
         */
            function (optionSelected) {
                this.field.value = optionSelected;
                this.fieldChanged.emit(this.field);
            };
        /**
         * @param {?} error
         * @return {?}
         */
        RadioButtonsWidgetComponent.prototype.handleError = /**
         * @param {?} error
         * @return {?}
         */
            function (error) {
                this.logService.error(error);
            };
        RadioButtonsWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'radio-buttons-widget',
                        template: "<div class=\"adf-radio-buttons-widget {{field.className}}\"\n     [class.adf-invalid]=\"!field.isValid\" [class.adf-readonly]=\"field.readOnly\" [id]=\"field.id\">\n    <div class=\"adf-radio-button-container\">\n        <label class=\"adf-label\" [attr.for]=\"field.id\">{{field.name}}<span *ngIf=\"isRequired()\">*</span></label>\n        <mat-radio-group class=\"adf-radio-group\" [(ngModel)]=\"field.value\">\n            <mat-radio-button\n                [id]=\"field.id + '-' + opt.id\"\n                [name]=\"field.id\"\n                [value]=\"opt.id\"\n                [disabled]=\"field.readOnly\"\n                [checked]=\"field.value === opt.id\"\n                (change)=\"onOptionClick(opt.id)\"\n                color=\"primary\"\n                class=\"adf-radio-button\" *ngFor=\"let opt of field.options\" >\n                {{opt.name}}\n            </mat-radio-button>\n        </mat-radio-group>\n    </div>\n    <error-widget [error]=\"field.validationSummary\" ></error-widget>\n    <error-widget *ngIf=\"isInvalidFieldRequired()\" required=\"{{ 'FORM.FIELD.REQUIRED' | translate }}\"></error-widget>\n</div>\n\n\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-radio-button-container{margin-bottom:15px}.adf-radio-group{display:inline-flex;flex-direction:column}.adf-radio-button{margin:5px}"]
                    }] }
        ];
        /** @nocollapse */
        RadioButtonsWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService },
                { type: LogService }
            ];
        };
        return RadioButtonsWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR = {
        provide: forms.NG_VALUE_ACCESSOR,
        useExisting: i0.forwardRef(function () { return InputMaskDirective; }),
        multi: true
    };
    var InputMaskDirective = /** @class */ (function () {
        function InputMaskDirective(el, render) {
            this.el = el;
            this.render = render;
            this.translationMask = {
                '0': { pattern: /\d/ },
                '9': { pattern: /\d/, optional: true },
                '#': { pattern: /\d/, recursive: true },
                'A': { pattern: /[a-zA-Z0-9]/ },
                'S': { pattern: /[a-zA-Z]/ }
            };
            this.byPassKeys = [9, 16, 17, 18, 36, 37, 38, 39, 40, 91];
            this.invalidCharacters = [];
            this._onChange = function (_) {
            };
            this._onTouched = function () {
            };
        }
        /**
         * @param {?} event
         * @return {?}
         */
        InputMaskDirective.prototype.onTextInput = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.inputMask && this.inputMask.mask) {
                    this.maskValue(this.el.nativeElement.value, this.el.nativeElement.selectionStart, this.inputMask.mask, this.inputMask.isReversed, event.keyCode);
                }
                else {
                    this._onChange(this.el.nativeElement.value);
                }
            };
        /**
         * @param {?} changes
         * @return {?}
         */
        InputMaskDirective.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (changes['inputMask'] && changes['inputMask'].currentValue['mask']) {
                    this.inputMask = changes['inputMask'].currentValue;
                }
            };
        /**
         * @param {?} value
         * @return {?}
         */
        InputMaskDirective.prototype.writeValue = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                this.el.nativeElement.value = value;
            };
        /**
         * @param {?} fn
         * @return {?}
         */
        InputMaskDirective.prototype.registerOnChange = /**
         * @param {?} fn
         * @return {?}
         */
            function (fn) {
                this._onChange = fn;
            };
        /**
         * @param {?} fn
         * @return {?}
         */
        InputMaskDirective.prototype.registerOnTouched = /**
         * @param {?} fn
         * @return {?}
         */
            function (fn) {
                this._onTouched = fn;
            };
        /**
         * @param {?} actualValue
         * @param {?} startCaret
         * @param {?} maskToApply
         * @param {?} isMaskReversed
         * @param {?} keyCode
         * @return {?}
         */
        InputMaskDirective.prototype.maskValue = /**
         * @param {?} actualValue
         * @param {?} startCaret
         * @param {?} maskToApply
         * @param {?} isMaskReversed
         * @param {?} keyCode
         * @return {?}
         */
            function (actualValue, startCaret, maskToApply, isMaskReversed, keyCode) {
                if (this.byPassKeys.indexOf(keyCode) === -1) {
                    /** @type {?} */
                    var value = this.getMasked(false, actualValue, maskToApply, isMaskReversed);
                    /** @type {?} */
                    var calculatedCaret = this.calculateCaretPosition(startCaret, actualValue, keyCode);
                    this.render.setAttribute(this.el.nativeElement, 'value', value);
                    this.el.nativeElement.value = value;
                    this.setValue(value);
                    this._onChange(value);
                    this.setCaretPosition(calculatedCaret);
                }
            };
        /**
         * @param {?} caretPosition
         * @return {?}
         */
        InputMaskDirective.prototype.setCaretPosition = /**
         * @param {?} caretPosition
         * @return {?}
         */
            function (caretPosition) {
                this.el.nativeElement.moveStart = caretPosition;
                this.el.nativeElement.moveEnd = caretPosition;
            };
        /**
         * @param {?} caretPosition
         * @param {?} newValue
         * @param {?} keyCode
         * @return {?}
         */
        InputMaskDirective.prototype.calculateCaretPosition = /**
         * @param {?} caretPosition
         * @param {?} newValue
         * @param {?} keyCode
         * @return {?}
         */
            function (caretPosition, newValue, keyCode) {
                /** @type {?} */
                var newValueLength = newValue.length;
                /** @type {?} */
                var oldValue = this.getValue() || '';
                /** @type {?} */
                var oldValueLength = oldValue.length;
                if (keyCode === 8 && oldValue !== newValue) {
                    caretPosition = caretPosition - (newValue.slice(0, caretPosition).length - oldValue.slice(0, caretPosition).length);
                }
                else if (oldValue !== newValue) {
                    if (caretPosition >= oldValueLength) {
                        caretPosition = newValueLength;
                    }
                    else {
                        caretPosition = caretPosition + (newValue.slice(0, caretPosition).length - oldValue.slice(0, caretPosition).length);
                    }
                }
                return caretPosition;
            };
        /**
         * @param {?} skipMaskChars
         * @param {?} val
         * @param {?} mask
         * @param {?=} isReversed
         * @return {?}
         */
        InputMaskDirective.prototype.getMasked = /**
         * @param {?} skipMaskChars
         * @param {?} val
         * @param {?} mask
         * @param {?=} isReversed
         * @return {?}
         */
            function (skipMaskChars, val, mask, isReversed) {
                if (isReversed === void 0) {
                    isReversed = false;
                }
                /** @type {?} */
                var buf = [];
                /** @type {?} */
                var value = val;
                /** @type {?} */
                var maskIndex = 0;
                /** @type {?} */
                var maskLen = mask.length;
                /** @type {?} */
                var valueIndex = 0;
                /** @type {?} */
                var valueLength = value.length;
                /** @type {?} */
                var offset = 1;
                /** @type {?} */
                var addMethod = 'push';
                /** @type {?} */
                var resetPos = -1;
                /** @type {?} */
                var lastMaskChar;
                /** @type {?} */
                var lastUntranslatedMaskChar;
                /** @type {?} */
                var check;
                if (isReversed) {
                    addMethod = 'unshift';
                    offset = -1;
                    lastMaskChar = 0;
                    maskIndex = maskLen - 1;
                    valueIndex = valueLength - 1;
                }
                else {
                    lastMaskChar = maskLen - 1;
                }
                check = this.isToCheck(isReversed, maskIndex, maskLen, valueIndex, valueLength);
                while (check) {
                    /** @type {?} */
                    var maskDigit = mask.charAt(maskIndex);
                    /** @type {?} */
                    var valDigit = value.charAt(valueIndex);
                    /** @type {?} */
                    var translation = this.translationMask[maskDigit];
                    if (translation) {
                        if (valDigit.match(translation.pattern)) {
                            buf[addMethod](valDigit);
                            if (translation.recursive) {
                                if (resetPos === -1) {
                                    resetPos = maskIndex;
                                }
                                else if (maskIndex === lastMaskChar) {
                                    maskIndex = resetPos - offset;
                                }
                                if (lastMaskChar === resetPos) {
                                    maskIndex -= offset;
                                }
                            }
                            maskIndex += offset;
                        }
                        else if (valDigit === lastUntranslatedMaskChar) {
                            lastUntranslatedMaskChar = undefined;
                        }
                        else if (translation.optional) {
                            maskIndex += offset;
                            valueIndex -= offset;
                        }
                        else {
                            this.invalidCharacters.push({
                                index: valueIndex,
                                digit: valDigit,
                                translated: translation.pattern
                            });
                        }
                        valueIndex += offset;
                    }
                    else {
                        if (!skipMaskChars) {
                            buf[addMethod](maskDigit);
                        }
                        if (valDigit === maskDigit) {
                            valueIndex += offset;
                        }
                        else {
                            lastUntranslatedMaskChar = maskDigit;
                        }
                        maskIndex += offset;
                    }
                    check = this.isToCheck(isReversed, maskIndex, maskLen, valueIndex, valueLength);
                }
                /** @type {?} */
                var lastMaskCharDigit = mask.charAt(lastMaskChar);
                if (maskLen === valueLength + 1 && !this.translationMask[lastMaskCharDigit]) {
                    buf.push(lastMaskCharDigit);
                }
                return buf.join('');
            };
        /**
         * @param {?} isReversed
         * @param {?} maskIndex
         * @param {?} maskLen
         * @param {?} valueIndex
         * @param {?} valueLength
         * @return {?}
         */
        InputMaskDirective.prototype.isToCheck = /**
         * @param {?} isReversed
         * @param {?} maskIndex
         * @param {?} maskLen
         * @param {?} valueIndex
         * @param {?} valueLength
         * @return {?}
         */
            function (isReversed, maskIndex, maskLen, valueIndex, valueLength) {
                /** @type {?} */
                var check = false;
                if (isReversed) {
                    check = (maskIndex > -1) && (valueIndex > -1);
                }
                else {
                    check = (maskIndex < maskLen) && (valueIndex < valueLength);
                }
                return check;
            };
        /**
         * @param {?} value
         * @return {?}
         */
        InputMaskDirective.prototype.setValue = /**
         * @param {?} value
         * @return {?}
         */
            function (value) {
                this.value = value;
            };
        /**
         * @return {?}
         */
        InputMaskDirective.prototype.getValue = /**
         * @return {?}
         */
            function () {
                return this.value;
            };
        InputMaskDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: '[textMask]',
                        providers: [CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR]
                    },] }
        ];
        /** @nocollapse */
        InputMaskDirective.ctorParameters = function () {
            return [
                { type: i0.ElementRef },
                { type: i0.Renderer2 }
            ];
        };
        InputMaskDirective.propDecorators = {
            inputMask: [{ type: i0.Input, args: ['textMask',] }],
            onTextInput: [{ type: i0.HostListener, args: ['input', ['$event'],] }, { type: i0.HostListener, args: ['keyup', ['$event'],] }]
        };
        return InputMaskDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var TextWidgetComponent = /** @class */ (function (_super) {
        __extends(TextWidgetComponent, _super);
        function TextWidgetComponent(formService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            return _this;
        }
        /**
         * @return {?}
         */
        TextWidgetComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (this.field.params) {
                    this.mask = this.field.params['inputMask'];
                    this.placeholder = this.field.params['inputMask'] && this.field.params['inputMaskPlaceholder'] ? this.field.params['inputMaskPlaceholder'] : this.field.placeholder;
                    this.isMaskReversed = this.field.params['inputMaskReversed'] ? this.field.params['inputMaskReversed'] : false;
                }
            };
        TextWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'text-widget',
                        template: "<div class=\"adf-textfield adf-text-widget {{field.className}}\"\n     [class.adf-invalid]=\"!field.isValid\" [class.adf-readonly]=\"field.readOnly\">\n    <mat-form-field>\n        <label class=\"adf-label\" [attr.for]=\"field.id\">{{field.name}}<span *ngIf=\"isRequired()\">*</span></label>\n        <input matInput\n               class=\"adf-input\"\n               type=\"text\"\n               [id]=\"field.id\"\n               [required]=\"isRequired()\"\n               [value]=\"field.value\"\n               [(ngModel)]=\"field.value\"\n               (ngModelChange)=\"onFieldChanged(field)\"\n               [disabled]=\"field.readOnly || readOnly\"\n               [textMask]=\"{mask: mask, isReversed: isMaskReversed}\"\n               [placeholder]=\"placeholder\">\n    </mat-form-field>\n    <error-widget [error]=\"field.validationSummary\"></error-widget>\n    <error-widget *ngIf=\"isInvalidFieldRequired()\" required=\"{{ 'FORM.FIELD.REQUIRED' | translate }}\"></error-widget>\n</div>\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-text-widget{width:100%}"]
                    }] }
        ];
        /** @nocollapse */
        TextWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService }
            ];
        };
        return TextWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var TypeaheadWidgetComponent = /** @class */ (function (_super) {
        __extends(TypeaheadWidgetComponent, _super);
        function TypeaheadWidgetComponent(formService, logService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            _this.logService = logService;
            _this.minTermLength = 1;
            _this.options = [];
            return _this;
        }
        /**
         * @return {?}
         */
        TypeaheadWidgetComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (this.field.form.taskId && this.field.restUrl) {
                    this.getValuesByTaskId();
                }
                else if (this.field.form.processDefinitionId && this.field.restUrl) {
                    this.getValuesByProcessDefinitionId();
                }
                if (this.isReadOnlyType()) {
                    this.value = this.field.value;
                }
            };
        /**
         * @return {?}
         */
        TypeaheadWidgetComponent.prototype.getValuesByTaskId = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.formService
                    .getRestFieldValues(this.field.form.taskId, this.field.id)
                    .subscribe(function (result) {
                    /** @type {?} */
                    var options = result || [];
                    _this.field.options = options;
                    /** @type {?} */
                    var fieldValue = _this.field.value;
                    if (fieldValue) {
                        /** @type {?} */
                        var toSelect = options.find(function (item) { return item.id === fieldValue || item.name.toLocaleLowerCase() === fieldValue.toLocaleLowerCase(); });
                        if (toSelect) {
                            _this.value = toSelect.name;
                        }
                    }
                    _this.onFieldChanged(_this.field);
                    _this.field.updateForm();
                }, function (err) { return _this.handleError(err); });
            };
        /**
         * @return {?}
         */
        TypeaheadWidgetComponent.prototype.getValuesByProcessDefinitionId = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.formService
                    .getRestFieldValuesByProcessId(this.field.form.processDefinitionId, this.field.id)
                    .subscribe(function (result) {
                    /** @type {?} */
                    var options = result || [];
                    _this.field.options = options;
                    /** @type {?} */
                    var fieldValue = _this.field.value;
                    if (fieldValue) {
                        /** @type {?} */
                        var toSelect = options.find(function (item) { return item.id === fieldValue; });
                        if (toSelect) {
                            _this.value = toSelect.name;
                        }
                    }
                    _this.onFieldChanged(_this.field);
                    _this.field.updateForm();
                }, function (err) { return _this.handleError(err); });
            };
        /**
         * @return {?}
         */
        TypeaheadWidgetComponent.prototype.getOptions = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var val = this.value.trim().toLocaleLowerCase();
                return this.field.options.filter(function (item) {
                    /** @type {?} */
                    var name = item.name.toLocaleLowerCase();
                    return name.indexOf(val) > -1;
                });
            };
        /**
         * @param {?} optionName
         * @return {?}
         */
        TypeaheadWidgetComponent.prototype.isValidOptionName = /**
         * @param {?} optionName
         * @return {?}
         */
            function (optionName) {
                /** @type {?} */
                var option = this.field.options.find(function (item) { return item.name && item.name.toLocaleLowerCase() === optionName.toLocaleLowerCase(); });
                return option ? true : false;
            };
        /**
         * @param {?} event
         * @return {?}
         */
        TypeaheadWidgetComponent.prototype.onKeyUp = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                if (this.value && this.value.trim().length >= this.minTermLength && this.oldValue !== this.value) {
                    if (event.keyCode !== keycodes.ESCAPE && event.keyCode !== keycodes.ENTER) {
                        if (this.value.length >= this.minTermLength) {
                            this.options = this.getOptions();
                            this.oldValue = this.value;
                            if (this.isValidOptionName(this.value)) {
                                this.field.value = this.options[0].id;
                            }
                        }
                    }
                }
                if (this.isValueDefined() && this.value.trim().length === 0) {
                    this.oldValue = this.value;
                    this.options = [];
                }
            };
        /**
         * @param {?} item
         * @return {?}
         */
        TypeaheadWidgetComponent.prototype.onItemSelect = /**
         * @param {?} item
         * @return {?}
         */
            function (item) {
                if (item) {
                    this.field.value = item.id;
                    this.value = item.name;
                    this.onFieldChanged(this.field);
                }
            };
        /**
         * @return {?}
         */
        TypeaheadWidgetComponent.prototype.validate = /**
         * @return {?}
         */
            function () {
                this.field.value = this.value;
            };
        /**
         * @return {?}
         */
        TypeaheadWidgetComponent.prototype.isValueDefined = /**
         * @return {?}
         */
            function () {
                return this.value !== null && this.value !== undefined;
            };
        /**
         * @param {?} error
         * @return {?}
         */
        TypeaheadWidgetComponent.prototype.handleError = /**
         * @param {?} error
         * @return {?}
         */
            function (error) {
                this.logService.error(error);
            };
        /**
         * @return {?}
         */
        TypeaheadWidgetComponent.prototype.isReadOnlyType = /**
         * @return {?}
         */
            function () {
                return this.field.type === 'readonly' ? true : false;
            };
        TypeaheadWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'typeahead-widget',
                        template: "<div class=\"adf-typeahead-widget-container\">\n    <div class=\"adf-typeahead-widget {{field.className}}\"\n        [class.is-dirty]=\"value\"\n        [class.adf-invalid]=\"!field.isValid\"\n        [class.adf-readonly]=\"field.readOnly\"\n        id=\"typehead-div\">\n        <mat-form-field>\n            <label class=\"adf-label\" [attr.for]=\"field.id\">{{field.name}}</label>\n            <input matInput class=\"adf-input\"\n                   type=\"text\"\n                   [id]=\"field.id\"\n                   [(ngModel)]=\"value\"\n                   (ngModelChange)=\"validate()\"\n                   (keyup)=\"onKeyUp($event)\"\n                   [disabled]=\"field.readOnly\"\n                   placeholder=\"{{field.placeholder}}\"\n                   [matAutocomplete]=\"auto\">\n            <mat-autocomplete #auto=\"matAutocomplete\" (optionSelected)=\"onItemSelect($event.option.value)\">\n                <mat-option *ngFor=\"let item of options\" [value]=\"item\">\n                    <span [id]=\"field.name+'_option_'+item.id\">{{item.name}}</span>\n                </mat-option>\n            </mat-autocomplete>\n        </mat-form-field>\n\n        <error-widget [error]=\"field.validationSummary\"></error-widget>\n        <error-widget *ngIf=\"isInvalidFieldRequired()\" required=\"{{ 'FORM.FIELD.REQUIRED' | translate }}\"></error-widget>\n    </div>\n</div>\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-typeahead-widget-container{position:relative;display:block}.adf-typeahead-widget{width:100%}"]
                    }] }
        ];
        /** @nocollapse */
        TypeaheadWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService },
                { type: LogService }
            ];
        };
        return TypeaheadWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var UploadWidgetComponent = /** @class */ (function (_super) {
        __extends(UploadWidgetComponent, _super);
        function UploadWidgetComponent(formService, logService, thumbnailService, processContentService) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            _this.logService = logService;
            _this.thumbnailService = thumbnailService;
            _this.processContentService = processContentService;
            _this.multipleOption = '';
            return _this;
        }
        /**
         * @return {?}
         */
        UploadWidgetComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (this.field &&
                    this.field.value &&
                    this.field.value.length > 0) {
                    this.hasFile = true;
                }
                this.getMultipleFileParam();
            };
        /**
         * @param {?} file
         * @return {?}
         */
        UploadWidgetComponent.prototype.removeFile = /**
         * @param {?} file
         * @return {?}
         */
            function (file) {
                if (this.field) {
                    this.removeElementFromList(file);
                }
            };
        /**
         * @param {?} event
         * @return {?}
         */
        UploadWidgetComponent.prototype.onFileChanged = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                var _this = this;
                /** @type {?} */
                var files = event.target.files;
                /** @type {?} */
                var filesSaved = [];
                if (this.field.json.value) {
                    filesSaved = __spread(this.field.json.value);
                }
                if (files && files.length > 0) {
                    rxjs.from(files)
                        .pipe(operators.mergeMap(function (file) { return _this.uploadRawContent(file); }))
                        .subscribe(function (res) { return filesSaved.push(res); }, function () { return _this.logService.error('Error uploading file. See console output for more details.'); }, function () {
                        _this.field.value = filesSaved;
                        _this.field.json.value = filesSaved;
                        _this.hasFile = true;
                    });
                }
            };
        /**
         * @param {?} file
         * @return {?}
         */
        UploadWidgetComponent.prototype.uploadRawContent = /**
         * @param {?} file
         * @return {?}
         */
            function (file) {
                var _this = this;
                return this.processContentService.createTemporaryRawRelatedContent(file)
                    .pipe(operators.map(function (response) {
                    _this.logService.info(response);
                    response.contentBlob = file;
                    return response;
                }));
            };
        /**
         * @return {?}
         */
        UploadWidgetComponent.prototype.getMultipleFileParam = /**
         * @return {?}
         */
            function () {
                if (this.field &&
                    this.field.params && this.field.params["multiple"]) {
                    this.multipleOption = this.field.params["multiple"] ? 'multiple' : '';
                }
            };
        /**
         * @param {?} file
         * @return {?}
         */
        UploadWidgetComponent.prototype.removeElementFromList = /**
         * @param {?} file
         * @return {?}
         */
            function (file) {
                /** @type {?} */
                var index = this.field.value.indexOf(file);
                if (index !== -1) {
                    this.field.value.splice(index, 1);
                    this.field.json.value = this.field.value;
                    this.field.updateForm();
                }
                this.hasFile = this.field.value.length > 0;
                this.resetFormValueWithNoFiles();
            };
        /**
         * @return {?}
         */
        UploadWidgetComponent.prototype.resetFormValueWithNoFiles = /**
         * @return {?}
         */
            function () {
                if (this.field.value.length === 0) {
                    this.field.value = [];
                    this.field.json.value = [];
                }
            };
        /**
         * @param {?} mimeType
         * @return {?}
         */
        UploadWidgetComponent.prototype.getIcon = /**
         * @param {?} mimeType
         * @return {?}
         */
            function (mimeType) {
                return this.thumbnailService.getMimeTypeIcon(mimeType);
            };
        /**
         * @param {?} obj
         * @return {?}
         */
        UploadWidgetComponent.prototype.fileClicked = /**
         * @param {?} obj
         * @return {?}
         */
            function (obj) {
                var _this = this;
                /** @type {?} */
                var file = new ContentLinkModel(obj);
                /** @type {?} */
                var fetch = this.processContentService.getContentPreview(file.id);
                if (file.isTypeImage() || file.isTypePdf()) {
                    fetch = this.processContentService.getFileRawContent(file.id);
                }
                fetch.subscribe(function (blob) {
                    file.contentBlob = blob;
                    _this.formService.formContentClicked.next(file);
                }, function () {
                    _this.logService.error('Unable to send event for file ' + file.name);
                });
            };
        UploadWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'upload-widget',
                        template: "<div class=\"adf-upload-widget {{field.className}}\"\n     [class.adf-invalid]=\"!field.isValid\"\n     [class.adf-readonly]=\"field.readOnly\">\n    <label class=\"adf-label\" [attr.for]=\"field.id\">{{field.name}}<span *ngIf=\"isRequired()\">*</span></label>\n    <div class=\"adf-upload-widget-container\">\n        <div>\n            <mat-list *ngIf=\"hasFile\">\n                <mat-list-item class=\"adf-upload-files-row\" *ngFor=\"let file of field.value\">\n                    <img mat-list-icon class=\"adf-upload-widget__icon\"\n                         [id]=\"'file-'+file.id+'-icon'\"\n                         [src]=\"getIcon(file.mimeType)\"\n                         [alt]=\"mimeTypeIcon\"\n                         (click)=\"fileClicked(file)\"\n                         (keyup.enter)=\"fileClicked(file)\"\n                         role=\"button\"\n                         tabindex=\"0\"/>\n                    <span matLine id=\"{{'file-'+file.id}}\" (click)=\"fileClicked(file)\" (keyup.enter)=\"fileClicked(file)\"\n                          role=\"button\" tabindex=\"0\" class=\"adf-file\">{{file.name}}</span>\n                    <button *ngIf=\"!field.readOnly\" mat-icon-button [id]=\"'file-'+file.id+'-remove'\"\n                            (click)=\"removeFile(file);\" (keyup.enter)=\"removeFile(file);\">\n                        <mat-icon class=\"mat-24\">highlight_off</mat-icon>\n                    </button>\n                </mat-list-item>\n            </mat-list>\n        </div>\n\n        <div class=\"button-row\" *ngIf=\"(!hasFile || multipleOption) && !field.readOnly\">\n            <a mat-raised-button color=\"primary\">\n                {{ 'FORM.FIELD.UPLOAD' | translate }}<mat-icon>file_upload</mat-icon>\n                <input #uploadFiles\n                       [multiple]=\"multipleOption\"\n                       type=\"file\"\n                       [id]=\"field.id\"\n                       (change)=\"onFileChanged($event)\"/>\n            </a>\n        </div>\n    </div>\n    <error-widget [error]=\"field.validationSummary\"></error-widget>\n    <error-widget *ngIf=\"isInvalidFieldRequired()\" required=\"{{ 'FORM.FIELD.REQUIRED' | translate }}\"></error-widget>\n</div>\n",
                        host: baseHost,
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-upload-widget-container{margin-bottom:15px}.adf-upload-widget-container input{cursor:pointer;height:100%;right:0;opacity:0;position:absolute;top:0;width:300px;z-index:4}.adf-upload-widget{width:100%;word-break:break-all;padding:.4375em 0;border-top:.84375em solid transparent}.adf-upload-widget__icon{padding:6px;float:left;cursor:pointer}.adf-upload-widget__reset{margin-top:-2px}.adf-upload-files-row .mat-line{margin-bottom:0}"]
                    }] }
        ];
        /** @nocollapse */
        UploadWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService },
                { type: LogService },
                { type: ThumbnailService },
                { type: ProcessContentService }
            ];
        };
        UploadWidgetComponent.propDecorators = {
            fileInput: [{ type: i0.ViewChild, args: ['uploadFiles',] }]
        };
        return UploadWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ɵ0$4 = MOMENT_DATE_FORMATS, ɵ1$2 = moment$2.MAT_MOMENT_DATETIME_FORMATS;
    var DateTimeWidgetComponent = /** @class */ (function (_super) {
        __extends(DateTimeWidgetComponent, _super);
        function DateTimeWidgetComponent(formService, dateAdapter, preferences) {
            var _this = _super.call(this, formService) || this;
            _this.formService = formService;
            _this.dateAdapter = dateAdapter;
            _this.preferences = preferences;
            return _this;
        }
        /**
         * @return {?}
         */
        DateTimeWidgetComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.preferences.locale$.subscribe(function (locale) {
                    _this.dateAdapter.setLocale(locale);
                });
                /** @type {?} */
                var momentDateAdapter = /** @type {?} */ (this.dateAdapter);
                momentDateAdapter.overrideDisplyaFormat = this.field.dateDisplayFormat;
                if (this.field) {
                    if (this.field.minValue) {
                        this.minDate = moment$1(this.field.minValue, 'YYYY-MM-DDTHH:mm:ssZ');
                    }
                    if (this.field.maxValue) {
                        this.maxDate = moment$1(this.field.maxValue, 'YYYY-MM-DDTHH:mm:ssZ');
                    }
                }
                this.displayDate = moment$1(this.field.value, this.field.dateDisplayFormat);
            };
        /**
         * @param {?} newDateValue
         * @return {?}
         */
        DateTimeWidgetComponent.prototype.onDateChanged = /**
         * @param {?} newDateValue
         * @return {?}
         */
            function (newDateValue) {
                if (newDateValue && newDateValue.value) {
                    this.field.value = newDateValue.value.format(this.field.dateDisplayFormat);
                }
                else if (newDateValue) {
                    this.field.value = newDateValue;
                }
                else {
                    this.field.value = null;
                }
                this.onFieldChanged(this.field);
            };
        DateTimeWidgetComponent.decorators = [
            { type: i0.Component, args: [{
                        providers: [
                            { provide: material.DateAdapter, useClass: MomentDateAdapter },
                            { provide: material.MAT_DATE_FORMATS, useValue: ɵ0$4 },
                            { provide: core.DatetimeAdapter, useClass: moment$2.MomentDatetimeAdapter },
                            { provide: core.MAT_DATETIME_FORMATS, useValue: ɵ1$2 }
                        ],
                        selector: 'date-time-widget',
                        template: "<div class=\"{{field.className}}\"\n     id=\"data-time-widget\" [class.adf-invalid]=\"!field.isValid\">\n    <mat-form-field class=\"adf-date-time-widget\">\n        <label class=\"adf-label\" [attr.for]=\"field.id\">{{field.name}} ({{field.dateDisplayFormat}})<span *ngIf=\"isRequired()\">*</span></label>\n        <input matInput\n               [matDatetimepicker]=\"datetimePicker\"\n               [id]=\"field.id\"\n               [(ngModel)]=\"displayDate\"\n               [required]=\"isRequired()\"\n               [disabled]=\"field.readOnly\"\n               [min]=\"minDate\"\n               [max]=\"maxDate\"\n               (focusout)=\"onDateChanged($event.srcElement.value)\"\n               (dateChange)=\"onDateChanged($event)\"\n               placeholder=\"{{field.placeholder}}\">\n        <mat-datetimepicker-toggle matSuffix [for]=\"datetimePicker\" [disabled]=\"field.readOnly\"></mat-datetimepicker-toggle>\n    </mat-form-field>\n    <error-widget [error]=\"field.validationSummary\"></error-widget>\n    <error-widget *ngIf=\"isInvalidFieldRequired()\" required=\"{{ 'FORM.FIELD.REQUIRED' | translate }}\"></error-widget>\n    <mat-datetimepicker #datetimePicker type=\"datetime\" openOnFocus=\"true\" timeInterval=\"5\"></mat-datetimepicker>\n</div>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [".adf-date-time-widget .mat-form-field-suffix{text-align:right;position:absolute;margin-top:30px;width:100%}"]
                    }] }
        ];
        /** @nocollapse */
        DateTimeWidgetComponent.ctorParameters = function () {
            return [
                { type: FormService },
                { type: material.DateAdapter },
                { type: UserPreferencesService }
            ];
        };
        return DateTimeWidgetComponent;
    }(WidgetComponent));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var WIDGET_DIRECTIVES = [
        UnknownWidgetComponent,
        TabsWidgetComponent,
        ContainerWidgetComponent,
        TextWidgetComponent,
        NumberWidgetComponent,
        CheckboxWidgetComponent,
        MultilineTextWidgetComponentComponent,
        DropdownWidgetComponent,
        HyperlinkWidgetComponent,
        RadioButtonsWidgetComponent,
        DisplayTextWidgetComponentComponent,
        UploadWidgetComponent,
        TypeaheadWidgetComponent,
        FunctionalGroupWidgetComponent,
        PeopleWidgetComponent,
        DateWidgetComponent,
        AmountWidgetComponent,
        DynamicTableWidgetComponent,
        DateEditorComponent,
        DropdownEditorComponent,
        BooleanEditorComponent,
        TextEditorComponent,
        RowEditorComponent,
        ErrorWidgetComponent,
        DocumentWidgetComponent,
        DateTimeWidgetComponent,
        DateTimeEditorComponent
    ];
    /** @type {?} */
    var MASK_DIRECTIVE = [
        InputMaskDirective
    ];

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FormRenderingService = /** @class */ (function (_super) {
        __extends(FormRenderingService, _super);
        function FormRenderingService() {
            var _this = _super.call(this) || this;
            _this.defaultValue = UnknownWidgetComponent;
            _this.types = {
                'text': DynamicComponentResolver.fromType(TextWidgetComponent),
                'string': DynamicComponentResolver.fromType(TextWidgetComponent),
                'integer': DynamicComponentResolver.fromType(NumberWidgetComponent),
                'multi-line-text': DynamicComponentResolver.fromType(MultilineTextWidgetComponentComponent),
                'boolean': DynamicComponentResolver.fromType(CheckboxWidgetComponent),
                'dropdown': DynamicComponentResolver.fromType(DropdownWidgetComponent),
                'date': DynamicComponentResolver.fromType(DateWidgetComponent),
                'amount': DynamicComponentResolver.fromType(AmountWidgetComponent),
                'radio-buttons': DynamicComponentResolver.fromType(RadioButtonsWidgetComponent),
                'hyperlink': DynamicComponentResolver.fromType(HyperlinkWidgetComponent),
                'readonly-text': DynamicComponentResolver.fromType(DisplayTextWidgetComponentComponent),
                'typeahead': DynamicComponentResolver.fromType(TypeaheadWidgetComponent),
                'people': DynamicComponentResolver.fromType(PeopleWidgetComponent),
                'functional-group': DynamicComponentResolver.fromType(FunctionalGroupWidgetComponent),
                'dynamic-table': DynamicComponentResolver.fromType(DynamicTableWidgetComponent),
                'container': DynamicComponentResolver.fromType(ContainerWidgetComponent),
                'group': DynamicComponentResolver.fromType(ContainerWidgetComponent),
                'document': DynamicComponentResolver.fromType(DocumentWidgetComponent),
                'upload': DynamicComponentResolver.fromType(UploadWidgetComponent),
                'datetime': DynamicComponentResolver.fromType(DateTimeWidgetComponent)
            };
            return _this;
        }
        FormRenderingService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        FormRenderingService.ctorParameters = function () { return []; };
        return FormRenderingService;
    }(DynamicComponentMapper));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ActivitiContentService = /** @class */ (function () {
        function ActivitiContentService(apiService, logService) {
            this.apiService = apiService;
            this.logService = logService;
        }
        /**
         * Returns a list of child nodes below the specified folder
         *
         * @param accountId
         * @param folderId
         */
        /**
         * Returns a list of child nodes below the specified folder
         *
         * @param {?} accountId
         * @param {?} folderId
         * @return {?}
         */
        ActivitiContentService.prototype.getAlfrescoNodes = /**
         * Returns a list of child nodes below the specified folder
         *
         * @param {?} accountId
         * @param {?} folderId
         * @return {?}
         */
            function (accountId, folderId) {
                var _this = this;
                /** @type {?} */
                var apiService = this.apiService.getInstance();
                /** @type {?} */
                var accountShortId = accountId.replace('alfresco-', '');
                return rxjs.from(apiService.activiti.alfrescoApi.getContentInFolder(accountShortId, folderId))
                    .pipe(operators.map(this.toJsonArray), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Returns a list of all the repositories configured
         *
         * @param accountId
         * @param folderId
         */
        /**
         * Returns a list of all the repositories configured
         *
         * @param {?} tenantId
         * @param {?} includeAccount
         * @return {?}
         */
        ActivitiContentService.prototype.getAlfrescoRepositories = /**
         * Returns a list of all the repositories configured
         *
         * @param {?} tenantId
         * @param {?} includeAccount
         * @return {?}
         */
            function (tenantId, includeAccount) {
                var _this = this;
                /** @type {?} */
                var apiService = this.apiService.getInstance();
                /** @type {?} */
                var opts = {
                    tenantId: tenantId,
                    includeAccounts: includeAccount
                };
                return rxjs.from(apiService.activiti.alfrescoApi.getRepositories(opts))
                    .pipe(operators.map(this.toJsonArray), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Returns a list of child nodes below the specified folder
         *
         * @param accountId
         * @param node
         * @param siteId
         */
        /**
         * Returns a list of child nodes below the specified folder
         *
         * @param {?} accountId
         * @param {?} node
         * @param {?} siteId
         * @return {?}
         */
        ActivitiContentService.prototype.linkAlfrescoNode = /**
         * Returns a list of child nodes below the specified folder
         *
         * @param {?} accountId
         * @param {?} node
         * @param {?} siteId
         * @return {?}
         */
            function (accountId, node, siteId) {
                var _this = this;
                /** @type {?} */
                var apiService = this.apiService.getInstance();
                return rxjs.from(apiService.activiti.contentApi.createTemporaryRelatedContent({
                    link: true,
                    name: node.title,
                    simpleType: node.simpleType,
                    source: accountId,
                    sourceId: node.id + '@' + siteId
                }))
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} node
         * @param {?} siteId
         * @param {?} accountId
         * @return {?}
         */
        ActivitiContentService.prototype.applyAlfrescoNode = /**
         * @param {?} node
         * @param {?} siteId
         * @param {?} accountId
         * @return {?}
         */
            function (node, siteId, accountId) {
                var _this = this;
                /** @type {?} */
                var apiService = this.apiService.getInstance();
                /** @type {?} */
                var currentSideId = siteId ? siteId : this.getSiteNameFromNodePath(node);
                /** @type {?} */
                var params = {
                    source: accountId,
                    mimeType: node.content.mimeType,
                    sourceId: node.id + ';' + node.properties['cm:versionLabel'] + '@' + currentSideId,
                    name: node.name,
                    link: false
                };
                return rxjs.from(apiService.activiti.contentApi.createTemporaryRelatedContent(params))
                    .pipe(operators.map(this.toJson), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} node
         * @return {?}
         */
        ActivitiContentService.prototype.getSiteNameFromNodePath = /**
         * @param {?} node
         * @return {?}
         */
            function (node) {
                /** @type {?} */
                var siteName = '';
                if (node.path) {
                    /** @type {?} */
                    var foundNode = node.path
                        .elements.find(function (pathNode) {
                        return pathNode.nodeType === 'st:site' &&
                            pathNode.name !== 'Sites';
                    });
                    siteName = foundNode ? foundNode.name : '';
                }
                return siteName.toLocaleLowerCase();
            };
        /**
         * @param {?} res
         * @return {?}
         */
        ActivitiContentService.prototype.toJson = /**
         * @param {?} res
         * @return {?}
         */
            function (res) {
                if (res) {
                    return res || {};
                }
                return {};
            };
        /**
         * @param {?} res
         * @return {?}
         */
        ActivitiContentService.prototype.toJsonArray = /**
         * @param {?} res
         * @return {?}
         */
            function (res) {
                if (res) {
                    return res.data || [];
                }
                return [];
            };
        /**
         * @param {?} error
         * @return {?}
         */
        ActivitiContentService.prototype.handleError = /**
         * @param {?} error
         * @return {?}
         */
            function (error) {
                /** @type {?} */
                var errMsg = ActivitiContentService.UNKNOWN_ERROR_MESSAGE;
                if (error) {
                    errMsg = (error.message) ? error.message :
                        error.status ? error.status + " - " + error.statusText : ActivitiContentService.GENERIC_ERROR_MESSAGE;
                }
                this.logService.error(errMsg);
                return rxjs.throwError(errMsg);
            };
        ActivitiContentService.UNKNOWN_ERROR_MESSAGE = 'Unknown error';
        ActivitiContentService.GENERIC_ERROR_MESSAGE = 'Server error';
        ActivitiContentService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        ActivitiContentService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: LogService }
            ];
        };
        return ActivitiContentService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var StartFormCustomButtonDirective = /** @class */ (function () {
        function StartFormCustomButtonDirective() {
        }
        StartFormCustomButtonDirective.decorators = [
            { type: i0.Directive, args: [{ selector: '[form-custom-button]' },] }
        ];
        return StartFormCustomButtonDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FormFieldComponent = /** @class */ (function () {
        function FormFieldComponent(formRenderingService, componentFactoryResolver, visibilityService, compiler) {
            this.formRenderingService = formRenderingService;
            this.componentFactoryResolver = componentFactoryResolver;
            this.visibilityService = visibilityService;
            this.compiler = compiler;
            /**
             * Contains all the necessary data needed to determine what UI Widget
             * to use when rendering the field in the form. You would typically not
             * create this data manually but instead create the form in APS and export
             * it to get to all the `FormFieldModel` definitions.
             */
            this.field = null;
            this.focus = false;
        }
        /**
         * @return {?}
         */
        FormFieldComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                /** @type {?} */
                var w = window;
                if (w.adf === undefined) {
                    w.adf = {};
                }
                /** @type {?} */
                var originalField = this.getField();
                if (originalField) {
                    /** @type {?} */
                    var customTemplate = this.field.form.customFieldTemplates[originalField.type];
                    if (customTemplate && this.hasController(originalField.type)) {
                        /** @type {?} */
                        var factory = this.getComponentFactorySync(originalField.type, customTemplate);
                        this.componentRef = this.container.createComponent(factory);
                        /** @type {?} */
                        var instance = this.componentRef.instance;
                        if (instance) {
                            instance.field = originalField;
                        }
                    }
                    else {
                        /** @type {?} */
                        var componentType = this.formRenderingService.resolveComponentType(originalField);
                        if (componentType) {
                            /** @type {?} */
                            var factory = this.componentFactoryResolver.resolveComponentFactory(componentType);
                            this.componentRef = this.container.createComponent(factory);
                            /** @type {?} */
                            var instance = /** @type {?} */ (this.componentRef.instance);
                            instance.field = this.field;
                            instance.fieldChanged.subscribe(function (field) {
                                if (field && _this.field.form) {
                                    _this.visibilityService.refreshVisibility(field.form);
                                    field.form.onFormFieldChanged(field);
                                }
                            });
                        }
                    }
                }
            };
        /**
         * @return {?}
         */
        FormFieldComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                if (this.componentRef) {
                    this.componentRef.destroy();
                    this.componentRef = null;
                }
            };
        /**
         * @return {?}
         */
        FormFieldComponent.prototype.getField = /**
         * @return {?}
         */
            function () {
                if (this.field && this.field.params) {
                    /** @type {?} */
                    var wrappedField = this.field.params["field"];
                    if (wrappedField && wrappedField.type) {
                        return wrappedField;
                    }
                }
                return this.field;
            };
        /**
         * @param {?} type
         * @return {?}
         */
        FormFieldComponent.prototype.hasController = /**
         * @param {?} type
         * @return {?}
         */
            function (type) {
                return (adf && adf.components && adf.components[type]);
            };
        /**
         * @param {?} type
         * @param {?} template
         * @return {?}
         */
        FormFieldComponent.prototype.getComponentFactorySync = /**
         * @param {?} type
         * @param {?} template
         * @return {?}
         */
            function (type, template) {
                /** @type {?} */
                var componentInfo = adf.components[type];
                if (componentInfo.factory) {
                    return componentInfo.factory;
                }
                /** @type {?} */
                var metadata = {
                    selector: "runtime-component-" + type,
                    template: template
                };
                /** @type {?} */
                var factory = this.createComponentFactorySync(this.compiler, metadata, componentInfo.class);
                componentInfo.factory = factory;
                return factory;
            };
        /**
         * @param {?} compiler
         * @param {?} metadata
         * @param {?} componentClass
         * @return {?}
         */
        FormFieldComponent.prototype.createComponentFactorySync = /**
         * @param {?} compiler
         * @param {?} metadata
         * @param {?} componentClass
         * @return {?}
         */
            function (compiler, metadata, componentClass) {
                /** @type {?} */
                var cmpClass = componentClass || /** @class */ (function () {
                    function RuntimeComponent() {
                    }
                    return RuntimeComponent;
                }());
                /** @type {?} */
                var decoratedCmp = i0.Component(metadata)(cmpClass);
                var RuntimeComponentModule = /** @class */ (function () {
                    function RuntimeComponentModule() {
                    }
                    RuntimeComponentModule.decorators = [
                        { type: i0.NgModule, args: [{ imports: [], declarations: [decoratedCmp] },] },
                    ];
                    return RuntimeComponentModule;
                }());
                /** @type {?} */
                var module = compiler.compileModuleAndAllComponentsSync(RuntimeComponentModule);
                return module.componentFactories.find(function (x) { return x.componentType === decoratedCmp; });
            };
        /**
         * @return {?}
         */
        FormFieldComponent.prototype.focusToggle = /**
         * @return {?}
         */
            function () {
                this.focus = !this.focus;
            };
        FormFieldComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-form-field',
                        template: "\n        <div [id]=\"'field-'+field?.id+'-container'\"\n            [hidden]=\"!field?.isVisible\"\n            [class.adf-focus]=\"focus\"\n            (focusin)=\"focusToggle()\"\n            (focusout)=\"focusToggle()\">\n            <div #container></div>\n        </div>\n    ",
                        encapsulation: i0.ViewEncapsulation.None
                    }] }
        ];
        /** @nocollapse */
        FormFieldComponent.ctorParameters = function () {
            return [
                { type: FormRenderingService },
                { type: i0.ComponentFactoryResolver },
                { type: WidgetVisibilityService },
                { type: i0.Compiler }
            ];
        };
        FormFieldComponent.propDecorators = {
            container: [{ type: i0.ViewChild, args: ['container', { read: i0.ViewContainerRef },] }],
            field: [{ type: i0.Input }]
        };
        return FormFieldComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FormModule = /** @class */ (function () {
        function FormModule() {
        }
        FormModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            DataTableModule,
                            http.HttpClientModule,
                            MaterialModule,
                            core$1.TranslateModule.forChild(),
                            forms.FormsModule,
                            forms.ReactiveFormsModule,
                            DataColumnModule,
                            PipeModule,
                            core.MatDatetimepickerModule,
                            core.MatNativeDatetimeModule
                        ],
                        declarations: __spread([
                            ContentWidgetComponent,
                            FormFieldComponent,
                            FormComponent,
                            FormListComponent,
                            StartFormComponent,
                            StartFormCustomButtonDirective
                        ], WIDGET_DIRECTIVES, MASK_DIRECTIVE, [
                            WidgetComponent
                        ]),
                        entryComponents: __spread(WIDGET_DIRECTIVES),
                        exports: __spread([
                            ContentWidgetComponent,
                            FormFieldComponent,
                            FormComponent,
                            FormListComponent,
                            StartFormComponent,
                            StartFormCustomButtonDirective
                        ], WIDGET_DIRECTIVES)
                    },] }
        ];
        return FormModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SidenavLayoutContentDirective = /** @class */ (function () {
        function SidenavLayoutContentDirective() {
        }
        SidenavLayoutContentDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: 'adf-sidenav-layout-content'
                    },] }
        ];
        SidenavLayoutContentDirective.propDecorators = {
            template: [{ type: i0.ContentChild, args: [i0.TemplateRef,] }]
        };
        return SidenavLayoutContentDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SidenavLayoutHeaderDirective = /** @class */ (function () {
        function SidenavLayoutHeaderDirective() {
        }
        SidenavLayoutHeaderDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: 'adf-sidenav-layout-header'
                    },] }
        ];
        SidenavLayoutHeaderDirective.propDecorators = {
            template: [{ type: i0.ContentChild, args: [i0.TemplateRef,] }]
        };
        return SidenavLayoutHeaderDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SidenavLayoutNavigationDirective = /** @class */ (function () {
        function SidenavLayoutNavigationDirective() {
        }
        SidenavLayoutNavigationDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: 'adf-sidenav-layout-navigation'
                    },] }
        ];
        SidenavLayoutNavigationDirective.propDecorators = {
            template: [{ type: i0.ContentChild, args: [i0.TemplateRef,] }]
        };
        return SidenavLayoutNavigationDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SidenavLayoutComponent = /** @class */ (function () {
        function SidenavLayoutComponent(mediaMatcher) {
            var _this = this;
            this.mediaMatcher = mediaMatcher;
            /**
             * The side that the drawer is attached to. Possible values are 'start' and 'end'.
             */
            this.position = 'start';
            /**
             * Toggles showing/hiding the navigation region.
             */
            this.hideSidenav = false;
            /**
             * Should the navigation region be expanded initially?
             */
            this.expandedSidenav = true;
            /**
             * Emitted when the menu toggle and the collapsed/expanded state of the sideNav changes.
             */
            this.expanded = new i0.EventEmitter();
            this.templateContext = {
                toggleMenu: function () { },
                isMenuMinimized: function () { return _this.isMenuMinimized; }
            };
            this.onMediaQueryChange = this.onMediaQueryChange.bind(this);
        }
        /**
         * @return {?}
         */
        SidenavLayoutComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var initialMenuState = !this.expandedSidenav;
                this.menuOpenStateSubject = new rxjs.BehaviorSubject(initialMenuState);
                this.menuOpenState$ = this.menuOpenStateSubject.asObservable();
                /** @type {?} */
                var stepOver = this.stepOver || SidenavLayoutComponent.STEP_OVER;
                this.isMenuMinimized = initialMenuState;
                this.mediaQueryList = this.mediaMatcher.matchMedia("(max-width: " + stepOver + "px)");
                this.mediaQueryList.addListener(this.onMediaQueryChange);
            };
        /**
         * @return {?}
         */
        SidenavLayoutComponent.prototype.ngAfterViewInit = /**
         * @return {?}
         */
            function () {
                this.templateContext.toggleMenu = this.toggleMenu.bind(this);
            };
        /**
         * @return {?}
         */
        SidenavLayoutComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this.mediaQueryList.removeListener(this.onMediaQueryChange);
            };
        /**
         * @return {?}
         */
        SidenavLayoutComponent.prototype.toggleMenu = /**
         * @return {?}
         */
            function () {
                if (!this.mediaQueryList.matches) {
                    this.isMenuMinimized = !this.isMenuMinimized;
                }
                else {
                    this.isMenuMinimized = false;
                }
                this.container.toggleMenu();
                this.expanded.emit(!this.isMenuMinimized);
            };
        Object.defineProperty(SidenavLayoutComponent.prototype, "isMenuMinimized", {
            get: /**
             * @return {?}
             */ function () {
                return this._isMenuMinimized;
            },
            set: /**
             * @param {?} menuState
             * @return {?}
             */ function (menuState) {
                this._isMenuMinimized = menuState;
                this.menuOpenStateSubject.next(!menuState);
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SidenavLayoutComponent.prototype, "isHeaderInside", {
            get: /**
             * @return {?}
             */ function () {
                return this.mediaQueryList.matches;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SidenavLayoutComponent.prototype, "headerTemplate", {
            get: /**
             * @return {?}
             */ function () {
                return this.headerDirective && this.headerDirective.template || this.emptyTemplate;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SidenavLayoutComponent.prototype, "navigationTemplate", {
            get: /**
             * @return {?}
             */ function () {
                return this.navigationDirective && this.navigationDirective.template || this.emptyTemplate;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(SidenavLayoutComponent.prototype, "contentTemplate", {
            get: /**
             * @return {?}
             */ function () {
                return this.contentDirective && this.contentDirective.template || this.emptyTemplate;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        SidenavLayoutComponent.prototype.onMediaQueryChange = /**
         * @return {?}
         */
            function () {
                this.isMenuMinimized = false;
                this.expanded.emit(!this.isMenuMinimized);
            };
        SidenavLayoutComponent.STEP_OVER = 600;
        SidenavLayoutComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-sidenav-layout',
                        template: "<div class=\"sidenav-layout\">\n    <ng-container *ngIf=\"!isHeaderInside\">\n        <ng-container class=\"adf-sidenav-layout-outer-header\"\n                      *ngTemplateOutlet=\"headerTemplate; context:templateContext\"></ng-container>\n    </ng-container>\n\n    <adf-layout-container #container\n                          [position]=\"position\"\n                          [sidenavMin]=\"sidenavMin\"\n                          [sidenavMax]=\"sidenavMax\"\n                          [mediaQueryList]=\"mediaQueryList\"\n                          [hideSidenav]=\"hideSidenav\"\n                          [expandedSidenav]=\"expandedSidenav\"\n                          data-automation-id=\"adf-layout-container\"\n                          class=\"layout__content\">\n\n        <ng-container app-layout-navigation\n                      *ngTemplateOutlet=\"navigationTemplate; context:templateContext\"></ng-container>\n\n        <ng-container app-layout-content>\n            <ng-container *ngIf=\"isHeaderInside\">\n                <ng-container *ngTemplateOutlet=\"headerTemplate; context:templateContext\"></ng-container>\n            </ng-container>\n            <ng-container *ngTemplateOutlet=\"contentTemplate; context:templateContext\"></ng-container>\n        </ng-container>\n    </adf-layout-container>\n</div>\n\n<ng-template #emptyTemplate></ng-template>\n",
                        styles: [":host{display:flex;flex:1}:host .sidenav-layout{width:100%;display:flex;flex-direction:column}:host .sidenav-layout .layout__content{flex:1 1 auto}:host router-outlet{flex:0 0}"]
                    }] }
        ];
        /** @nocollapse */
        SidenavLayoutComponent.ctorParameters = function () {
            return [
                { type: layout.MediaMatcher }
            ];
        };
        SidenavLayoutComponent.propDecorators = {
            position: [{ type: i0.Input }],
            sidenavMin: [{ type: i0.Input }],
            sidenavMax: [{ type: i0.Input }],
            stepOver: [{ type: i0.Input }],
            hideSidenav: [{ type: i0.Input }],
            expandedSidenav: [{ type: i0.Input }],
            expanded: [{ type: i0.Output }],
            headerDirective: [{ type: i0.ContentChild, args: [SidenavLayoutHeaderDirective,] }],
            navigationDirective: [{ type: i0.ContentChild, args: [SidenavLayoutNavigationDirective,] }],
            contentDirective: [{ type: i0.ContentChild, args: [SidenavLayoutContentDirective,] }],
            container: [{ type: i0.ViewChild, args: ['container',] }],
            emptyTemplate: [{ type: i0.ViewChild, args: ['emptyTemplate',] }]
        };
        return SidenavLayoutComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var sidenavAnimation = animations.trigger('sidenavAnimation', [
        animations.state('expanded', animations.style({ width: '{{ width }}px' }), { params: { width: 0 } }),
        animations.state('compact', animations.style({ width: '{{ width }}px' }), { params: { width: 0 } }),
        animations.transition('compact <=> expanded', animations.animate('0.4s cubic-bezier(0.25, 0.8, 0.25, 1)'))
    ]);
    /** @type {?} */
    var contentAnimationLeft = animations.trigger('contentAnimationLeft', [
        animations.state('expanded', animations.style({ 'margin-left': '{{ margin }}px' }), { params: { margin: 0 } }),
        animations.state('compact', animations.style({ 'margin-left': '{{ margin }}px' }), { params: { margin: 0 } }),
        animations.transition('expanded <=> compact', animations.animate('400ms cubic-bezier(0.25, 0.8, 0.25, 1)'))
    ]);
    /** @type {?} */
    var contentAnimationRight = animations.trigger('contentAnimationRight', [
        animations.state('expanded', animations.style({ 'margin-right': '{{ margin }}px' }), { params: { margin: 0 } }),
        animations.state('compact', animations.style({ 'margin-right': '{{ margin }}px' }), { params: { margin: 0 } }),
        animations.transition('expanded <=> compact', animations.animate('400ms cubic-bezier(0.25, 0.8, 0.25, 1)'))
    ]);

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LayoutContainerComponent = /** @class */ (function () {
        function LayoutContainerComponent() {
            this.hideSidenav = false;
            this.expandedSidenav = true;
            /**
             * The side that the drawer is attached to 'start' | 'end' page
             */
            this.position = 'start';
            this.SIDENAV_STATES = { MOBILE: {}, EXPANDED: {}, COMPACT: {} };
            this.CONTENT_STATES = { MOBILE: {}, EXPANDED: {}, COMPACT: {} };
            this.onMediaQueryChange = this.onMediaQueryChange.bind(this);
        }
        /**
         * @return {?}
         */
        LayoutContainerComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.SIDENAV_STATES.MOBILE = { value: 'expanded', params: { width: this.sidenavMax } };
                this.SIDENAV_STATES.EXPANDED = { value: 'expanded', params: { width: this.sidenavMax } };
                this.SIDENAV_STATES.COMPACT = { value: 'compact', params: { width: this.sidenavMin } };
                this.CONTENT_STATES.MOBILE = { value: 'expanded', params: { margin: 0 } };
                this.CONTENT_STATES.EXPANDED = { value: 'expanded', params: { margin: this.sidenavMin } };
                this.CONTENT_STATES.COMPACT = { value: 'compact', params: { margin: this.sidenavMax } };
                this.mediaQueryList.addListener(this.onMediaQueryChange);
                if (this.isMobileScreenSize) {
                    this.sidenavAnimationState = this.SIDENAV_STATES.MOBILE;
                    this.contentAnimationState = this.CONTENT_STATES.MOBILE;
                }
                else if (this.expandedSidenav) {
                    this.sidenavAnimationState = this.SIDENAV_STATES.EXPANDED;
                    this.contentAnimationState = this.CONTENT_STATES.COMPACT;
                }
                else {
                    this.sidenavAnimationState = this.SIDENAV_STATES.COMPACT;
                    this.contentAnimationState = this.CONTENT_STATES.EXPANDED;
                }
            };
        /**
         * @return {?}
         */
        LayoutContainerComponent.prototype.ngOnDestroy = /**
         * @return {?}
         */
            function () {
                this.mediaQueryList.removeListener(this.onMediaQueryChange);
            };
        /**
         * @return {?}
         */
        LayoutContainerComponent.prototype.toggleMenu = /**
         * @return {?}
         */
            function () {
                if (this.isMobileScreenSize) {
                    this.sidenav.toggle();
                }
                else {
                    this.sidenavAnimationState = this.toggledSidenavAnimation;
                    this.contentAnimationState = this.toggledContentAnimation;
                }
            };
        Object.defineProperty(LayoutContainerComponent.prototype, "toggledSidenavAnimation", {
            get: /**
             * @return {?}
             */ function () {
                return this.sidenavAnimationState === this.SIDENAV_STATES.EXPANDED
                    ? this.SIDENAV_STATES.COMPACT
                    : this.SIDENAV_STATES.EXPANDED;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LayoutContainerComponent.prototype, "toggledContentAnimation", {
            get: /**
             * @return {?}
             */ function () {
                if (this.isMobileScreenSize) {
                    return this.CONTENT_STATES.MOBILE;
                }
                if (this.sidenavAnimationState === this.SIDENAV_STATES.EXPANDED) {
                    return this.CONTENT_STATES.COMPACT;
                }
                else {
                    return this.CONTENT_STATES.EXPANDED;
                }
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(LayoutContainerComponent.prototype, "isMobileScreenSize", {
            get: /**
             * @return {?}
             */ function () {
                return this.mediaQueryList.matches;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        LayoutContainerComponent.prototype.onMediaQueryChange = /**
         * @return {?}
         */
            function () {
                this.sidenavAnimationState = this.SIDENAV_STATES.EXPANDED;
                this.contentAnimationState = this.toggledContentAnimation;
            };
        /**
         * @return {?}
         */
        LayoutContainerComponent.prototype.getContentAnimationStateLeft = /**
         * @return {?}
         */
            function () {
                if (this.position === 'start') {
                    return this.contentAnimationState;
                }
                else {
                    return { value: 'compact', params: { width: this.sidenavMin } };
                }
            };
        /**
         * @return {?}
         */
        LayoutContainerComponent.prototype.getContentAnimationStateRight = /**
         * @return {?}
         */
            function () {
                if (this.position === 'end') {
                    return this.contentAnimationState;
                }
                else {
                    return { value: 'compact', params: { width: this.sidenavMin } };
                }
            };
        LayoutContainerComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-layout-container',
                        template: "<mat-sidenav-container>\n    <mat-sidenav\n        [position]=\"position\"\n        [disableClose]=\"!isMobileScreenSize\"\n        [ngClass]=\"{ 'sidenav--hidden': hideSidenav }\"\n        [@sidenavAnimation]=\"sidenavAnimationState\"\n        [opened]=\"!isMobileScreenSize\"\n        [mode]=\"isMobileScreenSize ? 'over' : 'side'\">\n        <ng-content sidenav select=\"[app-layout-navigation]\"></ng-content>\n    </mat-sidenav>\n\n    <div>\n        <div [@contentAnimationLeft]=\"getContentAnimationStateLeft()\" [@contentAnimationRight]=\"getContentAnimationStateRight()\">\n            <ng-content select=\"[app-layout-content]\"></ng-content>\n        </div>\n    </div>\n</mat-sidenav-container>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        animations: [sidenavAnimation, contentAnimationLeft, contentAnimationRight],
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        LayoutContainerComponent.ctorParameters = function () { return []; };
        LayoutContainerComponent.propDecorators = {
            sidenavMin: [{ type: i0.Input }],
            sidenavMax: [{ type: i0.Input }],
            mediaQueryList: [{ type: i0.Input }],
            hideSidenav: [{ type: i0.Input }],
            expandedSidenav: [{ type: i0.Input }],
            position: [{ type: i0.Input }],
            sidenav: [{ type: i0.ViewChild, args: [material.MatSidenav,] }]
        };
        return LayoutContainerComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SidebarActionMenuComponent = /** @class */ (function () {
        function SidebarActionMenuComponent() {
            /**
             * Width in pixels for sidebar action menu options.
             */
            this.width = 272;
        }
        /**
         * @return {?}
         */
        SidebarActionMenuComponent.prototype.isExpanded = /**
         * @return {?}
         */
            function () {
                return this.expanded;
            };
        SidebarActionMenuComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-sidebar-action-menu',
                        template: "<div class=\"adf-sidebar-action-menu\">\n    <button *ngIf=\"isExpanded()\" mat-raised-button class=\"adf-sidebar-action-menu-button\" data-automation-id=\"create-button\" [matMenuTriggerFor]=\"adfSidebarMenu\">\n        <span *ngIf=\"title\" class=\"adf-sidebar-action-menu-text\">{{ title }}</span>\n        <ng-content select=\"[sidebar-menu-title-icon]\"></ng-content>\n    </button>\n\n    <div *ngIf=\"!isExpanded()\" class=\"adf-sidebar-action-menu-icon\" [matMenuTriggerFor]=\"adfSidebarMenu\">\n        <ng-content select=\"[sidebar-menu-expand-icon]\"></ng-content>\n    </div>\n\n    <mat-menu #adfSidebarMenu=\"matMenu\" class=\"adf-sidebar-action-menu-panel\" [overlapTrigger]=\"false\" yPosition=\"below\">\n        <div class=\"adf-sidebar-action-menu-options\" [style.width.px]=\"width\">\n            <ng-content select=\"[sidebar-menu-options]\"></ng-content>\n        </div>\n    </mat-menu>\n</div>\n",
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        encapsulation: i0.ViewEncapsulation.None,
                        host: { 'class': 'adf-sidebar-action-menu' },
                        styles: [""]
                    }] }
        ];
        SidebarActionMenuComponent.propDecorators = {
            title: [{ type: i0.Input }],
            expanded: [{ type: i0.Input }],
            width: [{ type: i0.Input }]
        };
        return SidebarActionMenuComponent;
    }());
    var SidebarMenuDirective = /** @class */ (function () {
        function SidebarMenuDirective() {
        }
        SidebarMenuDirective.decorators = [
            { type: i0.Directive, args: [{ selector: '[sidebar-menu-options]' },] }
        ];
        return SidebarMenuDirective;
    }());
    var SidebarMenuTitleIconDirective = /** @class */ (function () {
        function SidebarMenuTitleIconDirective() {
        }
        SidebarMenuTitleIconDirective.decorators = [
            { type: i0.Directive, args: [{ selector: '[sidebar-menu-title-icon]' },] }
        ];
        return SidebarMenuTitleIconDirective;
    }());
    var SidebarMenuExpandIconDirective = /** @class */ (function () {
        function SidebarMenuExpandIconDirective() {
        }
        SidebarMenuExpandIconDirective.decorators = [
            { type: i0.Directive, args: [{ selector: '[sidebar-menu-expand-icon]' },] }
        ];
        return SidebarMenuExpandIconDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var HeaderLayoutComponent = /** @class */ (function () {
        function HeaderLayoutComponent() {
            this.redirectUrl = '/';
            this.showSidenavToggle = true;
            this.clicked = new i0.EventEmitter();
            /**
             * The side that the drawer is attached to 'start' | 'end' page
             */
            this.position = 'start';
        }
        /**
         * @return {?}
         */
        HeaderLayoutComponent.prototype.toggleMenu = /**
         * @return {?}
         */
            function () {
                this.clicked.emit(true);
            };
        /**
         * @return {?}
         */
        HeaderLayoutComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                if (!this.logo) {
                    this.logo = './assets/images/logo.png';
                }
            };
        HeaderLayoutComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-layout-header',
                        template: "<mat-toolbar color=\"{{color}}\" [style.background-color]=\"color\">\n    <button *ngIf=\"showSidenavToggle && position === 'start'\" id=\"adf-sidebar-toggle-start\"  data-automation-id=\"adf-menu-icon\"\n            class=\"mat-icon-button adf-menu-icon\" mat-icon-button (click)=\"toggleMenu()\">\n        <mat-icon class=\"mat-icon material-icon\" role=\"img\" aria-hidden=\"true\">menu</mat-icon>\n    </button>\n\n    <a [routerLink]=\"redirectUrl\" title=\"{{ tooltip }}\">\n        <img src=\"{{logo}}\" class=\"adf-app-logo\"/>\n    </a>\n\n    <span [routerLink]=\"redirectUrl\" fxFlex=\"1 1 auto\" fxShow fxHide.lt-sm=\"true\" class=\"adf-app-title\">{{title}}</span>\n    <ng-content></ng-content>\n\n    <button *ngIf=\"showSidenavToggle && position === 'end'\" id=\"adf-sidebar-toggle-end\" data-automation-id=\"adf-menu-icon\"\n            class=\"mat-icon-button adf-menu-icon\" mat-icon-button (click)=\"toggleMenu()\">\n        <mat-icon class=\"mat-icon material-icon\" role=\"img\" aria-hidden=\"true\">menu</mat-icon>\n    </button>\n\n</mat-toolbar>\n\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        host: { class: 'adf-layout-header' }
                    }] }
        ];
        HeaderLayoutComponent.propDecorators = {
            title: [{ type: i0.Input }],
            logo: [{ type: i0.Input }],
            redirectUrl: [{ type: i0.Input }],
            tooltip: [{ type: i0.Input }],
            color: [{ type: i0.Input }],
            showSidenavToggle: [{ type: i0.Input }],
            clicked: [{ type: i0.Output }],
            position: [{ type: i0.Input }]
        };
        return HeaderLayoutComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LayoutModule = /** @class */ (function () {
        function LayoutModule() {
        }
        LayoutModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            MaterialModule,
                            router.RouterModule
                        ],
                        exports: [
                            SidenavLayoutHeaderDirective,
                            SidenavLayoutContentDirective,
                            SidenavLayoutNavigationDirective,
                            SidenavLayoutComponent,
                            LayoutContainerComponent,
                            SidebarActionMenuComponent,
                            SidebarMenuDirective,
                            SidebarMenuExpandIconDirective,
                            SidebarMenuTitleIconDirective,
                            HeaderLayoutComponent
                        ],
                        declarations: [
                            SidenavLayoutHeaderDirective,
                            SidenavLayoutContentDirective,
                            SidenavLayoutNavigationDirective,
                            SidenavLayoutComponent,
                            LayoutContainerComponent,
                            SidebarActionMenuComponent,
                            SidebarMenuDirective,
                            SidebarMenuExpandIconDirective,
                            SidebarMenuTitleIconDirective,
                            HeaderLayoutComponent
                        ]
                    },] }
        ];
        return LayoutModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CommentListComponent = /** @class */ (function () {
        function CommentListComponent(peopleProcessService, ecmUserService, userPreferenceService) {
            var _this = this;
            this.peopleProcessService = peopleProcessService;
            this.ecmUserService = ecmUserService;
            this.userPreferenceService = userPreferenceService;
            /**
             * Emitted when the user clicks on one of the comment rows.
             */
            this.clickRow = new i0.EventEmitter();
            userPreferenceService.select(UserPreferenceValues.Locale).subscribe(function (locale) {
                _this.currentLocale = locale;
            });
        }
        /**
         * @param {?} comment
         * @return {?}
         */
        CommentListComponent.prototype.selectComment = /**
         * @param {?} comment
         * @return {?}
         */
            function (comment) {
                if (this.selectedComment) {
                    this.selectedComment.isSelected = false;
                }
                comment.isSelected = true;
                this.selectedComment = comment;
                this.clickRow.emit(this.selectedComment);
            };
        /**
         * @param {?} user
         * @return {?}
         */
        CommentListComponent.prototype.getUserShortName = /**
         * @param {?} user
         * @return {?}
         */
            function (user) {
                /** @type {?} */
                var shortName = '';
                if (user) {
                    if (user.firstName) {
                        shortName = user.firstName[0].toUpperCase();
                    }
                    if (user.lastName) {
                        shortName += user.lastName[0].toUpperCase();
                    }
                }
                return shortName;
            };
        /**
         * @param {?} user
         * @return {?}
         */
        CommentListComponent.prototype.isPictureDefined = /**
         * @param {?} user
         * @return {?}
         */
            function (user) {
                return user.pictureId || user.avatarId;
            };
        /**
         * @param {?} user
         * @return {?}
         */
        CommentListComponent.prototype.getUserImage = /**
         * @param {?} user
         * @return {?}
         */
            function (user) {
                if (this.isAContentUsers(user)) {
                    return this.ecmUserService.getUserProfileImage(user.avatarId);
                }
                else {
                    return this.peopleProcessService.getUserImage(user);
                }
            };
        /**
         * @param {?} user
         * @return {?}
         */
        CommentListComponent.prototype.isAContentUsers = /**
         * @param {?} user
         * @return {?}
         */
            function (user) {
                return user.avatarId;
            };
        CommentListComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-comment-list',
                        template: " <mat-list class=\"adf-comment-list\">\n    <mat-list-item *ngFor=\"let comment of comments\"\n                  (click)=\"selectComment(comment)\"\n                  class=\"adf-comment-list-item\"\n                  [class.is-selected]=\"comment.isSelected\"\n                  id=\"adf-comment-{{comment?.id}}\">\n        <div id=\"comment-user-icon\" class=\"adf-comment-img-container\">\n            <div\n                *ngIf=\"!isPictureDefined(comment.createdBy)\"\n                class=\"adf-comment-user-icon\">\n                {{getUserShortName(comment.createdBy)}}\n            </div>\n            <div>\n                <img *ngIf=\"isPictureDefined(comment.createdBy)\"\n                      class=\"adf-people-img\"\n                     [src]=\"getUserImage(comment.createdBy)\"\n                />\n            </div>\n        </div>\n        <div class=\"adf-comment-contents\">\n            <div matLine id=\"comment-user\" class=\"adf-comment-user-name\">\n                {{comment.createdBy?.firstName}} {{comment.createdBy?.lastName}}\n            </div>\n            <div matLine id=\"comment-message\" class=\"adf-comment-message\" [innerHTML]=\"comment.message\"></div>\n            <div matLine id=\"comment-time\" class=\"adf-comment-message-time\">\n                {{ comment.created | adfTimeAgo: currentLocale }}\n            </div>\n        </div>\n    </mat-list-item>\n</mat-list>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        CommentListComponent.ctorParameters = function () {
            return [
                { type: PeopleProcessService },
                { type: EcmUserService },
                { type: UserPreferencesService }
            ];
        };
        CommentListComponent.propDecorators = {
            comments: [{ type: i0.Input }],
            clickRow: [{ type: i0.Output }]
        };
        return CommentListComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var CommentModel = /** @class */ (function () {
        function CommentModel(obj) {
            if (obj) {
                this.id = obj.id;
                this.message = obj.message;
                this.created = obj.created;
                this.createdBy = obj.createdBy;
                this.isSelected = obj.isSelected ? obj.isSelected : false;
            }
        }
        return CommentModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var UserProcessModel = /** @class */ (function () {
        function UserProcessModel(obj) {
            this.pictureId = null;
            if (obj) {
                this.id = obj.id;
                this.email = obj.email || null;
                this.firstName = obj.firstName || null;
                this.lastName = obj.lastName || null;
                this.pictureId = obj.pictureId || null;
                this.externalId = obj.externalId || null;
            }
        }
        return UserProcessModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CommentProcessService = /** @class */ (function () {
        function CommentProcessService(apiService, logService) {
            this.apiService = apiService;
            this.logService = logService;
        }
        /**
         * Adds a comment to a task.
         * @param taskId ID of the target task
         * @param message Text for the comment
         * @returns Details about the comment
         */
        /**
         * Adds a comment to a task.
         * @param {?} taskId ID of the target task
         * @param {?} message Text for the comment
         * @return {?} Details about the comment
         */
        CommentProcessService.prototype.addTaskComment = /**
         * Adds a comment to a task.
         * @param {?} taskId ID of the target task
         * @param {?} message Text for the comment
         * @return {?} Details about the comment
         */
            function (taskId, message) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().activiti.taskApi.addTaskComment({ message: message }, taskId))
                    .pipe(operators.map(function (response) {
                    return new CommentModel({
                        id: response.id,
                        message: response.message,
                        created: response.created,
                        createdBy: response.createdBy
                    });
                }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets all comments that have been added to a task.
         * @param taskId ID of the target task
         * @returns Details for each comment
         */
        /**
         * Gets all comments that have been added to a task.
         * @param {?} taskId ID of the target task
         * @return {?} Details for each comment
         */
        CommentProcessService.prototype.getTaskComments = /**
         * Gets all comments that have been added to a task.
         * @param {?} taskId ID of the target task
         * @return {?} Details for each comment
         */
            function (taskId) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().activiti.taskApi.getTaskComments(taskId))
                    .pipe(operators.map(function (response) {
                    /** @type {?} */
                    var comments = [];
                    response.data.forEach(function (comment) {
                        /** @type {?} */
                        var user = new UserProcessModel(comment.createdBy);
                        comments.push(new CommentModel({ id: comment.id, message: comment.message, created: comment.created, createdBy: user }));
                    });
                    return comments;
                }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets all comments that have been added to a process instance.
         * @param processInstanceId ID of the target process instance
         * @returns Details for each comment
         */
        /**
         * Gets all comments that have been added to a process instance.
         * @param {?} processInstanceId ID of the target process instance
         * @return {?} Details for each comment
         */
        CommentProcessService.prototype.getProcessInstanceComments = /**
         * Gets all comments that have been added to a process instance.
         * @param {?} processInstanceId ID of the target process instance
         * @return {?} Details for each comment
         */
            function (processInstanceId) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().activiti.commentsApi.getProcessInstanceComments(processInstanceId))
                    .pipe(operators.map(function (response) {
                    /** @type {?} */
                    var comments = [];
                    response.data.forEach(function (comment) {
                        /** @type {?} */
                        var user = new UserProcessModel(comment.createdBy);
                        comments.push(new CommentModel({ id: comment.id, message: comment.message, created: comment.created, createdBy: user }));
                    });
                    return comments;
                }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Adds a comment to a process instance.
         * @param processInstanceId ID of the target process instance
         * @param message Text for the comment
         * @returns Details of the comment added
         */
        /**
         * Adds a comment to a process instance.
         * @param {?} processInstanceId ID of the target process instance
         * @param {?} message Text for the comment
         * @return {?} Details of the comment added
         */
        CommentProcessService.prototype.addProcessInstanceComment = /**
         * Adds a comment to a process instance.
         * @param {?} processInstanceId ID of the target process instance
         * @param {?} message Text for the comment
         * @return {?} Details of the comment added
         */
            function (processInstanceId, message) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().activiti.commentsApi.addProcessInstanceComment({ message: message }, processInstanceId)).pipe(operators.map(function (response) {
                    return new CommentModel({
                        id: response.id,
                        message: response.message,
                        created: response.created,
                        createdBy: response.createdBy
                    });
                }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} error
         * @return {?}
         */
        CommentProcessService.prototype.handleError = /**
         * @param {?} error
         * @return {?}
         */
            function (error) {
                this.logService.error(error);
                return rxjs.throwError(error || 'Server error');
            };
        CommentProcessService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        CommentProcessService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: LogService }
            ];
        };
        return CommentProcessService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CommentContentService = /** @class */ (function () {
        function CommentContentService(apiService, logService) {
            this.apiService = apiService;
            this.logService = logService;
        }
        /**
         * Adds a comment to a node.
         * @param nodeId ID of the target node
         * @param message Text for the comment
         * @returns Details of the comment added
         */
        /**
         * Adds a comment to a node.
         * @param {?} nodeId ID of the target node
         * @param {?} message Text for the comment
         * @return {?} Details of the comment added
         */
        CommentContentService.prototype.addNodeComment = /**
         * Adds a comment to a node.
         * @param {?} nodeId ID of the target node
         * @param {?} message Text for the comment
         * @return {?} Details of the comment added
         */
            function (nodeId, message) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().core.commentsApi.addComment(nodeId, { content: message }))
                    .pipe(operators.map(function (response) {
                    return new CommentModel({
                        id: response.entry.id,
                        message: response.entry.content,
                        created: response.entry.createdAt,
                        createdBy: response.entry.createdBy
                    });
                }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets all comments that have been added to a node.
         * @param nodeId ID of the target node
         * @returns Details for each comment
         */
        /**
         * Gets all comments that have been added to a node.
         * @param {?} nodeId ID of the target node
         * @return {?} Details for each comment
         */
        CommentContentService.prototype.getNodeComments = /**
         * Gets all comments that have been added to a node.
         * @param {?} nodeId ID of the target node
         * @return {?} Details for each comment
         */
            function (nodeId) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().core.commentsApi.getComments(nodeId))
                    .pipe(operators.map(function (response) {
                    /** @type {?} */
                    var comments = [];
                    response.list.entries.forEach(function (comment) {
                        comments.push(new CommentModel({
                            id: comment.entry.id,
                            message: comment.entry.content,
                            created: comment.entry.createdAt,
                            createdBy: comment.entry.createdBy
                        }));
                    });
                    return comments;
                }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} error
         * @return {?}
         */
        CommentContentService.prototype.handleError = /**
         * @param {?} error
         * @return {?}
         */
            function (error) {
                this.logService.error(error);
                return rxjs.throwError(error || 'Server error');
            };
        CommentContentService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        CommentContentService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: LogService }
            ];
        };
        return CommentContentService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CommentsComponent = /** @class */ (function () {
        function CommentsComponent(commentProcessService, commentContentService) {
            var _this = this;
            this.commentProcessService = commentProcessService;
            this.commentContentService = commentContentService;
            /**
             * Are the comments read only?
             */
            this.readOnly = false;
            /**
             * Emitted when an error occurs while displaying/adding a comment.
             */
            this.error = new i0.EventEmitter();
            this.comments = [];
            this.beingAdded = false;
            this.comment$ = new rxjs.Observable(function (observer) { return _this.commentObserver = observer; })
                .pipe(operators.share());
            this.comment$.subscribe(function (comment) {
                _this.comments.push(comment);
            });
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        CommentsComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                this.taskId = null;
                this.nodeId = null;
                this.taskId = changes['taskId'] ? changes['taskId'].currentValue : null;
                this.nodeId = changes['nodeId'] ? changes['nodeId'].currentValue : null;
                if (this.taskId || this.nodeId) {
                    this.getComments();
                }
                else {
                    this.resetComments();
                }
            };
        /**
         * @return {?}
         */
        CommentsComponent.prototype.getComments = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.resetComments();
                if (this.isATask()) {
                    this.commentProcessService.getTaskComments(this.taskId).subscribe(function (res) {
                        if (res && res instanceof Array) {
                            res = res.sort(function (comment1, comment2) {
                                /** @type {?} */
                                var date1 = new Date(comment1.created);
                                /** @type {?} */
                                var date2 = new Date(comment2.created);
                                return date1 > date2 ? -1 : date1 < date2 ? 1 : 0;
                            });
                            res.forEach(function (comment) {
                                _this.commentObserver.next(comment);
                            });
                        }
                    }, function (err) {
                        _this.error.emit(err);
                    });
                }
                if (this.isANode()) {
                    this.commentContentService.getNodeComments(this.nodeId).subscribe(function (res) {
                        if (res && res instanceof Array) {
                            res = res.sort(function (comment1, comment2) {
                                /** @type {?} */
                                var date1 = new Date(comment1.created);
                                /** @type {?} */
                                var date2 = new Date(comment2.created);
                                return date1 > date2 ? -1 : date1 < date2 ? 1 : 0;
                            });
                            res.forEach(function (comment) {
                                _this.commentObserver.next(comment);
                            });
                        }
                    }, function (err) {
                        _this.error.emit(err);
                    });
                }
            };
        /**
         * @return {?}
         */
        CommentsComponent.prototype.resetComments = /**
         * @return {?}
         */
            function () {
                this.comments = [];
            };
        /**
         * @return {?}
         */
        CommentsComponent.prototype.add = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.message && this.message.trim() && !this.beingAdded) {
                    /** @type {?} */
                    var comment = this.sanitize(this.message);
                    this.beingAdded = true;
                    if (this.isATask()) {
                        this.commentProcessService.addTaskComment(this.taskId, comment)
                            .subscribe(function (res) {
                            _this.comments.unshift(res);
                            _this.message = '';
                            _this.beingAdded = false;
                        }, function (err) {
                            _this.error.emit(err);
                            _this.beingAdded = false;
                        });
                    }
                    if (this.isANode()) {
                        this.commentContentService.addNodeComment(this.nodeId, comment)
                            .subscribe(function (res) {
                            _this.comments.unshift(res);
                            _this.message = '';
                            _this.beingAdded = false;
                        }, function (err) {
                            _this.error.emit(err);
                            _this.beingAdded = false;
                        });
                    }
                }
            };
        /**
         * @return {?}
         */
        CommentsComponent.prototype.clear = /**
         * @return {?}
         */
            function () {
                this.message = '';
            };
        /**
         * @return {?}
         */
        CommentsComponent.prototype.isReadOnly = /**
         * @return {?}
         */
            function () {
                return this.readOnly;
            };
        /**
         * @return {?}
         */
        CommentsComponent.prototype.isATask = /**
         * @return {?}
         */
            function () {
                return this.taskId ? true : false;
            };
        /**
         * @return {?}
         */
        CommentsComponent.prototype.isANode = /**
         * @return {?}
         */
            function () {
                return this.nodeId ? true : false;
            };
        /**
         * @param {?} input
         * @return {?}
         */
        CommentsComponent.prototype.sanitize = /**
         * @param {?} input
         * @return {?}
         */
            function (input) {
                return input.replace(/<[^>]+>/g, '')
                    .replace(/^\s+|\s+$|\s+(?=\s)/g, '')
                    .replace(/\r?\n/g, '<br/>');
            };
        CommentsComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-comments',
                        template: "<div class=\"adf-comments-container\">\n    <div id=\"comment-header\" class=\"adf-comments-header\">\n        {{'COMMENTS.HEADER' | translate: { count: comments?.length} }}\n    </div>\n    <div class=\"adf-comments-input-container\" *ngIf=\"!isReadOnly()\">\n            <mat-form-field class=\"adf-full-width\">\n                <textarea (keyup.escape)=\"clear()\" matInput id=\"comment-input\" placeholder=\"{{'COMMENTS.ADD' | translate}}\" [(ngModel)]=\"message\"></textarea>\n            </mat-form-field>\n\n            <div class=\"adf-comments-input-actions\">\n                <button mat-button\n                    class=\"adf-comments-input-add\"\n                    data-automation-id=\"comments-input-add\"\n                    color=\"primary\"\n                    (click)=\"add()\"\n                    [disabled]=\"!message\">\n                    {{ 'COMMENTS.ADD' | translate }}\n                </button>\n            </div>\n    </div>\n\n    <div *ngIf=\"comments.length > 0\">\n        <adf-comment-list [comments]=\"comments\">\n        </adf-comment-list>\n    </div>\n</div>",
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        CommentsComponent.ctorParameters = function () {
            return [
                { type: CommentProcessService },
                { type: CommentContentService }
            ];
        };
        CommentsComponent.propDecorators = {
            taskId: [{ type: i0.Input }],
            nodeId: [{ type: i0.Input }],
            readOnly: [{ type: i0.Input }],
            error: [{ type: i0.Output }]
        };
        return CommentsComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CommentsModule = /** @class */ (function () {
        function CommentsModule() {
        }
        CommentsModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            PipeModule,
                            DataColumnModule,
                            DataTableModule,
                            forms.FormsModule,
                            forms.ReactiveFormsModule,
                            MaterialModule,
                            common.CommonModule,
                            core$1.TranslateModule.forChild()
                        ],
                        declarations: [
                            CommentListComponent,
                            CommentsComponent
                        ],
                        exports: [
                            CommentListComponent,
                            CommentsComponent
                        ]
                    },] }
        ];
        return CommentsModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ButtonsMenuComponent = /** @class */ (function () {
        function ButtonsMenuComponent() {
        }
        /**
         * @return {?}
         */
        ButtonsMenuComponent.prototype.ngAfterContentInit = /**
         * @return {?}
         */
            function () {
                if (this.buttons.length > 0) {
                    this.isMenuEmpty = false;
                }
                else {
                    this.isMenuEmpty = true;
                }
            };
        /**
         * @return {?}
         */
        ButtonsMenuComponent.prototype.isMobile = /**
         * @return {?}
         */
            function () {
                return !!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            };
        ButtonsMenuComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-buttons-action-menu',
                        template: "<div id=\"adf-buttons-menu\" class=\"adf-buttons-menu\" *ngIf=\"!isMenuEmpty\">\n    <div *ngIf=\"isMobile()\">\n        <button mat-icon-button [matMenuTriggerFor]=\"editReportMenu\">\n            <mat-icon>more_vert</mat-icon>\n        </button>\n        <mat-menu #editReportMenu=\"matMenu\" class=\"adf-buttons-menu-mobile\">\n            <ng-content *ngTemplateOutlet=\"desktop\">\n            </ng-content>\n        </mat-menu>\n    </div>\n\n    <div *ngIf=\"!isMobile()\" class=\"adf-buttons-menu-desktop\">\n        <ng-content *ngTemplateOutlet=\"desktop\">\n        </ng-content>\n    </div>\n</div>\n\n<ng-template #desktop>\n    <ng-content></ng-content>\n</ng-template>",
                        styles: [""]
                    }] }
        ];
        ButtonsMenuComponent.propDecorators = {
            buttons: [{ type: i0.ContentChildren, args: [material.MatMenuItem,] }]
        };
        return ButtonsMenuComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ButtonsMenuModule = /** @class */ (function () {
        function ButtonsMenuModule() {
        }
        ButtonsMenuModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            MaterialModule,
                            core$1.TranslateModule.forChild(),
                            flexLayout.FlexLayoutModule
                        ],
                        declarations: [
                            ButtonsMenuComponent
                        ],
                        exports: [
                            ButtonsMenuComponent
                        ]
                    },] }
        ];
        return ButtonsMenuModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SortingPickerComponent = /** @class */ (function () {
        function SortingPickerComponent() {
            /**
             * Available sorting options
             */
            this.options = [];
            /**
             * Current sorting direction
             */
            this.ascending = true;
            /**
             * Raised each time sorting key or direction gets changed.
             */
            this.change = new i0.EventEmitter();
        }
        /**
         * @param {?} event
         * @return {?}
         */
        SortingPickerComponent.prototype.onChanged = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                this.selected = event.value;
                this.raiseChangedEvent();
            };
        /**
         * @return {?}
         */
        SortingPickerComponent.prototype.toggleSortDirection = /**
         * @return {?}
         */
            function () {
                this.ascending = !this.ascending;
                this.raiseChangedEvent();
            };
        /**
         * @return {?}
         */
        SortingPickerComponent.prototype.raiseChangedEvent = /**
         * @return {?}
         */
            function () {
                this.change.emit({
                    key: this.selected,
                    ascending: this.ascending
                });
            };
        SortingPickerComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-sorting-picker',
                        template: "<mat-form-field>\n    <mat-select [(value)]=\"selected\" (selectionChange)=\"onChanged($event)\">\n        <mat-option *ngFor=\"let option of options\" [value]=\"option.key\">\n            {{ option.label | translate }}\n        </mat-option>\n    </mat-select>\n</mat-form-field>\n\n<button *ngIf=\"selected\" mat-icon-button (click)=\"toggleSortDirection()\">\n    <mat-icon *ngIf=\"ascending\">arrow_upward</mat-icon>\n    <mat-icon *ngIf=\"!ascending\">arrow_downward</mat-icon>\n</button>\n",
                        encapsulation: i0.ViewEncapsulation.None,
                        host: { class: 'adf-sorting-picker' }
                    }] }
        ];
        SortingPickerComponent.propDecorators = {
            options: [{ type: i0.Input }],
            selected: [{ type: i0.Input }],
            ascending: [{ type: i0.Input }],
            change: [{ type: i0.Output }]
        };
        return SortingPickerComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SortingPickerModule = /** @class */ (function () {
        function SortingPickerModule() {
        }
        SortingPickerModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            MaterialModule,
                            core$1.TranslateModule.forChild()
                        ],
                        declarations: [
                            SortingPickerComponent
                        ],
                        exports: [
                            SortingPickerComponent
                        ]
                    },] }
        ];
        return SortingPickerModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ErrorContentComponent = /** @class */ (function () {
        function ErrorContentComponent(route, router$$1, translateService) {
            this.route = route;
            this.router = router$$1;
            this.translateService = translateService;
            /**
             * Target URL for the secondary button.
             */
            this.secondaryButtonUrl = 'report-issue';
            /**
             * Target URL for the return button.
             */
            this.returnButtonUrl = '/';
        }
        /**
         * @return {?}
         */
        ErrorContentComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.route) {
                    this.route.params.forEach(function (params) {
                        if (params['id'] && !_this.errorCode) {
                            _this.errorCode = params['id'];
                            /** @type {?} */
                            var unknown_1 = '';
                            _this.translateService.get('ERROR_CONTENT.' + _this.errorCode + '.TITLE').subscribe(function (errorTranslation) {
                                unknown_1 = errorTranslation;
                            });
                            if (unknown_1 === 'ERROR_CONTENT.' + _this.errorCode + '.TITLE') {
                                _this.errorCode = 'UNKNOWN';
                            }
                        }
                    });
                }
            };
        /**
         * @return {?}
         */
        ErrorContentComponent.prototype.getTranslations = /**
         * @return {?}
         */
            function () {
                this.hasSecondButton = this.translateService.instant('ERROR_CONTENT.' + this.errorCode + '.SECONDARY_BUTTON.TEXT') ? true : false;
            };
        /**
         * @return {?}
         */
        ErrorContentComponent.prototype.ngAfterContentChecked = /**
         * @return {?}
         */
            function () {
                this.getTranslations();
            };
        /**
         * @return {?}
         */
        ErrorContentComponent.prototype.onSecondButton = /**
         * @return {?}
         */
            function () {
                this.router.navigate(['/' + this.secondaryButtonUrl]);
            };
        /**
         * @return {?}
         */
        ErrorContentComponent.prototype.onReturnButton = /**
         * @return {?}
         */
            function () {
                this.router.navigate(['/' + this.returnButtonUrl]);
            };
        ErrorContentComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-error-content',
                        template: "<div class=\"adf-error-content\">\n    <p class=\"adf-error-content-code\">\n        {{ errorCode }}\n    </p>\n    <div class=\"adf-error-content-shadow\"></div>\n    <p class=\"adf-error-content-title\">\n        {{ 'ERROR_CONTENT.' + errorCode + '.TITLE' | translate }}\n    </p>\n    <p class=\"adf-error-content-description\">\n        {{ 'ERROR_CONTENT.' + errorCode + '.DESCRIPTION' | translate }}\n    </p>\n    <div class=\"adf-error-content-buttons\">\n        <a a id=\"adf-secondary-button\" mat-raised-button color=\"primary\"\n            *ngIf=\"hasSecondButton\" (click)=\"onSecondButton()\"\n            class=\"adf-error-content-description-link\">\n            {{ 'ERROR_CONTENT.' + errorCode + '.SECONDARY_BUTTON.TEXT' | translate | uppercase }}\n        </a>\n        <a id=\"adf-return-button\" mat-raised-button color=\"primary\" (click)=\"onReturnButton()\">\n            {{ 'ERROR_CONTENT.' + this.errorCode + '.RETURN_BUTTON.TEXT' | translate | uppercase }}\n        </a>\n    </div>\n</div>\n",
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        encapsulation: i0.ViewEncapsulation.None,
                        host: { class: 'adf-error-content' },
                        styles: [""]
                    }] }
        ];
        /** @nocollapse */
        ErrorContentComponent.ctorParameters = function () {
            return [
                { type: router.ActivatedRoute },
                { type: router.Router },
                { type: TranslationService }
            ];
        };
        ErrorContentComponent.propDecorators = {
            secondaryButtonUrl: [{ type: i0.Input }],
            returnButtonUrl: [{ type: i0.Input }],
            errorCode: [{ type: i0.Input }]
        };
        return ErrorContentComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var EmptyContentComponent = /** @class */ (function () {
        function EmptyContentComponent() {
            /**
             * Material Icon to use.
             */
            this.icon = 'cake';
            /**
             * String or Resource Key for the title.
             */
            this.title = '';
            /**
             * String or Resource Key for the subtitle.
             */
            this.subtitle = '';
        }
        EmptyContentComponent.decorators = [
            { type: i0.Component, args: [{
                        selector: 'adf-empty-content',
                        template: "<div class=\"adf-empty-content\">\n    <mat-icon class=\"adf-empty-content__icon\">{{ icon }}</mat-icon>\n    <p class=\"adf-empty-content__title\">{{ title | translate }}</p>\n    <p class=\"adf-empty-content__subtitle\">{{ subtitle | translate }}</p>\n    <ng-content></ng-content>\n</div>\n",
                        changeDetection: i0.ChangeDetectionStrategy.OnPush,
                        encapsulation: i0.ViewEncapsulation.None,
                        host: { class: 'adf-empty-content' },
                        styles: [""]
                    }] }
        ];
        EmptyContentComponent.propDecorators = {
            icon: [{ type: i0.Input }],
            title: [{ type: i0.Input }],
            subtitle: [{ type: i0.Input }]
        };
        return EmptyContentComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var TemplateModule = /** @class */ (function () {
        function TemplateModule() {
        }
        TemplateModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            MaterialModule,
                            core$1.TranslateModule.forChild()
                        ],
                        declarations: [
                            ErrorContentComponent,
                            EmptyContentComponent
                        ],
                        exports: [
                            ErrorContentComponent,
                            EmptyContentComponent
                        ]
                    },] }
        ];
        return TemplateModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AuthGuard = /** @class */ (function () {
        function AuthGuard(authService, router$$1, appConfig) {
            this.authService = authService;
            this.router = router$$1;
            this.appConfig = appConfig;
        }
        /**
         * @param {?} route
         * @param {?} state
         * @return {?}
         */
        AuthGuard.prototype.canActivate = /**
         * @param {?} route
         * @param {?} state
         * @return {?}
         */
            function (route, state) {
                /** @type {?} */
                var redirectUrl = state.url;
                return this.checkLogin(redirectUrl);
            };
        /**
         * @param {?} route
         * @param {?} state
         * @return {?}
         */
        AuthGuard.prototype.canActivateChild = /**
         * @param {?} route
         * @param {?} state
         * @return {?}
         */
            function (route, state) {
                return this.canActivate(route, state);
            };
        /**
         * @param {?} redirectUrl
         * @return {?}
         */
        AuthGuard.prototype.checkLogin = /**
         * @param {?} redirectUrl
         * @return {?}
         */
            function (redirectUrl) {
                if (this.authService.isLoggedIn()) {
                    return true;
                }
                if (!this.authService.isOauth() || this.isOAuthWithoutSilentLogin()) {
                    this.authService.setRedirect({ provider: 'ALL', url: redirectUrl });
                    /** @type {?} */
                    var pathToLogin = this.getRouteDestinationForLogin();
                    this.router.navigate(['/' + pathToLogin]);
                }
                return false;
            };
        /**
         * @return {?}
         */
        AuthGuard.prototype.isOAuthWithoutSilentLogin = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var oauth = this.appConfig.get(AppConfigValues.OAUTHCONFIG, null);
                return this.authService.isOauth() && oauth.silentLogin === false;
            };
        /**
         * @return {?}
         */
        AuthGuard.prototype.getRouteDestinationForLogin = /**
         * @return {?}
         */
            function () {
                return this.appConfig &&
                    this.appConfig.get(AppConfigValues.LOGIN_ROUTE) ?
                    this.appConfig.get(AppConfigValues.LOGIN_ROUTE) : 'login';
            };
        AuthGuard.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        AuthGuard.ctorParameters = function () {
            return [
                { type: AuthenticationService },
                { type: router.Router },
                { type: AppConfigService }
            ];
        };
        return AuthGuard;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AuthGuardEcm = /** @class */ (function () {
        function AuthGuardEcm(authService, router$$1, appConfig) {
            this.authService = authService;
            this.router = router$$1;
            this.appConfig = appConfig;
        }
        /**
         * @param {?} route
         * @param {?} state
         * @return {?}
         */
        AuthGuardEcm.prototype.canActivate = /**
         * @param {?} route
         * @param {?} state
         * @return {?}
         */
            function (route, state) {
                return this.checkLogin(state.url);
            };
        /**
         * @param {?} route
         * @param {?} state
         * @return {?}
         */
        AuthGuardEcm.prototype.canActivateChild = /**
         * @param {?} route
         * @param {?} state
         * @return {?}
         */
            function (route, state) {
                return this.canActivate(route, state);
            };
        /**
         * @param {?} redirectUrl
         * @return {?}
         */
        AuthGuardEcm.prototype.checkLogin = /**
         * @param {?} redirectUrl
         * @return {?}
         */
            function (redirectUrl) {
                if (this.authService.isEcmLoggedIn()) {
                    return true;
                }
                if (!this.authService.isOauth() || this.isOAuthWithoutSilentLogin()) {
                    this.authService.setRedirect({ provider: 'ECM', url: redirectUrl });
                    /** @type {?} */
                    var pathToLogin = this.getRouteDestinationForLogin();
                    this.router.navigate(['/' + pathToLogin]);
                }
                return false;
            };
        /**
         * @return {?}
         */
        AuthGuardEcm.prototype.isOAuthWithoutSilentLogin = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var oauth = this.appConfig.get(AppConfigValues.OAUTHCONFIG, null);
                return this.authService.isOauth() && oauth.silentLogin === false;
            };
        /**
         * @return {?}
         */
        AuthGuardEcm.prototype.getRouteDestinationForLogin = /**
         * @return {?}
         */
            function () {
                return this.appConfig &&
                    this.appConfig.get(AppConfigValues.LOGIN_ROUTE) ?
                    this.appConfig.get(AppConfigValues.LOGIN_ROUTE) : 'login';
            };
        AuthGuardEcm.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        AuthGuardEcm.ctorParameters = function () {
            return [
                { type: AuthenticationService },
                { type: router.Router },
                { type: AppConfigService }
            ];
        };
        return AuthGuardEcm;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AuthGuardBpm = /** @class */ (function () {
        function AuthGuardBpm(authService, router$$1, appConfig) {
            this.authService = authService;
            this.router = router$$1;
            this.appConfig = appConfig;
        }
        /**
         * @param {?} route
         * @param {?} state
         * @return {?}
         */
        AuthGuardBpm.prototype.canActivate = /**
         * @param {?} route
         * @param {?} state
         * @return {?}
         */
            function (route, state) {
                return this.checkLogin(state.url);
            };
        /**
         * @param {?} route
         * @param {?} state
         * @return {?}
         */
        AuthGuardBpm.prototype.canActivateChild = /**
         * @param {?} route
         * @param {?} state
         * @return {?}
         */
            function (route, state) {
                return this.canActivate(route, state);
            };
        /**
         * @param {?} redirectUrl
         * @return {?}
         */
        AuthGuardBpm.prototype.checkLogin = /**
         * @param {?} redirectUrl
         * @return {?}
         */
            function (redirectUrl) {
                if (this.authService.isBpmLoggedIn()) {
                    return true;
                }
                if (!this.authService.isOauth() || this.isOAuthWithoutSilentLogin()) {
                    this.authService.setRedirect({ provider: 'BPM', url: redirectUrl });
                    /** @type {?} */
                    var pathToLogin = this.getRouteDestinationForLogin();
                    this.router.navigate(['/' + pathToLogin]);
                }
                return false;
            };
        /**
         * @return {?}
         */
        AuthGuardBpm.prototype.isOAuthWithoutSilentLogin = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var oauth = this.appConfig.get(AppConfigValues.OAUTHCONFIG, null);
                return this.authService.isOauth() && oauth.silentLogin === false;
            };
        /**
         * @return {?}
         */
        AuthGuardBpm.prototype.getRouteDestinationForLogin = /**
         * @return {?}
         */
            function () {
                return this.appConfig && this.appConfig.get(AppConfigValues.LOGIN_ROUTE) ? this.appConfig.get(AppConfigValues.LOGIN_ROUTE) : 'login';
            };
        AuthGuardBpm.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        AuthGuardBpm.ctorParameters = function () {
            return [
                { type: AuthenticationService },
                { type: router.Router },
                { type: AppConfigService }
            ];
        };
        return AuthGuardBpm;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AppsProcessService = /** @class */ (function () {
        function AppsProcessService(apiService, logService) {
            this.apiService = apiService;
            this.logService = logService;
        }
        /**
         * Gets a list of deployed apps for this user.
         * @returns The list of deployed apps
         */
        /**
         * Gets a list of deployed apps for this user.
         * @return {?} The list of deployed apps
         */
        AppsProcessService.prototype.getDeployedApplications = /**
         * Gets a list of deployed apps for this user.
         * @return {?} The list of deployed apps
         */
            function () {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().activiti.appsApi.getAppDefinitions())
                    .pipe(operators.map(function (response) { return (response.data); }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets a list of deployed apps for this user, where the app name is `name`.
         * @param name Name of the app
         * @returns The list of deployed apps
         */
        /**
         * Gets a list of deployed apps for this user, where the app name is `name`.
         * @param {?} name Name of the app
         * @return {?} The list of deployed apps
         */
        AppsProcessService.prototype.getDeployedApplicationsByName = /**
         * Gets a list of deployed apps for this user, where the app name is `name`.
         * @param {?} name Name of the app
         * @return {?} The list of deployed apps
         */
            function (name) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().activiti.appsApi.getAppDefinitions())
                    .pipe(operators.map(function (response) { return (response.data.find(function (app) { return app.name === name; })); }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets the details for a specific app ID number.
         * @param appId ID of the target app
         * @returns Details of the app
         */
        /**
         * Gets the details for a specific app ID number.
         * @param {?} appId ID of the target app
         * @return {?} Details of the app
         */
        AppsProcessService.prototype.getApplicationDetailsById = /**
         * Gets the details for a specific app ID number.
         * @param {?} appId ID of the target app
         * @return {?} Details of the app
         */
            function (appId) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().activiti.appsApi.getAppDefinitions())
                    .pipe(operators.map(function (response) { return response.data.find(function (app) { return app.id === appId; }); }), operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} error
         * @return {?}
         */
        AppsProcessService.prototype.handleError = /**
         * @param {?} error
         * @return {?}
         */
            function (error) {
                this.logService.error(error);
                return rxjs.throwError(error || 'Server error');
            };
        AppsProcessService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        AppsProcessService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: LogService }
            ];
        };
        return AppsProcessService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var PageTitleService = /** @class */ (function () {
        function PageTitleService(titleService, appConfig, translationService) {
            var _this = this;
            this.titleService = titleService;
            this.appConfig = appConfig;
            this.translationService = translationService;
            this.originalTitle = '';
            this.translatedTitle = '';
            translationService.translate.onLangChange.subscribe(function () { return _this.onLanguageChanged(); });
            translationService.translate.onTranslationChange.subscribe(function () { return _this.onLanguageChanged(); });
        }
        /**
         * Sets the page title.
         * @param value The new title
         */
        /**
         * Sets the page title.
         * @param {?=} value The new title
         * @return {?}
         */
        PageTitleService.prototype.setTitle = /**
         * Sets the page title.
         * @param {?=} value The new title
         * @return {?}
         */
            function (value) {
                if (value === void 0) {
                    value = '';
                }
                this.originalTitle = value;
                this.translatedTitle = this.translationService.instant(value);
                this.updateTitle();
            };
        /**
         * @return {?}
         */
        PageTitleService.prototype.onLanguageChanged = /**
         * @return {?}
         */
            function () {
                this.translatedTitle = this.translationService.instant(this.originalTitle);
                this.updateTitle();
            };
        /**
         * @return {?}
         */
        PageTitleService.prototype.updateTitle = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var name = this.appConfig.get('application.name') || 'Alfresco ADF Application';
                /** @type {?} */
                var title = this.translatedTitle ? this.translatedTitle + " - " + name : "" + name;
                this.titleService.setTitle(title);
            };
        PageTitleService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        PageTitleService.ctorParameters = function () {
            return [
                { type: platformBrowser.Title },
                { type: AppConfigService },
                { type: TranslationService }
            ];
        };
        return PageTitleService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * @deprecated
     * RenditionsService
     * (this service is deprecated in 2.2.0 and will be removed in future revisions)
     */
    var RenditionsService = /** @class */ (function () {
        function RenditionsService(apiService) {
            this.apiService = apiService;
        }
        /** @deprecated */
        /**
         * @deprecated
         * @param {?} nodeId
         * @param {?} encoding
         * @return {?}
         */
        RenditionsService.prototype.isRenditionAvailable = /**
         * @deprecated
         * @param {?} nodeId
         * @param {?} encoding
         * @return {?}
         */
            function (nodeId, encoding) {
                var _this = this;
                return rxjs.Observable.create(function (observer) {
                    _this.getRendition(nodeId, encoding).subscribe(function (res) {
                        /** @type {?} */
                        var isAvailable = true;
                        if (res.entry.status.toString() === 'NOT_CREATED') {
                            isAvailable = false;
                        }
                        observer.next(isAvailable);
                        observer.complete();
                    }, function () {
                        observer.next(false);
                        observer.complete();
                    });
                });
            };
        /** @deprecated */
        /**
         * @deprecated
         * @param {?} nodeId
         * @param {?} encoding
         * @return {?}
         */
        RenditionsService.prototype.isConversionPossible = /**
         * @deprecated
         * @param {?} nodeId
         * @param {?} encoding
         * @return {?}
         */
            function (nodeId, encoding) {
                var _this = this;
                return rxjs.Observable.create(function (observer) {
                    _this.getRendition(nodeId, encoding).subscribe(function () {
                        observer.next(true);
                        observer.complete();
                    }, function () {
                        observer.next(false);
                        observer.complete();
                    });
                });
            };
        /** @deprecated */
        /**
         * @deprecated
         * @param {?} nodeId
         * @param {?} encoding
         * @return {?}
         */
        RenditionsService.prototype.getRenditionUrl = /**
         * @deprecated
         * @param {?} nodeId
         * @param {?} encoding
         * @return {?}
         */
            function (nodeId, encoding) {
                return this.apiService.contentApi.getRenditionUrl(nodeId, encoding);
            };
        /** @deprecated */
        /**
         * @deprecated
         * @param {?} nodeId
         * @param {?} encoding
         * @return {?}
         */
        RenditionsService.prototype.getRendition = /**
         * @deprecated
         * @param {?} nodeId
         * @param {?} encoding
         * @return {?}
         */
            function (nodeId, encoding) {
                return rxjs.from(this.apiService.renditionsApi.getRendition(nodeId, encoding));
            };
        /** @deprecated */
        /**
         * @deprecated
         * @param {?} nodeId
         * @return {?}
         */
        RenditionsService.prototype.getRenditionsListByNodeId = /**
         * @deprecated
         * @param {?} nodeId
         * @return {?}
         */
            function (nodeId) {
                return rxjs.from(this.apiService.renditionsApi.getRenditions(nodeId));
            };
        /** @deprecated */
        /**
         * @deprecated
         * @param {?} nodeId
         * @param {?} encoding
         * @return {?}
         */
        RenditionsService.prototype.createRendition = /**
         * @deprecated
         * @param {?} nodeId
         * @param {?} encoding
         * @return {?}
         */
            function (nodeId, encoding) {
                return rxjs.from(this.apiService.renditionsApi.createRendition(nodeId, { id: encoding }));
            };
        /** @deprecated */
        /**
         * @deprecated
         * @param {?} nodeId
         * @param {?} encoding
         * @param {?=} pollingInterval
         * @param {?=} retries
         * @return {?}
         */
        RenditionsService.prototype.convert = /**
         * @deprecated
         * @param {?} nodeId
         * @param {?} encoding
         * @param {?=} pollingInterval
         * @param {?=} retries
         * @return {?}
         */
            function (nodeId, encoding, pollingInterval, retries) {
                var _this = this;
                if (pollingInterval === void 0) {
                    pollingInterval = 1000;
                }
                if (retries === void 0) {
                    retries = 5;
                }
                return this.createRendition(nodeId, encoding)
                    .pipe(operators.concatMap(function () { return _this.pollRendition(nodeId, encoding, pollingInterval, retries); }));
            };
        /**
         * @deprecated
         * @param {?} nodeId
         * @param {?} encoding
         * @param {?=} intervalSize
         * @param {?=} retries
         * @return {?}
         */
        RenditionsService.prototype.pollRendition = /**
         * @deprecated
         * @param {?} nodeId
         * @param {?} encoding
         * @param {?=} intervalSize
         * @param {?=} retries
         * @return {?}
         */
            function (nodeId, encoding, intervalSize, retries) {
                var _this = this;
                if (intervalSize === void 0) {
                    intervalSize = 1000;
                }
                if (retries === void 0) {
                    retries = 5;
                }
                /** @type {?} */
                var attempts = 0;
                return rxjs.interval(intervalSize)
                    .pipe(operators.switchMap(function () { return _this.getRendition(nodeId, encoding); }), operators.takeWhile(function (data) {
                    attempts += 1;
                    if (attempts > retries) {
                        return false;
                    }
                    return (data.entry.status.toString() !== 'CREATED');
                }));
            };
        RenditionsService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        RenditionsService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService }
            ];
        };
        return RenditionsService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var NotificationService = /** @class */ (function () {
        function NotificationService(snackBar, translationService) {
            this.snackBar = snackBar;
            this.translationService = translationService;
        }
        /**
         * Opens a SnackBar notification to show a message.
         * @param message The message (or resource key) to show.
         * @param config Time before notification disappears after being shown or MatSnackBarConfig object
         * @returns Information/control object for the SnackBar
         */
        /**
         * Opens a SnackBar notification to show a message.
         * @param {?} message The message (or resource key) to show.
         * @param {?=} config Time before notification disappears after being shown or MatSnackBarConfig object
         * @return {?} Information/control object for the SnackBar
         */
        NotificationService.prototype.openSnackMessage = /**
         * Opens a SnackBar notification to show a message.
         * @param {?} message The message (or resource key) to show.
         * @param {?=} config Time before notification disappears after being shown or MatSnackBarConfig object
         * @return {?} Information/control object for the SnackBar
         */
            function (message, config) {
                if (config === void 0) {
                    config = NotificationService.DEFAULT_DURATION_MESSAGE;
                }
                /** @type {?} */
                var translatedMessage = this.translationService.instant(message);
                if (typeof config === 'number') {
                    config = {
                        duration: config
                    };
                }
                return this.snackBar.open(translatedMessage, null, config);
            };
        /**
         * Opens a SnackBar notification with a message and a response button.
         * @param message The message (or resource key) to show.
         * @param action Caption for the response button
         * @param config Time before notification disappears after being shown or MatSnackBarConfig object
         * @returns Information/control object for the SnackBar
         */
        /**
         * Opens a SnackBar notification with a message and a response button.
         * @param {?} message The message (or resource key) to show.
         * @param {?} action Caption for the response button
         * @param {?=} config Time before notification disappears after being shown or MatSnackBarConfig object
         * @return {?} Information/control object for the SnackBar
         */
        NotificationService.prototype.openSnackMessageAction = /**
         * Opens a SnackBar notification with a message and a response button.
         * @param {?} message The message (or resource key) to show.
         * @param {?} action Caption for the response button
         * @param {?=} config Time before notification disappears after being shown or MatSnackBarConfig object
         * @return {?} Information/control object for the SnackBar
         */
            function (message, action, config) {
                if (config === void 0) {
                    config = NotificationService.DEFAULT_DURATION_MESSAGE;
                }
                /** @type {?} */
                var translatedMessage = this.translationService.instant(message);
                if (typeof config === 'number') {
                    config = {
                        duration: config
                    };
                }
                return this.snackBar.open(translatedMessage, action, config);
            };
        NotificationService.DEFAULT_DURATION_MESSAGE = 5000;
        NotificationService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        NotificationService.ctorParameters = function () {
            return [
                { type: material.MatSnackBar },
                { type: TranslationService }
            ];
        };
        return NotificationService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var ComponentTranslationModel = /** @class */ (function () {
        function ComponentTranslationModel(obj) {
            this.name = obj && obj.name;
            this.path = obj && obj.path;
            this.json = obj && obj.json || [];
        }
        return ComponentTranslationModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var TranslateLoaderService = /** @class */ (function () {
        function TranslateLoaderService(http$$1) {
            this.http = http$$1;
            this.prefix = 'i18n';
            this.suffix = '.json';
            this.providers = [];
            this.queue = [];
        }
        /**
         * @param {?} name
         * @param {?} path
         * @return {?}
         */
        TranslateLoaderService.prototype.registerProvider = /**
         * @param {?} name
         * @param {?} path
         * @return {?}
         */
            function (name, path) {
                /** @type {?} */
                var registered = this.providers.find(function (provider) { return provider.name === name; });
                if (registered) {
                    registered.path = path;
                }
                else {
                    this.providers.push(new ComponentTranslationModel({ name: name, path: path }));
                }
            };
        /**
         * @param {?} name
         * @return {?}
         */
        TranslateLoaderService.prototype.providerRegistered = /**
         * @param {?} name
         * @return {?}
         */
            function (name) {
                return this.providers.find(function (x) { return x.name === name; }) ? true : false;
            };
        /**
         * @param {?} lang
         * @return {?}
         */
        TranslateLoaderService.prototype.getComponentToFetch = /**
         * @param {?} lang
         * @return {?}
         */
            function (lang) {
                var _this = this;
                /** @type {?} */
                var observableBatch = [];
                if (!this.queue[lang]) {
                    this.queue[lang] = [];
                }
                this.providers.forEach(function (component) {
                    if (!_this.isComponentInQueue(lang, component.name)) {
                        _this.queue[lang].push(component.name);
                        /** @type {?} */
                        var translationUrl_1 = component.path + "/" + _this.prefix + "/" + lang + _this.suffix + "?v=" + Date.now();
                        observableBatch.push(_this.http.get(translationUrl_1).pipe(operators.map(function (res) {
                            component.json[lang] = res;
                        }), operators.retry(3), operators.catchError(function () { return rxjs.throwError("Failed to load " + translationUrl_1); })));
                    }
                });
                return observableBatch;
            };
        /**
         * @param {?} lang
         * @return {?}
         */
        TranslateLoaderService.prototype.init = /**
         * @param {?} lang
         * @return {?}
         */
            function (lang) {
                if (this.queue[lang] === undefined) {
                    this.queue[lang] = [];
                }
            };
        /**
         * @param {?} lang
         * @param {?} name
         * @return {?}
         */
        TranslateLoaderService.prototype.isComponentInQueue = /**
         * @param {?} lang
         * @param {?} name
         * @return {?}
         */
            function (lang, name) {
                return (this.queue[lang] || []).find(function (x) { return x === name; }) ? true : false;
            };
        /**
         * @param {?} lang
         * @return {?}
         */
        TranslateLoaderService.prototype.getFullTranslationJSON = /**
         * @param {?} lang
         * @return {?}
         */
            function (lang) {
                /** @type {?} */
                var result = {};
                this.providers
                    .slice(0)
                    .sort(function (a, b) {
                    if (a.name === 'app') {
                        return 1;
                    }
                    if (b.name === 'app') {
                        return -1;
                    }
                    return a.name.localeCompare(b.name);
                })
                    .forEach(function (model) {
                    if (model.json && model.json[lang]) {
                        result = ObjectUtils.merge(result, model.json[lang]);
                    }
                });
                return result;
            };
        /**
         * @param {?} lang
         * @return {?}
         */
        TranslateLoaderService.prototype.getTranslation = /**
         * @param {?} lang
         * @return {?}
         */
            function (lang) {
                var _this = this;
                /** @type {?} */
                var hasFailures = false;
                /** @type {?} */
                var batch = __spread(this.getComponentToFetch(lang).map(function (observable) {
                    return observable.pipe(operators.catchError(function (error) {
                        console.warn(error);
                        hasFailures = true;
                        return rxjs.of(error);
                    }));
                }));
                return rxjs.Observable.create(function (observer) {
                    if (batch.length > 0) {
                        rxjs.forkJoin(batch).subscribe(function () {
                            /** @type {?} */
                            var fullTranslation = _this.getFullTranslationJSON(lang);
                            if (fullTranslation) {
                                observer.next(fullTranslation);
                            }
                            if (hasFailures) {
                                observer.error('Failed to load some resources');
                            }
                            else {
                                observer.complete();
                            }
                        }, function (err) {
                            observer.error('Failed to load some resources');
                        });
                    }
                    else {
                        /** @type {?} */
                        var fullTranslation = _this.getFullTranslationJSON(lang);
                        if (fullTranslation) {
                            observer.next(fullTranslation);
                            observer.complete();
                        }
                    }
                });
            };
        TranslateLoaderService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        TranslateLoaderService.ctorParameters = function () {
            return [
                { type: http.HttpClient }
            ];
        };
        return TranslateLoaderService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var UploadService = /** @class */ (function () {
        function UploadService(apiService, appConfigService) {
            this.apiService = apiService;
            this.appConfigService = appConfigService;
            this.cache = {};
            this.totalComplete = 0;
            this.totalAborted = 0;
            this.totalError = 0;
            this.excludedFileList = [];
            this.matchingOptions = null;
            this.activeTask = null;
            this.queue = [];
            this.queueChanged = new rxjs.Subject();
            this.fileUpload = new rxjs.Subject();
            this.fileUploadStarting = new rxjs.Subject();
            this.fileUploadCancelled = new rxjs.Subject();
            this.fileUploadProgress = new rxjs.Subject();
            this.fileUploadAborted = new rxjs.Subject();
            this.fileUploadError = new rxjs.Subject();
            this.fileUploadComplete = new rxjs.Subject();
            this.fileUploadDeleted = new rxjs.Subject();
            this.fileDeleted = new rxjs.Subject();
        }
        /**
         * Checks whether the service is uploading a file.
         * @returns True if a file is uploading, false otherwise
         */
        /**
         * Checks whether the service is uploading a file.
         * @return {?} True if a file is uploading, false otherwise
         */
        UploadService.prototype.isUploading = /**
         * Checks whether the service is uploading a file.
         * @return {?} True if a file is uploading, false otherwise
         */
            function () {
                return this.activeTask ? true : false;
            };
        /**
         * Gets the file Queue
         * @returns Array of files that form the queue
         */
        /**
         * Gets the file Queue
         * @return {?} Array of files that form the queue
         */
        UploadService.prototype.getQueue = /**
         * Gets the file Queue
         * @return {?} Array of files that form the queue
         */
            function () {
                return this.queue;
            };
        /**
         * Adds files to the uploading queue to be uploaded
         * @param files One or more separate parameters or an array of files to queue
         * @returns Array of files that were not blocked from upload by the ignore list
         */
        /**
         * Adds files to the uploading queue to be uploaded
         * @param {...?} files One or more separate parameters or an array of files to queue
         * @return {?} Array of files that were not blocked from upload by the ignore list
         */
        UploadService.prototype.addToQueue = /**
         * Adds files to the uploading queue to be uploaded
         * @param {...?} files One or more separate parameters or an array of files to queue
         * @return {?} Array of files that were not blocked from upload by the ignore list
         */
            function () {
                var _this = this;
                var files = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    files[_i] = arguments[_i];
                }
                /** @type {?} */
                var allowedFiles = files.filter(function (currentFile) { return _this.filterElement(currentFile); });
                this.queue = this.queue.concat(allowedFiles);
                this.queueChanged.next(this.queue);
                return allowedFiles;
            };
        /**
         * @param {?} file
         * @return {?}
         */
        UploadService.prototype.filterElement = /**
         * @param {?} file
         * @return {?}
         */
            function (file) {
                var _this = this;
                /** @type {?} */
                var isAllowed = true;
                this.excludedFileList = /** @type {?} */ (this.appConfigService.get('files.excluded'));
                if (this.excludedFileList) {
                    this.matchingOptions = this.appConfigService.get('files.match-options');
                    isAllowed = this.excludedFileList.filter(function (pattern) {
                        /** @type {?} */
                        var minimatch = new minimatchBrowser.Minimatch(pattern, _this.matchingOptions);
                        return minimatch.match(file.name);
                    }).length === 0;
                }
                return isAllowed;
            };
        /**
         * Finds all the files in the queue that are not yet uploaded and uploads them into the directory folder.
         * @param emitter (Deprecated) Emitter to invoke on file status change
         */
        /**
         * Finds all the files in the queue that are not yet uploaded and uploads them into the directory folder.
         * @param {?=} emitter (Deprecated) Emitter to invoke on file status change
         * @return {?}
         */
        UploadService.prototype.uploadFilesInTheQueue = /**
         * Finds all the files in the queue that are not yet uploaded and uploads them into the directory folder.
         * @param {?=} emitter (Deprecated) Emitter to invoke on file status change
         * @return {?}
         */
            function (emitter) {
                var _this = this;
                if (!this.activeTask) {
                    /** @type {?} */
                    var file = this.queue.find(function (currentFile) { return currentFile.status === FileUploadStatus.Pending; });
                    if (file) {
                        this.onUploadStarting(file);
                        /** @type {?} */
                        var promise = this.beginUpload(file, emitter);
                        this.activeTask = promise;
                        this.cache[file.id] = promise;
                        /** @type {?} */
                        var next_1 = function () {
                            _this.activeTask = null;
                            setTimeout(function () { return _this.uploadFilesInTheQueue(emitter); }, 100);
                        };
                        promise.next = next_1;
                        promise.then(function () { return next_1(); }, function () { return next_1(); });
                    }
                }
            };
        /**
         * Cancels uploading of files.
         * @param files One or more separate parameters or an array of files specifying uploads to cancel
         */
        /**
         * Cancels uploading of files.
         * @param {...?} files One or more separate parameters or an array of files specifying uploads to cancel
         * @return {?}
         */
        UploadService.prototype.cancelUpload = /**
         * Cancels uploading of files.
         * @param {...?} files One or more separate parameters or an array of files specifying uploads to cancel
         * @return {?}
         */
            function () {
                var _this = this;
                var files = [];
                for (var _i = 0; _i < arguments.length; _i++) {
                    files[_i] = arguments[_i];
                }
                files.forEach(function (file) {
                    /** @type {?} */
                    var promise = _this.cache[file.id];
                    if (promise) {
                        promise.abort();
                        delete _this.cache[file.id];
                    }
                    else {
                        /** @type {?} */
                        var performAction = _this.getAction(file);
                        performAction();
                    }
                });
            };
        /** Clears the upload queue */
        /**
         * Clears the upload queue
         * @return {?}
         */
        UploadService.prototype.clearQueue = /**
         * Clears the upload queue
         * @return {?}
         */
            function () {
                this.queue = [];
                this.totalComplete = 0;
                this.totalAborted = 0;
                this.totalError = 0;
            };
        /**
         * Gets an upload promise for a file.
         * @param file The target file
         * @returns Promise that is resolved if the upload is successful or error otherwise
         */
        /**
         * Gets an upload promise for a file.
         * @param {?} file The target file
         * @return {?} Promise that is resolved if the upload is successful or error otherwise
         */
        UploadService.prototype.getUploadPromise = /**
         * Gets an upload promise for a file.
         * @param {?} file The target file
         * @return {?} Promise that is resolved if the upload is successful or error otherwise
         */
            function (file) {
                /** @type {?} */
                var opts = {
                    renditions: 'doclib',
                    include: ['allowableOperations']
                };
                if (file.options.newVersion === true) {
                    opts.overwrite = true;
                    opts.majorVersion = file.options.majorVersion;
                    opts.comment = file.options.comment;
                    opts.name = file.name;
                }
                else {
                    opts.autoRename = true;
                }
                if (file.options.nodeType) {
                    opts.nodeType = file.options.nodeType;
                }
                if (file.id) {
                    return this.apiService.getInstance().upload.updateFile(file.file, file.options.path, file.id, file.file, opts);
                }
                else {
                    return this.apiService.getInstance().upload.uploadFile(file.file, file.options.path, file.options.parentId, file.options, opts);
                }
            };
        /**
         * @param {?} file
         * @param {?} emitter
         * @return {?}
         */
        UploadService.prototype.beginUpload = /**
         * @param {?} file
         * @param {?} emitter
         * @return {?}
         */
            function (file, /* @deprecated */ /* @deprecated */ emitter) {
                var _this = this;
                /** @type {?} */
                var promise = this.getUploadPromise(file);
                promise.on('progress', function (progress) {
                    _this.onUploadProgress(file, progress);
                })
                    .on('abort', function () {
                    _this.onUploadAborted(file);
                    if (emitter) {
                        emitter.emit({ value: 'File aborted' });
                    }
                })
                    .on('error', function (err) {
                    _this.onUploadError(file, err);
                    if (emitter) {
                        emitter.emit({ value: 'Error file uploaded' });
                    }
                })
                    .on('success', function (data) {
                    _this.onUploadComplete(file, data);
                    if (emitter) {
                        emitter.emit({ value: data });
                    }
                })
                    .catch(function (err) {
                    throw err;
                });
                return promise;
            };
        /**
         * @param {?} file
         * @return {?}
         */
        UploadService.prototype.onUploadStarting = /**
         * @param {?} file
         * @return {?}
         */
            function (file) {
                if (file) {
                    file.status = FileUploadStatus.Starting;
                    /** @type {?} */
                    var event_1 = new FileUploadEvent(file, FileUploadStatus.Starting);
                    this.fileUpload.next(event_1);
                    this.fileUploadStarting.next(event_1);
                }
            };
        /**
         * @param {?} file
         * @param {?} progress
         * @return {?}
         */
        UploadService.prototype.onUploadProgress = /**
         * @param {?} file
         * @param {?} progress
         * @return {?}
         */
            function (file, progress) {
                if (file) {
                    file.progress = progress;
                    file.status = FileUploadStatus.Progress;
                    /** @type {?} */
                    var event_2 = new FileUploadEvent(file, FileUploadStatus.Progress);
                    this.fileUpload.next(event_2);
                    this.fileUploadProgress.next(event_2);
                }
            };
        /**
         * @param {?} file
         * @param {?} error
         * @return {?}
         */
        UploadService.prototype.onUploadError = /**
         * @param {?} file
         * @param {?} error
         * @return {?}
         */
            function (file, error) {
                if (file) {
                    file.status = FileUploadStatus.Error;
                    this.totalError++;
                    /** @type {?} */
                    var promise = this.cache[file.id];
                    if (promise) {
                        delete this.cache[file.id];
                    }
                    /** @type {?} */
                    var event_3 = new FileUploadErrorEvent(file, error, this.totalError);
                    this.fileUpload.next(event_3);
                    this.fileUploadError.next(event_3);
                }
            };
        /**
         * @param {?} file
         * @param {?} data
         * @return {?}
         */
        UploadService.prototype.onUploadComplete = /**
         * @param {?} file
         * @param {?} data
         * @return {?}
         */
            function (file, data) {
                if (file) {
                    file.status = FileUploadStatus.Complete;
                    file.data = data;
                    this.totalComplete++;
                    /** @type {?} */
                    var promise = this.cache[file.id];
                    if (promise) {
                        delete this.cache[file.id];
                    }
                    /** @type {?} */
                    var event_4 = new FileUploadCompleteEvent(file, this.totalComplete, data, this.totalAborted);
                    this.fileUpload.next(event_4);
                    this.fileUploadComplete.next(event_4);
                }
            };
        /**
         * @param {?} file
         * @return {?}
         */
        UploadService.prototype.onUploadAborted = /**
         * @param {?} file
         * @return {?}
         */
            function (file) {
                if (file) {
                    file.status = FileUploadStatus.Aborted;
                    this.totalAborted++;
                    /** @type {?} */
                    var promise = this.cache[file.id];
                    if (promise) {
                        delete this.cache[file.id];
                    }
                    /** @type {?} */
                    var event_5 = new FileUploadEvent(file, FileUploadStatus.Aborted);
                    this.fileUpload.next(event_5);
                    this.fileUploadAborted.next(event_5);
                    promise.next();
                }
            };
        /**
         * @param {?} file
         * @return {?}
         */
        UploadService.prototype.onUploadCancelled = /**
         * @param {?} file
         * @return {?}
         */
            function (file) {
                if (file) {
                    file.status = FileUploadStatus.Cancelled;
                    /** @type {?} */
                    var event_6 = new FileUploadEvent(file, FileUploadStatus.Cancelled);
                    this.fileUpload.next(event_6);
                    this.fileUploadCancelled.next(event_6);
                }
            };
        /**
         * @param {?} file
         * @return {?}
         */
        UploadService.prototype.onUploadDeleted = /**
         * @param {?} file
         * @return {?}
         */
            function (file) {
                if (file) {
                    file.status = FileUploadStatus.Deleted;
                    this.totalComplete--;
                    /** @type {?} */
                    var event_7 = new FileUploadDeleteEvent(file, this.totalComplete);
                    this.fileUpload.next(event_7);
                    this.fileUploadDeleted.next(event_7);
                }
            };
        /**
         * @param {?} file
         * @return {?}
         */
        UploadService.prototype.getAction = /**
         * @param {?} file
         * @return {?}
         */
            function (file) {
                var _this = this;
                var _a;
                /** @type {?} */
                var actions = (_a = {},
                    _a[FileUploadStatus.Pending] = function () { return _this.onUploadCancelled(file); },
                    _a[FileUploadStatus.Deleted] = function () { return _this.onUploadDeleted(file); },
                    _a[FileUploadStatus.Error] = function () { return _this.onUploadError(file, null); },
                    _a);
                return actions[file.status];
            };
        UploadService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        UploadService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: AppConfigService }
            ];
        };
        return UploadService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var DeletedNodesApiService = /** @class */ (function () {
        function DeletedNodesApiService(apiService, preferences) {
            this.apiService = apiService;
            this.preferences = preferences;
        }
        Object.defineProperty(DeletedNodesApiService.prototype, "nodesApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.apiService.getInstance().core.nodesApi;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Gets a list of nodes in the trash.
         * @param options Options for JSAPI call
         * @returns List of nodes in the trash
         */
        /**
         * Gets a list of nodes in the trash.
         * @param {?=} options Options for JSAPI call
         * @return {?} List of nodes in the trash
         */
        DeletedNodesApiService.prototype.getDeletedNodes = /**
         * Gets a list of nodes in the trash.
         * @param {?=} options Options for JSAPI call
         * @return {?} List of nodes in the trash
         */
            function (options) {
                /** @type {?} */
                var defaultOptions = {
                    include: ['path', 'properties'],
                    maxItems: this.preferences.paginationSize,
                    skipCount: 0
                };
                /** @type {?} */
                var queryOptions = Object.assign(defaultOptions, options);
                /** @type {?} */
                var promise = this.nodesApi.getDeletedNodes(queryOptions);
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return rxjs.of(err); }));
            };
        DeletedNodesApiService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        DeletedNodesApiService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: UserPreferencesService }
            ];
        };
        return DeletedNodesApiService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var FavoritesApiService = /** @class */ (function () {
        function FavoritesApiService(apiService, preferences) {
            this.apiService = apiService;
            this.preferences = preferences;
        }
        /**
         * @param {?} __0
         * @return {?}
         */
        FavoritesApiService.remapEntry = /**
         * @param {?} __0
         * @return {?}
         */
            function (_a) {
                var entry = _a.entry;
                entry.properties = {
                    'cm:title': entry.title,
                    'cm:description': entry.description
                };
                return { entry: entry };
            };
        /**
         * @param {?=} data
         * @return {?}
         */
        FavoritesApiService.prototype.remapFavoritesData = /**
         * @param {?=} data
         * @return {?}
         */
            function (data) {
                if (data === void 0) {
                    data = {};
                }
                /** @type {?} */
                var list = (data.list || {});
                /** @type {?} */
                var pagination = (list.pagination || {});
                /** @type {?} */
                var entries = this
                    .remapFavoriteEntries(list.entries || []);
                return /** @type {?} */ ({
                    list: { entries: entries, pagination: pagination }
                });
            };
        /**
         * @param {?} entries
         * @return {?}
         */
        FavoritesApiService.prototype.remapFavoriteEntries = /**
         * @param {?} entries
         * @return {?}
         */
            function (entries) {
                return entries
                    .map(function (_a) {
                    var target = _a.entry.target;
                    return ({
                        entry: target.file || target.folder
                    });
                })
                    .filter(function (_a) {
                    var entry = _a.entry;
                    return (!!entry);
                })
                    .map(FavoritesApiService.remapEntry);
            };
        Object.defineProperty(FavoritesApiService.prototype, "favoritesApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.apiService.getInstance().core.favoritesApi;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Gets the favorites for a user.
         * @param personId ID of the user
         * @param options Options supported by JSAPI
         * @returns List of favorites
         */
        /**
         * Gets the favorites for a user.
         * @param {?} personId ID of the user
         * @param {?=} options Options supported by JSAPI
         * @return {?} List of favorites
         */
        FavoritesApiService.prototype.getFavorites = /**
         * Gets the favorites for a user.
         * @param {?} personId ID of the user
         * @param {?=} options Options supported by JSAPI
         * @return {?} List of favorites
         */
            function (personId, options) {
                /** @type {?} */
                var defaultOptions = {
                    maxItems: this.preferences.paginationSize,
                    skipCount: 0,
                    where: '(EXISTS(target/file) OR EXISTS(target/folder))',
                    include: ['properties', 'allowableOperations']
                };
                /** @type {?} */
                var queryOptions = Object.assign(defaultOptions, options);
                /** @type {?} */
                var promise = this.favoritesApi
                    .getFavorites(personId, queryOptions)
                    .then(this.remapFavoritesData);
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return rxjs.of(err); }));
            };
        FavoritesApiService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        FavoritesApiService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: UserPreferencesService }
            ];
        };
        return FavoritesApiService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var NodesApiService = /** @class */ (function () {
        function NodesApiService(api, preferences) {
            this.api = api;
            this.preferences = preferences;
        }
        Object.defineProperty(NodesApiService.prototype, "nodesApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.api.getInstance().core.nodesApi;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @param {?} entity
         * @return {?}
         */
        NodesApiService.prototype.getEntryFromEntity = /**
         * @param {?} entity
         * @return {?}
         */
            function (entity) {
                return entity.entry;
            };
        /**
         * Gets the stored information about a node.
         * @param nodeId ID of the target node
         * @param options Optional parameters supported by JSAPI
         * @returns Node information
         */
        /**
         * Gets the stored information about a node.
         * @param {?} nodeId ID of the target node
         * @param {?=} options Optional parameters supported by JSAPI
         * @return {?} Node information
         */
        NodesApiService.prototype.getNode = /**
         * Gets the stored information about a node.
         * @param {?} nodeId ID of the target node
         * @param {?=} options Optional parameters supported by JSAPI
         * @return {?} Node information
         */
            function (nodeId, options) {
                if (options === void 0) {
                    options = {};
                }
                /** @type {?} */
                var defaults = {
                    include: ['path', 'properties', 'allowableOperations', 'permissions']
                };
                /** @type {?} */
                var queryOptions = Object.assign(defaults, options);
                /** @type {?} */
                var promise = this.nodesApi
                    .getNode(nodeId, queryOptions)
                    .then(this.getEntryFromEntity);
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return rxjs.throwError(err); }));
            };
        /**
         * Gets the items contained in a folder node.
         * @param nodeId ID of the target node
         * @param options Optional parameters supported by JSAPI
         * @returns List of child items from the folder
         */
        /**
         * Gets the items contained in a folder node.
         * @param {?} nodeId ID of the target node
         * @param {?=} options Optional parameters supported by JSAPI
         * @return {?} List of child items from the folder
         */
        NodesApiService.prototype.getNodeChildren = /**
         * Gets the items contained in a folder node.
         * @param {?} nodeId ID of the target node
         * @param {?=} options Optional parameters supported by JSAPI
         * @return {?} List of child items from the folder
         */
            function (nodeId, options) {
                if (options === void 0) {
                    options = {};
                }
                /** @type {?} */
                var defaults = {
                    maxItems: this.preferences.paginationSize,
                    skipCount: 0,
                    include: ['path', 'properties', 'allowableOperations', 'permissions']
                };
                /** @type {?} */
                var queryOptions = Object.assign(defaults, options);
                /** @type {?} */
                var promise = this.nodesApi
                    .getNodeChildren(nodeId, queryOptions);
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return rxjs.throwError(err); }));
            };
        /**
         * Creates a new document node inside a folder.
         * @param parentNodeId ID of the parent folder node
         * @param nodeBody Data for the new node
         * @param options Optional parameters supported by JSAPI
         * @returns Details of the new node
         */
        /**
         * Creates a new document node inside a folder.
         * @param {?} parentNodeId ID of the parent folder node
         * @param {?} nodeBody Data for the new node
         * @param {?=} options Optional parameters supported by JSAPI
         * @return {?} Details of the new node
         */
        NodesApiService.prototype.createNode = /**
         * Creates a new document node inside a folder.
         * @param {?} parentNodeId ID of the parent folder node
         * @param {?} nodeBody Data for the new node
         * @param {?=} options Optional parameters supported by JSAPI
         * @return {?} Details of the new node
         */
            function (parentNodeId, nodeBody, options) {
                if (options === void 0) {
                    options = {};
                }
                /** @type {?} */
                var promise = this.nodesApi
                    .addNode(parentNodeId, nodeBody, options)
                    .then(this.getEntryFromEntity);
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return rxjs.throwError(err); }));
            };
        /**
         * Creates a new folder node inside a parent folder.
         * @param parentNodeId ID of the parent folder node
         * @param nodeBody Data for the new folder
         * @param options Optional parameters supported by JSAPI
         * @returns Details of the new folder
         */
        /**
         * Creates a new folder node inside a parent folder.
         * @param {?} parentNodeId ID of the parent folder node
         * @param {?} nodeBody Data for the new folder
         * @param {?=} options Optional parameters supported by JSAPI
         * @return {?} Details of the new folder
         */
        NodesApiService.prototype.createFolder = /**
         * Creates a new folder node inside a parent folder.
         * @param {?} parentNodeId ID of the parent folder node
         * @param {?} nodeBody Data for the new folder
         * @param {?=} options Optional parameters supported by JSAPI
         * @return {?} Details of the new folder
         */
            function (parentNodeId, nodeBody, options) {
                if (options === void 0) {
                    options = {};
                }
                /** @type {?} */
                var body = Object.assign({ nodeType: 'cm:folder' }, nodeBody);
                return this.createNode(parentNodeId, body, options);
            };
        /**
         * Updates the information about a node.
         * @param nodeId ID of the target node
         * @param nodeBody New data for the node
         * @param options Optional parameters supported by JSAPI
         * @returns Updated node information
         */
        /**
         * Updates the information about a node.
         * @param {?} nodeId ID of the target node
         * @param {?} nodeBody New data for the node
         * @param {?=} options Optional parameters supported by JSAPI
         * @return {?} Updated node information
         */
        NodesApiService.prototype.updateNode = /**
         * Updates the information about a node.
         * @param {?} nodeId ID of the target node
         * @param {?} nodeBody New data for the node
         * @param {?=} options Optional parameters supported by JSAPI
         * @return {?} Updated node information
         */
            function (nodeId, nodeBody, options) {
                if (options === void 0) {
                    options = {};
                }
                /** @type {?} */
                var defaults = {
                    include: ['path', 'properties', 'allowableOperations', 'permissions']
                };
                /** @type {?} */
                var queryOptions = Object.assign(defaults, options);
                /** @type {?} */
                var promise = this.nodesApi
                    .updateNode(nodeId, nodeBody, queryOptions)
                    .then(this.getEntryFromEntity);
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return rxjs.throwError(err); }));
            };
        /**
         * Moves a node to the trashcan.
         * @param nodeId ID of the target node
         * @param options Optional parameters supported by JSAPI
         * @returns Empty result that notifies when the deletion is complete
         */
        /**
         * Moves a node to the trashcan.
         * @param {?} nodeId ID of the target node
         * @param {?=} options Optional parameters supported by JSAPI
         * @return {?} Empty result that notifies when the deletion is complete
         */
        NodesApiService.prototype.deleteNode = /**
         * Moves a node to the trashcan.
         * @param {?} nodeId ID of the target node
         * @param {?=} options Optional parameters supported by JSAPI
         * @return {?} Empty result that notifies when the deletion is complete
         */
            function (nodeId, options) {
                if (options === void 0) {
                    options = {};
                }
                /** @type {?} */
                var promise = this.nodesApi.deleteNode(nodeId, options);
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return rxjs.throwError(err); }));
            };
        /**
         * Restores a node previously moved to the trashcan.
         * @param nodeId ID of the node to restore
         * @returns Details of the restored node
         */
        /**
         * Restores a node previously moved to the trashcan.
         * @param {?} nodeId ID of the node to restore
         * @return {?} Details of the restored node
         */
        NodesApiService.prototype.restoreNode = /**
         * Restores a node previously moved to the trashcan.
         * @param {?} nodeId ID of the node to restore
         * @return {?} Details of the restored node
         */
            function (nodeId) {
                /** @type {?} */
                var promise = this.nodesApi
                    .restoreNode(nodeId)
                    .then(this.getEntryFromEntity);
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return rxjs.throwError(err); }));
            };
        NodesApiService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        NodesApiService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: UserPreferencesService }
            ];
        };
        return NodesApiService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var PeopleContentService = /** @class */ (function () {
        function PeopleContentService(apiService) {
            this.apiService = apiService;
        }
        Object.defineProperty(PeopleContentService.prototype, "peopleApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.apiService.getInstance().core.peopleApi;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Gets information about a user identified by their username.
         * @param personId ID of the target user
         * @returns User information
         */
        /**
         * Gets information about a user identified by their username.
         * @param {?} personId ID of the target user
         * @return {?} User information
         */
        PeopleContentService.prototype.getPerson = /**
         * Gets information about a user identified by their username.
         * @param {?} personId ID of the target user
         * @return {?} User information
         */
            function (personId) {
                /** @type {?} */
                var promise = this.peopleApi.getPerson(personId);
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return rxjs.of(err); }));
            };
        /**
         * Gets information about the user who is currently logged in.
         * @returns User information
         */
        /**
         * Gets information about the user who is currently logged in.
         * @return {?} User information
         */
        PeopleContentService.prototype.getCurrentPerson = /**
         * Gets information about the user who is currently logged in.
         * @return {?} User information
         */
            function () {
                return this.getPerson('-me-');
            };
        PeopleContentService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        PeopleContentService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService }
            ];
        };
        return PeopleContentService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SearchConfigurationService = /** @class */ (function () {
        function SearchConfigurationService() {
        }
        /**
         * Generates a QueryBody object with custom search parameters.
         * @param {?} searchTerm Term text to search for
         * @param {?} maxResults Maximum number of search results to show in a page
         * @param {?} skipCount The offset of the start of the page within the results list
         * @return {?} Query body defined by the parameters
         */
        SearchConfigurationService.prototype.generateQueryBody = /**
         * Generates a QueryBody object with custom search parameters.
         * @param {?} searchTerm Term text to search for
         * @param {?} maxResults Maximum number of search results to show in a page
         * @param {?} skipCount The offset of the start of the page within the results list
         * @return {?} Query body defined by the parameters
         */
            function (searchTerm, maxResults, skipCount) {
                /** @type {?} */
                var defaultQueryBody = {
                    query: {
                        query: searchTerm ? searchTerm + "* OR name:" + searchTerm + "*" : searchTerm
                    },
                    include: ['path', 'allowableOperations'],
                    paging: {
                        maxItems: maxResults,
                        skipCount: skipCount
                    },
                    filterQueries: [
                        { query: "TYPE:'cm:folder' OR TYPE:'cm:content'" },
                        { query: 'NOT cm:creator:System' }
                    ]
                };
                return defaultQueryBody;
            };
        SearchConfigurationService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        SearchConfigurationService.ctorParameters = function () { return []; };
        return SearchConfigurationService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SearchService = /** @class */ (function () {
        function SearchService(apiService, searchConfigurationService) {
            this.apiService = apiService;
            this.searchConfigurationService = searchConfigurationService;
            this.dataLoaded = new rxjs.Subject();
        }
        /**
         * @param {?} term
         * @param {?=} options
         * @return {?}
         */
        SearchService.prototype.getNodeQueryResults = /**
         * @param {?} term
         * @param {?=} options
         * @return {?}
         */
            function (term, options) {
                var _this = this;
                /** @type {?} */
                var promise = this.apiService.getInstance().core.queriesApi.findNodes(term, options);
                promise.then(function (data) {
                    _this.dataLoaded.next(data);
                });
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} searchTerm
         * @param {?} maxResults
         * @param {?} skipCount
         * @return {?}
         */
        SearchService.prototype.search = /**
         * @param {?} searchTerm
         * @param {?} maxResults
         * @param {?} skipCount
         * @return {?}
         */
            function (searchTerm, maxResults, skipCount) {
                var _this = this;
                /** @type {?} */
                var searchQuery = Object.assign(this.searchConfigurationService.generateQueryBody(searchTerm, maxResults, skipCount));
                /** @type {?} */
                var promise = this.apiService.getInstance().search.searchApi.search(searchQuery);
                promise.then(function (data) {
                    _this.dataLoaded.next(data);
                });
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} queryBody
         * @return {?}
         */
        SearchService.prototype.searchByQueryBody = /**
         * @param {?} queryBody
         * @return {?}
         */
            function (queryBody) {
                var _this = this;
                /** @type {?} */
                var promise = this.apiService.getInstance().search.searchApi.search(queryBody);
                promise.then(function (data) {
                    _this.dataLoaded.next(data);
                });
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * @param {?} error
         * @return {?}
         */
        SearchService.prototype.handleError = /**
         * @param {?} error
         * @return {?}
         */
            function (error) {
                return rxjs.throwError(error || 'Server error');
            };
        SearchService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        SearchService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: SearchConfigurationService }
            ];
        };
        return SearchService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SharedLinksApiService = /** @class */ (function () {
        function SharedLinksApiService(apiService, preferences) {
            this.apiService = apiService;
            this.preferences = preferences;
        }
        Object.defineProperty(SharedLinksApiService.prototype, "sharedLinksApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.apiService.getInstance().core.sharedlinksApi;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * Gets shared links available to the current user.
         * @param options Options supported by JSAPI
         * @returns List of shared links
         */
        /**
         * Gets shared links available to the current user.
         * @param {?=} options Options supported by JSAPI
         * @return {?} List of shared links
         */
        SharedLinksApiService.prototype.getSharedLinks = /**
         * Gets shared links available to the current user.
         * @param {?=} options Options supported by JSAPI
         * @return {?} List of shared links
         */
            function (options) {
                if (options === void 0) {
                    options = {};
                }
                /** @type {?} */
                var defaultOptions = {
                    maxItems: this.preferences.paginationSize,
                    skipCount: 0,
                    include: ['properties', 'allowableOperations']
                };
                /** @type {?} */
                var queryOptions = Object.assign({}, defaultOptions, options);
                /** @type {?} */
                var promise = this.sharedLinksApi.findSharedLinks(queryOptions);
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return rxjs.of(err); }));
            };
        /**
         * Creates a shared link available to the current user.
         * @param nodeId ID of the node to link to
         * @param options Options supported by JSAPI
         * @returns The shared link just created
         */
        /**
         * Creates a shared link available to the current user.
         * @param {?} nodeId ID of the node to link to
         * @param {?=} options Options supported by JSAPI
         * @return {?} The shared link just created
         */
        SharedLinksApiService.prototype.createSharedLinks = /**
         * Creates a shared link available to the current user.
         * @param {?} nodeId ID of the node to link to
         * @param {?=} options Options supported by JSAPI
         * @return {?} The shared link just created
         */
            function (nodeId, options) {
                if (options === void 0) {
                    options = {};
                }
                /** @type {?} */
                var promise = this.sharedLinksApi.addSharedLink({ nodeId: nodeId });
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return rxjs.of(err); }));
            };
        /**
         * Deletes a shared link.
         * @param sharedId ID of the link to delete
         * @returns Null response notifying when the operation is complete
         */
        /**
         * Deletes a shared link.
         * @param {?} sharedId ID of the link to delete
         * @return {?} Null response notifying when the operation is complete
         */
        SharedLinksApiService.prototype.deleteSharedLink = /**
         * Deletes a shared link.
         * @param {?} sharedId ID of the link to delete
         * @return {?} Null response notifying when the operation is complete
         */
            function (sharedId) {
                /** @type {?} */
                var promise = this.sharedLinksApi.deleteSharedLink(sharedId);
                return rxjs.from(promise).pipe(operators.catchError(function (err) { return rxjs.of(err); }));
            };
        SharedLinksApiService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        SharedLinksApiService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService },
                { type: UserPreferencesService }
            ];
        };
        return SharedLinksApiService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var SitesService = /** @class */ (function () {
        function SitesService(apiService) {
            this.apiService = apiService;
        }
        /**
         * Gets a list of all sites in the repository.
         * @param opts Options supported by JSAPI
         * @returns List of sites
         */
        /**
         * Gets a list of all sites in the repository.
         * @param {?=} opts Options supported by JSAPI
         * @return {?} List of sites
         */
        SitesService.prototype.getSites = /**
         * Gets a list of all sites in the repository.
         * @param {?=} opts Options supported by JSAPI
         * @return {?} List of sites
         */
            function (opts) {
                var _this = this;
                if (opts === void 0) {
                    opts = {};
                }
                /** @type {?} */
                var defaultOptions = {
                    skipCount: 0,
                    include: ['properties']
                };
                /** @type {?} */
                var queryOptions = Object.assign({}, defaultOptions, opts);
                return rxjs.from(this.apiService.getInstance().core.sitesApi.getSites(queryOptions))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets the details for a site.
         * @param siteId ID of the target site
         * @param opts Options supported by JSAPI
         * @returns Information about the site
         */
        /**
         * Gets the details for a site.
         * @param {?} siteId ID of the target site
         * @param {?=} opts Options supported by JSAPI
         * @return {?} Information about the site
         */
        SitesService.prototype.getSite = /**
         * Gets the details for a site.
         * @param {?} siteId ID of the target site
         * @param {?=} opts Options supported by JSAPI
         * @return {?} Information about the site
         */
            function (siteId, opts) {
                var _this = this;
                return rxjs.from(this.apiService.getInstance().core.sitesApi.getSite(siteId, opts))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Deletes a site.
         * @param siteId Site to delete
         * @param permanentFlag True: deletion is permanent; False: site is moved to the trash
         * @returns Null response notifying when the operation is complete
         */
        /**
         * Deletes a site.
         * @param {?} siteId Site to delete
         * @param {?=} permanentFlag True: deletion is permanent; False: site is moved to the trash
         * @return {?} Null response notifying when the operation is complete
         */
        SitesService.prototype.deleteSite = /**
         * Deletes a site.
         * @param {?} siteId Site to delete
         * @param {?=} permanentFlag True: deletion is permanent; False: site is moved to the trash
         * @return {?} Null response notifying when the operation is complete
         */
            function (siteId, permanentFlag) {
                var _this = this;
                if (permanentFlag === void 0) {
                    permanentFlag = true;
                }
                /** @type {?} */
                var options = {};
                options.permanent = permanentFlag;
                return rxjs.from(this.apiService.getInstance().core.sitesApi.deleteSite(siteId, options))
                    .pipe(operators.catchError(function (err) { return _this.handleError(err); }));
            };
        /**
         * Gets a site's content.
         * @param siteId ID of the target site
         * @returns Site content
         */
        /**
         * Gets a site's content.
         * @param {?} siteId ID of the target site
         * @return {?} Site content
         */
        SitesService.prototype.getSiteContent = /**
         * Gets a site's content.
         * @param {?} siteId ID of the target site
         * @return {?} Site content
         */
            function (siteId) {
                return this.getSite(siteId, { relations: ['containers'] });
            };
        /**
         * Gets a list of all a site's members.
         * @param siteId ID of the target site
         * @returns Site members
         */
        /**
         * Gets a list of all a site's members.
         * @param {?} siteId ID of the target site
         * @return {?} Site members
         */
        SitesService.prototype.getSiteMembers = /**
         * Gets a list of all a site's members.
         * @param {?} siteId ID of the target site
         * @return {?} Site members
         */
            function (siteId) {
                return this.getSite(siteId, { relations: ['members'] });
            };
        /**
         * Gets the username of the user currently logged into ACS.
         * @returns Username string
         */
        /**
         * Gets the username of the user currently logged into ACS.
         * @return {?} Username string
         */
        SitesService.prototype.getEcmCurrentLoggedUserName = /**
         * Gets the username of the user currently logged into ACS.
         * @return {?} Username string
         */
            function () {
                return this.apiService.getInstance().getEcmUsername();
            };
        /**
         * @param {?} error
         * @return {?}
         */
        SitesService.prototype.handleError = /**
         * @param {?} error
         * @return {?}
         */
            function (error) {
                console.error(error);
                return rxjs.throwError(error || 'Server error');
            };
        SitesService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        SitesService.ctorParameters = function () {
            return [
                { type: AlfrescoApiService }
            ];
        };
        return SitesService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var LoginDialogService = /** @class */ (function () {
        function LoginDialogService(dialog) {
            this.dialog = dialog;
        }
        /**
         * Opens a dialog to choose a file to upload.
         * @param action Name of the action to show in the title
         * @param contentEntry Item to upload
         * @returns Information about the chosen file(s)
         */
        /**
         * Opens a dialog to choose a file to upload.
         * @param {?} actionName
         * @param {?} title
         * @return {?} Information about the chosen file(s)
         */
        LoginDialogService.prototype.openLogin = /**
         * Opens a dialog to choose a file to upload.
         * @param {?} actionName
         * @param {?} title
         * @return {?} Information about the chosen file(s)
         */
            function (actionName, title) {
                /** @type {?} */
                var logged = new rxjs.Subject();
                logged.subscribe({
                    complete: this.close.bind(this)
                });
                /** @type {?} */
                var data = {
                    title: title,
                    actionName: actionName,
                    logged: logged
                };
                this.openLoginDialog(data, 'adf-login-dialog', '630px');
                return logged;
            };
        /**
         * @param {?} data
         * @param {?} currentPanelClass
         * @param {?} chosenWidth
         * @return {?}
         */
        LoginDialogService.prototype.openLoginDialog = /**
         * @param {?} data
         * @param {?} currentPanelClass
         * @param {?} chosenWidth
         * @return {?}
         */
            function (data, currentPanelClass, chosenWidth) {
                this.dialog.open(LoginDialogComponent, { data: data, panelClass: currentPanelClass, width: chosenWidth });
            };
        /** Closes the currently open dialog. */
        /**
         * Closes the currently open dialog.
         * @return {?}
         */
        LoginDialogService.prototype.close = /**
         * Closes the currently open dialog.
         * @return {?}
         */
            function () {
                this.dialog.closeAll();
            };
        LoginDialogService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        LoginDialogService.ctorParameters = function () {
            return [
                { type: material.MatDialog }
            ];
        };
        return LoginDialogService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ExternalAlfrescoApiService = /** @class */ (function () {
        function ExternalAlfrescoApiService() {
        }
        /**
         * @return {?}
         */
        ExternalAlfrescoApiService.prototype.getInstance = /**
         * @return {?}
         */
            function () {
                return this.alfrescoApi;
            };
        Object.defineProperty(ExternalAlfrescoApiService.prototype, "contentApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().content;
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ExternalAlfrescoApiService.prototype, "nodesApi", {
            get: /**
             * @return {?}
             */ function () {
                return this.getInstance().nodes;
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @param {?} ecmHost
         * @param {?} contextRoot
         * @return {?}
         */
        ExternalAlfrescoApiService.prototype.init = /**
         * @param {?} ecmHost
         * @param {?} contextRoot
         * @return {?}
         */
            function (ecmHost, contextRoot) {
                /** @type {?} */
                var domainPrefix = this.createPrefixFromHost(ecmHost);
                /** @type {?} */
                var config = {
                    provider: 'ECM',
                    hostEcm: ecmHost,
                    authType: 'BASIC',
                    contextRoot: contextRoot,
                    domainPrefix: domainPrefix
                };
                this.initAlfrescoApi(config);
            };
        /**
         * @param {?} config
         * @return {?}
         */
        ExternalAlfrescoApiService.prototype.initAlfrescoApi = /**
         * @param {?} config
         * @return {?}
         */
            function (config) {
                if (this.alfrescoApi) {
                    this.alfrescoApi.configureJsApi(config);
                }
                else {
                    this.alfrescoApi = /** @type {?} */ (new alfrescoApi(config));
                }
            };
        /**
         * @param {?} url
         * @return {?}
         */
        ExternalAlfrescoApiService.prototype.createPrefixFromHost = /**
         * @param {?} url
         * @return {?}
         */
            function (url) {
                /** @type {?} */
                var match = url.match(/:\/\/(www[0-9]?\.)?(.[^/:]+)/i);
                /** @type {?} */
                var result = null;
                if (match != null && match.length > 2 && typeof match[2] === 'string' && match[2].length > 0) {
                    result = match[2];
                }
                return result;
            };
        ExternalAlfrescoApiService.decorators = [
            { type: i0.Injectable }
        ];
        return ExternalAlfrescoApiService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ClipboardService = /** @class */ (function () {
        function ClipboardService(document, logService, notificationService) {
            this.document = document;
            this.logService = logService;
            this.notificationService = notificationService;
        }
        /**
         * @param {?} target
         * @return {?}
         */
        ClipboardService.prototype.isTargetValid = /**
         * @param {?} target
         * @return {?}
         */
            function (target) {
                if (target instanceof HTMLInputElement || target instanceof HTMLTextAreaElement) {
                    if (target.hasAttribute('disabled')) {
                        return false;
                    }
                    return true;
                }
                this.logService.error(target + " should be input or textarea");
                return false;
            };
        /**
         * @param {?} target
         * @param {?=} message
         * @return {?}
         */
        ClipboardService.prototype.copyToClipboard = /**
         * @param {?} target
         * @param {?=} message
         * @return {?}
         */
            function (target, message) {
                if (this.isTargetValid(target)) {
                    try {
                        target.select();
                        target.setSelectionRange(0, target.value.length);
                        this.document.execCommand('copy');
                        this.notify(message);
                    }
                    catch (error) {
                        this.logService.error(error);
                    }
                }
            };
        /**
         * @param {?} message
         * @return {?}
         */
        ClipboardService.prototype.notify = /**
         * @param {?} message
         * @return {?}
         */
            function (message) {
                if (message) {
                    this.notificationService.openSnackMessage(message);
                }
            };
        ClipboardService.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        ClipboardService.ctorParameters = function () {
            return [
                { type: undefined, decorators: [{ type: i0.Inject, args: [platformBrowser.DOCUMENT,] }] },
                { type: LogService },
                { type: NotificationService }
            ];
        };
        return ClipboardService;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ClipboardDirective = /** @class */ (function () {
        function ClipboardDirective(clipboardService) {
            this.clipboardService = clipboardService;
        }
        /**
         * @param {?} event
         * @return {?}
         */
        ClipboardDirective.prototype.handleClickEvent = /**
         * @param {?} event
         * @return {?}
         */
            function (event) {
                event.preventDefault();
                this.copyToClipboard();
            };
        /**
         * @return {?}
         */
        ClipboardDirective.prototype.copyToClipboard = /**
         * @return {?}
         */
            function () {
                /** @type {?} */
                var isValidTarget = this.clipboardService.isTargetValid(this.target);
                if (isValidTarget) {
                    this.clipboardService.copyToClipboard(this.target, this.message);
                }
            };
        ClipboardDirective.decorators = [
            { type: i0.Directive, args: [{
                        selector: '[adf-clipboard]',
                        exportAs: 'adfClipboard'
                    },] }
        ];
        /** @nocollapse */
        ClipboardDirective.ctorParameters = function () {
            return [
                { type: ClipboardService }
            ];
        };
        ClipboardDirective.propDecorators = {
            target: [{ type: i0.Input, args: ['adf-clipboard',] }],
            message: [{ type: i0.Input, args: ['clipboard-notification',] }],
            handleClickEvent: [{ type: i0.HostListener, args: ['click', ['$event'],] }]
        };
        return ClipboardDirective;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var ClipboardModule = /** @class */ (function () {
        function ClipboardModule() {
        }
        ClipboardModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            common.CommonModule
                        ],
                        providers: [
                            ClipboardService
                        ],
                        declarations: [
                            ClipboardDirective
                        ],
                        exports: [
                            ClipboardDirective
                        ]
                    },] }
        ];
        return ClipboardModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var EcmCompanyModel = /** @class */ (function () {
        function EcmCompanyModel() {
        }
        return EcmCompanyModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /**
     * This object represent the user redirection guard.*
     */
    var /**
     * This object represent the user redirection guard.*
     */ RedirectionModel = /** @class */ (function () {
        function RedirectionModel(obj) {
            if (obj) {
                this.provider = obj.provider;
                this.url = obj.url || null;
            }
        }
        return RedirectionModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /**
     * @deprecated
     * CommentProcessModel
     * (this model is deprecated in 2.3.0 in favour of CommentModel and will be removed in future revisions)
     */
    var /**
     * @deprecated
     * CommentProcessModel
     * (this model is deprecated in 2.3.0 in favour of CommentModel and will be removed in future revisions)
     */ CommentProcessModel = /** @class */ (function () {
        function CommentProcessModel(obj) {
            if (obj) {
                this.id = obj.id;
                this.message = obj.message;
                this.created = obj.created;
                this.createdBy = obj.createdBy;
                this.isSelected = obj.isSelected ? obj.isSelected : false;
            }
        }
        return CommentProcessModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var PaginationModel = /** @class */ (function () {
        function PaginationModel(obj) {
            if (obj) {
                this.count = obj.count;
                this.hasMoreItems = obj.hasMoreItems ? obj.hasMoreItems : false;
                this.merge = obj.merge ? obj.merge : false;
                this.totalItems = obj.totalItems;
                this.skipCount = obj.skipCount;
                this.maxItems = obj.maxItems;
            }
        }
        return PaginationModel;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var AlfrescoApiMock = /** @class */ (function () {
        function AlfrescoApiMock() {
        }
        /**
         * @param {?} username
         * @param {?} password
         * @return {?}
         */
        AlfrescoApiMock.prototype.login = /**
         * @param {?} username
         * @param {?} password
         * @return {?}
         */
            function (username, password) {
                return new Promise(function (resolve) {
                    resolve('TICKET_4479f4d3bb155195879bfbb8d5206f433488a1b1');
                });
            };
        /**
         * @return {?}
         */
        AlfrescoApiMock.prototype.logout = /**
         * @return {?}
         */
            function () {
                return new Promise(function (resolve) {
                    resolve('logout');
                });
            };
        /**
         * @return {?}
         */
        AlfrescoApiMock.prototype.changeConfig = /**
         * @return {?}
         */
            function () {
            };
        return AlfrescoApiMock;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AppConfigServiceMock = /** @class */ (function (_super) {
        __extends(AppConfigServiceMock, _super);
        function AppConfigServiceMock(http$$1) {
            var _this = _super.call(this, http$$1) || this;
            _this.config = {
                application: {
                    name: 'Alfresco ADF Application'
                },
                ecmHost: 'http://{hostname}{:port}/ecm',
                bpmHost: 'http://{hostname}{:port}/bpm',
                logLevel: 'silent'
            };
            return _this;
        }
        /**
         * @return {?}
         */
        AppConfigServiceMock.prototype.load = /**
         * @return {?}
         */
            function () {
                var _this = this;
                return new Promise(function (resolve) {
                    resolve(_this.config);
                });
            };
        AppConfigServiceMock.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        AppConfigServiceMock.ctorParameters = function () {
            return [
                { type: http.HttpClient }
            ];
        };
        return AppConfigServiceMock;
    }(AppConfigService));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /** @type {?} */
    var fakeApps = {
        size: 2, total: 2, start: 0,
        data: [
            {
                id: 1, defaultAppId: null, name: 'Sales-Fakes-App', description: 'desc-fake1', modelId: 22,
                theme: 'theme-1-fake', icon: 'glyphicon-asterisk', 'deploymentId': '111', 'tenantId': null
            },
            {
                id: 2, defaultAppId: null, name: 'health-care-Fake', description: 'desc-fake2', modelId: 33,
                theme: 'theme-2-fake', icon: 'glyphicon-asterisk', 'deploymentId': '444', 'tenantId': null
            }
        ]
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AuthenticationMock = /** @class */ (function () {
        function AuthenticationMock() {
            this.redirectUrl = null;
        }
        /**
         * @param {?} url
         * @return {?}
         */
        AuthenticationMock.prototype.setRedirectUrl = /**
         * @param {?} url
         * @return {?}
         */
            function (url) {
                this.redirectUrl = url;
            };
        /**
         * @return {?}
         */
        AuthenticationMock.prototype.getRedirectUrl = /**
         * @return {?}
         */
            function () {
                return this.redirectUrl ? this.redirectUrl.url : null;
            };
        // TODO: real auth service returns Observable<string>
        /**
         * @param {?} username
         * @param {?} password
         * @return {?}
         */
        AuthenticationMock.prototype.login = /**
         * @param {?} username
         * @param {?} password
         * @return {?}
         */
            function (username, password) {
                if (username === 'fake-username' && password === 'fake-password') {
                    return rxjs.of({ type: 'type', ticket: 'ticket' });
                }
                if (username === 'fake-username-CORS-error' && password === 'fake-password') {
                    return rxjs.throwError({
                        error: {
                            crossDomain: true,
                            message: 'ERROR: the network is offline, Origin is not allowed by Access-Control-Allow-Origin'
                        }
                    });
                }
                if (username === 'fake-username-CSRF-error' && password === 'fake-password') {
                    return rxjs.throwError({ message: 'ERROR: Invalid CSRF-token', status: 403 });
                }
                if (username === 'fake-username-ECM-access-error' && password === 'fake-password') {
                    return rxjs.throwError({ message: 'ERROR: 00170728 Access Denied.  The system is currently in read-only mode', status: 403 });
                }
                return rxjs.throwError('Fake server error');
            };
        return AuthenticationMock;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /** @type {?} */
    var fakeBpmUserNoImage = {
        apps: [],
        capabilities: 'fake-capability',
        company: 'fake-company',
        created: 'fake-create-date',
        email: 'fakeBpm@fake.com',
        externalId: 'fake-external-id',
        firstName: 'fake-first-name',
        lastName: 'fake-last-name',
        fullname: 'fake-full-name',
        groups: [],
        id: 'fake-id',
        lastUpdate: 'fake-update-date',
        latestSyncTimeStamp: 'fake-timestamp',
        password: 'fake-password',
        pictureId: undefined,
        status: 'fake-status',
        tenantId: 'fake-tenant-id',
        tenantName: 'fake-tenant-name',
        tenantPictureId: 'fake-tenant-picture-id',
        type: 'fake-type'
    };
    /** @type {?} */
    var fakeBpmUser = {
        apps: [],
        capabilities: null,
        company: 'fake-company',
        created: 'fake-create-date',
        email: 'fakeBpm@fake.com',
        externalId: 'fake-external-id',
        firstName: 'fake-bpm-first-name',
        lastName: 'fake-bpm-last-name',
        fullname: 'fake-bpm-full-name',
        groups: [],
        id: 'fake-id',
        lastUpdate: 'fake-update-date',
        latestSyncTimeStamp: 'fake-timestamp',
        password: 'fake-password',
        pictureId: 12,
        status: 'fake-status',
        tenantId: 'fake-tenant-id',
        tenantName: 'fake-tenant-name',
        tenantPictureId: 'fake-tenant-picture-id',
        type: 'fake-type'
    };
    /** @type {?} */
    var fakeBpmEditedUser = {
        apps: [],
        capabilities: 'fake-capability',
        company: 'fake-company',
        created: 'fake-create-date',
        email: 'fakeBpm@fake.com',
        externalId: 'fake-external-id',
        firstName: 'fake-first-name',
        lastName: 'fake-last-name',
        fullname: 'fake-full-name',
        groups: [],
        id: 'fake-id',
        lastUpdate: 'fake-update-date',
        latestSyncTimeStamp: 'fake-timestamp',
        password: 'fake-password',
        pictureId: 'src/assets/images/bpmImg.gif',
        status: 'fake-status',
        tenantId: 'fake-tenant-id',
        tenantName: 'fake-tenant-name',
        tenantPictureId: 'fake-tenant-picture-id',
        type: 'fake-type'
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var fakeUser1 = { id: 1, email: 'fake-email@dom.com', firstName: 'firstName', lastName: 'lastName' };
    /** @type {?} */
    var fakeUser2 = { id: 1001, email: 'some-one@somegroup.com', firstName: 'some', lastName: 'one' };
    /** @type {?} */
    var fakeTasksComment = {
        size: 2, total: 2, start: 0,
        data: [
            {
                id: 1, message: 'fake-message-1', created: '', createdBy: fakeUser1
            },
            {
                id: 2, message: 'fake-message-2', created: '', createdBy: fakeUser1
            }
        ]
    };
    /** @type {?} */
    var fakeProcessComment = new CommentModel({ id: 1, message: 'Test', created: new Date('2016-11-10T03:37:30.010+0000'), createdBy: new UserProcessModel({
            id: 13,
            firstName: 'Wilbur',
            lastName: 'Adams',
            email: 'wilbur@app.com'
        }) });

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var CookieServiceMock = /** @class */ (function (_super) {
        __extends(CookieServiceMock, _super);
        function CookieServiceMock() {
            return _super !== null && _super.apply(this, arguments) || this;
        }
        /** @override */
        /**
         * @override
         * @return {?}
         */
        CookieServiceMock.prototype.isEnabled = /**
         * @override
         * @return {?}
         */
            function () {
                return true;
            };
        /** @override */
        /**
         * @override
         * @param {?} key
         * @return {?}
         */
        CookieServiceMock.prototype.getItem = /**
         * @override
         * @param {?} key
         * @return {?}
         */
            function (key) {
                return this[key] && this[key].data || null;
            };
        /** @override */
        /**
         * @override
         * @param {?} key
         * @param {?} data
         * @param {?} expiration
         * @param {?} path
         * @return {?}
         */
        CookieServiceMock.prototype.setItem = /**
         * @override
         * @param {?} key
         * @param {?} data
         * @param {?} expiration
         * @param {?} path
         * @return {?}
         */
            function (key, data, expiration, path) {
                this[key] = { data: data, expiration: expiration, path: path };
            };
        /** @override */
        /**
         * @override
         * @return {?}
         */
        CookieServiceMock.prototype.clear = /**
         * @override
         * @return {?}
         */
            function () {
                var _this = this;
                Object.keys(this).forEach(function (key) {
                    if (_this.hasOwnProperty(key) && typeof (_this[key]) !== 'function') {
                        _this[key] = undefined;
                    }
                });
            };
        return CookieServiceMock;
    }(CookieService));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /** @type {?} */
    var fakeEcmCompany = {
        organization: 'company-fake-name',
        address1: 'fake-address-1',
        address2: 'fake-address-2',
        address3: 'fake-address-3',
        postcode: 'fAk1',
        telephone: '00000000',
        fax: '11111111',
        email: 'fakeCompany@fake.com'
    };
    /** @type {?} */
    var fakeEcmUser = {
        id: 'fake-id',
        firstName: 'fake-ecm-first-name',
        lastName: 'fake-ecm-last-name',
        description: 'i am a fake user for test',
        avatarId: 'fake-avatar-id',
        email: 'fakeEcm@ecmUser.com',
        skypeId: 'fake-skype-id',
        googleId: 'fake-googleId-id',
        instantMessageId: 'fake-instantMessageId-id',
        company: null,
        jobTitle: 'job-ecm-test',
        location: 'fake location',
        mobile: '000000000',
        telephone: '11111111',
        statusUpdatedAt: 'fake-date',
        userStatus: 'active',
        enabled: true,
        emailNotificationsEnabled: true
    };
    /** @type {?} */
    var fakeEcmUserNoImage = {
        id: 'fake-id',
        firstName: 'fake-first-name',
        lastName: 'fake-last-name',
        description: 'i am a fake user for test',
        avatarId: null,
        email: 'fakeEcm@ecmUser.com',
        skypeId: 'fake-skype-id',
        googleId: 'fake-googleId-id',
        instantMessageId: 'fake-instantMessageId-id',
        company: null,
        jobTitle: null,
        location: 'fake location',
        mobile: '000000000',
        telephone: '11111111',
        statusUpdatedAt: 'fake-date',
        userStatus: 'active',
        enabled: true,
        emailNotificationsEnabled: true
    };
    /** @type {?} */
    var fakeEcmEditedUser = {
        id: 'fake-id',
        firstName: null,
        lastName: 'fake-last-name',
        description: 'i am a fake user for test',
        avatarId: 'fake-avatar-id',
        email: 'fakeEcm@ecmUser.com',
        skypeId: 'fake-skype-id',
        googleId: 'fake-googleId-id',
        instantMessageId: 'fake-instantMessageId-id',
        company: null,
        jobTitle: 'test job',
        location: 'fake location',
        mobile: '000000000',
        telephone: '11111111',
        statusUpdatedAt: 'fake-date',
        userStatus: 'active',
        enabled: true,
        emailNotificationsEnabled: true
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    var EventMock = /** @class */ (function () {
        function EventMock() {
        }
        /**
         * @param {?} key
         * @return {?}
         */
        EventMock.keyDown = /**
         * @param {?} key
         * @return {?}
         */
            function (key) {
                /** @type {?} */
                var event = document.createEvent('Event');
                event.keyCode = key;
                event.initEvent('keydown');
                document.dispatchEvent(event);
            };
        /**
         * @param {?} key
         * @return {?}
         */
        EventMock.keyUp = /**
         * @param {?} key
         * @return {?}
         */
            function (key) {
                /** @type {?} */
                var event = document.createEvent('Event');
                event.keyCode = key;
                event.initEvent('keyup');
                document.dispatchEvent(event);
            };
        /**
         * @return {?}
         */
        EventMock.resizeMobileView = /**
         * @return {?}
         */
            function () {
                // todo: no longer compiles with TS 2.0.2 as innerWidth/innerHeight are readonly fields
                /*
                        window.innerWidth = 320;
                        window.innerHeight = 568;
                        */
                window.dispatchEvent(new Event('resize'));
            };
        return EventMock;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /** @type {?} */
    var fakeRedition = {
        'entry': {
            'id': 'pdf',
            'content': { 'mimeType': 'application/pdf', 'mimeTypeName': 'Adobe PDF Document' },
            'status': 'NOT_CREATED'
        }
    };
    /** @type {?} */
    var fakeReditionCreated = {
        'entry': {
            'id': 'pdf',
            'content': { 'mimeType': 'application/pdf', 'mimeTypeName': 'Adobe PDF Document' },
            'status': 'CREATED'
        }
    };
    /** @type {?} */
    var fakeReditionsList = {
        'list': {
            'pagination': {
                'count': 6,
                'hasMoreItems': false,
                'totalItems': 6,
                'skipCount': 0,
                'maxItems': 100
            },
            'entries': [{
                    'entry': {
                        'id': 'avatar',
                        'content': { 'mimeType': 'image/png', 'mimeTypeName': 'PNG Image' },
                        'status': 'NOT_CREATED'
                    }
                }, {
                    'entry': {
                        'id': 'avatar32',
                        'content': { 'mimeType': 'image/png', 'mimeTypeName': 'PNG Image' },
                        'status': 'NOT_CREATED'
                    }
                }, {
                    'entry': {
                        'id': 'doclib',
                        'content': { 'mimeType': 'image/png', 'mimeTypeName': 'PNG Image' },
                        'status': 'NOT_CREATED'
                    }
                }, {
                    'entry': {
                        'id': 'imgpreview',
                        'content': { 'mimeType': 'image/jpeg', 'mimeTypeName': 'JPEG Image' },
                        'status': 'NOT_CREATED'
                    }
                }, {
                    'entry': {
                        'id': 'medium',
                        'content': { 'mimeType': 'image/jpeg', 'mimeTypeName': 'JPEG Image' },
                        'status': 'NOT_CREATED'
                    }
                }, {
                    'entry': {
                        'id': 'pdf',
                        'content': { 'mimeType': 'application/pdf', 'mimeTypeName': 'Adobe PDF Document' },
                        'status': 'NOT_CREATED'
                    }
                }]
        }
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /** @type {?} */
    var fakeSearch = {
        list: {
            pagination: {
                count: 1,
                hasMoreItems: false,
                totalItems: 1,
                skipCount: 0,
                maxItems: 100
            },
            entries: [
                {
                    entry: {
                        id: '123',
                        name: 'MyDoc',
                        content: {
                            mimetype: 'text/plain'
                        },
                        createdByUser: {
                            displayName: 'John Doe'
                        },
                        modifiedByUser: {
                            displayName: 'John Doe'
                        }
                    }
                }
            ]
        }
    };
    /** @type {?} */
    var mockError = {
        error: {
            errorKey: 'Search failed',
            statusCode: 400,
            briefSummary: '08220082 search failed',
            stackTrace: 'For security reasons the stack trace is no longer displayed, but the property is kept for previous versions.',
            descriptionURL: 'https://api-explorer.alfresco.com'
        }
    };
    /** @type {?} */
    var searchMockApi = {
        core: {
            queriesApi: {
                findNodes: function (term, opts) { return Promise.resolve(fakeSearch); }
            }
        }
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var TranslationMock = /** @class */ (function () {
        function TranslationMock() {
            this.defaultLang = 'en';
            this.translate = {
                onLangChange: new i0.EventEmitter()
            };
        }
        /**
         * @return {?}
         */
        TranslationMock.prototype.addTranslationFolder = /**
         * @return {?}
         */
            function () { };
        /**
         * @return {?}
         */
        TranslationMock.prototype.onTranslationChanged = /**
         * @return {?}
         */
            function () { };
        /**
         * @return {?}
         */
        TranslationMock.prototype.use = /**
         * @return {?}
         */
            function () { };
        /**
         * @return {?}
         */
        TranslationMock.prototype.loadTranslation = /**
         * @return {?}
         */
            function () { };
        /**
         * @param {?} key
         * @param {?=} interpolateParams
         * @return {?}
         */
        TranslationMock.prototype.get = /**
         * @param {?} key
         * @param {?=} interpolateParams
         * @return {?}
         */
            function (key, interpolateParams) {
                return rxjs.of(key);
            };
        /**
         * @param {?} key
         * @param {?=} interpolateParams
         * @return {?}
         */
        TranslationMock.prototype.instant = /**
         * @param {?} key
         * @param {?=} interpolateParams
         * @return {?}
         */
            function (key, interpolateParams) {
                return key;
            };
        return TranslationMock;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    var AlfrescoApiServiceMock = /** @class */ (function (_super) {
        __extends(AlfrescoApiServiceMock, _super);
        function AlfrescoApiServiceMock(appConfig, storage) {
            var _this = _super.call(this, appConfig, storage) || this;
            _this.appConfig = appConfig;
            _this.storage = storage;
            if (!_this.alfrescoApi) {
                _this.initAlfrescoApi();
            }
            return _this;
        }
        AlfrescoApiServiceMock.decorators = [
            { type: i0.Injectable }
        ];
        /** @nocollapse */
        AlfrescoApiServiceMock.ctorParameters = function () {
            return [
                { type: AppConfigService },
                { type: StorageService }
            ];
        };
        return AlfrescoApiServiceMock;
    }(AlfrescoApiService));

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /** @type {?} */
    var fakeForm = {
        id: 1001,
        name: 'ISSUE_FORM',
        processDefinitionId: 'ISSUE_APP:1:2504',
        processDefinitionName: 'ISSUE_APP',
        processDefinitionKey: 'ISSUE_APP',
        taskId: '7506',
        taskDefinitionKey: 'sid-F67A2996-1684-4774-855A-4591490081FD',
        tabs: [],
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: '1498212398417',
                name: 'Label',
                type: 'container',
                value: null,
                required: false,
                readOnly: false,
                overrideId: false,
                colspan: 1,
                placeholder: null,
                minLength: 0,
                maxLength: 0,
                minValue: null,
                maxValue: null,
                regexPattern: null,
                optionType: null,
                hasEmptyValue: null,
                options: null,
                restUrl: null,
                restResponsePath: null,
                restIdProperty: null,
                restLabelProperty: null,
                tab: null,
                className: null,
                dateDisplayFormat: null,
                layout: null,
                sizeX: 2,
                sizeY: 1,
                row: -1,
                col: -1,
                visibilityCondition: null,
                numberOfColumns: 2,
                fields: {
                    1: [
                        {
                            fieldType: 'RestFieldRepresentation',
                            id: 'label',
                            name: 'Label',
                            type: 'dropdown',
                            value: 'Choose one...',
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: true,
                            options: [
                                {
                                    id: 'empty',
                                    name: 'Choose one...'
                                },
                                {
                                    id: 'option_1',
                                    name: 'test1'
                                },
                                {
                                    id: 'option_2',
                                    name: 'test2'
                                },
                                {
                                    id: 'option_3',
                                    name: 'test3'
                                }
                            ],
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 2
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null,
                            endpoint: null,
                            requestHeaders: null
                        }
                    ],
                    2: [
                        {
                            fieldType: 'RestFieldRepresentation',
                            id: 'radio',
                            name: 'radio',
                            type: 'radio-buttons',
                            value: null,
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: [
                                {
                                    id: 'option_1',
                                    name: 'Option 1'
                                },
                                {
                                    id: 'option_2',
                                    name: 'Option 2'
                                },
                                {
                                    id: 'option_3',
                                    name: 'Option 3'
                                }
                            ],
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 1
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 2,
                            row: -1,
                            col: -1,
                            visibilityCondition: null,
                            endpoint: null,
                            requestHeaders: null
                        }
                    ]
                }
            },
            {
                fieldType: 'ContainerRepresentation',
                id: '1498212413062',
                name: 'Label',
                type: 'container',
                value: null,
                required: false,
                readOnly: false,
                overrideId: false,
                colspan: 1,
                placeholder: null,
                minLength: 0,
                maxLength: 0,
                minValue: null,
                maxValue: null,
                regexPattern: null,
                optionType: null,
                hasEmptyValue: null,
                options: null,
                restUrl: null,
                restResponsePath: null,
                restIdProperty: null,
                restLabelProperty: null,
                tab: null,
                className: null,
                dateDisplayFormat: null,
                layout: null,
                sizeX: 2,
                sizeY: 1,
                row: -1,
                col: -1,
                visibilityCondition: null,
                numberOfColumns: 2,
                fields: {
                    1: [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'date',
                            name: 'date',
                            type: 'date',
                            value: null,
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 2
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ],
                    2: []
                }
            }
        ],
        outcomes: [],
        javascriptEvents: [],
        className: '',
        style: '',
        customFieldTemplates: {},
        metadata: {},
        variables: [],
        customFieldsValueInfo: {},
        gridsterForm: false,
        globalDateFormat: 'D-M-YYYY'
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /** @type {?} */
    var formDefinitionTwoTextFields = {
        id: 20,
        name: 'formTextDefinition',
        processDefinitionId: 'textDefinition:1:153',
        processDefinitionName: 'textDefinition',
        processDefinitionKey: 'textDefinition',
        taskId: '159',
        taskDefinitionKey: 'sid-D941F49F-2B04-4FBB-9B49-9E95991993E8',
        tabs: [],
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: '1507044399260',
                name: 'Label',
                type: 'container',
                value: null,
                required: false,
                readOnly: false,
                overrideId: false,
                colspan: 1,
                placeholder: null,
                minLength: 0,
                maxLength: 0,
                minValue: null,
                maxValue: null,
                regexPattern: null,
                optionType: null,
                hasEmptyValue: null,
                options: null,
                restUrl: null,
                restResponsePath: null,
                restIdProperty: null,
                restLabelProperty: null,
                tab: null,
                className: null,
                dateDisplayFormat: null,
                layout: null,
                sizeX: 2,
                sizeY: 1,
                row: -1,
                col: -1,
                visibilityCondition: null,
                numberOfColumns: 2,
                fields: {
                    '1': [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'firstname',
                            name: 'firstName',
                            type: 'text',
                            value: null,
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 2
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ],
                    '2': [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'lastname',
                            name: 'lastName',
                            type: 'text',
                            value: null,
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 1
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ]
                }
            }
        ],
        outcomes: [],
        javascriptEvents: [],
        className: '',
        style: '',
        customFieldTemplates: {},
        metadata: {},
        variables: [],
        customFieldsValueInfo: {},
        gridsterForm: false,
        globalDateFormat: 'D-M-YYYY'
    };
    /** @type {?} */
    var formDefinitionDropdownField = {
        id: 21,
        name: 'dropdownDefinition',
        processDefinitionId: 'textDefinition:2:163',
        processDefinitionName: 'textDefinition',
        processDefinitionKey: 'textDefinition',
        taskId: '169',
        taskDefinitionKey: 'sid-D941F49F-2B04-4FBB-9B49-9E95991993E8',
        tabs: [],
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: '1507046026940',
                name: 'Label',
                type: 'container',
                value: null,
                required: false,
                readOnly: false,
                overrideId: false,
                colspan: 1,
                placeholder: null,
                minLength: 0,
                maxLength: 0,
                minValue: null,
                maxValue: null,
                regexPattern: null,
                optionType: null,
                hasEmptyValue: null,
                options: null,
                restUrl: null,
                restResponsePath: null,
                restIdProperty: null,
                restLabelProperty: null,
                tab: null,
                className: null,
                dateDisplayFormat: null,
                layout: null,
                sizeX: 2,
                sizeY: 1,
                row: -1,
                col: -1,
                visibilityCondition: null,
                numberOfColumns: 2,
                fields: {
                    '1': [
                        {
                            fieldType: 'RestFieldRepresentation',
                            id: 'country',
                            name: 'country',
                            type: 'dropdown',
                            value: 'Choose one...',
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: true,
                            options: [
                                {
                                    id: 'empty',
                                    name: 'Choose one...'
                                },
                                {
                                    id: 'option_1',
                                    name: 'united kingdom'
                                },
                                {
                                    id: 'option_2',
                                    name: 'italy'
                                },
                                {
                                    id: 'option_3',
                                    name: 'france'
                                }
                            ],
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 2
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null,
                            endpoint: null,
                            requestHeaders: null
                        }
                    ],
                    '2': []
                }
            }
        ],
        outcomes: [],
        javascriptEvents: [],
        className: '',
        style: '',
        customFieldTemplates: {},
        metadata: {},
        variables: [],
        customFieldsValueInfo: {},
        gridsterForm: false,
        globalDateFormat: 'D-M-YYYY'
    };
    /** @type {?} */
    var formDefinitionRequiredField = {
        id: 21,
        name: 'dropdownDefinition',
        processDefinitionId: 'textDefinition:2:163',
        processDefinitionName: 'textDefinition',
        processDefinitionKey: 'textDefinition',
        taskId: '169',
        taskDefinitionKey: 'sid-D941F49F-2B04-4FBB-9B49-9E95991993E8',
        tabs: [],
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: '1507046026940',
                name: 'Label',
                type: 'container',
                value: null,
                required: false,
                readOnly: false,
                overrideId: false,
                colspan: 1,
                placeholder: null,
                minLength: 0,
                maxLength: 0,
                minValue: null,
                maxValue: null,
                regexPattern: null,
                optionType: null,
                hasEmptyValue: null,
                options: null,
                restUrl: null,
                restResponsePath: null,
                restIdProperty: null,
                restLabelProperty: null,
                tab: null,
                className: null,
                dateDisplayFormat: null,
                layout: null,
                sizeX: 2,
                sizeY: 1,
                row: -1,
                col: -1,
                visibilityCondition: null,
                numberOfColumns: 2,
                fields: {
                    '1': [
                        {
                            fieldType: 'RestFieldRepresentation',
                            id: 'country',
                            name: 'country',
                            type: 'dropdown',
                            value: 'Choose one...',
                            required: true,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: true,
                            options: [
                                {
                                    id: 'empty',
                                    name: 'Choose one...'
                                },
                                {
                                    id: 'option_1',
                                    name: 'united kingdom'
                                },
                                {
                                    id: 'option_2',
                                    name: 'italy'
                                },
                                {
                                    id: 'option_3',
                                    name: 'france'
                                }
                            ],
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 2
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null,
                            endpoint: null,
                            requestHeaders: null
                        }
                    ],
                    '2': []
                }
            }
        ],
        outcomes: [],
        javascriptEvents: [],
        className: '',
        style: '',
        customFieldTemplates: {},
        metadata: {},
        variables: [],
        customFieldsValueInfo: {},
        gridsterForm: false,
        globalDateFormat: 'D-M-YYYY'
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /** @type {?} */
    var formReadonlyTwoTextFields = {
        id: 22,
        name: 'formTextDefinition',
        processDefinitionId: 'textDefinition:3:182',
        processDefinitionName: 'textDefinition',
        processDefinitionKey: 'textDefinition',
        taskId: '188',
        taskDefinitionKey: 'sid-D941F49F-2B04-4FBB-9B49-9E95991993E8',
        tabs: [],
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: '1507044399260',
                name: 'Label',
                type: 'container',
                value: null,
                required: false,
                readOnly: false,
                overrideId: false,
                colspan: 1,
                placeholder: null,
                minLength: 0,
                maxLength: 0,
                minValue: null,
                maxValue: null,
                regexPattern: null,
                optionType: null,
                hasEmptyValue: null,
                options: null,
                restUrl: null,
                restResponsePath: null,
                restIdProperty: null,
                restLabelProperty: null,
                tab: null,
                className: null,
                dateDisplayFormat: null,
                layout: null,
                sizeX: 2,
                sizeY: 1,
                row: -1,
                col: -1,
                visibilityCondition: null,
                numberOfColumns: 2,
                fields: {
                    '1': [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'firstname',
                            name: 'firstName',
                            type: 'readonly',
                            value: 'fakeFirstName',
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 2,
                                field: {
                                    id: 'firstname',
                                    name: 'firstName',
                                    type: 'text',
                                    value: null,
                                    required: false,
                                    readOnly: false,
                                    overrideId: false,
                                    colspan: 1,
                                    placeholder: null,
                                    minLength: 0,
                                    maxLength: 0,
                                    minValue: null,
                                    maxValue: null,
                                    regexPattern: null,
                                    optionType: null,
                                    hasEmptyValue: null,
                                    options: null,
                                    restUrl: null,
                                    restResponsePath: null,
                                    restIdProperty: null,
                                    restLabelProperty: null,
                                    tab: null,
                                    className: null,
                                    dateDisplayFormat: null,
                                    layout: null,
                                    sizeX: 0,
                                    sizeY: 0,
                                    row: 0,
                                    col: 0,
                                    visibilityCondition: null
                                }
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ],
                    '2': [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'lastname',
                            name: 'lastName',
                            type: 'readonly',
                            value: 'fakeLastName',
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 1,
                                field: {
                                    id: 'lastname',
                                    name: 'lastName',
                                    type: 'text',
                                    value: null,
                                    required: false,
                                    readOnly: false,
                                    overrideId: false,
                                    colspan: 1,
                                    placeholder: null,
                                    minLength: 0,
                                    maxLength: 0,
                                    minValue: null,
                                    maxValue: null,
                                    regexPattern: null,
                                    optionType: null,
                                    hasEmptyValue: null,
                                    options: null,
                                    restUrl: null,
                                    restResponsePath: null,
                                    restIdProperty: null,
                                    restLabelProperty: null,
                                    tab: null,
                                    className: null,
                                    dateDisplayFormat: null,
                                    layout: null,
                                    sizeX: 0,
                                    sizeY: 0,
                                    row: 0,
                                    col: 0,
                                    visibilityCondition: null
                                }
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ]
                }
            }
        ],
        outcomes: [],
        javascriptEvents: [],
        className: '',
        style: '',
        customFieldTemplates: {},
        metadata: {},
        variables: [],
        customFieldsValueInfo: {},
        gridsterForm: false,
        globalDateFormat: 'D-M-YYYY'
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /** @type {?} */
    var formDefVisibilitiFieldDependsOnNextOne = {
        id: 19,
        processDefinitionId: 'visibility:1:148',
        processDefinitionName: 'visibility',
        processDefinitionKey: 'visibility',
        tabs: [],
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: '1506960847579',
                name: 'Label',
                type: 'container',
                value: null,
                required: false,
                readOnly: false,
                overrideId: false,
                colspan: 1,
                placeholder: null,
                minLength: 0,
                maxLength: 0,
                minValue: null,
                maxValue: null,
                regexPattern: null,
                optionType: null,
                hasEmptyValue: null,
                options: null,
                restUrl: null,
                restResponsePath: null,
                restIdProperty: null,
                restLabelProperty: null,
                tab: null,
                className: null,
                dateDisplayFormat: null,
                layout: null,
                sizeX: 2,
                sizeY: 1,
                row: -1,
                col: -1,
                visibilityCondition: null,
                numberOfColumns: 2,
                fields: {
                    '1': [
                        {
                            fieldType: 'RestFieldRepresentation',
                            id: 'country',
                            name: 'country',
                            type: 'dropdown',
                            value: 'Choose one...',
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: true,
                            options: [
                                {
                                    id: 'empty',
                                    name: 'Choose one...'
                                },
                                {
                                    id: 'option_1',
                                    name: 'france'
                                },
                                {
                                    id: 'option_2',
                                    name: 'uk'
                                }
                            ],
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 2
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: {
                                leftFormFieldId: 'name',
                                leftRestResponseId: null,
                                operator: '==',
                                rightValue: 'italy',
                                rightType: null,
                                rightFormFieldId: '',
                                rightRestResponseId: '',
                                nextConditionOperator: '',
                                nextCondition: null
                            },
                            endpoint: null,
                            requestHeaders: null
                        }
                    ],
                    '2': [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'name',
                            name: 'name',
                            type: 'text',
                            value: null,
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 1
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ]
                }
            }
        ],
        outcomes: [],
        javascriptEvents: [],
        className: '',
        style: '',
        customFieldTemplates: {},
        metadata: {},
        variables: [],
        customFieldsValueInfo: {},
        gridsterForm: false,
        globalDateFormat: 'D-M-YYYY'
    };
    /** @type {?} */
    var formDefVisibilitiFieldDependsOnPreviousOne = {
        id: 19,
        processDefinitionId: 'visibility:1:148',
        processDefinitionName: 'visibility',
        processDefinitionKey: 'visibility',
        tabs: [],
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: '1506960847579',
                name: 'Label',
                type: 'container',
                value: null,
                required: false,
                readOnly: false,
                overrideId: false,
                colspan: 1,
                placeholder: null,
                minLength: 0,
                maxLength: 0,
                minValue: null,
                maxValue: null,
                regexPattern: null,
                optionType: null,
                hasEmptyValue: null,
                options: null,
                restUrl: null,
                restResponsePath: null,
                restIdProperty: null,
                restLabelProperty: null,
                tab: null,
                className: null,
                dateDisplayFormat: null,
                layout: null,
                sizeX: 2,
                sizeY: 1,
                row: -1,
                col: -1,
                visibilityCondition: null,
                numberOfColumns: 2,
                fields: {
                    '1': [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'name',
                            name: 'name',
                            type: 'text',
                            value: null,
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 1
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ],
                    '2': [
                        {
                            fieldType: 'RestFieldRepresentation',
                            id: 'country',
                            name: 'country',
                            type: 'dropdown',
                            value: 'Choose one...',
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: true,
                            options: [
                                {
                                    id: 'empty',
                                    name: 'Choose one...'
                                },
                                {
                                    id: 'option_1',
                                    name: 'france'
                                },
                                {
                                    id: 'option_2',
                                    name: 'uk'
                                }
                            ],
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 2
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: {
                                leftFormFieldId: 'name',
                                leftRestResponseId: null,
                                operator: '==',
                                rightValue: 'italy',
                                rightType: null,
                                rightFormFieldId: '',
                                rightRestResponseId: '',
                                nextConditionOperator: '',
                                nextCondition: null
                            },
                            endpoint: null,
                            requestHeaders: null
                        }
                    ]
                }
            }
        ],
        outcomes: [],
        javascriptEvents: [],
        className: '',
        style: '',
        customFieldTemplates: {},
        metadata: {},
        variables: [],
        customFieldsValueInfo: {},
        gridsterForm: false,
        globalDateFormat: 'D-M-YYYY'
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /** @type {?} */
    var startFormDateWidgetMock = {
        id: 4,
        name: 'Claim Review Process',
        processDefinitionId: 'ClaimReviewProcess:2: 93',
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: 1497953253784,
                name: 'Label',
                type: 'container',
                value: null,
                readOnly: false,
                fields: {
                    1: [{
                            fieldType: 'FormFieldRepresentation',
                            id: 'date',
                            name: 'date',
                            type: 'date',
                            value: null
                        }]
                }
            }
        ]
    };
    /** @type {?} */
    var startFormNumberWidgetMock = {
        id: 4,
        name: 'Claim Review Process',
        processDefinitionId: 'ClaimReviewProcess:2: 93',
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: 1497953253784,
                name: 'Label',
                type: 'container',
                value: null,
                readOnly: false,
                fields: {
                    1: [{
                            fieldType: 'FormFieldRepresentation',
                            id: 'number',
                            name: 'number widget',
                            type: 'integer',
                            value: null
                        }]
                }
            }
        ]
    };
    /** @type {?} */
    var startFormAmountWidgetMock = {
        id: 4,
        name: 'Claim Review Process',
        processDefinitionId: 'ClaimReviewProcess:2: 93',
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: 1497953253784,
                name: 'Label',
                type: 'container',
                value: null,
                readOnly: false,
                fields: {
                    1: [{
                            fieldType: 'FormFieldRepresentation',
                            id: 'amount',
                            name: 'amount widget',
                            type: 'amount',
                            value: null
                        }]
                }
            }
        ]
    };
    /** @type {?} */
    var startFormRadioButtonWidgetMock = {
        id: 4,
        name: 'Claim Review Process',
        processDefinitionId: 'ClaimReviewProcess:2: 93',
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: 1497953253784,
                name: 'Label',
                type: 'container',
                value: null,
                readOnly: false,
                fields: {
                    1: [{
                            fieldType: 'RestFieldRepresentation',
                            id: 'radio-but',
                            name: 'radio-buttons',
                            type: 'radio-buttons',
                            value: null
                        }]
                }
            }
        ]
    };
    /** @type {?} */
    var startFormTextDefinitionMock = {
        id: 4,
        name: 'Claim Review Process',
        processDefinitionId: 'ClaimReviewProcess:2: 93',
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: 1497953253784,
                name: 'Label',
                type: 'container',
                value: null,
                readOnly: false,
                fields: {
                    1: [{
                            fieldType: 'FormFieldRepresentation',
                            id: 'mocktext',
                            name: 'mockText',
                            type: 'text',
                            value: null
                        }]
                }
            }
        ]
    };
    /** @type {?} */
    var startFormDropdownDefinitionMock = {
        id: 4,
        name: 'Claim Review Process',
        processDefinitionId: 'ClaimReviewProcess:2: 93',
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: 1497953253784,
                name: 'Label',
                type: 'container',
                value: null,
                readOnly: false,
                fields: {
                    1: [{
                            fieldType: 'RestFieldRepresentation',
                            id: 'mockTypeDropDown',
                            name: 'mock DropDown',
                            type: 'dropdown',
                            value: 'Chooseone...',
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            options: [
                                {
                                    id: 'empty',
                                    name: 'Chooseone...'
                                },
                                {
                                    id: 'opt1',
                                    name: 'Option-1'
                                },
                                {
                                    id: 'opt2',
                                    name: 'Option-2'
                                },
                                {
                                    id: 'opt3',
                                    name: 'Option-3'
                                },
                                {
                                    id: 'opt2',
                                    name: 'Option-3'
                                }
                            ]
                        }]
                }
            }
        ]
    };
    /** @type {?} */
    var startMockForm = {
        id: 4,
        name: 'Claim Review Process',
        processDefinitionId: 'ClaimReviewProcess:2: 93',
        processDefinitionName: 'ClaimReviewProcess',
        processDefinitionKey: 'ClaimReviewProcess',
        tabs: [],
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: 1497953253784,
                name: 'Label',
                type: 'container',
                value: null,
                required: false,
                readOnly: false,
                overrideId: false,
                colspan: 1,
                placeholder: null,
                minLength: 0,
                maxLength: 0,
                minValue: null,
                maxValue: null,
                regexPattern: null,
                optionType: null,
                hasEmptyValue: null,
                options: null,
                restUrl: null,
                restResponsePath: null,
                restIdProperty: null,
                restLabelProperty: null,
                tab: null,
                className: null,
                dateDisplayFormat: null,
                layout: null,
                sizeX: 2,
                sizeY: 1,
                row: -1,
                col: -1,
                visibilityCondition: null,
                numberOfColumns: 2,
                fields: {
                    1: [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'clientname',
                            name: 'ClientName',
                            type: 'text',
                            value: null,
                            required: true,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 2
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ],
                    2: [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'policyno',
                            name: 'PolicyNo',
                            type: 'integer',
                            value: null,
                            required: true,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: 'EnterPolicyName',
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 1
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ]
                }
            },
            {
                fieldType: 'ContainerRepresentation',
                id: 1497953270269,
                name: 'Label',
                type: 'container',
                value: null,
                required: false,
                readOnly: false,
                overrideId: false,
                colspan: 1,
                placeholder: null,
                minLength: 0,
                maxLength: 0,
                minValue: null,
                maxValue: null,
                regexPattern: null,
                optionType: null,
                hasEmptyValue: null,
                options: null,
                restUrl: null,
                restResponsePath: null,
                restIdProperty: null,
                restLabelProperty: null,
                tab: null,
                className: null,
                dateDisplayFormat: null,
                layout: null,
                sizeX: 2,
                sizeY: 1,
                row: -1,
                col: -1,
                visibilityCondition: null,
                numberOfColumns: 2,
                fields: {
                    1: [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'billamount',
                            name: 'BillAmount',
                            type: 'integer',
                            value: null,
                            required: true,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: 'EnterBillAmount',
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 2
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ],
                    2: [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'billdate',
                            name: 'BillDate',
                            type: 'date',
                            value: null,
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: 'billdate',
                            params: {
                                existingColspan: 1,
                                maxColspan: 1
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ]
                }
            },
            {
                fieldType: 'ContainerRepresentation',
                id: 1497953280930,
                name: 'Label',
                type: 'container',
                value: null,
                required: false,
                readOnly: false,
                overrideId: false,
                colspan: 1,
                placeholder: null,
                minLength: 0,
                maxLength: 0,
                minValue: null,
                maxValue: null,
                regexPattern: null,
                optionType: null,
                hasEmptyValue: null,
                options: null,
                restUrl: null,
                restResponsePath: null,
                restIdProperty: null,
                restLabelProperty: null,
                tab: null,
                className: null,
                dateDisplayFormat: null,
                layout: null,
                sizeX: 2,
                sizeY: 1,
                row: -1,
                col: -1,
                visibilityCondition: null,
                numberOfColumns: 2,
                fields: {
                    1: [
                        {
                            fieldType: 'RestFieldRepresentation',
                            id: 'claimtype',
                            name: 'ClaimType',
                            type: 'dropdown',
                            value: 'Chooseone...',
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: true,
                            options: [
                                {
                                    id: 'empty',
                                    name: 'Chooseone...'
                                },
                                {
                                    id: 'cashless',
                                    name: 'Cashless'
                                },
                                {
                                    id: 'reimbursement',
                                    name: 'Reimbursement'
                                }
                            ],
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 2
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null,
                            endpoint: null,
                            requestHeaders: null
                        }
                    ],
                    2: [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'hospitalname',
                            name: 'HospitalName',
                            type: 'text',
                            value: null,
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: 'EnterHospitalName',
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 1
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ]
                }
            }
        ],
        outcomes: [
            {
                id: 'approve',
                name: 'Approve'
            },
            {
                id: 'complete',
                name: 'Complete'
            },
            {
                id: 'start_process',
                name: 'Start Process'
            }
        ],
        javascriptEvents: [],
        className: '',
        style: '',
        metadata: {},
        variables: [],
        customFieldsValueInfo: {},
        gridsterForm: false,
        globalDateFormat: 'D - M - YYYY'
    };
    /** @type {?} */
    var startMockFormWithTab = {
        id: 4,
        taskName: 'Mock Title',
        processDefinitionId: 'ClaimReviewProcess:2: 93',
        processDefinitionName: 'ClaimReviewProcess',
        processDefinitionKey: 'ClaimReviewProcess',
        tabs: [
            {
                id: 'form1',
                name: 'Tab 1'
            },
            {
                id: 'form2',
                name: 'Tab 2'
            }
        ],
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: 1497953253784,
                name: 'Label',
                type: 'container',
                value: null,
                required: false,
                readOnly: false,
                overrideId: false,
                colspan: 1,
                placeholder: null,
                minLength: 0,
                maxLength: 0,
                minValue: null,
                maxValue: null,
                regexPattern: null,
                optionType: null,
                hasEmptyValue: null,
                options: null,
                restUrl: null,
                restResponsePath: null,
                restIdProperty: null,
                restLabelProperty: null,
                tab: null,
                className: null,
                dateDisplayFormat: null,
                layout: null,
                sizeX: 2,
                sizeY: 1,
                row: -1,
                col: -1,
                visibilityCondition: null,
                numberOfColumns: 2,
                fields: {
                    1: [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'clientname',
                            name: 'ClientName',
                            type: 'text',
                            value: null,
                            required: true,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 2
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ],
                    2: [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'policyno',
                            name: 'PolicyNo',
                            type: 'integer',
                            value: null,
                            required: true,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: 'EnterPolicyName',
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 1
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ]
                }
            },
            {
                fieldType: 'ContainerRepresentation',
                id: 1497953270269,
                name: 'Label',
                type: 'container',
                value: null,
                required: false,
                readOnly: false,
                overrideId: false,
                colspan: 1,
                placeholder: null,
                minLength: 0,
                maxLength: 0,
                minValue: null,
                maxValue: null,
                regexPattern: null,
                optionType: null,
                hasEmptyValue: null,
                options: null,
                restUrl: null,
                restResponsePath: null,
                restIdProperty: null,
                restLabelProperty: null,
                tab: null,
                className: null,
                dateDisplayFormat: null,
                layout: null,
                sizeX: 2,
                sizeY: 1,
                row: -1,
                col: -1,
                visibilityCondition: null,
                numberOfColumns: 2,
                fields: {
                    1: [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'billamount',
                            name: 'BillAmount',
                            type: 'integer',
                            value: null,
                            required: true,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: 'EnterBillAmount',
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 2
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ],
                    2: [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'billdate',
                            name: 'BillDate',
                            type: 'date',
                            value: null,
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: 'billdate',
                            params: {
                                existingColspan: 1,
                                maxColspan: 1
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ]
                }
            },
            {
                fieldType: 'ContainerRepresentation',
                id: 1497953280930,
                name: 'Label',
                type: 'container',
                value: null,
                required: false,
                readOnly: false,
                overrideId: false,
                colspan: 1,
                placeholder: null,
                minLength: 0,
                maxLength: 0,
                minValue: null,
                maxValue: null,
                regexPattern: null,
                optionType: null,
                hasEmptyValue: null,
                options: null,
                restUrl: null,
                restResponsePath: null,
                restIdProperty: null,
                restLabelProperty: null,
                tab: null,
                className: null,
                dateDisplayFormat: null,
                layout: null,
                sizeX: 2,
                sizeY: 1,
                row: -1,
                col: -1,
                visibilityCondition: null,
                numberOfColumns: 2,
                fields: {
                    1: [
                        {
                            fieldType: 'RestFieldRepresentation',
                            id: 'claimtype',
                            name: 'ClaimType',
                            type: 'dropdown',
                            value: 'Chooseone...',
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: null,
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: true,
                            options: [
                                {
                                    id: 'empty',
                                    name: 'Chooseone...'
                                },
                                {
                                    id: 'cashless',
                                    name: 'Cashless'
                                },
                                {
                                    id: 'reimbursement',
                                    name: 'Reimbursement'
                                }
                            ],
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 2
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null,
                            endpoint: null,
                            requestHeaders: null
                        }
                    ],
                    2: [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'hospitalname',
                            name: 'HospitalName',
                            type: 'text',
                            value: null,
                            required: false,
                            readOnly: false,
                            overrideId: false,
                            colspan: 1,
                            placeholder: 'EnterHospitalName',
                            minLength: 0,
                            maxLength: 0,
                            minValue: null,
                            maxValue: null,
                            regexPattern: null,
                            optionType: null,
                            hasEmptyValue: null,
                            options: null,
                            restUrl: null,
                            restResponsePath: null,
                            restIdProperty: null,
                            restLabelProperty: null,
                            tab: null,
                            className: null,
                            params: {
                                existingColspan: 1,
                                maxColspan: 1
                            },
                            dateDisplayFormat: null,
                            layout: {
                                row: -1,
                                column: -1,
                                colspan: 1
                            },
                            sizeX: 1,
                            sizeY: 1,
                            row: -1,
                            col: -1,
                            visibilityCondition: null
                        }
                    ]
                }
            }
        ],
        outcomes: [
            {
                id: 'approve',
                name: 'Approve'
            },
            {
                id: 'complete',
                name: 'Complete'
            }
        ],
        javascriptEvents: [],
        className: '',
        style: '',
        metadata: {},
        variables: [],
        customFieldsValueInfo: {},
        gridsterForm: false,
        globalDateFormat: 'D - M - YYYY'
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /** @type {?} */
    var formModelTabs = {
        id: 16,
        name: 'start event',
        description: '',
        version: 2,
        lastUpdatedBy: 4,
        lastUpdatedByFullName: 'User Test',
        lastUpdated: '2017-10-04T13:00:03.030+0000',
        stencilSetId: null,
        referenceId: null,
        formDefinition: {
            tabs: [],
            fields: [
                {
                    fieldType: 'ContainerRepresentation',
                    id: '1507037668653',
                    name: 'Label',
                    type: 'container',
                    value: null,
                    required: false,
                    readOnly: false,
                    overrideId: false,
                    colspan: 1,
                    placeholder: null,
                    minLength: 0,
                    maxLength: 0,
                    minValue: null,
                    maxValue: null,
                    regexPattern: null,
                    optionType: null,
                    hasEmptyValue: null,
                    options: null,
                    restUrl: null,
                    restResponsePath: null,
                    restIdProperty: null,
                    restLabelProperty: null,
                    tab: null,
                    className: null,
                    dateDisplayFormat: null,
                    layout: null,
                    sizeX: 2,
                    sizeY: 1,
                    row: -1,
                    col: -1,
                    visibilityCondition: null,
                    numberOfColumns: 2,
                    fields: {
                        '1': [
                            {
                                fieldType: 'AmountFieldRepresentation',
                                id: 'label',
                                name: 'Label',
                                type: 'amount',
                                value: null,
                                required: false,
                                readOnly: false,
                                overrideId: false,
                                colspan: 1,
                                placeholder: null,
                                minLength: 0,
                                maxLength: 0,
                                minValue: null,
                                maxValue: null,
                                regexPattern: null,
                                optionType: null,
                                hasEmptyValue: null,
                                options: null,
                                restUrl: null,
                                restResponsePath: null,
                                restIdProperty: null,
                                restLabelProperty: null,
                                tab: null,
                                className: null,
                                params: {
                                    existingColspan: 1,
                                    maxColspan: 2
                                },
                                dateDisplayFormat: null,
                                layout: {
                                    row: -1,
                                    column: -1,
                                    colspan: 1
                                },
                                sizeX: 1,
                                sizeY: 1,
                                row: -1,
                                col: -1,
                                visibilityCondition: null,
                                enableFractions: false,
                                currency: null
                            }
                        ],
                        '2': [
                            {
                                fieldType: 'FormFieldRepresentation',
                                id: 'label1',
                                name: 'Label1',
                                type: 'date',
                                value: null,
                                required: false,
                                readOnly: false,
                                overrideId: false,
                                colspan: 1,
                                placeholder: null,
                                minLength: 0,
                                maxLength: 0,
                                minValue: null,
                                maxValue: null,
                                regexPattern: null,
                                optionType: null,
                                hasEmptyValue: null,
                                options: null,
                                restUrl: null,
                                restResponsePath: null,
                                restIdProperty: null,
                                restLabelProperty: null,
                                tab: null,
                                className: null,
                                params: {
                                    existingColspan: 1,
                                    maxColspan: 1
                                },
                                dateDisplayFormat: null,
                                layout: {
                                    row: -1,
                                    column: -1,
                                    colspan: 1
                                },
                                sizeX: 1,
                                sizeY: 1,
                                row: -1,
                                col: -1,
                                visibilityCondition: null
                            }
                        ]
                    }
                },
                {
                    fieldType: 'ContainerRepresentation',
                    id: '1507037670167',
                    name: 'Label',
                    type: 'container',
                    value: null,
                    required: false,
                    readOnly: false,
                    overrideId: false,
                    colspan: 1,
                    placeholder: null,
                    minLength: 0,
                    maxLength: 0,
                    minValue: null,
                    maxValue: null,
                    regexPattern: null,
                    optionType: null,
                    hasEmptyValue: null,
                    options: null,
                    restUrl: null,
                    restResponsePath: null,
                    restIdProperty: null,
                    restLabelProperty: null,
                    tab: null,
                    className: null,
                    dateDisplayFormat: null,
                    layout: null,
                    sizeX: 2,
                    sizeY: 1,
                    row: -1,
                    col: -1,
                    visibilityCondition: null,
                    numberOfColumns: 2,
                    fields: {
                        '1': [
                            {
                                fieldType: 'FormFieldRepresentation',
                                id: 'label2',
                                name: 'Label2',
                                type: 'boolean',
                                value: null,
                                required: false,
                                readOnly: false,
                                overrideId: false,
                                colspan: 1,
                                placeholder: null,
                                minLength: 0,
                                maxLength: 0,
                                minValue: null,
                                maxValue: null,
                                regexPattern: null,
                                optionType: null,
                                hasEmptyValue: null,
                                options: null,
                                restUrl: null,
                                restResponsePath: null,
                                restIdProperty: null,
                                restLabelProperty: null,
                                tab: null,
                                className: null,
                                params: {
                                    existingColspan: 1,
                                    maxColspan: 2
                                },
                                dateDisplayFormat: null,
                                layout: {
                                    row: -1,
                                    column: -1,
                                    colspan: 1
                                },
                                sizeX: 1,
                                sizeY: 1,
                                row: -1,
                                col: -1,
                                visibilityCondition: null
                            }
                        ],
                        '2': []
                    }
                }
            ],
            outcomes: [],
            javascriptEvents: [],
            className: '',
            style: '',
            customFieldTemplates: {},
            metadata: {},
            variables: [],
            customFieldsValueInfo: {},
            gridsterForm: false
        }
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /** @type {?} */
    var formTest = new FormModel({});
    /** @type {?} */
    var fakeTaskProcessVariableModels = [
        { id: 'TEST_VAR_1', type: 'string', value: 'test_value_1' },
        { id: 'TEST_VAR_2', type: 'string', value: 'test_value_2' },
        { id: 'TEST_VAR_3', type: 'string', value: 'test_value_3' }
    ];
    /** @type {?} */
    var formValues = {
        'test_1': 'value_1',
        'test_2': 'value_2',
        'test_3': 'value_1',
        'test_4': 'dropdown_id',
        'test_5': 'dropdown_label',
        'dropdown': { 'id': 'dropdown_id', 'name': 'dropdown_label' }
    };
    /** @type {?} */
    var fakeFormJson = {
        id: '9999',
        name: 'FORM_VISIBILITY',
        processDefinitionId: 'PROCESS_TEST:9:9999',
        processDefinitionName: 'PROCESS_TEST',
        processDefinitionKey: 'PROCESS_TEST',
        taskId: '999',
        taskName: 'TEST',
        fields: [
            {
                fieldType: 'ContainerRepresentation',
                id: '000000000000000000',
                name: 'Label',
                type: 'container',
                value: null,
                numberOfColumns: 2,
                fields: {
                    1: [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'FIELD_TEST',
                            name: 'FIELD_TEST',
                            type: 'text',
                            value: 'RIGHT_FORM_FIELD_VALUE',
                            visibilityCondition: null,
                            isVisible: true
                        },
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'FIELD_WITH_CONDITION',
                            name: 'FIELD_WITH_CONDITION',
                            type: 'text',
                            value: 'field_with_condition_value',
                            visibilityCondition: null,
                            isVisible: true
                        },
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'LEFT_FORM_FIELD_ID',
                            name: 'LEFT_FORM_FIELD_NAME',
                            type: 'text',
                            value: 'LEFT_FORM_FIELD_VALUE',
                            visibilityCondition: null,
                            isVisible: true
                        }
                    ],
                    2: [
                        {
                            fieldType: 'FormFieldRepresentation',
                            id: 'RIGHT_FORM_FIELD_ID',
                            name: 'RIGHT_FORM_FIELD_NAME',
                            type: 'text',
                            value: 'RIGHT_FORM_FIELD_VALUE',
                            visibilityCondition: null,
                            isVisible: true
                        }
                    ]
                }
            }
        ]
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    var _this = this;
    /** @type {?} */
    var resetTestingModule = testing.TestBed.resetTestingModule;
    /** @type {?} */
    var preventAngularFromResetting = function () { return (testing.TestBed.resetTestingModule = function () { return testing.TestBed; }); };
    /** @type {?} */
    var allowAngularToReset = function () { return (testing.TestBed.resetTestingModule = resetTestingModule); };
    /** @type {?} */
    var setupTestBed = function (moduleDef) {
        beforeAll(function (done) {
            return (function () {
                return __awaiter(_this, void 0, void 0, function () {
                    return __generator(this, function (_a) {
                        switch (_a.label) {
                            case 0:
                                localStorage.clear();
                                sessionStorage.clear();
                                resetTestingModule();
                                preventAngularFromResetting();
                                testing.TestBed.configureTestingModule(moduleDef);
                                return [4 /*yield*/, testing.TestBed.compileComponents()];
                            case 1:
                                _a.sent();
                                // prevent Angular from resetting testing module
                                testing.TestBed.resetTestingModule = function () { return testing.TestBed; };
                                return [2 /*return*/];
                        }
                    });
                });
            })()
                .then(done)
                .catch(done.fail);
        });
        afterAll(function () { return allowAngularToReset(); });
    };

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /*!
     * @license
     * Copyright 2016 Alfresco Software, Ltd.
     *
     * Licensed under the Apache License, Version 2.0 (the "License");
     * you may not use this file except in compliance with the License.
     * You may obtain a copy of the License at
     *
     *     http://www.apache.org/licenses/LICENSE-2.0
     *
     * Unless required by applicable law or agreed to in writing, software
     * distributed under the License is distributed on an "AS IS" BASIS,
     * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
     * See the License for the specific language governing permissions and
     * limitations under the License.
     */
    /**
     * @param {?} alfrescoApiService
     * @return {?}
     */
    function startupServiceFactory(alfrescoApiService) {
        return function () { return alfrescoApiService.load(); };
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */
    /**
     * @param {?} http
     * @return {?}
     */
    function createTranslateLoader(http$$1) {
        return new TranslateLoaderService(http$$1);
    }
    /**
     * @return {?}
     */
    function providers() {
        return [
            AuthenticationService,
            AlfrescoApiService,
            SettingsService,
            ContentService,
            AuthGuard,
            AuthGuardEcm,
            AuthGuardBpm,
            AppsProcessService,
            PageTitleService,
            StorageService,
            CookieService,
            RenditionsService,
            NotificationService,
            LogService,
            TranslationService,
            TranslateLoaderService,
            ThumbnailService,
            UploadService,
            CardItemTypeService,
            CardViewUpdateService,
            UserPreferencesService,
            HighlightTransformService,
            DeletedNodesApiService,
            FavoritesApiService,
            NodesApiService,
            PeopleContentService,
            PeopleProcessService,
            SearchService,
            SharedLinksApiService,
            SitesService,
            DiscoveryApiService,
            CommentProcessService,
            CommentContentService,
            SearchConfigurationService,
            common.DatePipe,
            AppConfigService,
            ContextMenuService,
            ContextMenuOverlayService,
            ActivitiContentService,
            EcmModelService,
            FormRenderingService,
            FormService,
            NodeService,
            ProcessContentService,
            WidgetVisibilityService,
            EcmUserService,
            BpmUserService,
            ViewUtilService,
            LoginDialogService,
            ExternalAlfrescoApiService
        ];
    }
    var ɵ0$6 = (createTranslateLoader);
    var CoreModuleLazy = /** @class */ (function () {
        function CoreModuleLazy() {
        }
        CoreModuleLazy.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            AboutModule,
                            ViewerModule,
                            LayoutModule,
                            PipeModule,
                            common.CommonModule,
                            DirectiveModule,
                            ClipboardModule,
                            forms.FormsModule,
                            forms.ReactiveFormsModule,
                            http.HttpClientModule,
                            HostSettingsModule,
                            UserInfoModule,
                            MaterialModule,
                            AppConfigModule,
                            PaginationModule,
                            ToolbarModule,
                            ContextMenuModule,
                            CardViewModule,
                            CollapsableModule,
                            FormModule,
                            CommentsModule,
                            LoginModule,
                            LanguageMenuModule,
                            InfoDrawerModule,
                            DataColumnModule,
                            DataTableModule,
                            ButtonsMenuModule,
                            TemplateModule,
                            core$1.TranslateModule.forChild({
                                loader: {
                                    provide: core$1.TranslateLoader,
                                    useFactory: ɵ0$6,
                                    deps: [http.HttpClient, LogService]
                                }
                            }),
                            SortingPickerModule
                        ],
                        exports: [
                            AboutModule,
                            ViewerModule,
                            LayoutModule,
                            PipeModule,
                            common.CommonModule,
                            DirectiveModule,
                            ClipboardModule,
                            forms.FormsModule,
                            forms.ReactiveFormsModule,
                            http.HttpClientModule,
                            HostSettingsModule,
                            UserInfoModule,
                            MaterialModule,
                            AppConfigModule,
                            PaginationModule,
                            ToolbarModule,
                            ContextMenuModule,
                            CardViewModule,
                            CollapsableModule,
                            FormModule,
                            CommentsModule,
                            LoginModule,
                            LanguageMenuModule,
                            InfoDrawerModule,
                            DataColumnModule,
                            DataTableModule,
                            core$1.TranslateModule,
                            ButtonsMenuModule,
                            TemplateModule,
                            SortingPickerModule
                        ]
                    },] }
        ];
        return CoreModuleLazy;
    }());
    var ɵ1$4 = (createTranslateLoader), ɵ2 = startupServiceFactory;
    var CoreModule = /** @class */ (function () {
        function CoreModule(translation) {
            translation.addTranslationFolder('adf-core', 'assets/adf-core');
        }
        /**
         * @return {?}
         */
        CoreModule.forRoot = /**
         * @return {?}
         */
            function () {
                return {
                    ngModule: CoreModule,
                    providers: __spread(providers(), [
                        {
                            provide: i0.APP_INITIALIZER,
                            useFactory: startupServiceFactory,
                            deps: [
                                AlfrescoApiService
                            ],
                            multi: true
                        }
                    ])
                };
            };
        /**
         * @return {?}
         */
        CoreModule.forChild = /**
         * @return {?}
         */
            function () {
                return {
                    ngModule: CoreModuleLazy
                };
            };
        CoreModule.decorators = [
            { type: i0.NgModule, args: [{
                        imports: [
                            AboutModule,
                            ViewerModule,
                            LayoutModule,
                            PipeModule,
                            common.CommonModule,
                            DirectiveModule,
                            forms.FormsModule,
                            forms.ReactiveFormsModule,
                            http.HttpClientModule,
                            HostSettingsModule,
                            UserInfoModule,
                            MaterialModule,
                            AppConfigModule,
                            PaginationModule,
                            ToolbarModule,
                            ContextMenuModule,
                            CardViewModule,
                            CollapsableModule,
                            FormModule,
                            CommentsModule,
                            LoginModule,
                            LanguageMenuModule,
                            InfoDrawerModule,
                            DataColumnModule,
                            DataTableModule,
                            ButtonsMenuModule,
                            TemplateModule,
                            core$1.TranslateModule.forRoot({
                                loader: {
                                    provide: core$1.TranslateLoader,
                                    useFactory: ɵ1$4,
                                    deps: [http.HttpClient, LogService]
                                }
                            }),
                            SortingPickerModule
                        ],
                        exports: [
                            AboutModule,
                            ViewerModule,
                            LayoutModule,
                            PipeModule,
                            common.CommonModule,
                            DirectiveModule,
                            ClipboardModule,
                            forms.FormsModule,
                            forms.ReactiveFormsModule,
                            http.HttpClientModule,
                            HostSettingsModule,
                            UserInfoModule,
                            MaterialModule,
                            AppConfigModule,
                            PaginationModule,
                            ToolbarModule,
                            ContextMenuModule,
                            CardViewModule,
                            CollapsableModule,
                            FormModule,
                            CommentsModule,
                            LoginModule,
                            LanguageMenuModule,
                            InfoDrawerModule,
                            DataColumnModule,
                            DataTableModule,
                            core$1.TranslateModule,
                            ButtonsMenuModule,
                            TemplateModule,
                            SortingPickerModule
                        ],
                        providers: __spread(providers(), [
                            {
                                provide: i0.APP_INITIALIZER,
                                useFactory: ɵ2,
                                deps: [
                                    AlfrescoApiService
                                ],
                                multi: true
                            }
                        ])
                    },] }
        ];
        /** @nocollapse */
        CoreModule.ctorParameters = function () {
            return [
                { type: TranslationService }
            ];
        };
        return CoreModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
     */

    exports.AboutComponent = AboutComponent;
    exports.AboutModule = AboutModule;
    exports.ViewUtilService = ViewUtilService;
    exports.ViewerComponent = ViewerComponent;
    exports.ImgViewerComponent = ImgViewerComponent;
    exports.MediaPlayerComponent = MediaPlayerComponent;
    exports.PdfViewerComponent = PdfViewerComponent;
    exports.PdfThumbListComponent = PdfThumbListComponent;
    exports.PdfThumbComponent = PdfThumbComponent;
    exports.TxtViewerComponent = TxtViewerComponent;
    exports.UnknownFormatComponent = UnknownFormatComponent;
    exports.ViewerMoreActionsComponent = ViewerMoreActionsComponent;
    exports.ViewerOpenWithComponent = ViewerOpenWithComponent;
    exports.ViewerSidebarComponent = ViewerSidebarComponent;
    exports.ViewerToolbarComponent = ViewerToolbarComponent;
    exports.ViewerToolbarActionsComponent = ViewerToolbarActionsComponent;
    exports.ViewerExtensionDirective = ViewerExtensionDirective;
    exports.ViewerModule = ViewerModule;
    exports.UserInfoComponent = UserInfoComponent;
    exports.BpmUserService = BpmUserService;
    exports.EcmUserService = EcmUserService;
    exports.UserInfoModule = UserInfoModule;
    exports.ToolbarDividerComponent = ToolbarDividerComponent;
    exports.ToolbarTitleComponent = ToolbarTitleComponent;
    exports.ToolbarComponent = ToolbarComponent;
    exports.ToolbarModule = ToolbarModule;
    exports.HostSettingsComponent = HostSettingsComponent;
    exports.HostSettingsModule = HostSettingsModule;
    exports.PaginationComponent = PaginationComponent;
    exports.InfinitePaginationComponent = InfinitePaginationComponent;
    exports.PaginationModule = PaginationModule;
    exports.LoginHeaderDirective = LoginHeaderDirective;
    exports.LoginFooterDirective = LoginFooterDirective;
    exports.LoginComponent = LoginComponent;
    exports.LoginDialogComponent = LoginDialogComponent;
    exports.LoginDialogPanelComponent = LoginDialogPanelComponent;
    exports.LoginErrorEvent = LoginErrorEvent;
    exports.LoginSubmitEvent = LoginSubmitEvent;
    exports.LoginSuccessEvent = LoginSuccessEvent;
    exports.LoginModule = LoginModule;
    exports.LanguageMenuComponent = LanguageMenuComponent;
    exports.LanguageMenuModule = LanguageMenuModule;
    exports.InfoDrawerLayoutComponent = InfoDrawerLayoutComponent;
    exports.InfoDrawerTitleDirective = InfoDrawerTitleDirective;
    exports.InfoDrawerButtonsDirective = InfoDrawerButtonsDirective;
    exports.InfoDrawerContentDirective = InfoDrawerContentDirective;
    exports.InfoDrawerTabComponent = InfoDrawerTabComponent;
    exports.InfoDrawerComponent = InfoDrawerComponent;
    exports.declarations = declarations;
    exports.InfoDrawerModule = InfoDrawerModule;
    exports.DataColumnListComponent = DataColumnListComponent;
    exports.DataColumnComponent = DataColumnComponent;
    exports.DataColumnModule = DataColumnModule;
    exports.DataRowEvent = DataRowEvent;
    exports.DataSorting = DataSorting;
    exports.ObjectDataRow = ObjectDataRow;
    exports.ObjectDataTableAdapter = ObjectDataTableAdapter;
    exports.ObjectDataColumn = ObjectDataColumn;
    exports.DataCellEventModel = DataCellEventModel;
    exports.DataCellEvent = DataCellEvent;
    exports.DataRowActionModel = DataRowActionModel;
    exports.DataRowActionEvent = DataRowActionEvent;
    exports.DataTableCellComponent = DataTableCellComponent;
    exports.DisplayMode = DisplayMode;
    exports.DataTableComponent = DataTableComponent;
    exports.DateCellComponent = DateCellComponent;
    exports.EmptyListComponent = EmptyListComponent;
    exports.EmptyListHeaderDirective = EmptyListHeaderDirective;
    exports.EmptyListBodyDirective = EmptyListBodyDirective;
    exports.EmptyListFooterDirective = EmptyListFooterDirective;
    exports.FileSizeCellComponent = FileSizeCellComponent;
    exports.LocationCellComponent = LocationCellComponent;
    exports.DataTableSchema = DataTableSchema;
    exports.LoadingContentTemplateDirective = LoadingContentTemplateDirective;
    exports.NoContentTemplateDirective = NoContentTemplateDirective;
    exports.NoPermissionTemplateDirective = NoPermissionTemplateDirective;
    exports.EmptyCustomContentDirective = EmptyCustomContentDirective;
    exports.DataTableModule = DataTableModule;
    exports.ContextMenuHolderComponent = ContextMenuHolderComponent;
    exports.ContextMenuDirective = ContextMenuDirective;
    exports.ContextMenuService = ContextMenuService;
    exports.ContextMenuModule = ContextMenuModule;
    exports.AccordionGroupComponent = AccordionGroupComponent;
    exports.AccordionComponent = AccordionComponent;
    exports.CollapsableModule = CollapsableModule;
    exports.CardViewComponent = CardViewComponent;
    exports.CardViewBoolItemComponent = CardViewBoolItemComponent;
    exports.CardViewDateItemComponent = CardViewDateItemComponent;
    exports.CardViewMapItemComponent = CardViewMapItemComponent;
    exports.CardViewTextItemComponent = CardViewTextItemComponent;
    exports.CardViewSelectItemComponent = CardViewSelectItemComponent;
    exports.CardViewKeyValuePairsItemComponent = CardViewKeyValuePairsItemComponent;
    exports.CardViewItemIntValidator = CardViewItemIntValidator;
    exports.CardViewItemFloatValidator = CardViewItemFloatValidator;
    exports.CardViewBaseItemModel = CardViewBaseItemModel;
    exports.CardViewBoolItemModel = CardViewBoolItemModel;
    exports.CardViewDateItemModel = CardViewDateItemModel;
    exports.CardViewDatetimeItemModel = CardViewDatetimeItemModel;
    exports.CardViewFloatItemModel = CardViewFloatItemModel;
    exports.CardViewIntItemModel = CardViewIntItemModel;
    exports.CardViewMapItemModel = CardViewMapItemModel;
    exports.CardViewTextItemModel = CardViewTextItemModel;
    exports.CardViewKeyValuePairsItemModel = CardViewKeyValuePairsItemModel;
    exports.CardViewSelectItemModel = CardViewSelectItemModel;
    exports.CardItemTypeService = CardItemTypeService;
    exports.transformKeyToObject = transformKeyToObject;
    exports.CardViewUpdateService = CardViewUpdateService;
    exports.CardViewContentProxyDirective = CardViewContentProxyDirective;
    exports.CardViewModule = CardViewModule;
    exports.AppConfigValues = AppConfigValues;
    exports.AppConfigService = AppConfigService;
    exports.DebugAppConfigService = DebugAppConfigService;
    exports.AppConfigPipe = AppConfigPipe;
    exports.AppConfigModule = AppConfigModule;
    exports.FormComponent = FormComponent;
    exports.FormListComponent = FormListComponent;
    exports.ContentWidgetComponent = ContentWidgetComponent;
    exports.StartFormComponent = StartFormComponent;
    exports.WIDGET_DIRECTIVES = WIDGET_DIRECTIVES;
    exports.MASK_DIRECTIVE = MASK_DIRECTIVE;
    exports.baseHost = baseHost;
    exports.WidgetComponent = WidgetComponent;
    exports.FormFieldTypes = FormFieldTypes;
    exports.FormWidgetModel = FormWidgetModel;
    exports.FormFieldModel = FormFieldModel;
    exports.FormModel = FormModel;
    exports.ContainerModel = ContainerModel;
    exports.ContainerColumnModel = ContainerColumnModel;
    exports.TabModel = TabModel;
    exports.FormOutcomeModel = FormOutcomeModel;
    exports.FormOutcomeEvent = FormOutcomeEvent;
    exports.RequiredFieldValidator = RequiredFieldValidator;
    exports.NumberFieldValidator = NumberFieldValidator;
    exports.DateFieldValidator = DateFieldValidator;
    exports.MinDateFieldValidator = MinDateFieldValidator;
    exports.MaxDateFieldValidator = MaxDateFieldValidator;
    exports.MinDateTimeFieldValidator = MinDateTimeFieldValidator;
    exports.MaxDateTimeFieldValidator = MaxDateTimeFieldValidator;
    exports.MinLengthFieldValidator = MinLengthFieldValidator;
    exports.MaxLengthFieldValidator = MaxLengthFieldValidator;
    exports.MinValueFieldValidator = MinValueFieldValidator;
    exports.MaxValueFieldValidator = MaxValueFieldValidator;
    exports.RegExFieldValidator = RegExFieldValidator;
    exports.FixedValueFieldValidator = FixedValueFieldValidator;
    exports.FORM_FIELD_VALIDATORS = FORM_FIELD_VALIDATORS;
    exports.ContentLinkModel = ContentLinkModel;
    exports.ErrorMessageModel = ErrorMessageModel;
    exports.TabsWidgetComponent = TabsWidgetComponent;
    exports.ContainerWidgetComponent = ContainerWidgetComponent;
    exports.UnknownWidgetComponent = UnknownWidgetComponent;
    exports.TextWidgetComponent = TextWidgetComponent;
    exports.NumberWidgetComponent = NumberWidgetComponent;
    exports.CheckboxWidgetComponent = CheckboxWidgetComponent;
    exports.MultilineTextWidgetComponentComponent = MultilineTextWidgetComponentComponent;
    exports.DropdownWidgetComponent = DropdownWidgetComponent;
    exports.HyperlinkWidgetComponent = HyperlinkWidgetComponent;
    exports.RadioButtonsWidgetComponent = RadioButtonsWidgetComponent;
    exports.DisplayTextWidgetComponentComponent = DisplayTextWidgetComponentComponent;
    exports.UploadWidgetComponent = UploadWidgetComponent;
    exports.TypeaheadWidgetComponent = TypeaheadWidgetComponent;
    exports.FunctionalGroupWidgetComponent = FunctionalGroupWidgetComponent;
    exports.PeopleWidgetComponent = PeopleWidgetComponent;
    exports.DateWidgetComponent = DateWidgetComponent;
    exports.AmountWidgetComponent = AmountWidgetComponent;
    exports.DynamicTableWidgetComponent = DynamicTableWidgetComponent;
    exports.ErrorWidgetComponent = ErrorWidgetComponent;
    exports.DocumentWidgetComponent = DocumentWidgetComponent;
    exports.DateTimeWidgetComponent = DateTimeWidgetComponent;
    exports.DynamicTableModel = DynamicTableModel;
    exports.RowEditorComponent = RowEditorComponent;
    exports.DateEditorComponent = DateEditorComponent;
    exports.DropdownEditorComponent = DropdownEditorComponent;
    exports.BooleanEditorComponent = BooleanEditorComponent;
    exports.TextEditorComponent = TextEditorComponent;
    exports.DateTimeEditorComponent = DateTimeEditorComponent;
    exports.CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR = CUSTOM_INPUT_CONTROL_VALUE_ACCESSOR;
    exports.InputMaskDirective = InputMaskDirective;
    exports.FormService = FormService;
    exports.EcmModelService = EcmModelService;
    exports.NodeService = NodeService;
    exports.FormRenderingService = FormRenderingService;
    exports.ProcessContentService = ProcessContentService;
    exports.ActivitiContentService = ActivitiContentService;
    exports.FormEvent = FormEvent;
    exports.FormErrorEvent = FormErrorEvent;
    exports.FormFieldEvent = FormFieldEvent;
    exports.ValidateFormFieldEvent = ValidateFormFieldEvent;
    exports.ValidateFormEvent = ValidateFormEvent;
    exports.ValidateDynamicTableRowEvent = ValidateDynamicTableRowEvent;
    exports.FormModule = FormModule;
    exports.SidenavLayoutComponent = SidenavLayoutComponent;
    exports.LayoutModule = LayoutModule;
    exports.SidenavLayoutModule = LayoutModule;
    exports.CommentListComponent = CommentListComponent;
    exports.CommentsComponent = CommentsComponent;
    exports.CommentsModule = CommentsModule;
    exports.ButtonsMenuComponent = ButtonsMenuComponent;
    exports.ButtonsMenuModule = ButtonsMenuModule;
    exports.SortingPickerComponent = SortingPickerComponent;
    exports.SortingPickerModule = SortingPickerModule;
    exports.ErrorContentComponent = ErrorContentComponent;
    exports.EmptyContentComponent = EmptyContentComponent;
    exports.TemplateModule = TemplateModule;
    exports.FileSizePipe = FileSizePipe;
    exports.MimeTypeIconPipe = MimeTypeIconPipe;
    exports.NodeNameTooltipPipe = NodeNameTooltipPipe;
    exports.HighlightPipe = HighlightPipe;
    exports.TimeAgoPipe = TimeAgoPipe;
    exports.InitialUsernamePipe = InitialUsernamePipe;
    exports.PipeModule = PipeModule;
    exports.AuthenticationService = AuthenticationService;
    exports.AlfrescoApiService = AlfrescoApiService;
    exports.SettingsService = SettingsService;
    exports.ContentService = ContentService;
    exports.AuthGuard = AuthGuard;
    exports.AuthGuardEcm = AuthGuardEcm;
    exports.AuthGuardBpm = AuthGuardBpm;
    exports.AppsProcessService = AppsProcessService;
    exports.PageTitleService = PageTitleService;
    exports.StorageService = StorageService;
    exports.CookieService = CookieService;
    exports.RenditionsService = RenditionsService;
    exports.NotificationService = NotificationService;
    exports.LogService = LogService;
    exports.TRANSLATION_PROVIDER = TRANSLATION_PROVIDER;
    exports.TranslationService = TranslationService;
    exports.TranslateLoaderService = TranslateLoaderService;
    exports.ThumbnailService = ThumbnailService;
    exports.UploadService = UploadService;
    exports.DynamicComponentResolver = DynamicComponentResolver;
    exports.DynamicComponentMapper = DynamicComponentMapper;
    exports.UserPreferenceValues = UserPreferenceValues;
    exports.UserPreferencesService = UserPreferencesService;
    exports.HighlightTransformService = HighlightTransformService;
    exports.DeletedNodesApiService = DeletedNodesApiService;
    exports.FavoritesApiService = FavoritesApiService;
    exports.NodesApiService = NodesApiService;
    exports.PeopleContentService = PeopleContentService;
    exports.PeopleProcessService = PeopleProcessService;
    exports.SearchService = SearchService;
    exports.SharedLinksApiService = SharedLinksApiService;
    exports.SitesService = SitesService;
    exports.DiscoveryApiService = DiscoveryApiService;
    exports.CommentProcessService = CommentProcessService;
    exports.SearchConfigurationService = SearchConfigurationService;
    exports.CommentContentService = CommentContentService;
    exports.LoginDialogService = LoginDialogService;
    exports.ExternalAlfrescoApiService = ExternalAlfrescoApiService;
    exports.HighlightDirective = HighlightDirective;
    exports.LogoutDirective = LogoutDirective;
    exports.NodeDeleteDirective = NodeDeleteDirective;
    exports.NodeFavoriteDirective = NodeFavoriteDirective;
    exports.NodePermissionDirective = NodePermissionDirective;
    exports.RestoreMessageModel = RestoreMessageModel;
    exports.NodeRestoreDirective = NodeRestoreDirective;
    exports.UploadDirective = UploadDirective;
    exports.DirectiveModule = DirectiveModule;
    exports.ClipboardDirective = ClipboardDirective;
    exports.ClipboardService = ClipboardService;
    exports.ClipboardModule = ClipboardModule;
    exports.ObjectUtils = ObjectUtils;
    exports.FileUtils = FileUtils;
    exports.MOMENT_DATE_FORMATS = MOMENT_DATE_FORMATS;
    exports.MomentDateAdapter = MomentDateAdapter;
    exports.EXTENDIBLE_COMPONENT = EXTENDIBLE_COMPONENT;
    exports.FileUploadStatus = FileUploadStatus;
    exports.FileModel = FileModel;
    exports.PermissionsEnum = PermissionsEnum;
    exports.BpmProductVersionModel = BpmProductVersionModel;
    exports.VersionModel = VersionModel;
    exports.LicenseModel = LicenseModel;
    exports.VersionStatusModel = VersionStatusModel;
    exports.VersionModuleModel = VersionModuleModel;
    exports.EcmProductVersionModel = EcmProductVersionModel;
    exports.UserProcessModel = UserProcessModel;
    exports.CommentModel = CommentModel;
    exports.EcmCompanyModel = EcmCompanyModel;
    exports.RedirectionModel = RedirectionModel;
    exports.CommentProcessModel = CommentProcessModel;
    exports.PaginationModel = PaginationModel;
    exports.BaseEvent = BaseEvent;
    exports.BaseUIEvent = BaseUIEvent;
    exports.FileUploadEvent = FileUploadEvent;
    exports.FileUploadCompleteEvent = FileUploadCompleteEvent;
    exports.FileUploadDeleteEvent = FileUploadDeleteEvent;
    exports.FileUploadErrorEvent = FileUploadErrorEvent;
    exports.AlfrescoApiMock = AlfrescoApiMock;
    exports.AppConfigServiceMock = AppConfigServiceMock;
    exports.fakeApps = fakeApps;
    exports.AuthenticationMock = AuthenticationMock;
    exports.fakeBpmUserNoImage = fakeBpmUserNoImage;
    exports.fakeBpmUser = fakeBpmUser;
    exports.fakeBpmEditedUser = fakeBpmEditedUser;
    exports.fakeUser1 = fakeUser1;
    exports.fakeUser2 = fakeUser2;
    exports.fakeTasksComment = fakeTasksComment;
    exports.fakeProcessComment = fakeProcessComment;
    exports.CookieServiceMock = CookieServiceMock;
    exports.fakeEcmCompany = fakeEcmCompany;
    exports.fakeEcmUser = fakeEcmUser;
    exports.fakeEcmUserNoImage = fakeEcmUserNoImage;
    exports.fakeEcmEditedUser = fakeEcmEditedUser;
    exports.EventMock = EventMock;
    exports.fakeRedition = fakeRedition;
    exports.fakeReditionCreated = fakeReditionCreated;
    exports.fakeReditionsList = fakeReditionsList;
    exports.fakeSearch = fakeSearch;
    exports.mockError = mockError;
    exports.searchMockApi = searchMockApi;
    exports.TranslationMock = TranslationMock;
    exports.AlfrescoApiServiceMock = AlfrescoApiServiceMock;
    exports.fakeForm = fakeForm;
    exports.formDefinitionTwoTextFields = formDefinitionTwoTextFields;
    exports.formDefinitionDropdownField = formDefinitionDropdownField;
    exports.formDefinitionRequiredField = formDefinitionRequiredField;
    exports.formReadonlyTwoTextFields = formReadonlyTwoTextFields;
    exports.formDefVisibilitiFieldDependsOnNextOne = formDefVisibilitiFieldDependsOnNextOne;
    exports.formDefVisibilitiFieldDependsOnPreviousOne = formDefVisibilitiFieldDependsOnPreviousOne;
    exports.startFormDateWidgetMock = startFormDateWidgetMock;
    exports.startFormNumberWidgetMock = startFormNumberWidgetMock;
    exports.startFormAmountWidgetMock = startFormAmountWidgetMock;
    exports.startFormRadioButtonWidgetMock = startFormRadioButtonWidgetMock;
    exports.startFormTextDefinitionMock = startFormTextDefinitionMock;
    exports.startFormDropdownDefinitionMock = startFormDropdownDefinitionMock;
    exports.startMockForm = startMockForm;
    exports.startMockFormWithTab = startMockFormWithTab;
    exports.formModelTabs = formModelTabs;
    exports.formTest = formTest;
    exports.fakeTaskProcessVariableModels = fakeTaskProcessVariableModels;
    exports.formValues = formValues;
    exports.fakeFormJson = fakeFormJson;
    exports.setupTestBed = setupTestBed;
    exports.createTranslateLoader = createTranslateLoader;
    exports.providers = providers;
    exports.CoreModuleLazy = CoreModuleLazy;
    exports.CoreModule = CoreModule;
    exports.ɵa = CardViewItemDispatcherComponent;
    exports.ɵf = contextMenuAnimation;
    exports.ɵe = ContextMenuListComponent;
    exports.ɵg = ContextMenuOverlayRef;
    exports.ɵd = ContextMenuOverlayService;
    exports.ɵh = CONTEXT_MENU_DATA;
    exports.ɵn = StartFormCustomButtonDirective;
    exports.ɵm = FormFieldComponent;
    exports.ɵl = DynamicRowValidationSummary;
    exports.ɵk = WidgetVisibilityService;
    exports.ɵz = HeaderLayoutComponent;
    exports.ɵr = LayoutContainerComponent;
    exports.ɵv = SidebarActionMenuComponent;
    exports.ɵw = SidebarMenuDirective;
    exports.ɵy = SidebarMenuExpandIconDirective;
    exports.ɵx = SidebarMenuTitleIconDirective;
    exports.ɵq = SidenavLayoutContentDirective;
    exports.ɵo = SidenavLayoutHeaderDirective;
    exports.ɵp = SidenavLayoutNavigationDirective;
    exports.ɵt = contentAnimationLeft;
    exports.ɵu = contentAnimationRight;
    exports.ɵs = sidenavAnimation;
    exports.ɵc = MaterialModule;
    exports.ɵb = modules;
    exports.ɵba = getType;
    exports.ɵbb = startupServiceFactory;
    exports.ɵj = PdfPasswordDialogComponent;
    exports.ɵi = RenderingQueueServices;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYWRmLWNvcmUudW1kLmpzLm1hcCIsInNvdXJjZXMiOltudWxsLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS91dGlscy9vYmplY3QtdXRpbHMudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9hcHAtY29uZmlnL2FwcC1jb25maWcuc2VydmljZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3NlcnZpY2VzL3N0b3JhZ2Uuc2VydmljZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3NlcnZpY2VzL2FsZnJlc2NvLWFwaS5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvY29va2llLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9tb2RlbHMvbG9nLWxldmVscy5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3NlcnZpY2VzL2xvZy5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvYXV0aGVudGljYXRpb24uc2VydmljZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL21vZGVscy9wcm9kdWN0LXZlcnNpb24ubW9kZWwudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9zZXJ2aWNlcy9kaXNjb3ZlcnktYXBpLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS91dGlscy9maWxlLXV0aWxzLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvdXRpbHMvbW9tZW50LWRhdGUtZm9ybWF0cy5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3V0aWxzL21vbWVudERhdGVBZGFwdGVyLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZGF0YXRhYmxlL2RhdGEvb2JqZWN0LWRhdGFyb3cubW9kZWwudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9kYXRhdGFibGUvZGF0YS9vYmplY3QtZGF0YWNvbHVtbi5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2RhdGF0YWJsZS9kYXRhL2RhdGEtc29ydGluZy5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2RhdGF0YWJsZS9kYXRhL29iamVjdC1kYXRhdGFibGUtYWRhcHRlci50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Fib3V0L2Fib3V0LmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL21hdGVyaWFsLm1vZHVsZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NvbnRleHQtbWVudS9jb250ZXh0LW1lbnUuc2VydmljZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NvbnRleHQtbWVudS9jb250ZXh0LW1lbnUtaG9sZGVyLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NvbnRleHQtbWVudS9jb250ZXh0LW1lbnUtb3ZlcmxheS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NvbnRleHQtbWVudS9jb250ZXh0LW1lbnUudG9rZW5zLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvY29udGV4dC1tZW51L2FuaW1hdGlvbnMudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jb250ZXh0LW1lbnUvY29udGV4dC1tZW51LWxpc3QuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvY29udGV4dC1tZW51L2NvbnRleHQtbWVudS1vdmVybGF5LnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jb250ZXh0LW1lbnUvY29udGV4dC1tZW51LmRpcmVjdGl2ZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NvbnRleHQtbWVudS9jb250ZXh0LW1lbnUubW9kdWxlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvdXNlci1wcmVmZXJlbmNlcy5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvdHJhbnNsYXRpb24uc2VydmljZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3BpcGVzL2ZpbGUtc2l6ZS5waXBlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbW9kZWxzL3Blcm1pc3Npb25zLmVudW0udHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9zZXJ2aWNlcy9jb250ZW50LnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9zZXJ2aWNlcy90aHVtYm5haWwuc2VydmljZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3BpcGVzL21pbWUtdHlwZS1pY29uLnBpcGUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9waXBlcy9ub2RlLW5hbWUtdG9vbHRpcC5waXBlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvaGlnaGxpZ2h0LXRyYW5zZm9ybS5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvcGlwZXMvdGV4dC1oaWdobGlnaHQucGlwZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3BpcGVzL3RpbWUtYWdvLnBpcGUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9waXBlcy91c2VyLWluaXRpYWwucGlwZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3BpcGVzL3BpcGUubW9kdWxlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZGlyZWN0aXZlcy9oaWdobGlnaHQuZGlyZWN0aXZlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZGlyZWN0aXZlcy9sb2dvdXQuZGlyZWN0aXZlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZGlyZWN0aXZlcy9ub2RlLWRlbGV0ZS5kaXJlY3RpdmUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9kaXJlY3RpdmVzL25vZGUtZmF2b3JpdGUuZGlyZWN0aXZlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvaW50ZXJmYWNlL2luamVjdGlvbi50b2tlbnMudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9kaXJlY3RpdmVzL25vZGUtcGVybWlzc2lvbi5kaXJlY3RpdmUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9kaXJlY3RpdmVzL25vZGUtcmVzdG9yZS5kaXJlY3RpdmUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9kaXJlY3RpdmVzL3VwbG9hZC5kaXJlY3RpdmUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9kaXJlY3RpdmVzL2RpcmVjdGl2ZS5tb2R1bGUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9kYXRhdGFibGUvY29tcG9uZW50cy9kYXRhdGFibGUvZGF0YXRhYmxlLWNlbGwuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZGF0YS1jb2x1bW4vZGF0YS1jb2x1bW4uY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZGF0YS1jb2x1bW4vZGF0YS1jb2x1bW4tbGlzdC5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9ldmVudHMvYmFzZS5ldmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2V2ZW50cy9iYXNlLXVpLmV2ZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbW9kZWxzL2ZpbGUubW9kZWwudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9ldmVudHMvZmlsZS5ldmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2RhdGF0YWJsZS9kYXRhL2RhdGEtcm93LWV2ZW50Lm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZGF0YXRhYmxlL2NvbXBvbmVudHMvZGF0YXRhYmxlL2RhdGEtY2VsbC5ldmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2RhdGF0YWJsZS9jb21wb25lbnRzL2RhdGF0YWJsZS9kYXRhLXJvdy1hY3Rpb24uZXZlbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9kYXRhdGFibGUvY29tcG9uZW50cy9kYXRhdGFibGUvZGF0YXRhYmxlLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2RhdGF0YWJsZS9jb21wb25lbnRzL2RhdGF0YWJsZS9kYXRlLWNlbGwuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZGF0YXRhYmxlL2NvbXBvbmVudHMvZGF0YXRhYmxlL2VtcHR5LWxpc3QuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZGF0YXRhYmxlL2NvbXBvbmVudHMvZGF0YXRhYmxlL2ZpbGVzaXplLWNlbGwuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZGF0YXRhYmxlL2NvbXBvbmVudHMvZGF0YXRhYmxlL2xvY2F0aW9uLWNlbGwuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZGF0YXRhYmxlL2RpcmVjdGl2ZXMvbG9hZGluZy10ZW1wbGF0ZS5kaXJlY3RpdmUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9kYXRhdGFibGUvZGlyZWN0aXZlcy9uby1jb250ZW50LXRlbXBsYXRlLmRpcmVjdGl2ZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2RhdGF0YWJsZS9kaXJlY3RpdmVzL25vLXBlcm1pc3Npb24tdGVtcGxhdGUuZGlyZWN0aXZlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZGF0YXRhYmxlL2RpcmVjdGl2ZXMvZW1wdHktY3VzdG9tLWNvbnRlbnQuZGlyZWN0aXZlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZGF0YXRhYmxlL2RhdGF0YWJsZS5tb2R1bGUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9kYXRhLWNvbHVtbi9kYXRhLWNvbHVtbi5tb2R1bGUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9hYm91dC9hYm91dC5tb2R1bGUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS92aWV3ZXIvc2VydmljZXMvdmlldy11dGlsLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS92aWV3ZXIvY29tcG9uZW50cy92aWV3ZXItbW9yZS1hY3Rpb25zLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3ZpZXdlci9jb21wb25lbnRzL3ZpZXdlci1vcGVuLXdpdGguY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvdmlld2VyL2NvbXBvbmVudHMvdmlld2VyLXNpZGViYXIuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvdmlld2VyL2NvbXBvbmVudHMvdmlld2VyLXRvb2xiYXIuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvdmlld2VyL2NvbXBvbmVudHMvdmlld2VyLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3ZpZXdlci9jb21wb25lbnRzL2ltZ1ZpZXdlci5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS92aWV3ZXIvY29tcG9uZW50cy9tZWRpYVBsYXllci5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS92aWV3ZXIvc2VydmljZXMvcmVuZGVyaW5nLXF1ZXVlLnNlcnZpY2VzLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvdmlld2VyL2NvbXBvbmVudHMvcGRmVmlld2VyLXBhc3N3b3JkLWRpYWxvZy50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3ZpZXdlci9jb21wb25lbnRzL3BkZlZpZXdlci5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS92aWV3ZXIvY29tcG9uZW50cy9wZGZWaWV3ZXItdGh1bWJuYWlscy5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS92aWV3ZXIvY29tcG9uZW50cy9wZGZWaWV3ZXItdGh1bWIuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvdmlld2VyL2NvbXBvbmVudHMvdHh0Vmlld2VyLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3ZpZXdlci9jb21wb25lbnRzL3Vua25vd24tZm9ybWF0L3Vua25vd24tZm9ybWF0LmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3ZpZXdlci9jb21wb25lbnRzL3ZpZXdlci10b29sYmFyLWFjdGlvbnMuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvdmlld2VyL2RpcmVjdGl2ZXMvdmlld2VyLWV4dGVuc2lvbi5kaXJlY3RpdmUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS90b29sYmFyL3Rvb2xiYXItZGl2aWRlci5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS90b29sYmFyL3Rvb2xiYXItdGl0bGUuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvdG9vbGJhci90b29sYmFyLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3Rvb2xiYXIvdG9vbGJhci5tb2R1bGUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS92aWV3ZXIvdmlld2VyLm1vZHVsZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3VzZXJpbmZvL21vZGVscy9icG0tdXNlci5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3VzZXJpbmZvL21vZGVscy9lY20tdXNlci5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3VzZXJpbmZvL3NlcnZpY2VzL2JwbS11c2VyLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS91c2VyaW5mby9zZXJ2aWNlcy9lY20tdXNlci5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvdXNlcmluZm8vY29tcG9uZW50cy91c2VyLWluZm8uY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvdXNlcmluZm8vdXNlcmluZm8ubW9kdWxlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2V0dGluZ3MvaG9zdC1zZXR0aW5ncy5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9zZXR0aW5ncy9ob3N0LXNldHRpbmdzLm1vZHVsZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3BhZ2luYXRpb24vcGFnaW5hdGlvbi5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9wYWdpbmF0aW9uL2luZmluaXRlLXBhZ2luYXRpb24uY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvcGFnaW5hdGlvbi9wYWdpbmF0aW9uLm1vZHVsZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3NlcnZpY2VzL3NldHRpbmdzLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9sb2dpbi9tb2RlbHMvbG9naW4tZXJyb3IuZXZlbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9sb2dpbi9tb2RlbHMvbG9naW4tc3VibWl0LmV2ZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbG9naW4vbW9kZWxzL2xvZ2luLXN1Y2Nlc3MuZXZlbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9sb2dpbi9jb21wb25lbnRzL2xvZ2luLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2xvZ2luL2RpcmVjdGl2ZXMvbG9naW4taGVhZGVyLmRpcmVjdGl2ZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2xvZ2luL2RpcmVjdGl2ZXMvbG9naW4tZm9vdGVyLmRpcmVjdGl2ZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2xvZ2luL2NvbXBvbmVudHMvbG9naW4tZGlhbG9nLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2xvZ2luL2NvbXBvbmVudHMvbG9naW4tZGlhbG9nLXBhbmVsLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2xvZ2luL2xvZ2luLm1vZHVsZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2xhbmd1YWdlLW1lbnUvbGFuZ3VhZ2UtbWVudS5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9sYW5ndWFnZS1tZW51L2xhbmd1YWdlLW1lbnUubW9kdWxlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvaW5mby1kcmF3ZXIvaW5mby1kcmF3ZXItbGF5b3V0LmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2luZm8tZHJhd2VyL2luZm8tZHJhd2VyLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2luZm8tZHJhd2VyL2luZm8tZHJhd2VyLm1vZHVsZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2RhdGF0YWJsZS9kYXRhL2RhdGEtdGFibGUuc2NoZW1hLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvY29sbGFwc2FibGUvYWNjb3JkaW9uLWdyb3VwLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NvbGxhcHNhYmxlL2FjY29yZGlvbi5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jb2xsYXBzYWJsZS9jb2xsYXBzYWJsZS5tb2R1bGUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jYXJkLXZpZXcvY29tcG9uZW50cy9jYXJkLXZpZXcvY2FyZC12aWV3LmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NhcmQtdmlldy9zZXJ2aWNlcy9jYXJkLXZpZXctdXBkYXRlLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jYXJkLXZpZXcvY29tcG9uZW50cy9jYXJkLXZpZXctYm9vbGl0ZW0vY2FyZC12aWV3LWJvb2xpdGVtLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NhcmQtdmlldy9jb21wb25lbnRzL2NhcmQtdmlldy1kYXRlaXRlbS9jYXJkLXZpZXctZGF0ZWl0ZW0uY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvY2FyZC12aWV3L2NvbXBvbmVudHMvY2FyZC12aWV3LW1hcGl0ZW0vY2FyZC12aWV3LW1hcGl0ZW0uY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvY2FyZC12aWV3L2NvbXBvbmVudHMvY2FyZC12aWV3LXRleHRpdGVtL2NhcmQtdmlldy10ZXh0aXRlbS5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jYXJkLXZpZXcvY29tcG9uZW50cy9jYXJkLXZpZXctc2VsZWN0aXRlbS9jYXJkLXZpZXctc2VsZWN0aXRlbS5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jYXJkLXZpZXcvY29tcG9uZW50cy9jYXJkLXZpZXcta2V5dmFsdWVwYWlyc2l0ZW0vY2FyZC12aWV3LWtleXZhbHVlcGFpcnNpdGVtLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3NlcnZpY2VzL2dldC10eXBlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvZHluYW1pYy1jb21wb25lbnQtbWFwcGVyLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jYXJkLXZpZXcvc2VydmljZXMvY2FyZC1pdGVtLXR5cGVzLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jYXJkLXZpZXcvZGlyZWN0aXZlcy9jYXJkLXZpZXctY29udGVudC1wcm94eS5kaXJlY3RpdmUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jYXJkLXZpZXcvY29tcG9uZW50cy9jYXJkLXZpZXctaXRlbS1kaXNwYXRjaGVyL2NhcmQtdmlldy1pdGVtLWRpc3BhdGNoZXIuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvY2FyZC12aWV3L3ZhbGlkYXRvcnMvY2FyZC12aWV3LWl0ZW0taW50LnZhbGlkYXRvci50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NhcmQtdmlldy92YWxpZGF0b3JzL2NhcmQtdmlldy1pdGVtLWZsb2F0LnZhbGlkYXRvci50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NhcmQtdmlldy9tb2RlbHMvY2FyZC12aWV3LWJhc2VpdGVtLm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvY2FyZC12aWV3L21vZGVscy9jYXJkLXZpZXctYm9vbGl0ZW0ubW9kZWwudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jYXJkLXZpZXcvbW9kZWxzL2NhcmQtdmlldy1kYXRlaXRlbS5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NhcmQtdmlldy9tb2RlbHMvY2FyZC12aWV3LWRhdGV0aW1laXRlbS5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NhcmQtdmlldy9tb2RlbHMvY2FyZC12aWV3LXRleHRpdGVtLm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvY2FyZC12aWV3L21vZGVscy9jYXJkLXZpZXctZmxvYXRpdGVtLm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvY2FyZC12aWV3L21vZGVscy9jYXJkLXZpZXctaW50aXRlbS5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NhcmQtdmlldy9tb2RlbHMvY2FyZC12aWV3LW1hcGl0ZW0ubW9kZWwudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jYXJkLXZpZXcvbW9kZWxzL2NhcmQtdmlldy1rZXl2YWx1ZXBhaXJzLm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvY2FyZC12aWV3L21vZGVscy9jYXJkLXZpZXctc2VsZWN0aXRlbS5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NhcmQtdmlldy9jYXJkLXZpZXcubW9kdWxlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvYXBwLWNvbmZpZy9kZWJ1Zy1hcHAtY29uZmlnLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9hcHAtY29uZmlnL2FwcC1jb25maWcucGlwZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2FwcC1jb25maWcvYXBwLWNvbmZpZy5tb2R1bGUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2V2ZW50cy9mb3JtLmV2ZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9ldmVudHMvZm9ybS1lcnJvci5ldmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vZXZlbnRzL2Zvcm0tZmllbGQuZXZlbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2V2ZW50cy92YWxpZGF0ZS1mb3JtLWZpZWxkLmV2ZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9ldmVudHMvdmFsaWRhdGUtZm9ybS5ldmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vZXZlbnRzL3ZhbGlkYXRlLWR5bmFtaWMtdGFibGUtcm93LmV2ZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9zZXJ2aWNlcy9lY20tbW9kZWwuc2VydmljZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vbW9kZWxzL2Zvcm0tZGVmaW5pdGlvbi5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2NvcmUvZm9ybS1maWVsZC10eXBlcy50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2NvcmUvZm9ybS13aWRnZXQubW9kZWwudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2NvbXBvbmVudHMvd2lkZ2V0cy9jb3JlL2NvbnRhaW5lci1jb2x1bW4ubW9kZWwudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2NvbXBvbmVudHMvd2lkZ2V0cy9jb3JlL2Vycm9yLW1lc3NhZ2UubW9kZWwudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2NvbXBvbmVudHMvd2lkZ2V0cy9jb3JlL2Zvcm0tZmllbGQtdmFsaWRhdG9yLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvY29yZS9mb3JtLWZpZWxkLm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvY29yZS9jb250YWluZXIubW9kZWwudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2NvbXBvbmVudHMvd2lkZ2V0cy9jb3JlL2Zvcm0tb3V0Y29tZS5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2NvcmUvdGFiLm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvY29yZS9mb3JtLm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvY29yZS9mb3JtLW91dGNvbWUtZXZlbnQubW9kZWwudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2NvbXBvbmVudHMvd2lkZ2V0cy9jb3JlL2NvbnRlbnQtbGluay5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vc2VydmljZXMvZm9ybS5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9tb2RlbHMvbm9kZS1tZXRhZGF0YS5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vc2VydmljZXMvbm9kZS5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9zZXJ2aWNlcy93aWRnZXQtdmlzaWJpbGl0eS5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL2Zvcm0uY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL2Zvcm0tbGlzdC5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL3NlcnZpY2VzL3Byb2Nlc3MtY29udGVudC5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvY29udGVudC9jb250ZW50LndpZGdldC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy9zdGFydC1mb3JtLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL3dpZGdldC5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2NvbXBvbmVudHMvd2lkZ2V0cy9jb250YWluZXIvY29udGFpbmVyLndpZGdldC5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2NvbnRhaW5lci9jb250YWluZXIud2lkZ2V0LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvdGFicy90YWJzLndpZGdldC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL3Vua25vd24vdW5rbm93bi53aWRnZXQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2NvbXBvbmVudHMvd2lkZ2V0cy9hbW91bnQvYW1vdW50LndpZGdldC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2NoZWNrYm94L2NoZWNrYm94LndpZGdldC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2RhdGUvZGF0ZS53aWRnZXQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2NvbXBvbmVudHMvd2lkZ2V0cy9kaXNwbGF5LXRleHQvZGlzcGxheS10ZXh0LndpZGdldC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2RvY3VtZW50L2RvY3VtZW50LndpZGdldC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2Ryb3Bkb3duL2Ryb3Bkb3duLndpZGdldC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2R5bmFtaWMtdGFibGUvZGF0ZS1jZWxsLXZhbGlkYXRvci1tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2R5bmFtaWMtdGFibGUvZHluYW1pYy1yb3ctdmFsaWRhdGlvbi1zdW1tYXJ5Lm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvZHluYW1pYy10YWJsZS9udW1iZXItY2VsbC12YWxpZGF0b3IubW9kZWwudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2NvbXBvbmVudHMvd2lkZ2V0cy9keW5hbWljLXRhYmxlL3JlcXVpcmVkLWNlbGwtdmFsaWRhdG9yLm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvZHluYW1pYy10YWJsZS9keW5hbWljLXRhYmxlLndpZGdldC5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2R5bmFtaWMtdGFibGUvZHluYW1pYy10YWJsZS53aWRnZXQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2NvbXBvbmVudHMvd2lkZ2V0cy9keW5hbWljLXRhYmxlL2VkaXRvcnMvYm9vbGVhbi9ib29sZWFuLmVkaXRvci50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2R5bmFtaWMtdGFibGUvZWRpdG9ycy9kYXRlL2RhdGUuZWRpdG9yLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvZHluYW1pYy10YWJsZS9lZGl0b3JzL2RhdGV0aW1lL2RhdGV0aW1lLmVkaXRvci50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2R5bmFtaWMtdGFibGUvZWRpdG9ycy9kcm9wZG93bi9kcm9wZG93bi5lZGl0b3IudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2NvbXBvbmVudHMvd2lkZ2V0cy9keW5hbWljLXRhYmxlL2VkaXRvcnMvcm93LmVkaXRvci50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2R5bmFtaWMtdGFibGUvZWRpdG9ycy90ZXh0L3RleHQuZWRpdG9yLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvZXJyb3IvZXJyb3IuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvZnVuY3Rpb25hbC1ncm91cC9mdW5jdGlvbmFsLWdyb3VwLndpZGdldC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2h5cGVybGluay9oeXBlcmxpbmsud2lkZ2V0LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvbXVsdGlsaW5lLXRleHQvbXVsdGlsaW5lLXRleHQud2lkZ2V0LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvbnVtYmVyL251bWJlci53aWRnZXQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9zZXJ2aWNlcy9wZW9wbGUtcHJvY2Vzcy5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvcGVvcGxlL3Blb3BsZS53aWRnZXQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2NvbXBvbmVudHMvd2lkZ2V0cy9yYWRpby1idXR0b25zL3JhZGlvLWJ1dHRvbnMud2lkZ2V0LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvdGV4dC90ZXh0LW1hc2suY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvdGV4dC90ZXh0LndpZGdldC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL3R5cGVhaGVhZC90eXBlYWhlYWQud2lkZ2V0LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL3dpZGdldHMvdXBsb2FkL3VwbG9hZC53aWRnZXQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2NvbXBvbmVudHMvd2lkZ2V0cy9kYXRlLXRpbWUvZGF0ZS10aW1lLndpZGdldC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vY29tcG9uZW50cy93aWRnZXRzL2luZGV4LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9zZXJ2aWNlcy9mb3JtLXJlbmRlcmluZy5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9zZXJ2aWNlcy9hY3Rpdml0aS1hbGZyZXNjby5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvZm9ybS9jb21wb25lbnRzL2Zvcm0tY3VzdG9tLWJ1dHRvbi5kaXJlY3RpdmUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9mb3JtL2NvbXBvbmVudHMvZm9ybS1maWVsZC9mb3JtLWZpZWxkLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2Zvcm0vZm9ybS5tb2R1bGUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9sYXlvdXQvZGlyZWN0aXZlcy9zaWRlbmF2LWxheW91dC1jb250ZW50LmRpcmVjdGl2ZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2xheW91dC9kaXJlY3RpdmVzL3NpZGVuYXYtbGF5b3V0LWhlYWRlci5kaXJlY3RpdmUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9sYXlvdXQvZGlyZWN0aXZlcy9zaWRlbmF2LWxheW91dC1uYXZpZ2F0aW9uLmRpcmVjdGl2ZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2xheW91dC9jb21wb25lbnRzL3NpZGVuYXYtbGF5b3V0L3NpZGVuYXYtbGF5b3V0LmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2xheW91dC9oZWxwZXJzL2FuaW1hdGlvbnMudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9sYXlvdXQvY29tcG9uZW50cy9sYXlvdXQtY29udGFpbmVyL2xheW91dC1jb250YWluZXIuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbGF5b3V0L2NvbXBvbmVudHMvc2lkZWJhci1hY3Rpb24vc2lkZWJhci1hY3Rpb24tbWVudS5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9sYXlvdXQvY29tcG9uZW50cy9oZWFkZXIvaGVhZGVyLmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2xheW91dC9sYXlvdXQubW9kdWxlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvY29tbWVudHMvY29tbWVudC1saXN0LmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL21vZGVscy9jb21tZW50Lm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbW9kZWxzL3VzZXItcHJvY2Vzcy5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3NlcnZpY2VzL2NvbW1lbnQtcHJvY2Vzcy5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvY29tbWVudC1jb250ZW50LnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jb21tZW50cy9jb21tZW50cy5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jb21tZW50cy9jb21tZW50cy5tb2R1bGUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9idXR0b25zLW1lbnUvYnV0dG9ucy1tZW51LmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2J1dHRvbnMtbWVudS9idXR0b25zLW1lbnUubW9kdWxlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc29ydGluZy1waWNrZXIvc29ydGluZy1waWNrZXIuY29tcG9uZW50LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc29ydGluZy1waWNrZXIvc29ydGluZy1waWNrZXIubW9kdWxlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvdGVtcGxhdGVzL2Vycm9yLWNvbnRlbnQvZXJyb3ItY29udGVudC5jb21wb25lbnQudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS90ZW1wbGF0ZXMvZW1wdHktY29udGVudC9lbXB0eS1jb250ZW50LmNvbXBvbmVudC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3RlbXBsYXRlcy90ZW1wbGF0ZS5tb2R1bGUudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9zZXJ2aWNlcy9hdXRoLWd1YXJkLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9zZXJ2aWNlcy9hdXRoLWd1YXJkLWVjbS5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvYXV0aC1ndWFyZC1icG0uc2VydmljZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3NlcnZpY2VzL2FwcHMtcHJvY2Vzcy5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvcGFnZS10aXRsZS5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvcmVuZGl0aW9ucy5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvbm90aWZpY2F0aW9uLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9tb2RlbHMvY29tcG9uZW50Lm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvdHJhbnNsYXRlLWxvYWRlci5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvdXBsb2FkLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9zZXJ2aWNlcy9kZWxldGVkLW5vZGVzLWFwaS5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvZmF2b3JpdGVzLWFwaS5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvbm9kZXMtYXBpLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9zZXJ2aWNlcy9wZW9wbGUtY29udGVudC5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvc2VhcmNoLWNvbmZpZ3VyYXRpb24uc2VydmljZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3NlcnZpY2VzL3NlYXJjaC5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvc2hhcmVkLWxpbmtzLWFwaS5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvc2l0ZXMuc2VydmljZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3NlcnZpY2VzL2xvZ2luLWRpYWxvZy5zZXJ2aWNlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvc2VydmljZXMvZXh0ZXJuYWwtYWxmcmVzY28tYXBpLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jbGlwYm9hcmQvY2xpcGJvYXJkLnNlcnZpY2UudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9jbGlwYm9hcmQvY2xpcGJvYXJkLmRpcmVjdGl2ZS50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL2NsaXBib2FyZC9jbGlwYm9hcmQubW9kdWxlLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbW9kZWxzL2VjbS1jb21wYW55Lm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbW9kZWxzL3JlZGlyZWN0aW9uLm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbW9kZWxzL2NvbW1lbnQtcHJvY2Vzcy5tb2RlbC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL21vZGVscy9wYWdpbmF0aW9uLm1vZGVsLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbW9jay9BbGZyZXNjb0FwaS5tb2NrLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbW9jay9hcHAtY29uZmlnLnNlcnZpY2UubW9jay50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL21vY2svYXBwcy1zZXJ2aWNlLm1vY2sudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9tb2NrL2F1dGhlbnRpY2F0aW9uLnNlcnZpY2UubW9jay50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL21vY2svYnBtLXVzZXIuc2VydmljZS5tb2NrLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbW9jay9jb21tZW50LXByb2Nlc3Mtc2VydmljZS5tb2NrLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbW9jay9jb29raWUuc2VydmljZS5tb2NrLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbW9jay9lY20tdXNlci5zZXJ2aWNlLm1vY2sudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9tb2NrL2V2ZW50Lm1vY2sudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9tb2NrL3JlbmRpdGlvbnNTZXJ2aWNlLm1vY2sudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9tb2NrL3NlYXJjaC5zZXJ2aWNlLm1vY2sudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9tb2NrL3RyYW5zbGF0aW9uLnNlcnZpY2UubW9jay50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL21vY2svYWxmcmVzY28tYXBpLnNlcnZpY2UubW9jay50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL21vY2svZm9ybS9mb3JtLmNvbXBvbmVudC5tb2NrLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbW9jay9mb3JtL2Zvcm1EZWZpbml0aW9uLm1vY2sudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9tb2NrL2Zvcm0vZm9ybURlZmluaXRpb25SZWFkb25seS5tb2NrLnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvbW9jay9mb3JtL2Zvcm1EZWZpbml0aW9uVmlzaWJpaXR5Lm1vY2sudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS9tb2NrL2Zvcm0vc3RhcnQtZm9ybS5jb21wb25lbnQubW9jay50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL21vY2svZm9ybS9mb3JtLnNlcnZpY2UubW9jay50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL21vY2svZm9ybS93aWRnZXQtdmlzaWJpbGl0eS5zZXJ2aWNlLm1vY2sudHMiLCJuZzovL0BhbGZyZXNjby9hZGYtY29yZS90ZXN0aW5nL3NldHVwVGVzdEJlZC50cyIsIm5nOi8vQGFsZnJlc2NvL2FkZi1jb3JlL3NlcnZpY2VzL3N0YXJ0dXAtc2VydmljZS1mYWN0b3J5LnRzIiwibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvY29yZS5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiLyohICoqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXHJcbkNvcHlyaWdodCAoYykgTWljcm9zb2Z0IENvcnBvcmF0aW9uLiBBbGwgcmlnaHRzIHJlc2VydmVkLlxyXG5MaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpOyB5b3UgbWF5IG5vdCB1c2VcclxudGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGVcclxuTGljZW5zZSBhdCBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuXHJcblRISVMgQ09ERSBJUyBQUk9WSURFRCBPTiBBTiAqQVMgSVMqIEJBU0lTLCBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTllcclxuS0lORCwgRUlUSEVSIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIFdJVEhPVVQgTElNSVRBVElPTiBBTlkgSU1QTElFRFxyXG5XQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgVElUTEUsIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFLFxyXG5NRVJDSEFOVEFCTElUWSBPUiBOT04tSU5GUklOR0VNRU5ULlxyXG5cclxuU2VlIHRoZSBBcGFjaGUgVmVyc2lvbiAyLjAgTGljZW5zZSBmb3Igc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zXHJcbmFuZCBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiogKi9cclxuLyogZ2xvYmFsIFJlZmxlY3QsIFByb21pc2UgKi9cclxuXHJcbnZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24oZCwgYikge1xyXG4gICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fFxyXG4gICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHxcclxuICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTtcclxuICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZXh0ZW5kcyhkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzKGQsIGIpO1xyXG4gICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9XHJcbiAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7XHJcbn1cclxuXHJcbmV4cG9ydCB2YXIgX19hc3NpZ24gPSBmdW5jdGlvbigpIHtcclxuICAgIF9fYXNzaWduID0gT2JqZWN0LmFzc2lnbiB8fCBmdW5jdGlvbiBfX2Fzc2lnbih0KSB7XHJcbiAgICAgICAgZm9yICh2YXIgcywgaSA9IDEsIG4gPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgbjsgaSsrKSB7XHJcbiAgICAgICAgICAgIHMgPSBhcmd1bWVudHNbaV07XHJcbiAgICAgICAgICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSkgdFtwXSA9IHNbcF07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0O1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIF9fYXNzaWduLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3Jlc3QocywgZSkge1xyXG4gICAgdmFyIHQgPSB7fTtcclxuICAgIGZvciAodmFyIHAgaW4gcykgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLCBwKSAmJiBlLmluZGV4T2YocCkgPCAwKVxyXG4gICAgICAgIHRbcF0gPSBzW3BdO1xyXG4gICAgaWYgKHMgIT0gbnVsbCAmJiB0eXBlb2YgT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyA9PT0gXCJmdW5jdGlvblwiKVxyXG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBwID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTsgaSA8IHAubGVuZ3RoOyBpKyspIGlmIChlLmluZGV4T2YocFtpXSkgPCAwKVxyXG4gICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgIHJldHVybiB0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYykge1xyXG4gICAgdmFyIGMgPSBhcmd1bWVudHMubGVuZ3RoLCByID0gYyA8IDMgPyB0YXJnZXQgOiBkZXNjID09PSBudWxsID8gZGVzYyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodGFyZ2V0LCBrZXkpIDogZGVzYywgZDtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5kZWNvcmF0ZSA9PT0gXCJmdW5jdGlvblwiKSByID0gUmVmbGVjdC5kZWNvcmF0ZShkZWNvcmF0b3JzLCB0YXJnZXQsIGtleSwgZGVzYyk7XHJcbiAgICBlbHNlIGZvciAodmFyIGkgPSBkZWNvcmF0b3JzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSBpZiAoZCA9IGRlY29yYXRvcnNbaV0pIHIgPSAoYyA8IDMgPyBkKHIpIDogYyA+IDMgPyBkKHRhcmdldCwga2V5LCByKSA6IGQodGFyZ2V0LCBrZXkpKSB8fCByO1xyXG4gICAgcmV0dXJuIGMgPiAzICYmIHIgJiYgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCByKSwgcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcGFyYW0ocGFyYW1JbmRleCwgZGVjb3JhdG9yKSB7XHJcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldCwga2V5KSB7IGRlY29yYXRvcih0YXJnZXQsIGtleSwgcGFyYW1JbmRleCk7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fbWV0YWRhdGEobWV0YWRhdGFLZXksIG1ldGFkYXRhVmFsdWUpIHtcclxuICAgIGlmICh0eXBlb2YgUmVmbGVjdCA9PT0gXCJvYmplY3RcIiAmJiB0eXBlb2YgUmVmbGVjdC5tZXRhZGF0YSA9PT0gXCJmdW5jdGlvblwiKSByZXR1cm4gUmVmbGVjdC5tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2F3YWl0ZXIodGhpc0FyZywgX2FyZ3VtZW50cywgUCwgZ2VuZXJhdG9yKSB7XHJcbiAgICByZXR1cm4gbmV3IChQIHx8IChQID0gUHJvbWlzZSkpKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcclxuICAgICAgICBmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpIHsgdHJ5IHsgc3RlcChnZW5lcmF0b3JbXCJ0aHJvd1wiXSh2YWx1ZSkpOyB9IGNhdGNoIChlKSB7IHJlamVjdChlKTsgfSB9XHJcbiAgICAgICAgZnVuY3Rpb24gc3RlcChyZXN1bHQpIHsgcmVzdWx0LmRvbmUgPyByZXNvbHZlKHJlc3VsdC52YWx1ZSkgOiBuZXcgUChmdW5jdGlvbiAocmVzb2x2ZSkgeyByZXNvbHZlKHJlc3VsdC52YWx1ZSk7IH0pLnRoZW4oZnVsZmlsbGVkLCByZWplY3RlZCk7IH1cclxuICAgICAgICBzdGVwKChnZW5lcmF0b3IgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSkpLm5leHQoKSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fZ2VuZXJhdG9yKHRoaXNBcmcsIGJvZHkpIHtcclxuICAgIHZhciBfID0geyBsYWJlbDogMCwgc2VudDogZnVuY3Rpb24oKSB7IGlmICh0WzBdICYgMSkgdGhyb3cgdFsxXTsgcmV0dXJuIHRbMV07IH0sIHRyeXM6IFtdLCBvcHM6IFtdIH0sIGYsIHksIHQsIGc7XHJcbiAgICByZXR1cm4gZyA9IHsgbmV4dDogdmVyYigwKSwgXCJ0aHJvd1wiOiB2ZXJiKDEpLCBcInJldHVyblwiOiB2ZXJiKDIpIH0sIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiAoZ1tTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24oKSB7IHJldHVybiB0aGlzOyB9KSwgZztcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyByZXR1cm4gZnVuY3Rpb24gKHYpIHsgcmV0dXJuIHN0ZXAoW24sIHZdKTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc3RlcChvcCkge1xyXG4gICAgICAgIGlmIChmKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtcclxuICAgICAgICB3aGlsZSAoXykgdHJ5IHtcclxuICAgICAgICAgICAgaWYgKGYgPSAxLCB5ICYmICh0ID0gb3BbMF0gJiAyID8geVtcInJldHVyblwiXSA6IG9wWzBdID8geVtcInRocm93XCJdIHx8ICgodCA9IHlbXCJyZXR1cm5cIl0pICYmIHQuY2FsbCh5KSwgMCkgOiB5Lm5leHQpICYmICEodCA9IHQuY2FsbCh5LCBvcFsxXSkpLmRvbmUpIHJldHVybiB0O1xyXG4gICAgICAgICAgICBpZiAoeSA9IDAsIHQpIG9wID0gW29wWzBdICYgMiwgdC52YWx1ZV07XHJcbiAgICAgICAgICAgIHN3aXRjaCAob3BbMF0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMDogY2FzZSAxOiB0ID0gb3A7IGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA0OiBfLmxhYmVsKys7IHJldHVybiB7IHZhbHVlOiBvcFsxXSwgZG9uZTogZmFsc2UgfTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNTogXy5sYWJlbCsrOyB5ID0gb3BbMV07IG9wID0gWzBdOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGNhc2UgNzogb3AgPSBfLm9wcy5wb3AoKTsgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCEodCA9IF8udHJ5cywgdCA9IHQubGVuZ3RoID4gMCAmJiB0W3QubGVuZ3RoIC0gMV0pICYmIChvcFswXSA9PT0gNiB8fCBvcFswXSA9PT0gMikpIHsgXyA9IDA7IGNvbnRpbnVlOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wWzBdID09PSAzICYmICghdCB8fCAob3BbMV0gPiB0WzBdICYmIG9wWzFdIDwgdFszXSkpKSB7IF8ubGFiZWwgPSBvcFsxXTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDYgJiYgXy5sYWJlbCA8IHRbMV0pIHsgXy5sYWJlbCA9IHRbMV07IHQgPSBvcDsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodCAmJiBfLmxhYmVsIDwgdFsyXSkgeyBfLmxhYmVsID0gdFsyXTsgXy5vcHMucHVzaChvcCk7IGJyZWFrOyB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRbMl0pIF8ub3BzLnBvcCgpO1xyXG4gICAgICAgICAgICAgICAgICAgIF8udHJ5cy5wb3AoKTsgY29udGludWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgb3AgPSBib2R5LmNhbGwodGhpc0FyZywgXyk7XHJcbiAgICAgICAgfSBjYXRjaCAoZSkgeyBvcCA9IFs2LCBlXTsgeSA9IDA7IH0gZmluYWxseSB7IGYgPSB0ID0gMDsgfVxyXG4gICAgICAgIGlmIChvcFswXSAmIDUpIHRocm93IG9wWzFdOyByZXR1cm4geyB2YWx1ZTogb3BbMF0gPyBvcFsxXSA6IHZvaWQgMCwgZG9uZTogdHJ1ZSB9O1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHBvcnRTdGFyKG0sIGV4cG9ydHMpIHtcclxuICAgIGZvciAodmFyIHAgaW4gbSkgaWYgKCFleHBvcnRzLmhhc093blByb3BlcnR5KHApKSBleHBvcnRzW3BdID0gbVtwXTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fdmFsdWVzKG8pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXSwgaSA9IDA7XHJcbiAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTtcclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwO1xyXG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVhZChvLCBuKSB7XHJcbiAgICB2YXIgbSA9IHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvW1N5bWJvbC5pdGVyYXRvcl07XHJcbiAgICBpZiAoIW0pIHJldHVybiBvO1xyXG4gICAgdmFyIGkgPSBtLmNhbGwobyksIHIsIGFyID0gW10sIGU7XHJcbiAgICB0cnkge1xyXG4gICAgICAgIHdoaWxlICgobiA9PT0gdm9pZCAwIHx8IG4tLSA+IDApICYmICEociA9IGkubmV4dCgpKS5kb25lKSBhci5wdXNoKHIudmFsdWUpO1xyXG4gICAgfVxyXG4gICAgY2F0Y2ggKGVycm9yKSB7IGUgPSB7IGVycm9yOiBlcnJvciB9OyB9XHJcbiAgICBmaW5hbGx5IHtcclxuICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICBpZiAociAmJiAhci5kb25lICYmIChtID0gaVtcInJldHVyblwiXSkpIG0uY2FsbChpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZmluYWxseSB7IGlmIChlKSB0aHJvdyBlLmVycm9yOyB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gYXI7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX3NwcmVhZCgpIHtcclxuICAgIGZvciAodmFyIGFyID0gW10sIGkgPSAwOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKVxyXG4gICAgICAgIGFyID0gYXIuY29uY2F0KF9fcmVhZChhcmd1bWVudHNbaV0pKTtcclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXQodikge1xyXG4gICAgcmV0dXJuIHRoaXMgaW5zdGFuY2VvZiBfX2F3YWl0ID8gKHRoaXMudiA9IHYsIHRoaXMpIDogbmV3IF9fYXdhaXQodik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jR2VuZXJhdG9yKHRoaXNBcmcsIF9hcmd1bWVudHMsIGdlbmVyYXRvcikge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBnID0gZ2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsIF9hcmd1bWVudHMgfHwgW10pLCBpLCBxID0gW107XHJcbiAgICByZXR1cm4gaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaWYgKGdbbl0pIGlbbl0gPSBmdW5jdGlvbiAodikgeyByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGEsIGIpIHsgcS5wdXNoKFtuLCB2LCBhLCBiXSkgPiAxIHx8IHJlc3VtZShuLCB2KTsgfSk7IH07IH1cclxuICAgIGZ1bmN0aW9uIHJlc3VtZShuLCB2KSB7IHRyeSB7IHN0ZXAoZ1tuXSh2KSk7IH0gY2F0Y2ggKGUpIHsgc2V0dGxlKHFbMF1bM10sIGUpOyB9IH1cclxuICAgIGZ1bmN0aW9uIHN0ZXAocikgeyByLnZhbHVlIGluc3RhbmNlb2YgX19hd2FpdCA/IFByb21pc2UucmVzb2x2ZShyLnZhbHVlLnYpLnRoZW4oZnVsZmlsbCwgcmVqZWN0KSA6IHNldHRsZShxWzBdWzJdLCByKTsgfVxyXG4gICAgZnVuY3Rpb24gZnVsZmlsbCh2YWx1ZSkgeyByZXN1bWUoXCJuZXh0XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gcmVqZWN0KHZhbHVlKSB7IHJlc3VtZShcInRocm93XCIsIHZhbHVlKTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKGYsIHYpIHsgaWYgKGYodiksIHEuc2hpZnQoKSwgcS5sZW5ndGgpIHJlc3VtZShxWzBdWzBdLCBxWzBdWzFdKTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hc3luY0RlbGVnYXRvcihvKSB7XHJcbiAgICB2YXIgaSwgcDtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiwgZnVuY3Rpb24gKGUpIHsgdGhyb3cgZTsgfSksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4sIGYpIHsgaVtuXSA9IG9bbl0gPyBmdW5jdGlvbiAodikgeyByZXR1cm4gKHAgPSAhcCkgPyB7IHZhbHVlOiBfX2F3YWl0KG9bbl0odikpLCBkb25lOiBuID09PSBcInJldHVyblwiIH0gOiBmID8gZih2KSA6IHY7IH0gOiBmOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jVmFsdWVzKG8pIHtcclxuICAgIGlmICghU3ltYm9sLmFzeW5jSXRlcmF0b3IpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJTeW1ib2wuYXN5bmNJdGVyYXRvciBpcyBub3QgZGVmaW5lZC5cIik7XHJcbiAgICB2YXIgbSA9IG9bU3ltYm9sLmFzeW5jSXRlcmF0b3JdLCBpO1xyXG4gICAgcmV0dXJuIG0gPyBtLmNhbGwobykgOiAobyA9IHR5cGVvZiBfX3ZhbHVlcyA9PT0gXCJmdW5jdGlvblwiID8gX192YWx1ZXMobykgOiBvW1N5bWJvbC5pdGVyYXRvcl0oKSwgaSA9IHt9LCB2ZXJiKFwibmV4dFwiKSwgdmVyYihcInRocm93XCIpLCB2ZXJiKFwicmV0dXJuXCIpLCBpW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHRoaXM7IH0sIGkpO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IGlbbl0gPSBvW25dICYmIGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7IHYgPSBvW25dKHYpLCBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCB2LmRvbmUsIHYudmFsdWUpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gc2V0dGxlKHJlc29sdmUsIHJlamVjdCwgZCwgdikgeyBQcm9taXNlLnJlc29sdmUodikudGhlbihmdW5jdGlvbih2KSB7IHJlc29sdmUoeyB2YWx1ZTogdiwgZG9uZTogZCB9KTsgfSwgcmVqZWN0KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tYWtlVGVtcGxhdGVPYmplY3QoY29va2VkLCByYXcpIHtcclxuICAgIGlmIChPYmplY3QuZGVmaW5lUHJvcGVydHkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGNvb2tlZCwgXCJyYXdcIiwgeyB2YWx1ZTogcmF3IH0pOyB9IGVsc2UgeyBjb29rZWQucmF3ID0gcmF3OyB9XHJcbiAgICByZXR1cm4gY29va2VkO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9faW1wb3J0U3Rhcihtb2QpIHtcclxuICAgIGlmIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpIHJldHVybiBtb2Q7XHJcbiAgICB2YXIgcmVzdWx0ID0ge307XHJcbiAgICBpZiAobW9kICE9IG51bGwpIGZvciAodmFyIGsgaW4gbW9kKSBpZiAoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwobW9kLCBrKSkgcmVzdWx0W2tdID0gbW9kW2tdO1xyXG4gICAgcmVzdWx0LmRlZmF1bHQgPSBtb2Q7XHJcbiAgICByZXR1cm4gcmVzdWx0O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnREZWZhdWx0KG1vZCkge1xyXG4gICAgcmV0dXJuIChtb2QgJiYgbW9kLl9fZXNNb2R1bGUpID8gbW9kIDogeyBkZWZhdWx0OiBtb2QgfTtcclxufVxyXG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgY2xhc3MgT2JqZWN0VXRpbHMge1xuICAgIC8qKlxuICAgICAqIEdldHMgYSB2YWx1ZSBmcm9tIGFuIG9iamVjdCBieSBjb21wb3NlZCBrZXlcbiAgICAgKiBPYmplY3RVdGlscy5nZXRWYWx1ZSh7IGl0ZW06IHsgbm9kZVR5cGU6ICdjbTpmb2xkZXInIH19LCAnaXRlbS5ub2RlVHlwZScpID09PiAnY206Zm9sZGVyJ1xuICAgICAqIEBwYXJhbSB0YXJnZXRcbiAgICAgKiBAcGFyYW0ga2V5XG4gICAgICovXG4gICAgc3RhdGljIGdldFZhbHVlKHRhcmdldDogYW55LCBrZXk6IHN0cmluZyk6IGFueSB7XG5cbiAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQga2V5cyA9IGtleS5zcGxpdCgnLicpO1xuICAgICAgICBrZXkgPSAnJztcblxuICAgICAgICBkbyB7XG4gICAgICAgICAgICBrZXkgKz0ga2V5cy5zaGlmdCgpO1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gdGFyZ2V0W2tleV07XG4gICAgICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyB8fCAha2V5cy5sZW5ndGgpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAga2V5ID0gJyc7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKCFrZXlzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAga2V5ICs9ICcuJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSB3aGlsZSAoa2V5cy5sZW5ndGgpO1xuXG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuXG4gICAgc3RhdGljIG1lcmdlKC4uLm9iamVjdHMpOiBhbnkge1xuICAgICAgICBsZXQgcmVzdWx0ID0ge307XG5cbiAgICAgICAgb2JqZWN0cy5mb3JFYWNoKHNvdXJjZSA9PiB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhzb3VyY2UpLmZvckVhY2gocHJvcCA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHByb3AgaW4gcmVzdWx0ICYmIEFycmF5LmlzQXJyYXkocmVzdWx0W3Byb3BdKSkge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcHJvcF0gPSByZXN1bHRbcHJvcF0uY29uY2F0KHNvdXJjZVtwcm9wXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcm9wIGluIHJlc3VsdCAmJiB0eXBlb2YgcmVzdWx0W3Byb3BdID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRbcHJvcF0gPSBPYmplY3RVdGlscy5tZXJnZShyZXN1bHRbcHJvcF0sIHNvdXJjZVtwcm9wXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0W3Byb3BdID0gc291cmNlW3Byb3BdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYmplY3RVdGlscyB9IGZyb20gJy4uL3V0aWxzL29iamVjdC11dGlscyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBtYXAsIGRpc3RpbmN0VW50aWxDaGFuZ2VkIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5leHBvcnQgZW51bSBBcHBDb25maWdWYWx1ZXMge1xuICAgIEFQUF9DT05GSUdfTEFOR1VBR0VTX0tFWSA9ICdsYW5ndWFnZXMnLFxuICAgIFBST1ZJREVSUyA9ICdwcm92aWRlcnMnLFxuICAgIE9BVVRIQ09ORklHID0gJ29hdXRoMicsXG4gICAgRUNNSE9TVCA9ICdlY21Ib3N0JyxcbiAgICBCQVNFU0hBUkVVUkwgPSAnYmFzZVNoYXJlVXJsJyxcbiAgICBCUE1IT1NUID0gJ2JwbUhvc3QnLFxuICAgIEFVVEhUWVBFID0gJ2F1dGhUeXBlJyxcbiAgICBDT05URVhUUk9PVEVDTSA9ICdjb250ZXh0Um9vdEVjbScsXG4gICAgQ09OVEVYVFJPT1RCUE0gPSAnY29udGV4dFJvb3RCcG0nLFxuICAgIEFMRlJFU0NPX1JFUE9TSVRPUllfTkFNRSA9ICdhbGZyZXNjb1JlcG9zaXRvcnlOYW1lJyxcbiAgICBMT0dfTEVWRUwgPSAnbG9nTGV2ZWwnLFxuICAgIExPR0lOX1JPVVRFID0gJ2xvZ2luUm91dGUnLFxuICAgIERJU0FCTEVDU1JGID0gJ2Rpc2FibGVDU1JGJ1xufVxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQXBwQ29uZmlnU2VydmljZSB7XG5cbiAgICBjb25maWc6IGFueSA9IHtcbiAgICAgICAgYXBwbGljYXRpb246IHtcbiAgICAgICAgICAgIG5hbWU6ICdBbGZyZXNjbyBBREYgQXBwbGljYXRpb24nXG4gICAgICAgIH0sXG4gICAgICAgIGVjbUhvc3Q6ICdodHRwOi8ve2hvc3RuYW1lfXs6cG9ydH0vZWNtJyxcbiAgICAgICAgYnBtSG9zdDogJ2h0dHA6Ly97aG9zdG5hbWV9ezpwb3J0fS9icG0nLFxuICAgICAgICBsb2dMZXZlbDogJ3NpbGVudCcsXG4gICAgICAgIGFsZnJlc2NvUmVwb3NpdG9yeU5hbWU6ICdhbGZyZXNjby0xJ1xuICAgIH07XG5cbiAgICBwcml2YXRlIG9uTG9hZFN1YmplY3Q6IFN1YmplY3Q8YW55PjtcbiAgICBvbkxvYWQ6IE9ic2VydmFibGU8YW55PjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgaHR0cDogSHR0cENsaWVudCkge1xuICAgICAgICB0aGlzLm9uTG9hZFN1YmplY3QgPSBuZXcgU3ViamVjdCgpO1xuICAgICAgICB0aGlzLm9uTG9hZCA9IHRoaXMub25Mb2FkU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXF1ZXN0cyBub3RpZmljYXRpb24gb2YgYSBwcm9wZXJ0eSB2YWx1ZSB3aGVuIGl0IGlzIGxvYWRlZC5cbiAgICAgKiBAcGFyYW0gcHJvcGVydHkgVGhlIGRlc2lyZWQgcHJvcGVydHkgdmFsdWVcbiAgICAgKiBAcmV0dXJucyBQcm9wZXJ0eSB2YWx1ZSwgd2hlbiBsb2FkZWRcbiAgICAgKi9cbiAgICBzZWxlY3QocHJvcGVydHk6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLm9uTG9hZFN1YmplY3RcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCgoY29uZmlnKSA9PiBjb25maWdbcHJvcGVydHldKSxcbiAgICAgICAgICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIG9mIGEgbmFtZWQgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIGtleSBOYW1lIG9mIHRoZSBwcm9wZXJ0eVxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgVmFsdWUgdG8gcmV0dXJuIGlmIHRoZSBrZXkgaXMgbm90IGZvdW5kXG4gICAgICogQHJldHVybnMgVmFsdWUgb2YgdGhlIHByb3BlcnR5XG4gICAgICovXG4gICAgZ2V0PFQ+KGtleTogc3RyaW5nLCBkZWZhdWx0VmFsdWU/OiBUKTogVCB7XG4gICAgICAgIGxldCByZXN1bHQ6IGFueSA9IE9iamVjdFV0aWxzLmdldFZhbHVlKHRoaXMuY29uZmlnLCBrZXkpO1xuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleXdvcmRzID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZz4oKTtcbiAgICAgICAgICAgIGtleXdvcmRzLnNldCgnaG9zdG5hbWUnLCB0aGlzLmdldExvY2F0aW9uSG9zdG5hbWUoKSk7XG4gICAgICAgICAgICBrZXl3b3Jkcy5zZXQoJzpwb3J0JywgdGhpcy5nZXRMb2NhdGlvblBvcnQoJzonKSk7XG4gICAgICAgICAgICBrZXl3b3Jkcy5zZXQoJ3BvcnQnLCB0aGlzLmdldExvY2F0aW9uUG9ydCgpKTtcbiAgICAgICAgICAgIGtleXdvcmRzLnNldCgncHJvdG9jb2wnLCB0aGlzLmdldExvY2F0aW9uUHJvdG9jb2woKSk7XG4gICAgICAgICAgICByZXN1bHQgPSB0aGlzLmZvcm1hdFN0cmluZyhyZXN1bHQsIGtleXdvcmRzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIDxUPiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbG9jYXRpb24ucHJvdG9jb2wgdmFsdWUuXG4gICAgICogQHJldHVybnMgVGhlIGxvY2F0aW9uLnByb3RvY29sIHN0cmluZ1xuICAgICAqL1xuICAgIGdldExvY2F0aW9uUHJvdG9jb2woKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGxvY2F0aW9uLnByb3RvY29sO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2F0aW9uLmhvc3RuYW1lIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIFZhbHVlIG9mIHRoZSBwcm9wZXJ0eVxuICAgICAqL1xuICAgIGdldExvY2F0aW9uSG9zdG5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGxvY2F0aW9uLmhvc3RuYW1lO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxvY2F0aW9uLnBvcnQgcHJvcGVydHkuXG4gICAgICogQHBhcmFtIHByZWZpeCBUZXh0IGFkZGVkIGJlZm9yZSBwb3J0IHZhbHVlXG4gICAgICogQHJldHVybnMgUG9ydCB3aXRoIHByZWZpeFxuICAgICAqL1xuICAgIGdldExvY2F0aW9uUG9ydChwcmVmaXg6IHN0cmluZyA9ICcnKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGxvY2F0aW9uLnBvcnQgPyBwcmVmaXggKyBsb2NhdGlvbi5wb3J0IDogJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9hZHMgdGhlIGNvbmZpZyBmaWxlLlxuICAgICAqIEByZXR1cm5zIE5vdGlmaWNhdGlvbiB3aGVuIGxvYWRpbmcgaXMgY29tcGxldGVcbiAgICAgKi9cbiAgICBsb2FkKCk6IFByb21pc2U8YW55PiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbmZpZ1VybCA9IGBhcHAuY29uZmlnLmpzb24/dj0ke0RhdGUubm93KCl9YDtcblxuICAgICAgICAgICAgdGhpcy5odHRwLmdldChjb25maWdVcmwpLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAoZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5jb25maWcsIGRhdGEgfHwge30pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9hZFN1YmplY3QubmV4dCh0aGlzLmNvbmZpZyk7XG4gICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5jb25maWcpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKHRoaXMuY29uZmlnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGZvcm1hdFN0cmluZyhzdHI6IHN0cmluZywga2V5d29yZHM6IE1hcDxzdHJpbmcsIHN0cmluZz4pOiBzdHJpbmcge1xuICAgICAgICBsZXQgcmVzdWx0ID0gc3RyO1xuXG4gICAgICAgIGtleXdvcmRzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV4cHIgPSBuZXcgUmVnRXhwKCd7JyArIGtleSArICd9JywgJ2dtJyk7XG4gICAgICAgICAgICByZXN1bHQgPSByZXN1bHQucmVwbGFjZShleHByLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgU3RvcmFnZVNlcnZpY2Uge1xuXG4gICAgcHJpdmF0ZSBtZW1vcnlTdG9yZTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuICAgIHByaXZhdGUgdXNlTG9jYWxTdG9yYWdlOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy51c2VMb2NhbFN0b3JhZ2UgPSB0aGlzLnN0b3JhZ2VBdmFpbGFibGUoJ2xvY2FsU3RvcmFnZScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYW4gaXRlbS5cbiAgICAgKiBAcGFyYW0ga2V5IEtleSB0byBpZGVudGlmeSB0aGUgaXRlbVxuICAgICAqIEByZXR1cm5zIFRoZSBpdGVtIChpZiBhbnkpIHJldHJpZXZlZCBieSB0aGUga2V5XG4gICAgICovXG4gICAgZ2V0SXRlbShrZXk6IHN0cmluZyk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICBpZiAodGhpcy51c2VMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICAgIHJldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubWVtb3J5U3RvcmUuaGFzT3duUHJvcGVydHkoa2V5KSA/IHRoaXMubWVtb3J5U3RvcmVba2V5XSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdG9yZXMgYW4gaXRlbVxuICAgICAqIEBwYXJhbSBrZXkgS2V5IHRvIGlkZW50aWZ5IHRoZSBpdGVtXG4gICAgICogQHBhcmFtIGRhdGEgRGF0YSB0byBzdG9yZVxuICAgICAqL1xuICAgIHNldEl0ZW0oa2V5OiBzdHJpbmcsIGRhdGE6IHN0cmluZykge1xuICAgICAgICBpZiAodGhpcy51c2VMb2NhbFN0b3JhZ2UpIHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwgZGF0YSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1lbW9yeVN0b3JlW2tleV0gPSBkYXRhLnRvU3RyaW5nKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKiogUmVtb3ZlcyBhbGwgY3VycmVudGx5IHN0b3JlZCBpdGVtcy4gKi9cbiAgICBjbGVhcigpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubWVtb3J5U3RvcmUgPSB7fTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYSBzaW5nbGUgaXRlbS5cbiAgICAgKiBAcGFyYW0ga2V5IEtleSB0byBpZGVudGlmeSB0aGUgaXRlbVxuICAgICAqL1xuICAgIHJlbW92ZUl0ZW0oa2V5OiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKHRoaXMudXNlTG9jYWxTdG9yYWdlKSB7XG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShrZXkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMubWVtb3J5U3RvcmVba2V5XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIElzIGFueSBpdGVtIGN1cnJlbnRseSBzdG9yZWQgdW5kZXIgYGtleWA/XG4gICAgICogQHBhcmFtIGtleSBLZXkgaWRlbnRpZnlpbmcgaXRlbSB0byBjaGVja1xuICAgICAqIEByZXR1cm5zIFRydWUgaWYga2V5IHJldHJpZXZlcyBhbiBpdGVtLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBoYXNJdGVtKGtleTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLnVzZUxvY2FsU3RvcmFnZSkge1xuICAgICAgICAgICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKGtleSkgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5tZW1vcnlTdG9yZS5oYXNPd25Qcm9wZXJ0eShrZXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdG9yYWdlQXZhaWxhYmxlKHR5cGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgbGV0IHN0b3JhZ2UgPSB3aW5kb3dbdHlwZV07XG4gICAgICAgICAgICBjb25zdCBrZXkgPSAnX19zdG9yYWdlX3Rlc3RfXyc7XG4gICAgICAgICAgICBzdG9yYWdlLnNldEl0ZW0oa2V5LCBrZXkpO1xuICAgICAgICAgICAgc3RvcmFnZS5yZW1vdmVJdGVtKGtleSwga2V5KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7XG4gICAgQWxmcmVzY29BcGksXG4gICAgQ29udGVudEFwaSxcbiAgICBGYXZvcml0ZXNBcGksXG4gICAgTm9kZXNBcGksXG4gICAgUGVvcGxlQXBpLFxuICAgIFJlbmRpdGlvbnNBcGksXG4gICAgU2hhcmVkbGlua3NBcGksXG4gICAgU2l0ZXNBcGksXG4gICAgVmVyc2lvbnNBcGksXG4gICAgQ2xhc3Nlc0FwaSxcbiAgICBTZWFyY2hBcGksXG4gICAgR3JvdXBzQXBpLFxuICAgIE1pbmltYWxOb2RlRW50cnlFbnRpdHlcbn0gZnJvbSAnYWxmcmVzY28tanMtYXBpJztcbmltcG9ydCAqIGFzIGFsZnJlc2NvQXBpIGZyb20gJ2FsZnJlc2NvLWpzLWFwaSc7XG5pbXBvcnQgeyBBcHBDb25maWdTZXJ2aWNlLCBBcHBDb25maWdWYWx1ZXMgfSBmcm9tICcuLi9hcHAtY29uZmlnL2FwcC1jb25maWcuc2VydmljZSc7XG5pbXBvcnQgeyBTdG9yYWdlU2VydmljZSB9IGZyb20gJy4vc3RvcmFnZS5zZXJ2aWNlJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IE9hdXRoQ29uZmlnTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvb2F1dGgtY29uZmlnLm1vZGVsJztcblxuLyogdHNsaW50OmRpc2FibGU6YWRmLWZpbGUtbmFtZSAqL1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQWxmcmVzY29BcGlTZXJ2aWNlIHtcbiAgICAvKipcbiAgICAgKiBQdWJsaXNoL3N1YnNjcmliZSB0byBldmVudHMgcmVsYXRlZCB0byBub2RlIHVwZGF0ZXMuXG4gICAgICovXG4gICAgbm9kZVVwZGF0ZWQgPSBuZXcgU3ViamVjdDxNaW5pbWFsTm9kZUVudHJ5RW50aXR5PigpO1xuXG4gICAgcHJvdGVjdGVkIGFsZnJlc2NvQXBpOiBBbGZyZXNjb0FwaTtcblxuICAgIGdldEluc3RhbmNlKCk6IEFsZnJlc2NvQXBpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxmcmVzY29BcGk7XG4gICAgfVxuXG4gICAgZ2V0IHRhc2tBcGkoKTogYWxmcmVzY29BcGkuVGFza0FwaSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEluc3RhbmNlKCkuYWN0aXZpdGkudGFza0FwaTtcbiAgICB9XG5cbiAgICBnZXQgbW9kZWxzQXBpKCk6IGFsZnJlc2NvQXBpLk1vZGVsc0FwaSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEluc3RhbmNlKCkuYWN0aXZpdGkubW9kZWxzQXBpO1xuICAgIH1cblxuICAgIGdldCBjb250ZW50QXBpKCk6IENvbnRlbnRBcGkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnN0YW5jZSgpLmNvbnRlbnQ7XG4gICAgfVxuXG4gICAgZ2V0IG5vZGVzQXBpKCk6IE5vZGVzQXBpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoKS5ub2RlcztcbiAgICB9XG5cbiAgICBnZXQgcmVuZGl0aW9uc0FwaSgpOiBSZW5kaXRpb25zQXBpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoKS5jb3JlLnJlbmRpdGlvbnNBcGk7XG4gICAgfVxuXG4gICAgZ2V0IHNoYXJlZExpbmtzQXBpKCk6IFNoYXJlZGxpbmtzQXBpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoKS5jb3JlLnNoYXJlZGxpbmtzQXBpO1xuICAgIH1cblxuICAgIGdldCBzaXRlc0FwaSgpOiBTaXRlc0FwaSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEluc3RhbmNlKCkuY29yZS5zaXRlc0FwaTtcbiAgICB9XG5cbiAgICBnZXQgZmF2b3JpdGVzQXBpKCk6IEZhdm9yaXRlc0FwaSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEluc3RhbmNlKCkuY29yZS5mYXZvcml0ZXNBcGk7XG4gICAgfVxuXG4gICAgZ2V0IHBlb3BsZUFwaSgpOiBQZW9wbGVBcGkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnN0YW5jZSgpLmNvcmUucGVvcGxlQXBpO1xuICAgIH1cblxuICAgIGdldCBzZWFyY2hBcGkoKTogU2VhcmNoQXBpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoKS5zZWFyY2guc2VhcmNoQXBpO1xuICAgIH1cblxuICAgIGdldCB2ZXJzaW9uc0FwaSgpOiBWZXJzaW9uc0FwaSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEluc3RhbmNlKCkuY29yZS52ZXJzaW9uc0FwaTtcbiAgICB9XG5cbiAgICBnZXQgY2xhc3Nlc0FwaSgpOiBDbGFzc2VzQXBpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoKS5jb3JlLmNsYXNzZXNBcGk7XG4gICAgfVxuXG4gICAgZ2V0IGdyb3Vwc0FwaSgpOiBHcm91cHNBcGkge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRJbnN0YW5jZSgpLmNvcmUuZ3JvdXBzQXBpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBhcHBDb25maWc6IEFwcENvbmZpZ1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIHN0b3JhZ2U6IFN0b3JhZ2VTZXJ2aWNlKSB7XG4gICAgfVxuXG4gICAgYXN5bmMgbG9hZCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5hcHBDb25maWcubG9hZCgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5pbml0QWxmcmVzY29BcGkoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMuaW5pdEFsZnJlc2NvQXBpKCk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGluaXRBbGZyZXNjb0FwaSgpIHtcbiAgICAgICAgbGV0IG9hdXRoOiBPYXV0aENvbmZpZ01vZGVsID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5hcHBDb25maWcuZ2V0PE9hdXRoQ29uZmlnTW9kZWw+KEFwcENvbmZpZ1ZhbHVlcy5PQVVUSENPTkZJRywgbnVsbCkpO1xuICAgICAgICBpZiAob2F1dGgpIHtcbiAgICAgICAgICAgIG9hdXRoLnJlZGlyZWN0VXJpID0gd2luZG93LmxvY2F0aW9uLm9yaWdpbiArIChvYXV0aC5yZWRpcmVjdFVyaSB8fCAnLycpO1xuICAgICAgICAgICAgb2F1dGgucmVkaXJlY3RVcmlMb2dvdXQgPSB3aW5kb3cubG9jYXRpb24ub3JpZ2luICsgKG9hdXRoLnJlZGlyZWN0VXJpTG9nb3V0IHx8ICcvJyk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICBwcm92aWRlcjogdGhpcy5nZXRQcm92aWRlcigpLFxuICAgICAgICAgICAgaG9zdEVjbTogdGhpcy5hcHBDb25maWcuZ2V0PHN0cmluZz4oQXBwQ29uZmlnVmFsdWVzLkVDTUhPU1QpLFxuICAgICAgICAgICAgaG9zdEJwbTogdGhpcy5hcHBDb25maWcuZ2V0PHN0cmluZz4oQXBwQ29uZmlnVmFsdWVzLkJQTUhPU1QpLFxuICAgICAgICAgICAgYXV0aFR5cGU6IHRoaXMuYXBwQ29uZmlnLmdldDxzdHJpbmc+KEFwcENvbmZpZ1ZhbHVlcy5BVVRIVFlQRSwgJ0JBU0lDJyksXG4gICAgICAgICAgICBjb250ZXh0Um9vdEJwbTogdGhpcy5hcHBDb25maWcuZ2V0PHN0cmluZz4oQXBwQ29uZmlnVmFsdWVzLkNPTlRFWFRST09UQlBNKSxcbiAgICAgICAgICAgIGNvbnRleHRSb290OiB0aGlzLmFwcENvbmZpZy5nZXQ8c3RyaW5nPihBcHBDb25maWdWYWx1ZXMuQ09OVEVYVFJPT1RFQ00pLFxuICAgICAgICAgICAgZGlzYWJsZUNzcmY6IHRoaXMuZ2V0RGlzYWJsZUNTUkYoKSxcbiAgICAgICAgICAgIG9hdXRoMjogb2F1dGhcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodGhpcy5hbGZyZXNjb0FwaSkge1xuICAgICAgICAgICAgdGhpcy5hbGZyZXNjb0FwaS5jb25maWd1cmVKc0FwaShjb25maWcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hbGZyZXNjb0FwaSA9IDxBbGZyZXNjb0FwaT4gbmV3IGFsZnJlc2NvQXBpKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBAZGVwcmVjYXRlZCAzLjAuMCBnZXQgb25seSBmcm9tIGFwcCBjb25maWdcbiAgICBwcml2YXRlIGdldERpc2FibGVDU1JGKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5zdG9yYWdlLmdldEl0ZW0oQXBwQ29uZmlnVmFsdWVzLkRJU0FCTEVDU1JGKSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFwcENvbmZpZy5nZXQ8Ym9vbGVhbj4oQXBwQ29uZmlnVmFsdWVzLkRJU0FCTEVDU1JGKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEBkZXByZWNhdGVkIDMuMC4wIGdldCBvbmx5IGZyb20gYXBwIGNvbmZpZ1xuICAgIHByaXZhdGUgZ2V0UHJvdmlkZXIoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShBcHBDb25maWdWYWx1ZXMuUFJPVklERVJTKSB8fCB0aGlzLmFwcENvbmZpZy5nZXQ8c3RyaW5nPihBcHBDb25maWdWYWx1ZXMuUFJPVklERVJTKTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBDb29raWVTZXJ2aWNlIHtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBjb29raWVzIGFyZSBlbmFibGVkLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaXNFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICAvLyBmb3IgY2VydGFpbiBzY2VuYXJpb3MgQ2hyb21lIG1heSBzYXkgJ3RydWUnIGJ1dCBoYXZlIGNvb2tpZXMgc3RpbGwgZGlzYWJsZWRcbiAgICAgICAgaWYgKG5hdmlnYXRvci5jb29raWVFbmFibGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gJ3Rlc3QtY29va2llJztcbiAgICAgICAgcmV0dXJuIGRvY3VtZW50LmNvb2tpZS5pbmRleE9mKCd0ZXN0LWNvb2tpZScpID49IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgY29va2llIGJ5IGl0cyBrZXkuXG4gICAgICogQHBhcmFtIGtleSBLZXkgdG8gaWRlbnRpZnkgdGhlIGNvb2tpZVxuICAgICAqIEByZXR1cm5zIFRoZSBjb29raWUgZGF0YSBvciBudWxsIGlmIGl0IGlzIG5vdCBmb3VuZFxuICAgICAqL1xuICAgIGdldEl0ZW0oa2V5OiBzdHJpbmcpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAgICAgY29uc3QgcmVnZXhwID0gbmV3IFJlZ0V4cCgnKD86JyArIGtleSArICd8O1xccyonICsga2V5ICsgJyk9KC4qPykoPzo7fCQpJywgJ2cnKTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gcmVnZXhwLmV4ZWMoZG9jdW1lbnQuY29va2llKTtcbiAgICAgICAgcmV0dXJuIChyZXN1bHQgPT09IG51bGwpID8gbnVsbCA6IHJlc3VsdFsxXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgY29va2llLlxuICAgICAqIEBwYXJhbSBrZXkgS2V5IHRvIGlkZW50aWZ5IHRoZSBjb29raWVcbiAgICAgKiBAcGFyYW0gZGF0YSBEYXRhIHZhbHVlIHRvIHNldCBmb3IgdGhlIGNvb2tpZVxuICAgICAqIEBwYXJhbSBleHBpcmF0aW9uIEV4cGlyYXRpb24gZGF0ZSBvZiB0aGUgZGF0YVxuICAgICAqIEBwYXJhbSBwYXRoIFwiUGF0aG5hbWVcIiB0byBzdG9yZSB0aGUgY29va2llXG4gICAgICovXG4gICAgc2V0SXRlbShrZXk6IHN0cmluZywgZGF0YTogc3RyaW5nLCBleHBpcmF0aW9uOiBEYXRlIHwgbnVsbCwgcGF0aDogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBgJHtrZXl9PSR7ZGF0YX1gICtcbiAgICAgICAgICAgIChleHBpcmF0aW9uID8gJztleHBpcmVzPScgKyBleHBpcmF0aW9uLnRvVVRDU3RyaW5nKCkgOiAnJykgK1xuICAgICAgICAgICAgKHBhdGggPyBgO3BhdGg9JHtwYXRofWAgOiAnO3BhdGg9LycpO1xuICAgIH1cblxuICAgIC8qKiBQbGFjZWhvbGRlciBmb3IgdGVzdGluZyBwdXJwb3NlcyAtIGRvIG5vdCB1c2UuICovXG4gICAgY2xlYXIoKSB7XG4gICAgICAgIC8qIHBsYWNlaG9sZGVyIGZvciB0ZXN0aW5nIHB1cnBvc2VzICovXG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGNsYXNzIExvZ0xldmVsc0VudW0gZXh0ZW5kcyBOdW1iZXIge1xuICAgIHN0YXRpYyBUUkFDRTogbnVtYmVyID0gNTtcbiAgICBzdGF0aWMgREVCVUc6IG51bWJlciA9IDQ7XG4gICAgc3RhdGljIElORk86IG51bWJlciA9IDM7XG4gICAgc3RhdGljIFdBUk46IG51bWJlciA9IDI7XG4gICAgc3RhdGljIEVSUk9SOiBudW1iZXIgPSAxO1xuICAgIHN0YXRpYyBTSUxFTlQ6IG51bWJlciA9IDA7XG59XG5cbmV4cG9ydCBsZXQgbG9nTGV2ZWxzOiBhbnlbXSA9IFtcbiAgICB7bGV2ZWw6IExvZ0xldmVsc0VudW0uVFJBQ0UsIG5hbWU6ICdUUkFDRSd9LFxuICAgIHtsZXZlbDogTG9nTGV2ZWxzRW51bS5ERUJVRywgbmFtZTogJ0RFQlVHJ30sXG4gICAge2xldmVsOiBMb2dMZXZlbHNFbnVtLklORk8sIG5hbWU6ICdJTkZPJ30sXG4gICAge2xldmVsOiBMb2dMZXZlbHNFbnVtLldBUk4sIG5hbWU6ICdXQVJOJ30sXG4gICAge2xldmVsOiBMb2dMZXZlbHNFbnVtLkVSUk9SLCBuYW1lOiAnRVJST1InfSxcbiAgICB7bGV2ZWw6IExvZ0xldmVsc0VudW0uU0lMRU5ULCBuYW1lOiAnU0lMRU5UJ31cbl07XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby1jb25zb2xlICAqL1xuXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBcHBDb25maWdTZXJ2aWNlLCBBcHBDb25maWdWYWx1ZXMgfSBmcm9tICcuLi9hcHAtY29uZmlnL2FwcC1jb25maWcuc2VydmljZSc7XG5pbXBvcnQgeyBsb2dMZXZlbHMsIExvZ0xldmVsc0VudW0gfSBmcm9tICcuLi9tb2RlbHMvbG9nLWxldmVscy5tb2RlbCc7XG5pbXBvcnQgeyBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBMb2dTZXJ2aWNlIHtcblxuICAgIGdldCBjdXJyZW50TG9nTGV2ZWwoKSB7XG4gICAgICAgIGxldCBjb25maWdMZXZlbDogc3RyaW5nID0gdGhpcy5hcHBDb25maWcuZ2V0PHN0cmluZz4oQXBwQ29uZmlnVmFsdWVzLkxPR19MRVZFTCk7XG5cbiAgICAgICAgaWYgKGNvbmZpZ0xldmVsKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRMb2dMZXZlbChjb25maWdMZXZlbCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gTG9nTGV2ZWxzRW51bS5UUkFDRTtcbiAgICB9XG5cbiAgICBvbk1lc3NhZ2U6IFN1YmplY3Q8YW55PjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBwQ29uZmlnOiBBcHBDb25maWdTZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMub25NZXNzYWdlID0gbmV3IFN1YmplY3QoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2dzIGEgbWVzc2FnZSBhdCB0aGUgXCJFUlJPUlwiIGxldmVsLlxuICAgICAqIEBwYXJhbSBtZXNzYWdlIE1lc3NhZ2UgdG8gbG9nXG4gICAgICogQHBhcmFtIG9wdGlvbmFsUGFyYW1zIEludGVycG9sYXRpb24gdmFsdWVzIGZvciB0aGUgbWVzc2FnZSBpbiBcInByaW50ZlwiIGZvcm1hdFxuICAgICAqL1xuICAgIGVycm9yKG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9nTGV2ZWwgPj0gTG9nTGV2ZWxzRW51bS5FUlJPUikge1xuXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VCdXMobWVzc2FnZSwgJ0VSUk9SJyk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IobWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9ncyBhIG1lc3NhZ2UgYXQgdGhlIFwiREVCVUdcIiBsZXZlbC5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBNZXNzYWdlIHRvIGxvZ1xuICAgICAqIEBwYXJhbSBvcHRpb25hbFBhcmFtcyBJbnRlcnBvbGF0aW9uIHZhbHVlcyBmb3IgdGhlIG1lc3NhZ2UgaW4gXCJwcmludGZcIiBmb3JtYXRcbiAgICAgKi9cbiAgICBkZWJ1ZyhtZXNzYWdlPzogYW55LCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudExvZ0xldmVsID49IExvZ0xldmVsc0VudW0uREVCVUcpIHtcblxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlQnVzKG1lc3NhZ2UsICdERUJVRycpO1xuXG4gICAgICAgICAgICBjb25zb2xlLmRlYnVnKG1lc3NhZ2UsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvZ3MgYSBtZXNzYWdlIGF0IHRoZSBcIklORk9cIiBsZXZlbC5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBNZXNzYWdlIHRvIGxvZ1xuICAgICAqIEBwYXJhbSBvcHRpb25hbFBhcmFtcyBJbnRlcnBvbGF0aW9uIHZhbHVlcyBmb3IgdGhlIG1lc3NhZ2UgaW4gXCJwcmludGZcIiBmb3JtYXRcbiAgICAgKi9cbiAgICBpbmZvKG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9nTGV2ZWwgPj0gTG9nTGV2ZWxzRW51bS5JTkZPKSB7XG5cbiAgICAgICAgICAgIHRoaXMubWVzc2FnZUJ1cyhtZXNzYWdlLCAnSU5GTycpO1xuXG4gICAgICAgICAgICBjb25zb2xlLmluZm8obWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9ncyBhIG1lc3NhZ2UgYXQgYW55IGxldmVsIGZyb20gXCJUUkFDRVwiIHVwd2FyZHMuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgTWVzc2FnZSB0byBsb2dcbiAgICAgKiBAcGFyYW0gb3B0aW9uYWxQYXJhbXMgSW50ZXJwb2xhdGlvbiB2YWx1ZXMgZm9yIHRoZSBtZXNzYWdlIGluIFwicHJpbnRmXCIgZm9ybWF0XG4gICAgICovXG4gICAgbG9nKG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9nTGV2ZWwgPj0gTG9nTGV2ZWxzRW51bS5UUkFDRSkge1xuXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VCdXMobWVzc2FnZSwgJ0xPRycpO1xuXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2dzIGEgbWVzc2FnZSBhdCB0aGUgXCJUUkFDRVwiIGxldmVsLlxuICAgICAqIEBwYXJhbSBtZXNzYWdlIE1lc3NhZ2UgdG8gbG9nXG4gICAgICogQHBhcmFtIG9wdGlvbmFsUGFyYW1zIEludGVycG9sYXRpb24gdmFsdWVzIGZvciB0aGUgbWVzc2FnZSBpbiBcInByaW50ZlwiIGZvcm1hdFxuICAgICAqL1xuICAgIHRyYWNlKG1lc3NhZ2U/OiBhbnksIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9nTGV2ZWwgPj0gTG9nTGV2ZWxzRW51bS5UUkFDRSkge1xuXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VCdXMobWVzc2FnZSwgJ1RSQUNFJyk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUudHJhY2UobWVzc2FnZSwgLi4ub3B0aW9uYWxQYXJhbXMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9ncyBhIG1lc3NhZ2UgYXQgdGhlIFwiV0FSTlwiIGxldmVsLlxuICAgICAqIEBwYXJhbSBtZXNzYWdlIE1lc3NhZ2UgdG8gbG9nXG4gICAgICogQHBhcmFtIG9wdGlvbmFsUGFyYW1zIEludGVycG9sYXRpb24gdmFsdWVzIGZvciB0aGUgbWVzc2FnZSBpbiBcInByaW50ZlwiIGZvcm1hdFxuICAgICAqL1xuICAgIHdhcm4obWVzc2FnZT86IGFueSwgLi4ub3B0aW9uYWxQYXJhbXM6IGFueVtdKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2dMZXZlbCA+PSBMb2dMZXZlbHNFbnVtLldBUk4pIHtcblxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlQnVzKG1lc3NhZ2UsICdXQVJOJyk7XG5cbiAgICAgICAgICAgIGNvbnNvbGUud2FybihtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMb2dzIGEgbWVzc2FnZSBpZiBhIGJvb2xlYW4gdGVzdCBmYWlscy5cbiAgICAgKiBAcGFyYW0gdGVzdCBUZXN0IHZhbHVlICh0eXBpY2FsbHkgYSBib29sZWFuIGV4cHJlc3Npb24pXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgTWVzc2FnZSB0byBzaG93IGlmIHRlc3QgaXMgZmFsc2VcbiAgICAgKiBAcGFyYW0gb3B0aW9uYWxQYXJhbXMgSW50ZXJwb2xhdGlvbiB2YWx1ZXMgZm9yIHRoZSBtZXNzYWdlIGluIFwicHJpbnRmXCIgZm9ybWF0XG4gICAgICovXG4gICAgYXNzZXJ0KHRlc3Q/OiBib29sZWFuLCBtZXNzYWdlPzogc3RyaW5nLCAuLi5vcHRpb25hbFBhcmFtczogYW55W10pIHtcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudExvZ0xldmVsICE9PSBMb2dMZXZlbHNFbnVtLlNJTEVOVCkge1xuXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VCdXMobWVzc2FnZSwgJ0FTU0VSVCcpO1xuXG4gICAgICAgICAgICBjb25zb2xlLmFzc2VydCh0ZXN0LCBtZXNzYWdlLCAuLi5vcHRpb25hbFBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTdGFydHMgYW4gaW5kZW50ZWQgZ3JvdXAgb2YgbG9nIG1lc3NhZ2VzLlxuICAgICAqIEBwYXJhbSBncm91cFRpdGxlIFRpdGxlIHNob3duIGF0IHRoZSBzdGFydCBvZiB0aGUgZ3JvdXBcbiAgICAgKiBAcGFyYW0gb3B0aW9uYWxQYXJhbXMgSW50ZXJwb2xhdGlvbiB2YWx1ZXMgZm9yIHRoZSB0aXRsZSBpbiBcInByaW50ZlwiIGZvcm1hdFxuICAgICAqL1xuICAgIGdyb3VwKGdyb3VwVGl0bGU/OiBzdHJpbmcsIC4uLm9wdGlvbmFsUGFyYW1zOiBhbnlbXSkge1xuICAgICAgICBpZiAodGhpcy5jdXJyZW50TG9nTGV2ZWwgIT09IExvZ0xldmVsc0VudW0uU0lMRU5UKSB7XG4gICAgICAgICAgICBjb25zb2xlLmdyb3VwKGdyb3VwVGl0bGUsIC4uLm9wdGlvbmFsUGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuZHMgYSBpbmRlbnRlZCBncm91cCBvZiBsb2cgbWVzc2FnZXMuXG4gICAgICovXG4gICAgZ3JvdXBFbmQoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRMb2dMZXZlbCAhPT0gTG9nTGV2ZWxzRW51bS5TSUxFTlQpIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZ3JvdXBFbmQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGEgbG9nIGxldmVsIG5hbWUgc3RyaW5nIGludG8gaXRzIG51bWVyaWMgZXF1aXZhbGVudC5cbiAgICAgKiBAcGFyYW0gbGV2ZWwgTGV2ZWwgbmFtZVxuICAgICAqIEByZXR1cm5zIE51bWVyaWMgbG9nIGxldmVsXG4gICAgICovXG4gICAgZ2V0TG9nTGV2ZWwobGV2ZWw6IHN0cmluZyk6IExvZ0xldmVsc0VudW0ge1xuICAgICAgICBsZXQgcmVmZXJlbmNlZExldmVsID0gbG9nTGV2ZWxzLmZpbmQoKGN1cnJlbnRMZXZlbDogYW55KSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gY3VycmVudExldmVsLm5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gbGV2ZWwudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlZmVyZW5jZWRMZXZlbCA/IHJlZmVyZW5jZWRMZXZlbC5sZXZlbCA6IDU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgbm90aWZpY2F0aW9uIGNhbGxiYWNrIGZvciBsb2cgbWVzc2FnZXMuXG4gICAgICogQHBhcmFtIHRleHQgTWVzc2FnZSB0ZXh0XG4gICAgICogQHBhcmFtIGxvZ0xldmVsIExvZyBsZXZlbCBmb3IgdGhlIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBtZXNzYWdlQnVzKHRleHQ6IHN0cmluZywgbG9nTGV2ZWw6IHN0cmluZykge1xuICAgICAgICB0aGlzLm9uTWVzc2FnZS5uZXh0KHsgdGV4dDogdGV4dCwgdHlwZTogbG9nTGV2ZWwgfSk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgU3ViamVjdCwgZnJvbSwgdGhyb3dFcnJvciwgT2JzZXJ2ZXIgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEFsZnJlc2NvQXBpU2VydmljZSB9IGZyb20gJy4vYWxmcmVzY28tYXBpLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29va2llU2VydmljZSB9IGZyb20gJy4vY29va2llLnNlcnZpY2UnO1xuaW1wb3J0IHsgTG9nU2VydmljZSB9IGZyb20gJy4vbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgUmVkaXJlY3Rpb25Nb2RlbCB9IGZyb20gJy4uL21vZGVscy9yZWRpcmVjdGlvbi5tb2RlbCc7XG5pbXBvcnQgeyBBcHBDb25maWdTZXJ2aWNlLCBBcHBDb25maWdWYWx1ZXMgfSBmcm9tICcuLi9hcHAtY29uZmlnL2FwcC1jb25maWcuc2VydmljZSc7XG5pbXBvcnQgeyBVc2VyUmVwcmVzZW50YXRpb24gfSBmcm9tICdhbGZyZXNjby1qcy1hcGknO1xuaW1wb3J0IHsgbWFwLCBjYXRjaEVycm9yLCB0YXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBIdHRwSGVhZGVycyB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcblxuY29uc3QgUkVNRU1CRVJfTUVfQ09PS0lFX0tFWSA9ICdBTEZSRVNDT19SRU1FTUJFUl9NRSc7XG5jb25zdCBSRU1FTUJFUl9NRV9VTlRJTCA9IDEwMDAgKiA2MCAqIDYwICogMjQgKiAzMCA7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBBdXRoZW50aWNhdGlvblNlcnZpY2Uge1xuICAgIHByaXZhdGUgcmVkaXJlY3RVcmw6IFJlZGlyZWN0aW9uTW9kZWwgPSBudWxsO1xuXG4gICAgcHJpdmF0ZSBiZWFyZXJFeGNsdWRlZFVybHM6IHN0cmluZ1tdID0gWydhdXRoL3JlYWxtcycsICdyZXNvdXJjZXMvJywgJ2Fzc2V0cy8nXTtcblxuICAgIG9uTG9naW46IFN1YmplY3Q8YW55PiA9IG5ldyBTdWJqZWN0PGFueT4oKTtcbiAgICBvbkxvZ291dDogU3ViamVjdDxhbnk+ID0gbmV3IFN1YmplY3Q8YW55PigpO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgYXBwQ29uZmlnOiBBcHBDb25maWdTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGFsZnJlc2NvQXBpOiBBbGZyZXNjb0FwaVNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgY29va2llOiBDb29raWVTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIGxvZ1NlcnZpY2U6IExvZ1NlcnZpY2UpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIHVzZXIgbG9nZ2VkIGluLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgbG9nZ2VkIGluLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBpc0xvZ2dlZEluKCk6IGJvb2xlYW4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzT2F1dGgoKSAmJiB0aGlzLmNvb2tpZS5pc0VuYWJsZWQoKSAmJiAhdGhpcy5pc1JlbWVtYmVyTWVTZXQoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFsZnJlc2NvQXBpLmdldEluc3RhbmNlKCkuaXNMb2dnZWRJbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERvZXMgdGhlIHByb3ZpZGVyIHN1cHBvcnQgT0F1dGg/XG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiBzdXBwb3J0ZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGlzT2F1dGgoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFsZnJlc2NvQXBpLmdldEluc3RhbmNlKCkuaXNPYXV0aENvbmZpZ3VyYXRpb24oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEb2VzIHRoZSBwcm92aWRlciBzdXBwb3J0IEVDTT9cbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHN1cHBvcnRlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaXNFQ01Qcm92aWRlcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxmcmVzY29BcGkuZ2V0SW5zdGFuY2UoKS5pc0VjbUNvbmZpZ3VyYXRpb24oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEb2VzIHRoZSBwcm92aWRlciBzdXBwb3J0IEJQTT9cbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHN1cHBvcnRlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaXNCUE1Qcm92aWRlcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxmcmVzY29BcGkuZ2V0SW5zdGFuY2UoKS5pc0JwbUNvbmZpZ3VyYXRpb24oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEb2VzIHRoZSBwcm92aWRlciBzdXBwb3J0IGJvdGggRUNNIGFuZCBCUE0/XG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiBib3RoIGFyZSBzdXBwb3J0ZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGlzQUxMUHJvdmlkZXIoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFsZnJlc2NvQXBpLmdldEluc3RhbmNlKCkuaXNFY21CcG1Db25maWd1cmF0aW9uKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9ncyB0aGUgdXNlciBpbi5cbiAgICAgKiBAcGFyYW0gdXNlcm5hbWUgVXNlcm5hbWUgZm9yIHRoZSBsb2dpblxuICAgICAqIEBwYXJhbSBwYXNzd29yZCBQYXNzd29yZCBmb3IgdGhlIGxvZ2luXG4gICAgICogQHBhcmFtIHJlbWVtYmVyTWUgU3RvcmVzIHRoZSB1c2VyJ3MgbG9naW4gZGV0YWlscyBpZiB0cnVlXG4gICAgICogQHJldHVybnMgT2JqZWN0IHdpdGggYXV0aCB0eXBlIChcIkVDTVwiLCBcIkJQTVwiIG9yIFwiQUxMXCIpIGFuZCBhdXRoIHRpY2tldFxuICAgICAqL1xuICAgIGxvZ2luKHVzZXJuYW1lOiBzdHJpbmcsIHBhc3N3b3JkOiBzdHJpbmcsIHJlbWVtYmVyTWU6IGJvb2xlYW4gPSBmYWxzZSk6IE9ic2VydmFibGU8eyB0eXBlOiBzdHJpbmcsIHRpY2tldDogYW55IH0+IHtcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5hbGZyZXNjb0FwaS5nZXRJbnN0YW5jZSgpLmxvZ2luKHVzZXJuYW1lLCBwYXNzd29yZCkpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAoKHJlc3BvbnNlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlUmVtZW1iZXJNZUNvb2tpZShyZW1lbWJlck1lKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkxvZ2luLm5leHQocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogdGhpcy5hcHBDb25maWcuZ2V0KEFwcENvbmZpZ1ZhbHVlcy5QUk9WSURFUlMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGlja2V0OiByZXNwb25zZVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTG9ncyB0aGUgdXNlciBpbiB3aXRoIFNTT1xuICAgICAqL1xuICAgIHNzb0ltcGxpY2l0TG9naW4oKSB7XG4gICAgICAgIHRoaXMuYWxmcmVzY29BcGkuZ2V0SW5zdGFuY2UoKS5pbXBsaWNpdExvZ2luKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2F2ZXMgdGhlIFwicmVtZW1iZXIgbWVcIiBjb29raWUgYXMgZWl0aGVyIGEgbG9uZy1saWZlIGNvb2tpZSBvciBhIHNlc3Npb24gY29va2llLlxuICAgICAqIEBwYXJhbSByZW1lbWJlck1lIEVuYWJsZXMgYSBsb25nLWxpZmUgY29va2llXG4gICAgICovXG4gICAgcHJpdmF0ZSBzYXZlUmVtZW1iZXJNZUNvb2tpZShyZW1lbWJlck1lOiBib29sZWFuKTogdm9pZCB7XG4gICAgICAgIGxldCBleHBpcmF0aW9uID0gbnVsbDtcblxuICAgICAgICBpZiAocmVtZW1iZXJNZSkge1xuICAgICAgICAgICAgZXhwaXJhdGlvbiA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gZXhwaXJhdGlvbi5nZXRUaW1lKCk7XG4gICAgICAgICAgICBjb25zdCBleHBpcmVUaW1lID0gdGltZSArIFJFTUVNQkVSX01FX1VOVElMO1xuICAgICAgICAgICAgZXhwaXJhdGlvbi5zZXRUaW1lKGV4cGlyZVRpbWUpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29va2llLnNldEl0ZW0oUkVNRU1CRVJfTUVfQ09PS0lFX0tFWSwgJzEnLCBleHBpcmF0aW9uLCBudWxsKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgXCJyZW1lbWJlciBtZVwiIGNvb2tpZSB3YXMgc2V0IG9yIG5vdC5cbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHNldCwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaXNSZW1lbWJlck1lU2V0KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKHRoaXMuY29va2llLmdldEl0ZW0oUkVNRU1CRVJfTUVfQ09PS0lFX0tFWSkgPT09IG51bGwpID8gZmFsc2UgOiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExvZ3MgdGhlIHVzZXIgb3V0LlxuICAgICAqIEByZXR1cm5zIFJlc3BvbnNlIGV2ZW50IGNhbGxlZCB3aGVuIGxvZ291dCBpcyBjb21wbGV0ZVxuICAgICAqL1xuICAgIGxvZ291dCgpIHtcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5jYWxsQXBpTG9nb3V0KCkpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICB0YXAocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uTG9nb3V0Lm5leHQocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNhbGxBcGlMb2dvdXQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgaWYgKHRoaXMuYWxmcmVzY29BcGkuZ2V0SW5zdGFuY2UoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxmcmVzY29BcGkuZ2V0SW5zdGFuY2UoKS5sb2dvdXQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIEVDTSB0aWNrZXQgc3RvcmVkIGluIHRoZSBTdG9yYWdlLlxuICAgICAqIEByZXR1cm5zIFRoZSB0aWNrZXQgb3IgYG51bGxgIGlmIG5vbmUgd2FzIGZvdW5kXG4gICAgICovXG4gICAgZ2V0VGlja2V0RWNtKCk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy5hbGZyZXNjb0FwaS5nZXRJbnN0YW5jZSgpLmdldFRpY2tldEVjbSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIEJQTSB0aWNrZXQgc3RvcmVkIGluIHRoZSBTdG9yYWdlLlxuICAgICAqIEByZXR1cm5zIFRoZSB0aWNrZXQgb3IgYG51bGxgIGlmIG5vbmUgd2FzIGZvdW5kXG4gICAgICovXG4gICAgZ2V0VGlja2V0QnBtKCk6IHN0cmluZyB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy5hbGZyZXNjb0FwaS5nZXRJbnN0YW5jZSgpLmdldFRpY2tldEJwbSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIEJQTSB0aWNrZXQgZnJvbSB0aGUgU3RvcmFnZSBpbiBCYXNlIDY0IGZvcm1hdC5cbiAgICAgKiBAcmV0dXJucyBUaGUgdGlja2V0IG9yIGBudWxsYCBpZiBub25lIHdhcyBmb3VuZFxuICAgICAqL1xuICAgIGdldFRpY2tldEVjbUJhc2U2NCgpOiBzdHJpbmcgfCBudWxsIHtcbiAgICAgICAgbGV0IHRpY2tldCA9IHRoaXMuYWxmcmVzY29BcGkuZ2V0SW5zdGFuY2UoKS5nZXRUaWNrZXRFY20oKTtcbiAgICAgICAgaWYgKHRpY2tldCkge1xuICAgICAgICAgICAgcmV0dXJuICdCYXNpYyAnICsgYnRvYSh0aWNrZXQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgdXNlciBpcyBsb2dnZWQgaW4gb24gYW4gRUNNIHByb3ZpZGVyLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgbG9nZ2VkIGluLCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBpc0VjbUxvZ2dlZEluKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5pc0VDTVByb3ZpZGVyKCkgfHwgdGhpcy5pc0FMTFByb3ZpZGVyKCkpIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc09hdXRoKCkgJiYgdGhpcy5jb29raWUuaXNFbmFibGVkKCkgJiYgIXRoaXMuaXNSZW1lbWJlck1lU2V0KCkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hbGZyZXNjb0FwaS5nZXRJbnN0YW5jZSgpLmlzRWNtTG9nZ2VkSW4oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSB1c2VyIGlzIGxvZ2dlZCBpbiBvbiBhIEJQTSBwcm92aWRlci5cbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIGxvZ2dlZCBpbiwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaXNCcG1Mb2dnZWRJbigpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuaXNCUE1Qcm92aWRlcigpIHx8IHRoaXMuaXNBTExQcm92aWRlcigpKSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuaXNPYXV0aCgpICYmIHRoaXMuY29va2llLmlzRW5hYmxlZCgpICYmICF0aGlzLmlzUmVtZW1iZXJNZVNldCgpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYWxmcmVzY29BcGkuZ2V0SW5zdGFuY2UoKS5pc0JwbUxvZ2dlZEluKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIEVDTSB1c2VybmFtZS5cbiAgICAgKiBAcmV0dXJucyBUaGUgRUNNIHVzZXJuYW1lXG4gICAgICovXG4gICAgZ2V0RWNtVXNlcm5hbWUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxmcmVzY29BcGkuZ2V0SW5zdGFuY2UoKS5nZXRFY21Vc2VybmFtZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIEJQTSB1c2VybmFtZVxuICAgICAqIEByZXR1cm5zIFRoZSBCUE0gdXNlcm5hbWVcbiAgICAgKi9cbiAgICBnZXRCcG1Vc2VybmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5hbGZyZXNjb0FwaS5nZXRJbnN0YW5jZSgpLmdldEJwbVVzZXJuYW1lKCk7XG4gICAgfVxuXG4gICAgLyoqIFNldHMgdGhlIFVSTCB0byByZWRpcmVjdCB0byBhZnRlciBsb2dpbi5cbiAgICAgKiBAcGFyYW0gdXJsIFVSTCB0byByZWRpcmVjdCB0b1xuICAgICAqL1xuICAgIHNldFJlZGlyZWN0KHVybDogUmVkaXJlY3Rpb25Nb2RlbCkge1xuICAgICAgICB0aGlzLnJlZGlyZWN0VXJsID0gdXJsO1xuICAgIH1cblxuICAgIC8qKiBHZXRzIHRoZSBVUkwgdG8gcmVkaXJlY3QgdG8gYWZ0ZXIgbG9naW4uXG4gICAgICogQHBhcmFtIHByb3ZpZGVyIFNlcnZpY2UgcHJvdmlkZXIuIENhbiBiZSBcIkVDTVwiLCBcIkJQTVwiIG9yIFwiQUxMXCIuXG4gICAgICogQHJldHVybnMgVGhlIHJlZGlyZWN0IFVSTFxuICAgICAqL1xuICAgIGdldFJlZGlyZWN0KHByb3ZpZGVyOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5oYXNWYWxpZFJlZGlyZWN0aW9uKHByb3ZpZGVyKSA/IHRoaXMucmVkaXJlY3RVcmwudXJsIDogbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2VyIGN1cnJlbnRseSBsb2dnZWQgaW50byBBUFMuXG4gICAgICogQHJldHVybnMgVXNlciBpbmZvcm1hdGlvblxuICAgICAqL1xuICAgIGdldEJwbUxvZ2dlZFVzZXIoKTogT2JzZXJ2YWJsZTxVc2VyUmVwcmVzZW50YXRpb24+IHtcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5hbGZyZXNjb0FwaS5nZXRJbnN0YW5jZSgpLmFjdGl2aXRpLnByb2ZpbGVBcGkuZ2V0UHJvZmlsZSgpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhc1ZhbGlkUmVkaXJlY3Rpb24ocHJvdmlkZXI6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWRpcmVjdFVybCAmJiAodGhpcy5yZWRpcmVjdFVybC5wcm92aWRlciA9PT0gcHJvdmlkZXIgfHwgdGhpcy5oYXNTZWxlY3RlZFByb3ZpZGVyQWxsKHByb3ZpZGVyKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYXNTZWxlY3RlZFByb3ZpZGVyQWxsKHByb3ZpZGVyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVkaXJlY3RVcmwgJiYgKHRoaXMucmVkaXJlY3RVcmwucHJvdmlkZXIgPT09ICdBTEwnIHx8IHByb3ZpZGVyID09PSAnQUxMJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJpbnRzIGFuIGVycm9yIG1lc3NhZ2UgaW4gdGhlIGNvbnNvbGUgYnJvd3NlclxuICAgICAqIEBwYXJhbSBlcnJvciBFcnJvciBtZXNzYWdlXG4gICAgICogQHJldHVybnMgT2JqZWN0IHJlcHJlc2VudGluZyB0aGUgZXJyb3IgbWVzc2FnZVxuICAgICAqL1xuICAgIGhhbmRsZUVycm9yKGVycm9yOiBhbnkpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuZXJyb3IoJ0Vycm9yIHdoZW4gbG9nZ2luZyBpbicsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoZXJyb3IgfHwgJ1NlcnZlciBlcnJvcicpO1xuICAgIH1cblxuICAgIGdldEJlYXJlckV4Y2x1ZGVkVXJscygpOiBzdHJpbmdbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLmJlYXJlckV4Y2x1ZGVkVXJscztcbiAgICB9XG5cbiAgICBnZXRUb2tlbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2FjY2Vzc190b2tlbicpO1xuICAgIH1cblxuICAgIGFkZFRva2VuVG9IZWFkZXIoaGVhZGVyc0FyZz86IEh0dHBIZWFkZXJzKTogT2JzZXJ2YWJsZTxIdHRwSGVhZGVycz4ge1xuICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZS5jcmVhdGUoYXN5bmMgKG9ic2VydmVyOiBPYnNlcnZlcjxhbnk+KSA9PiB7XG4gICAgICAgICAgICBsZXQgaGVhZGVycyA9IGhlYWRlcnNBcmc7XG4gICAgICAgICAgICBpZiAoIWhlYWRlcnMpIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzID0gbmV3IEh0dHBIZWFkZXJzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuOiBzdHJpbmcgPSB0aGlzLmdldFRva2VuKCk7XG4gICAgICAgICAgICAgICAgaGVhZGVycyA9IGhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ2JlYXJlciAnICsgdG9rZW4pO1xuICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2ZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgY2xhc3MgQnBtUHJvZHVjdFZlcnNpb25Nb2RlbCB7XG4gICAgZWRpdGlvbjogc3RyaW5nO1xuICAgIG1ham9yVmVyc2lvbjogc3RyaW5nO1xuICAgIHJldmlzaW9uVmVyc2lvbjogc3RyaW5nO1xuICAgIG1pbm9yVmVyc2lvbjogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKG9iaj86IGFueSkge1xuICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICB0aGlzLmVkaXRpb24gPSBvYmouZWRpdGlvbiB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5tYWpvclZlcnNpb24gPSBvYmoubWFqb3JWZXJzaW9uIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLnJldmlzaW9uVmVyc2lvbiA9IG9iai5yZXZpc2lvblZlcnNpb24gfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMubWlub3JWZXJzaW9uID0gb2JqLm1pbm9yVmVyc2lvbiB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy50eXBlID0gb2JqLnR5cGUgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZlcnNpb25Nb2RlbCB7XG4gICAgbWFqb3I6IHN0cmluZztcbiAgICBtaW5vcjogc3RyaW5nO1xuICAgIHBhdGNoOiBzdHJpbmc7XG4gICAgaG90Zml4OiBzdHJpbmc7XG4gICAgc2NoZW1hOiBudW1iZXI7XG4gICAgbGFiZWw6IHN0cmluZztcbiAgICBkaXNwbGF5OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihvYmo/OiBhbnkpIHtcbiAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgdGhpcy5tYWpvciA9IG9iai5tYWpvciB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5taW5vciA9IG9iai5taW5vciB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5wYXRjaCA9IG9iai5wYXRjaCB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5ob3RmaXggPSBvYmouaG90Zml4IHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLnNjaGVtYSA9IG9iai5zY2hlbWEgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMubGFiZWwgPSBvYmoubGFiZWwgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheSA9IG9iai5kaXNwbGF5IHx8IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBMaWNlbnNlTW9kZWwge1xuICAgIGlzc3VlZEF0OiBzdHJpbmc7XG4gICAgZXhwaXJlc0F0OiBzdHJpbmc7XG4gICAgcmVtYWluaW5nRGF5czogbnVtYmVyO1xuICAgIGhvbGRlcjogc3RyaW5nO1xuICAgIG1vZGU6IHN0cmluZztcbiAgICBpc0NsdXN0ZXJFbmFibGVkOiBib29sZWFuO1xuICAgIGlzQ3J5cHRvZG9jRW5hYmxlZDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKG9iaj86IGFueSkge1xuICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICB0aGlzLmlzc3VlZEF0ID0gb2JqLmlzc3VlZEF0IHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLmV4cGlyZXNBdCA9IG9iai5leHBpcmVzQXQgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMucmVtYWluaW5nRGF5cyA9IG9iai5yZW1haW5pbmdEYXlzIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLmhvbGRlciA9IG9iai5ob2xkZXIgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMubW9kZSA9IG9iai5tb2RlIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLmlzQ2x1c3RlckVuYWJsZWQgPSBvYmouaXNDbHVzdGVyRW5hYmxlZCA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuaXNDcnlwdG9kb2NFbmFibGVkID0gb2JqLmlzQ3J5cHRvZG9jRW5hYmxlZCA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZlcnNpb25TdGF0dXNNb2RlbCB7XG4gICAgaXNSZWFkT25seTogYm9vbGVhbjtcbiAgICBpc0F1ZGl0RW5hYmxlZDogYm9vbGVhbjtcbiAgICBpc1F1aWNrU2hhcmVFbmFibGVkOiBib29sZWFuO1xuICAgIGlzVGh1bWJuYWlsR2VuZXJhdGlvbkVuYWJsZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihvYmo/OiBhbnkpIHtcbiAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgdGhpcy5pc1JlYWRPbmx5ID0gb2JqLmlzUmVhZE9ubHkgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzQXVkaXRFbmFibGVkID0gb2JqLmlzQXVkaXRFbmFibGVkID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5pc1F1aWNrU2hhcmVFbmFibGVkID0gb2JqLmlzUXVpY2tTaGFyZUVuYWJsZWQgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzVGh1bWJuYWlsR2VuZXJhdGlvbkVuYWJsZWQgPSBvYmouaXNUaHVtYm5haWxHZW5lcmF0aW9uRW5hYmxlZCA/IHRydWUgOiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIFZlcnNpb25Nb2R1bGVNb2RlbCB7XG4gICAgaWQ6IHN0cmluZztcbiAgICB0aXRsZTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgdmVyc2lvbjogc3RyaW5nO1xuICAgIGluc3RhbGxEYXRlOiBzdHJpbmc7XG4gICAgaW5zdGFsbFN0YXRlOiBzdHJpbmc7XG4gICAgdmVyc2lvbk1pbjogc3RyaW5nO1xuICAgIHZlcnNpb25NYXg6IHN0cmluZztcblxuICAgIGNvbnN0cnVjdG9yKG9iaj86IGFueSkge1xuICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gb2JqLmlkIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLnRpdGxlID0gb2JqLnRpdGxlIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLmRlc2NyaXB0aW9uID0gb2JqLmRlc2NyaXB0aW9uIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLnZlcnNpb24gPSBvYmoudmVyc2lvbiB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5pbnN0YWxsRGF0ZSA9IG9iai5pbnN0YWxsRGF0ZSB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5pbnN0YWxsU3RhdGUgPSBvYmouaW5zdGFsbFN0YXRlIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLnZlcnNpb25NaW4gPSBvYmoudmVyc2lvbk1pbiB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy52ZXJzaW9uTWF4ID0gb2JqLnZlcnNpb25NYXggfHwgbnVsbDtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIEVjbVByb2R1Y3RWZXJzaW9uTW9kZWwge1xuICAgIGVkaXRpb246IHN0cmluZztcbiAgICB2ZXJzaW9uOiBWZXJzaW9uTW9kZWw7XG4gICAgbGljZW5zZTogTGljZW5zZU1vZGVsO1xuICAgIHN0YXR1czogVmVyc2lvblN0YXR1c01vZGVsO1xuICAgIG1vZHVsZXM6IFZlcnNpb25Nb2R1bGVNb2RlbFtdID0gW107XG5cbiAgICBjb25zdHJ1Y3RvcihvYmo/OiBhbnkpIHtcbiAgICAgICAgaWYgKG9iaiAmJiBvYmouZW50cnkgJiYgb2JqLmVudHJ5LnJlcG9zaXRvcnkpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdGlvbiA9IG9iai5lbnRyeS5yZXBvc2l0b3J5LmVkaXRpb24gfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMudmVyc2lvbiA9IG5ldyBWZXJzaW9uTW9kZWwob2JqLmVudHJ5LnJlcG9zaXRvcnkudmVyc2lvbik7XG4gICAgICAgICAgICB0aGlzLmxpY2Vuc2UgPSBuZXcgTGljZW5zZU1vZGVsKG9iai5lbnRyeS5yZXBvc2l0b3J5LmxpY2Vuc2UpO1xuICAgICAgICAgICAgdGhpcy5zdGF0dXMgPSBuZXcgVmVyc2lvblN0YXR1c01vZGVsKG9iai5lbnRyeS5yZXBvc2l0b3J5LnN0YXR1cyk7XG4gICAgICAgICAgICBpZiAob2JqLmVudHJ5LnJlcG9zaXRvcnkubW9kdWxlcykge1xuICAgICAgICAgICAgICAgIG9iai5lbnRyeS5yZXBvc2l0b3J5Lm1vZHVsZXMuZm9yRWFjaCgobW9kdWxlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubW9kdWxlcy5wdXNoKG5ldyBWZXJzaW9uTW9kdWxlTW9kZWwobW9kdWxlKSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGZyb20sIHRocm93RXJyb3IgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEJwbVByb2R1Y3RWZXJzaW9uTW9kZWwsIEVjbVByb2R1Y3RWZXJzaW9uTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdC12ZXJzaW9uLm1vZGVsJztcbmltcG9ydCB7IEFsZnJlc2NvQXBpU2VydmljZSB9IGZyb20gJy4vYWxmcmVzY28tYXBpLnNlcnZpY2UnO1xuaW1wb3J0IHsgbWFwLCBjYXRjaEVycm9yIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRGlzY292ZXJ5QXBpU2VydmljZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwaVNlcnZpY2U6IEFsZnJlc2NvQXBpU2VydmljZSkgeyB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHByb2R1Y3QgaW5mb3JtYXRpb24gZm9yIENvbnRlbnQgU2VydmljZXMuXG4gICAgICogQHJldHVybnMgUHJvZHVjdFZlcnNpb25Nb2RlbCBjb250YWluaW5nIHByb2R1Y3QgZGV0YWlsc1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXRFY21Qcm9kdWN0SW5mbygpOiBPYnNlcnZhYmxlPEVjbVByb2R1Y3RWZXJzaW9uTW9kZWw+IHtcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuZGlzY292ZXJ5LmRpc2NvdmVyeUFwaS5nZXRSZXBvc2l0b3J5SW5mb3JtYXRpb24oKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcChyZXMgPT4gbmV3IEVjbVByb2R1Y3RWZXJzaW9uTW9kZWwocmVzKSksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhyb3dFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHByb2R1Y3QgaW5mb3JtYXRpb24gZm9yIFByb2Nlc3MgU2VydmljZXMuXG4gICAgICogQHJldHVybnMgUHJvZHVjdFZlcnNpb25Nb2RlbCBjb250YWluaW5nIHByb2R1Y3QgZGV0YWlsc1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXRCcG1Qcm9kdWN0SW5mbygpOiBPYnNlcnZhYmxlPEJwbVByb2R1Y3RWZXJzaW9uTW9kZWw+IHtcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuYWN0aXZpdGkuYWJvdXRBcGkuZ2V0QXBwVmVyc2lvbigpKVxuICAgICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICAgICAgbWFwKHJlcyA9PiBuZXcgQnBtUHJvZHVjdFZlcnNpb25Nb2RlbChyZXMpKSxcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB0aHJvd0Vycm9yKGVycikpXG4gICAgICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZUluZm8ge1xuICAgIGVudHJ5PzogV2ViS2l0RmlsZUVudHJ5O1xuICAgIGZpbGU/OiBGaWxlO1xuICAgIHJlbGF0aXZlRm9sZGVyPzogc3RyaW5nO1xufVxuXG5leHBvcnQgY2xhc3MgRmlsZVV0aWxzIHtcblxuICAgIHN0YXRpYyBmbGF0dGVybihmb2xkZXI6IGFueSk6IFByb21pc2U8RmlsZUluZm9bXT4ge1xuICAgICAgICBsZXQgcmVhZGVyID0gZm9sZGVyLmNyZWF0ZVJlYWRlcigpO1xuICAgICAgICBsZXQgZmlsZXM6IEZpbGVJbmZvW10gPSBbXTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgbGV0IGl0ZXJhdGlvbnMgPSBbXTtcbiAgICAgICAgICAgIChmdW5jdGlvbiB0cmF2ZXJzZSgpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVhZEVudHJpZXMoKGVudHJpZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlbnRyaWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgUHJvbWlzZS5hbGwoaXRlcmF0aW9ucykudGhlbihyZXN1bHQgPT4gcmVzb2x2ZShmaWxlcykpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXRlcmF0aW9ucy5wdXNoKFByb21pc2UuYWxsKGVudHJpZXMubWFwKGVudHJ5ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZW50cnkuaXNGaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShyZXNvbHZlRmlsZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbnRyeS5maWxlKGZ1bmN0aW9uIChmaWxlOiBGaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5OiBlbnRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTogZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVGb2xkZXI6IGVudHJ5LmZ1bGxQYXRoLnJlcGxhY2UoL1xcL1teXFwvXSokLywgJycpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZUZpbGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRmlsZVV0aWxzLmZsYXR0ZXJuKGVudHJ5KS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlcy5wdXNoKC4uLnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUcnkgY2FsbGluZyB0cmF2ZXJzZSgpIGFnYWluIGZvciB0aGUgc2FtZSBkaXIsIGFjY29yZGluZyB0byBzcGVjXG4gICAgICAgICAgICAgICAgICAgICAgICB0cmF2ZXJzZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KSgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzdGF0aWMgdG9GaWxlQXJyYXkoZmlsZUxpc3Q6IEZpbGVMaXN0KTogRmlsZVtdIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IFtdO1xuXG4gICAgICAgIGlmIChmaWxlTGlzdCAmJiBmaWxlTGlzdC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpbGVMaXN0Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goZmlsZUxpc3RbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBNYXREYXRlRm9ybWF0cyB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcblxuZXhwb3J0IGNvbnN0IE1PTUVOVF9EQVRFX0ZPUk1BVFM6IE1hdERhdGVGb3JtYXRzID0ge1xuICAgIHBhcnNlOiB7XG4gICAgICAgIGRhdGVJbnB1dDogJ0REL01NL1lZWVknXG4gICAgfSxcbiAgICBkaXNwbGF5OiB7XG4gICAgICAgIGRhdGVJbnB1dDogJ0REL01NL1lZWVknLFxuICAgICAgICBtb250aFllYXJMYWJlbDogJ01NTU0gWScsXG4gICAgICAgIGRhdGVBMTF5TGFiZWw6ICdMTCcsXG4gICAgICAgIG1vbnRoWWVhckExMXlMYWJlbDogJ01NTU0gWSdcbiAgICB9XG59O1xuXG5jb25zdCBkYXRlTmFtZXM6IHN0cmluZ1tdID0gW107XG5mb3IgKGxldCBkYXRlID0gMTsgZGF0ZSA8PSAzMTsgZGF0ZSsrKSB7XG4gICAgZGF0ZU5hbWVzLnB1c2goU3RyaW5nKGRhdGUpKTtcbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IERhdGVBZGFwdGVyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgaXNNb21lbnQsIE1vbWVudCB9IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudC1lczYnO1xuXG5leHBvcnQgY2xhc3MgTW9tZW50RGF0ZUFkYXB0ZXIgZXh0ZW5kcyBEYXRlQWRhcHRlcjxNb21lbnQ+IHtcblxuICAgIHByaXZhdGUgbG9jYWxlRGF0YTogYW55ID0gbW9tZW50LmxvY2FsZURhdGEoKTtcblxuICAgIG92ZXJyaWRlRGlzcGx5YUZvcm1hdDogc3RyaW5nO1xuXG4gICAgZ2V0WWVhcihkYXRlOiBNb21lbnQpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gZGF0ZS55ZWFyKCk7XG4gICAgfVxuXG4gICAgZ2V0TW9udGgoZGF0ZTogTW9tZW50KTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGRhdGUubW9udGgoKTtcbiAgICB9XG5cbiAgICBnZXREYXRlKGRhdGU6IE1vbWVudCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBkYXRlLmRhdGUoKTtcbiAgICB9XG5cbiAgICBnZXREYXlPZldlZWsoZGF0ZTogTW9tZW50KTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGRhdGUuZGF5KCk7XG4gICAgfVxuXG4gICAgZ2V0TW9udGhOYW1lcyhzdHlsZTogJ2xvbmcnIHwgJ3Nob3J0JyB8ICduYXJyb3cnKTogc3RyaW5nW10ge1xuICAgICAgICBzd2l0Y2ggKHN0eWxlKSB7XG4gICAgICAgICAgICBjYXNlICdsb25nJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhLm1vbnRocygpO1xuICAgICAgICAgICAgY2FzZSAnc2hvcnQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEubW9udGhzU2hvcnQoKTtcbiAgICAgICAgICAgIGNhc2UgJ25hcnJvdyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YS5tb250aHNTaG9ydCgpLm1hcChtb250aCA9PiBtb250aFswXSk7XG4gICAgICAgICAgICBkZWZhdWx0IDpcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXREYXRlTmFtZXMoKTogc3RyaW5nW10ge1xuICAgICAgICBjb25zdCBkYXRlTmFtZXM6IHN0cmluZ1tdID0gW107XG4gICAgICAgIGZvciAobGV0IGRhdGUgPSAxOyBkYXRlIDw9IDMxOyBkYXRlKyspIHtcbiAgICAgICAgICAgIGRhdGVOYW1lcy5wdXNoKFN0cmluZyhkYXRlKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0ZU5hbWVzO1xuICAgIH1cblxuICAgIGdldERheU9mV2Vla05hbWVzKHN0eWxlOiAnbG9uZycgfCAnc2hvcnQnIHwgJ25hcnJvdycpOiBzdHJpbmdbXSB7XG4gICAgICAgIHN3aXRjaCAoc3R5bGUpIHtcbiAgICAgICAgICAgIGNhc2UgJ2xvbmcnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxvY2FsZURhdGEud2Vla2RheXMoKTtcbiAgICAgICAgICAgIGNhc2UgJ3Nob3J0JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhLndlZWtkYXlzU2hvcnQoKTtcbiAgICAgICAgICAgIGNhc2UgJ25hcnJvdyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubG9jYWxlRGF0YS53ZWVrZGF5c1Nob3J0KCk7XG4gICAgICAgICAgICBkZWZhdWx0IDpcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRZZWFyTmFtZShkYXRlOiBNb21lbnQpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gU3RyaW5nKGRhdGUueWVhcigpKTtcbiAgICB9XG5cbiAgICBnZXRGaXJzdERheU9mV2VlaygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5sb2NhbGVEYXRhLmZpcnN0RGF5T2ZXZWVrKCk7XG4gICAgfVxuXG4gICAgZ2V0TnVtRGF5c0luTW9udGgoZGF0ZTogTW9tZW50KTogbnVtYmVyIHtcbiAgICAgICAgcmV0dXJuIGRhdGUuZGF5c0luTW9udGgoKTtcbiAgICB9XG5cbiAgICBjbG9uZShkYXRlOiBNb21lbnQpOiBNb21lbnQge1xuICAgICAgICBsZXQgbG9jYWxlID0gdGhpcy5sb2NhbGUgfHwgJ2VuJztcbiAgICAgICAgcmV0dXJuIGRhdGUuY2xvbmUoKS5sb2NhbGUobG9jYWxlKTtcbiAgICB9XG5cbiAgICBjcmVhdGVEYXRlKHllYXI6IG51bWJlciwgbW9udGg6IG51bWJlciwgZGF0ZTogbnVtYmVyKTogTW9tZW50IHtcbiAgICAgICAgcmV0dXJuIG1vbWVudChbeWVhciwgbW9udGgsIGRhdGVdKTtcbiAgICB9XG5cbiAgICB0b2RheSgpOiBNb21lbnQge1xuICAgICAgICBsZXQgbG9jYWxlID0gdGhpcy5sb2NhbGUgfHwgJ2VuJztcbiAgICAgICAgcmV0dXJuIG1vbWVudCgpLmxvY2FsZShsb2NhbGUpO1xuICAgIH1cblxuICAgIHBhcnNlKHZhbHVlOiBhbnksIHBhcnNlRm9ybWF0OiBhbnkpOiBNb21lbnQge1xuICAgICAgICBsZXQgbG9jYWxlID0gdGhpcy5sb2NhbGUgfHwgJ2VuJztcblxuICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgbGV0IG0gPSBtb21lbnQodmFsdWUsIHBhcnNlRm9ybWF0LCBsb2NhbGUsIHRydWUpO1xuICAgICAgICAgICAgaWYgKCFtLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgIC8vIHVzZSBzdHJpY3QgcGFyc2luZyBiZWNhdXNlIE1vbWVudCdzIHBhcnNlciBpcyB2ZXJ5IGZvcmdpdmluZywgYW5kIHRoaXMgY2FuIGxlYWQgdG8gdW5kZXNpcmVkIGJlaGF2aW9yLlxuICAgICAgICAgICAgICAgIG0gPSBtb21lbnQodmFsdWUsIHRoaXMub3ZlcnJpZGVEaXNwbHlhRm9ybWF0LCBsb2NhbGUsIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG0uaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdXNlciBvbWl0cyB5ZWFyLCBpdCBkZWZhdWx0cyB0byAyMDAxLCBzbyBjaGVjayBmb3IgdGhhdCBpc3N1ZS5cbiAgICAgICAgICAgICAgICBpZiAobS55ZWFyKCkgPT09IDIwMDEgJiYgdmFsdWUuaW5kZXhPZignMjAwMScpID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiAyMDAxIG5vdCBhY3R1YWxseSBpbiB0aGUgdmFsdWUgc3RyaW5nLCBjaGFuZ2UgdG8gY3VycmVudCB5ZWFyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRZZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuICAgICAgICAgICAgICAgICAgICBtLnNldCgneWVhcicsIGN1cnJlbnRZZWFyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZGF0ZSBpcyBpbiB0aGUgZnV0dXJlLCBzZXQgcHJldmlvdXMgeWVhclxuICAgICAgICAgICAgICAgICAgICBpZiAobS5pc0FmdGVyKG1vbWVudCgpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbS5zZXQoJ3llYXInLCBjdXJyZW50WWVhciAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWUgPyBtb21lbnQodmFsdWUpLmxvY2FsZShsb2NhbGUpIDogbnVsbDtcbiAgICB9XG5cbiAgICBmb3JtYXQoZGF0ZTogTW9tZW50LCBkaXNwbGF5Rm9ybWF0OiBhbnkpOiBzdHJpbmcge1xuICAgICAgICBkYXRlID0gdGhpcy5jbG9uZShkYXRlKTtcbiAgICAgICAgZGlzcGxheUZvcm1hdCA9IHRoaXMub3ZlcnJpZGVEaXNwbHlhRm9ybWF0ID8gdGhpcy5vdmVycmlkZURpc3BseWFGb3JtYXQgOiBkaXNwbGF5Rm9ybWF0O1xuXG4gICAgICAgIGlmIChkYXRlICYmIGRhdGUuZm9ybWF0KSB7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZS5mb3JtYXQoZGlzcGxheUZvcm1hdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBhZGRDYWxlbmRhclllYXJzKGRhdGU6IE1vbWVudCwgeWVhcnM6IG51bWJlcik6IE1vbWVudCB7XG4gICAgICAgIHJldHVybiBkYXRlLmNsb25lKCkuYWRkKHllYXJzLCAneScpO1xuICAgIH1cblxuICAgIGFkZENhbGVuZGFyTW9udGhzKGRhdGU6IE1vbWVudCwgbW9udGhzOiBudW1iZXIpOiBNb21lbnQge1xuICAgICAgICByZXR1cm4gZGF0ZS5jbG9uZSgpLmFkZChtb250aHMsICdNJyk7XG4gICAgfVxuXG4gICAgYWRkQ2FsZW5kYXJEYXlzKGRhdGU6IE1vbWVudCwgZGF5czogbnVtYmVyKTogTW9tZW50IHtcbiAgICAgICAgcmV0dXJuIGRhdGUuY2xvbmUoKS5hZGQoZGF5cywgJ2QnKTtcbiAgICB9XG5cbiAgICBnZXRJU09EYXRlU3RyaW5nKGRhdGU6IE1vbWVudCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBkYXRlLnRvSVNPU3RyaW5nKCk7XG4gICAgfVxuXG4gICAgc2V0TG9jYWxlKGxvY2FsZTogYW55KTogdm9pZCB7XG4gICAgICAgIHN1cGVyLnNldExvY2FsZShsb2NhbGUpO1xuXG4gICAgICAgIHRoaXMubG9jYWxlRGF0YSA9IG1vbWVudC5sb2NhbGVEYXRhKGxvY2FsZSk7XG4gICAgfVxuXG4gICAgY29tcGFyZURhdGUoZmlyc3Q6IE1vbWVudCwgc2Vjb25kOiBNb21lbnQpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gZmlyc3QuZGlmZihzZWNvbmQsICdzZWNvbmRzJywgdHJ1ZSk7XG4gICAgfVxuXG4gICAgc2FtZURhdGUoZmlyc3Q6IGFueSB8IE1vbWVudCwgc2Vjb25kOiBhbnkgfCBNb21lbnQpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKGZpcnN0ID09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIHNhbWUgaWYgYm90aCBudWxsXG4gICAgICAgICAgICByZXR1cm4gc2Vjb25kID09IG51bGw7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNNb21lbnQoZmlyc3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3QuaXNTYW1lKHNlY29uZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBpc1NhbWUgPSBzdXBlci5zYW1lRGF0ZShmaXJzdCwgc2Vjb25kKTtcbiAgICAgICAgICAgIHJldHVybiBpc1NhbWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGFtcERhdGUoZGF0ZTogTW9tZW50LCBtaW4/OiBhbnkgfCBNb21lbnQsIG1heD86IGFueSB8IE1vbWVudCk6IE1vbWVudCB7XG4gICAgICAgIGlmIChtaW4gJiYgZGF0ZS5pc0JlZm9yZShtaW4pKSB7XG4gICAgICAgICAgICByZXR1cm4gbWluO1xuICAgICAgICB9IGVsc2UgaWYgKG1heCAmJiBkYXRlLmlzQWZ0ZXIobWF4KSkge1xuICAgICAgICAgICAgcmV0dXJuIG1heDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNEYXRlSW5zdGFuY2UoZGF0ZTogYW55KSB7XG4gICAgICAgIGxldCBpc1ZhbGlkRGF0ZUluc3RhbmNlID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKGRhdGUpIHtcbiAgICAgICAgICAgIGlzVmFsaWREYXRlSW5zdGFuY2UgPSBkYXRlLl9pc0FNb21lbnRPYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXNWYWxpZERhdGVJbnN0YW5jZTtcbiAgICB9XG5cbiAgICBpc1ZhbGlkKGRhdGU6IE1vbWVudCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZGF0ZS5pc1ZhbGlkKCk7XG4gICAgfVxuXG4gICAgdG9Jc284NjAxKGRhdGU6IE1vbWVudCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmNsb25lKGRhdGUpLmZvcm1hdCgpO1xuICAgIH1cblxuICAgIGZyb21Jc284NjAxKGlzbzg2MDFTdHJpbmc6IHN0cmluZyk6IE1vbWVudCB8IG51bGwge1xuICAgICAgICBsZXQgbG9jYWxlID0gdGhpcy5sb2NhbGUgfHwgJ2VuJztcbiAgICAgICAgbGV0IGQgPSBtb21lbnQoaXNvODYwMVN0cmluZywgbW9tZW50LklTT184NjAxKS5sb2NhbGUobG9jYWxlKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNWYWxpZChkKSA/IGQgOiBudWxsO1xuICAgIH1cblxuICAgIGludmFsaWQoKTogTW9tZW50IHtcbiAgICAgICAgcmV0dXJuIG1vbWVudC5pbnZhbGlkKCk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgT2JqZWN0VXRpbHMgfSBmcm9tICcuLi8uLi91dGlscyc7XG5pbXBvcnQgeyBEYXRhUm93IH0gZnJvbSAnLi9kYXRhLXJvdy5tb2RlbCc7XG5cbi8vIFNpbXBsZSBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgRGF0YVJvdyBpbnRlcmZhY2UuXG5leHBvcnQgY2xhc3MgT2JqZWN0RGF0YVJvdyBpbXBsZW1lbnRzIERhdGFSb3cge1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBvYmo6IGFueSwgcHVibGljIGlzU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZSkge1xuICAgICAgICBpZiAoIW9iaikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdPYmplY3Qgc291cmNlIG5vdCBmb3VuZCcpO1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBnZXRWYWx1ZShrZXk6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIHJldHVybiBPYmplY3RVdGlscy5nZXRWYWx1ZSh0aGlzLm9iaiwga2V5KTtcbiAgICB9XG5cbiAgICBoYXNWYWx1ZShrZXk6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRWYWx1ZShrZXkpICE9PSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgaW1hZ2VFcnJvclJlc29sdmVyKGV2ZW50OiBFdmVudCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBUZW1wbGF0ZVJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRGF0YUNvbHVtbiB9IGZyb20gJy4vZGF0YS1jb2x1bW4ubW9kZWwnO1xuXG4vLyBTaW1wbGUgaW1wbGVtZW50YXRpb24gb2YgdGhlIERhdGFDb2x1bW4gaW50ZXJmYWNlLlxuZXhwb3J0IGNsYXNzIE9iamVjdERhdGFDb2x1bW4gaW1wbGVtZW50cyBEYXRhQ29sdW1uIHtcblxuICAgIGtleTogc3RyaW5nO1xuICAgIHR5cGU6IHN0cmluZzsgLy8gdGV4dHxpbWFnZVxuICAgIGZvcm1hdDogc3RyaW5nO1xuICAgIHNvcnRhYmxlOiBib29sZWFuO1xuICAgIHRpdGxlOiBzdHJpbmc7XG4gICAgc3JUaXRsZTogc3RyaW5nO1xuICAgIGNzc0NsYXNzOiBzdHJpbmc7XG4gICAgdGVtcGxhdGU/OiBUZW1wbGF0ZVJlZjxhbnk+O1xuXG4gICAgY29uc3RydWN0b3Iob2JqOiBhbnkpIHtcbiAgICAgICAgdGhpcy5rZXkgPSBvYmoua2V5O1xuICAgICAgICB0aGlzLnR5cGUgPSBvYmoudHlwZSB8fCAndGV4dCc7XG4gICAgICAgIHRoaXMuZm9ybWF0ID0gb2JqLmZvcm1hdDtcbiAgICAgICAgdGhpcy5zb3J0YWJsZSA9IG9iai5zb3J0YWJsZTtcbiAgICAgICAgdGhpcy50aXRsZSA9IG9iai50aXRsZTtcbiAgICAgICAgdGhpcy5zclRpdGxlID0gb2JqLnNyVGl0bGU7XG4gICAgICAgIHRoaXMuY3NzQ2xhc3MgPSBvYmouY3NzQ2xhc3M7XG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBvYmoudGVtcGxhdGU7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGNsYXNzIERhdGFTb3J0aW5nIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHVibGljIGtleT86IHN0cmluZyxcbiAgICAgICAgcHVibGljIGRpcmVjdGlvbj86IHN0cmluZykge1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IERhdGFDb2x1bW4gfSBmcm9tICcuL2RhdGEtY29sdW1uLm1vZGVsJztcbmltcG9ydCB7IERhdGFSb3cgfSBmcm9tICcuL2RhdGEtcm93Lm1vZGVsJztcbmltcG9ydCB7IE9iamVjdERhdGFSb3cgfSBmcm9tICcuL29iamVjdC1kYXRhcm93Lm1vZGVsJztcbmltcG9ydCB7IE9iamVjdERhdGFDb2x1bW4gfSBmcm9tICcuL29iamVjdC1kYXRhY29sdW1uLm1vZGVsJztcbmltcG9ydCB7IERhdGFTb3J0aW5nIH0gZnJvbSAnLi9kYXRhLXNvcnRpbmcubW9kZWwnO1xuaW1wb3J0IHsgRGF0YVRhYmxlQWRhcHRlciB9IGZyb20gJy4vZGF0YXRhYmxlLWFkYXB0ZXInO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuXG4vLyBTaW1wbGUgaW1wbGVtZW50YXRpb24gb2YgdGhlIERhdGFUYWJsZUFkYXB0ZXIgaW50ZXJmYWNlLlxuZXhwb3J0IGNsYXNzIE9iamVjdERhdGFUYWJsZUFkYXB0ZXIgaW1wbGVtZW50cyBEYXRhVGFibGVBZGFwdGVyIHtcblxuICAgIHByaXZhdGUgX3NvcnRpbmc6IERhdGFTb3J0aW5nO1xuICAgIHByaXZhdGUgX3Jvd3M6IERhdGFSb3dbXTtcbiAgICBwcml2YXRlIF9jb2x1bW5zOiBEYXRhQ29sdW1uW107XG5cbiAgICBzZWxlY3RlZFJvdzogRGF0YVJvdztcbiAgICByb3dzQ2hhbmdlZDogU3ViamVjdDxBcnJheTxEYXRhUm93Pj47XG5cbiAgICBzdGF0aWMgZ2VuZXJhdGVTY2hlbWEoZGF0YTogYW55W10pIHtcbiAgICAgICAgbGV0IHNjaGVtYSA9IFtdO1xuXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEubGVuZ3RoKSB7XG4gICAgICAgICAgICBsZXQgcm93VG9FeGFtaW5hdGUgPSBkYXRhWzBdO1xuXG4gICAgICAgICAgICBpZiAodHlwZW9mIHJvd1RvRXhhbWluYXRlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGtleSBpbiByb3dUb0V4YW1pbmF0ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocm93VG9FeGFtaW5hdGUuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NoZW1hLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZToga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNvcnRhYmxlOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGRhdGE6IGFueVtdID0gW10sIHNjaGVtYTogRGF0YUNvbHVtbltdID0gW10pIHtcbiAgICAgICAgdGhpcy5fcm93cyA9IFtdO1xuICAgICAgICB0aGlzLl9jb2x1bW5zID0gW107XG5cbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9yb3dzID0gZGF0YS5tYXAoaXRlbSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBPYmplY3REYXRhUm93KGl0ZW0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2NoZW1hICYmIHNjaGVtYS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLl9jb2x1bW5zID0gc2NoZW1hLm1hcChpdGVtID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IE9iamVjdERhdGFDb2x1bW4oaXRlbSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgLy8gU29ydCBieSBmaXJzdCBzb3J0YWJsZSBvciBqdXN0IGZpcnN0IGNvbHVtblxuICAgICAgICAgICAgbGV0IHNvcnRhYmxlID0gdGhpcy5fY29sdW1ucy5maWx0ZXIoYyA9PiBjLnNvcnRhYmxlKTtcbiAgICAgICAgICAgIGlmIChzb3J0YWJsZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zb3J0KHNvcnRhYmxlWzBdLmtleSwgJ2FzYycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yb3dzQ2hhbmdlZCA9IG5ldyBTdWJqZWN0PEFycmF5PERhdGFSb3c+PigpO1xuICAgIH1cblxuICAgIGdldFJvd3MoKTogQXJyYXk8RGF0YVJvdz4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fcm93cztcbiAgICB9XG5cbiAgICBzZXRSb3dzKHJvd3M6IEFycmF5PERhdGFSb3c+KSB7XG4gICAgICAgIHRoaXMuX3Jvd3MgPSByb3dzIHx8IFtdO1xuICAgICAgICB0aGlzLnNvcnQoKTtcbiAgICAgICAgdGhpcy5yb3dzQ2hhbmdlZC5uZXh0KHRoaXMuX3Jvd3MpO1xuICAgIH1cblxuICAgIGdldENvbHVtbnMoKTogQXJyYXk8RGF0YUNvbHVtbj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29sdW1ucztcbiAgICB9XG5cbiAgICBzZXRDb2x1bW5zKGNvbHVtbnM6IEFycmF5PERhdGFDb2x1bW4+KSB7XG4gICAgICAgIHRoaXMuX2NvbHVtbnMgPSBjb2x1bW5zIHx8IFtdO1xuICAgIH1cblxuICAgIGdldFZhbHVlKHJvdzogRGF0YVJvdywgY29sOiBEYXRhQ29sdW1uKTogYW55IHtcbiAgICAgICAgaWYgKCFyb3cpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignUm93IG5vdCBmb3VuZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY29sKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvbHVtbiBub3QgZm91bmQnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCB2YWx1ZSA9IHJvdy5nZXRWYWx1ZShjb2wua2V5KTtcblxuICAgICAgICBpZiAoY29sLnR5cGUgPT09ICdpY29uJykge1xuICAgICAgICAgICAgY29uc3QgaWNvbiA9IHJvdy5nZXRWYWx1ZShjb2wua2V5KTtcbiAgICAgICAgICAgIHJldHVybiBpY29uO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGdldFNvcnRpbmcoKTogRGF0YVNvcnRpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5fc29ydGluZztcbiAgICB9XG5cbiAgICBzZXRTb3J0aW5nKHNvcnRpbmc6IERhdGFTb3J0aW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuX3NvcnRpbmcgPSBzb3J0aW5nO1xuXG4gICAgICAgIGlmIChzb3J0aW5nICYmIHNvcnRpbmcua2V5KSB7XG4gICAgICAgICAgICB0aGlzLl9yb3dzLnNvcnQoKGE6IERhdGFSb3csIGI6IERhdGFSb3cpID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgbGVmdCA9IGEuZ2V0VmFsdWUoc29ydGluZy5rZXkpO1xuICAgICAgICAgICAgICAgIGlmIChsZWZ0KSB7XG4gICAgICAgICAgICAgICAgICAgIGxlZnQgPSAobGVmdCBpbnN0YW5jZW9mIERhdGUpID8gbGVmdC52YWx1ZU9mKCkudG9TdHJpbmcoKSA6IGxlZnQudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0ID0gJyc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbGV0IHJpZ2h0ID0gYi5nZXRWYWx1ZShzb3J0aW5nLmtleSk7XG4gICAgICAgICAgICAgICAgaWYgKHJpZ2h0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0gKHJpZ2h0IGluc3RhbmNlb2YgRGF0ZSkgPyByaWdodC52YWx1ZU9mKCkudG9TdHJpbmcoKSA6IHJpZ2h0LnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmlnaHQgPSAnJztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gc29ydGluZy5kaXJlY3Rpb24gPT09ICdhc2MnXG4gICAgICAgICAgICAgICAgICAgID8gbGVmdC5sb2NhbGVDb21wYXJlKHJpZ2h0KVxuICAgICAgICAgICAgICAgICAgICA6IHJpZ2h0LmxvY2FsZUNvbXBhcmUobGVmdCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNvcnQoa2V5Pzogc3RyaW5nLCBkaXJlY3Rpb24/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgbGV0IHNvcnRpbmcgPSB0aGlzLl9zb3J0aW5nIHx8IG5ldyBEYXRhU29ydGluZygpO1xuICAgICAgICBpZiAoa2V5KSB7XG4gICAgICAgICAgICBzb3J0aW5nLmtleSA9IGtleTtcbiAgICAgICAgICAgIHNvcnRpbmcuZGlyZWN0aW9uID0gZGlyZWN0aW9uIHx8ICdhc2MnO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuc2V0U29ydGluZyhzb3J0aW5nKTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIE9uSW5pdCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBBdXRoZW50aWNhdGlvblNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9hdXRoZW50aWNhdGlvbi5zZXJ2aWNlJztcbmltcG9ydCB7IEJwbVByb2R1Y3RWZXJzaW9uTW9kZWwsIEVjbVByb2R1Y3RWZXJzaW9uTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvcHJvZHVjdC12ZXJzaW9uLm1vZGVsJztcbmltcG9ydCB7IERpc2NvdmVyeUFwaVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9kaXNjb3ZlcnktYXBpLnNlcnZpY2UnO1xuaW1wb3J0IHsgT2JqZWN0RGF0YVRhYmxlQWRhcHRlciB9IGZyb20gJy4uL2RhdGF0YWJsZS9kYXRhL29iamVjdC1kYXRhdGFibGUtYWRhcHRlcic7XG5pbXBvcnQgeyBBcHBDb25maWdTZXJ2aWNlLCBBcHBDb25maWdWYWx1ZXMgfSBmcm9tICcuLi9hcHAtY29uZmlnL2FwcC1jb25maWcuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLWFib3V0JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vYWJvdXQuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2Fib3V0LmNvbXBvbmVudC5zY3NzJ10sXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBBYm91dENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBkYXRhOiBPYmplY3REYXRhVGFibGVBZGFwdGVyO1xuICAgIHN0YXR1czogT2JqZWN0RGF0YVRhYmxlQWRhcHRlcjtcbiAgICBsaWNlbnNlOiBPYmplY3REYXRhVGFibGVBZGFwdGVyO1xuICAgIG1vZHVsZXM6IE9iamVjdERhdGFUYWJsZUFkYXB0ZXI7XG4gICAgZ2l0aHViVXJsQ29tbWl0QWxwaGEgPSAnaHR0cHM6Ly9naXRodWIuY29tL0FsZnJlc2NvL2FsZnJlc2NvLW5nMi1jb21wb25lbnRzL2NvbW1pdHMvJztcblxuICAgIGVjbUhvc3QgPSAnJztcbiAgICBicG1Ib3N0ID0gJyc7XG5cbiAgICBlY21WZXJzaW9uOiBFY21Qcm9kdWN0VmVyc2lvbk1vZGVsID0gbnVsbDtcbiAgICBicG1WZXJzaW9uOiBCcG1Qcm9kdWN0VmVyc2lvbk1vZGVsID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgaHR0cDogSHR0cENsaWVudCxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGFwcENvbmZpZzogQXBwQ29uZmlnU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGF1dGhTZXJ2aWNlOiBBdXRoZW50aWNhdGlvblNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBkaXNjb3Zlcnk6IERpc2NvdmVyeUFwaVNlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcblxuICAgICAgICBpZiAodGhpcy5hdXRoU2VydmljZS5pc0VjbUxvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY292ZXJ5LmdldEVjbVByb2R1Y3RJbmZvKCkuc3Vic2NyaWJlKChlY21WZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lY21WZXJzaW9uID0gZWNtVmVycztcblxuICAgICAgICAgICAgICAgIHRoaXMubW9kdWxlcyA9IG5ldyBPYmplY3REYXRhVGFibGVBZGFwdGVyKHRoaXMuZWNtVmVyc2lvbi5tb2R1bGVzLCBbXG4gICAgICAgICAgICAgICAgICAgIHsgdHlwZTogJ3RleHQnLCBrZXk6ICdpZCcsIHRpdGxlOiAnSUQnLCBzb3J0YWJsZTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICd0ZXh0Jywga2V5OiAndGl0bGUnLCB0aXRsZTogJ1RpdGxlJywgc29ydGFibGU6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiAndGV4dCcsIGtleTogJ3ZlcnNpb24nLCB0aXRsZTogJ0Rlc2NyaXB0aW9uJywgc29ydGFibGU6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiAndGV4dCcsIGtleTogJ2luc3RhbGxEYXRlJywgdGl0bGU6ICdJbnN0YWxsIERhdGUnLCBzb3J0YWJsZTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICd0ZXh0Jywga2V5OiAnaW5zdGFsbFN0YXRlJywgdGl0bGU6ICdJbnN0YWxsIFN0YXRlJywgc29ydGFibGU6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiAndGV4dCcsIGtleTogJ3ZlcnNpb25NaW4nLCB0aXRsZTogJ1ZlcnNpb24gTWlub3InLCBzb3J0YWJsZTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICd0ZXh0Jywga2V5OiAndmVyc2lvbk1heCcsIHRpdGxlOiAnVmVyc2lvbiBNYXgnLCBzb3J0YWJsZTogdHJ1ZSB9XG4gICAgICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyA9IG5ldyBPYmplY3REYXRhVGFibGVBZGFwdGVyKFt0aGlzLmVjbVZlcnNpb24uc3RhdHVzXSwgW1xuICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICd0ZXh0Jywga2V5OiAnaXNSZWFkT25seScsIHRpdGxlOiAnUmVhZE9ubHknLCBzb3J0YWJsZTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICd0ZXh0Jywga2V5OiAnaXNBdWRpdEVuYWJsZWQnLCB0aXRsZTogJ0lzIEF1ZGl0IEVuYWJsZScsIHNvcnRhYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgdHlwZTogJ3RleHQnLCBrZXk6ICdpc1F1aWNrU2hhcmVFbmFibGVkJywgdGl0bGU6ICdJcyBxdWljayBzaGFyZWQgZW5hYmxlJywgc29ydGFibGU6IHRydWUgfSxcbiAgICAgICAgICAgICAgICAgICAgeyB0eXBlOiAndGV4dCcsIGtleTogJ2lzVGh1bWJuYWlsR2VuZXJhdGlvbkVuYWJsZWQnLCB0aXRsZTogJ1RodW1ibmFpbCBHZW5lcmF0aW9uJywgc29ydGFibGU6IHRydWUgfVxuICAgICAgICAgICAgICAgIF0pO1xuXG4gICAgICAgICAgICAgICAgdGhpcy5saWNlbnNlID0gbmV3IE9iamVjdERhdGFUYWJsZUFkYXB0ZXIoW3RoaXMuZWNtVmVyc2lvbi5saWNlbnNlXSwgW1xuICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICd0ZXh0Jywga2V5OiAnaXNzdWVkQXQnLCB0aXRsZTogJ0lzc3VlZCBBdCcsIHNvcnRhYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgdHlwZTogJ3RleHQnLCBrZXk6ICdleHBpcmVzQXQnLCB0aXRsZTogJ0V4cGlyZXMgQXQnLCBzb3J0YWJsZTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICd0ZXh0Jywga2V5OiAncmVtYWluaW5nRGF5cycsIHRpdGxlOiAnUmVtYWluaW5nIERheXMnLCBzb3J0YWJsZTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICd0ZXh0Jywga2V5OiAnaG9sZGVyJywgdGl0bGU6ICdIb2xkZXInLCBzb3J0YWJsZTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICd0ZXh0Jywga2V5OiAnbW9kZScsIHRpdGxlOiAnTW9kZScsIHNvcnRhYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgICAgIHsgdHlwZTogJ3RleHQnLCBrZXk6ICdpc0NsdXN0ZXJFbmFibGVkJywgdGl0bGU6ICdJcyBDbHVzdGVyIEVuYWJsZWQnLCBzb3J0YWJsZTogdHJ1ZSB9LFxuICAgICAgICAgICAgICAgICAgICB7IHR5cGU6ICd0ZXh0Jywga2V5OiAnaXNDcnlwdG9kb2NFbmFibGVkJywgdGl0bGU6ICdJcyBDcnlwdG9kb2MgRW5hYmxlJywgc29ydGFibGU6IHRydWUgfVxuICAgICAgICAgICAgICAgIF0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5hdXRoU2VydmljZS5pc0JwbUxvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzY292ZXJ5LmdldEJwbVByb2R1Y3RJbmZvKCkuc3Vic2NyaWJlKChicG1WZXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5icG1WZXJzaW9uID0gYnBtVmVycztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5odHRwLmdldCgnL3ZlcnNpb25zLmpzb24/JyArIG5ldyBEYXRlKCkpLnN1YnNjcmliZSgocmVzcG9uc2U6IGFueSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVnZXhwID0gbmV3IFJlZ0V4cCgnXihAYWxmcmVzY28pJyk7XG5cbiAgICAgICAgICAgIGNvbnN0IGFsZnJlc2NvUGFja2FnZXMgPSBPYmplY3Qua2V5cyhyZXNwb25zZS5kZXBlbmRlbmNpZXMpLmZpbHRlcigodmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2V4cC50ZXN0KHZhbCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY29uc3QgYWxmcmVzY29QYWNrYWdlc1RhYmxlUmVwcmVzZW50YXRpb24gPSBbXTtcbiAgICAgICAgICAgIGFsZnJlc2NvUGFja2FnZXMuZm9yRWFjaCgodmFsKSA9PiB7XG4gICAgICAgICAgICAgICAgYWxmcmVzY29QYWNrYWdlc1RhYmxlUmVwcmVzZW50YXRpb24ucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHZhbCxcbiAgICAgICAgICAgICAgICAgICAgdmVyc2lvbjogcmVzcG9uc2UuZGVwZW5kZW5jaWVzW3ZhbF0udmVyc2lvblxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIHRoaXMuZ2l0SHViTGlua0NyZWF0aW9uKGFsZnJlc2NvUGFja2FnZXNUYWJsZVJlcHJlc2VudGF0aW9uKTtcblxuICAgICAgICAgICAgdGhpcy5kYXRhID0gbmV3IE9iamVjdERhdGFUYWJsZUFkYXB0ZXIoYWxmcmVzY29QYWNrYWdlc1RhYmxlUmVwcmVzZW50YXRpb24sIFtcbiAgICAgICAgICAgICAgICB7IHR5cGU6ICd0ZXh0Jywga2V5OiAnbmFtZScsIHRpdGxlOiAnTmFtZScsIHNvcnRhYmxlOiB0cnVlIH0sXG4gICAgICAgICAgICAgICAgeyB0eXBlOiAndGV4dCcsIGtleTogJ3ZlcnNpb24nLCB0aXRsZTogJ1ZlcnNpb24nLCBzb3J0YWJsZTogdHJ1ZSB9XG4gICAgICAgICAgICBdKTtcblxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmVjbUhvc3QgPSB0aGlzLmFwcENvbmZpZy5nZXQ8c3RyaW5nPihBcHBDb25maWdWYWx1ZXMuRUNNSE9TVCk7XG4gICAgICAgIHRoaXMuYnBtSG9zdCA9IHRoaXMuYXBwQ29uZmlnLmdldDxzdHJpbmc+KEFwcENvbmZpZ1ZhbHVlcy5CUE1IT1NUKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdpdEh1YkxpbmtDcmVhdGlvbihhbGZyZXNjb1BhY2thZ2VzVGFibGVSZXByZXNlbnRhdGlvbik6IHZvaWQge1xuICAgICAgICBjb25zdCBjb3JlUGFja2FnZSA9IGFsZnJlc2NvUGFja2FnZXNUYWJsZVJlcHJlc2VudGF0aW9uLmZpbmQoKHBhY2thZ2VVcCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHBhY2thZ2VVcC5uYW1lID09PSAnQGFsZnJlc2NvL2FkZi1jb3JlJztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGNvcmVQYWNrYWdlKSB7XG4gICAgICAgICAgICBjb25zdCBjb21taXRJc2ggPSBjb3JlUGFja2FnZS52ZXJzaW9uLnNwbGl0KCctJyk7XG4gICAgICAgICAgICBpZiAoY29tbWl0SXNoLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdpdGh1YlVybENvbW1pdEFscGhhID0gdGhpcy5naXRodWJVcmxDb21taXRBbHBoYSArIGNvbW1pdElzaFsxXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5naXRodWJVcmxDb21taXRBbHBoYSA9IHRoaXMuZ2l0aHViVXJsQ29tbWl0QWxwaGEgKyBjb3JlUGFja2FnZS52ZXJzaW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdERhdGV0aW1lcGlja2VyTW9kdWxlLCBNYXROYXRpdmVEYXRldGltZU1vZHVsZSB9IGZyb20gJ0BtYXQtZGF0ZXRpbWVwaWNrZXIvY29yZSc7XG5cbmltcG9ydCB7XG4gICAgTWF0QXV0b2NvbXBsZXRlTW9kdWxlLCBNYXRCdXR0b25Nb2R1bGUsIE1hdENhcmRNb2R1bGUsIE1hdENoZWNrYm94TW9kdWxlLFxuICAgIE1hdENoaXBzTW9kdWxlLCBNYXREYXRlcGlja2VyTW9kdWxlLCBNYXREaWFsb2dNb2R1bGUsIE1hdEdyaWRMaXN0TW9kdWxlLCBNYXRJY29uTW9kdWxlLFxuICAgIE1hdElucHV0TW9kdWxlLCBNYXRMaXN0TW9kdWxlLCBNYXROYXRpdmVEYXRlTW9kdWxlLCBNYXRPcHRpb25Nb2R1bGUsIE1hdFByb2dyZXNzU3Bpbm5lck1vZHVsZSwgTWF0UmFkaW9Nb2R1bGUsXG4gICAgTWF0UmlwcGxlTW9kdWxlLCBNYXRTZWxlY3RNb2R1bGUsIE1hdFNsaWRlVG9nZ2xlTW9kdWxlLCBNYXRUYWJsZU1vZHVsZSwgTWF0VGFic01vZHVsZSxcbiAgICBNYXRNZW51TW9kdWxlLCBNYXRQcm9ncmVzc0Jhck1vZHVsZSwgTWF0U2lkZW5hdk1vZHVsZSwgTWF0U25hY2tCYXJNb2R1bGUsIE1hdFRvb2xiYXJNb2R1bGUsXG4gICAgTWF0VG9vbHRpcE1vZHVsZSwgTWF0RXhwYW5zaW9uTW9kdWxlXG59IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcblxuZXhwb3J0IGZ1bmN0aW9uIG1vZHVsZXMoKSB7XG4gICAgcmV0dXJuIFtcbiAgICAgICAgTWF0QXV0b2NvbXBsZXRlTW9kdWxlLCBNYXRCdXR0b25Nb2R1bGUsIE1hdENhcmRNb2R1bGUsIE1hdENoZWNrYm94TW9kdWxlLFxuICAgICAgICBNYXRDaGlwc01vZHVsZSwgTWF0RGF0ZXBpY2tlck1vZHVsZSwgTWF0RGlhbG9nTW9kdWxlLCBNYXRHcmlkTGlzdE1vZHVsZSwgTWF0SWNvbk1vZHVsZSxcbiAgICAgICAgTWF0SW5wdXRNb2R1bGUsIE1hdExpc3RNb2R1bGUsIE1hdE5hdGl2ZURhdGVNb2R1bGUsIE1hdE9wdGlvbk1vZHVsZSwgTWF0UHJvZ3Jlc3NTcGlubmVyTW9kdWxlLCBNYXRSYWRpb01vZHVsZSxcbiAgICAgICAgTWF0UmlwcGxlTW9kdWxlLCBNYXRTZWxlY3RNb2R1bGUsIE1hdFNsaWRlVG9nZ2xlTW9kdWxlLCBNYXRUYWJsZU1vZHVsZSwgTWF0VGFic01vZHVsZSxcbiAgICAgICAgTWF0TWVudU1vZHVsZSwgTWF0UHJvZ3Jlc3NCYXJNb2R1bGUsIE1hdFNpZGVuYXZNb2R1bGUsIE1hdFNuYWNrQmFyTW9kdWxlLCBNYXRUb29sYmFyTW9kdWxlLFxuICAgICAgICBNYXRUb29sdGlwTW9kdWxlLCBNYXREYXRldGltZXBpY2tlck1vZHVsZSwgTWF0TmF0aXZlRGF0ZXRpbWVNb2R1bGUsIE1hdEV4cGFuc2lvbk1vZHVsZVxuICAgIF07XG59XG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogbW9kdWxlcygpLFxuICAgIGV4cG9ydHM6IG1vZHVsZXMoKVxufSlcbmV4cG9ydCBjbGFzcyBNYXRlcmlhbE1vZHVsZSB7fVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQ29udGV4dE1lbnVTZXJ2aWNlIHtcbiAgICBwdWJsaWMgc2hvdzogU3ViamVjdDx7ZXZlbnQ6IE1vdXNlRXZlbnQsIG9iajogYW55W119PiA9IG5ldyBTdWJqZWN0PHtldmVudDogTW91c2VFdmVudCwgb2JqOiBhbnlbXX0+KCk7XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBPdmVybGF5Q29udGFpbmVyIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL292ZXJsYXknO1xuaW1wb3J0IHsgVmlld3BvcnRSdWxlciB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9zY3JvbGxpbmcnO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBIb3N0TGlzdGVuZXIsIElucHV0LCBPbkRlc3Ryb3ksIE9uSW5pdCwgUmVuZGVyZXIyLCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdE1lbnVUcmlnZ2VyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBDb250ZXh0TWVudVNlcnZpY2UgfSBmcm9tICcuL2NvbnRleHQtbWVudS5zZXJ2aWNlJztcblxuLyoqXG4gKiBAZGVwcmVjYXRlZDogY29udGV4dC1tZW51LWhvbGRlciBpcyBkZXByZWNhdGVkLCB1c2UgYWRmLWNvbnRleHQtbWVudS1ob2xkZXIgaW5zdGVhZC5cbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtY29udGV4dC1tZW51LWhvbGRlciwgY29udGV4dC1tZW51LWhvbGRlcicsXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPGJ1dHRvbiBtYXQtYnV0dG9uIFttYXRNZW51VHJpZ2dlckZvcl09XCJjb250ZXh0TWVudVwiPjwvYnV0dG9uPlxuICAgICAgICA8bWF0LW1lbnUgI2NvbnRleHRNZW51PVwibWF0TWVudVwiIGNsYXNzPVwiY29udGV4dC1tZW51XCI+XG4gICAgICAgICAgICA8bmctY29udGFpbmVyICpuZ0Zvcj1cImxldCBsaW5rIG9mIGxpbmtzXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiAqbmdJZj1cImxpbmsubW9kZWw/LnZpc2libGVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIuZGF0YS1hdXRvbWF0aW9uLWlkXT1cIidjb250ZXh0LScrKChsaW5rLnRpdGxlIHx8IGxpbmsubW9kZWw/LnRpdGxlKSB8IHRyYW5zbGF0ZSlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0LW1lbnUtaXRlbVxuICAgICAgICAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cImxpbmsubW9kZWw/LmRpc2FibGVkXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvbk1lbnVJdGVtQ2xpY2soJGV2ZW50LCBsaW5rKVwiPlxuICAgICAgICAgICAgICAgICAgICA8bWF0LWljb24gKm5nSWY9XCJzaG93SWNvbnMgJiYgbGluay5tb2RlbD8uaWNvblwiPnt7IGxpbmsubW9kZWwuaWNvbiB9fTwvbWF0LWljb24+XG4gICAgICAgICAgICAgICAgICAgIHt7IChsaW5rLnRpdGxlIHx8IGxpbmsubW9kZWw/LnRpdGxlKSB8IHRyYW5zbGF0ZSB9fVxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgICAgIDwvbWF0LW1lbnU+XG4gICAgYFxufSlcbmV4cG9ydCBjbGFzcyBDb250ZXh0TWVudUhvbGRlckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgICBsaW5rcyA9IFtdO1xuXG4gICAgcHJpdmF0ZSBtb3VzZUxvY2F0aW9uOiB7IGxlZnQ6IG51bWJlciwgdG9wOiBudW1iZXIgfSA9IHsgbGVmdDogMCwgdG9wOiAwIH07XG4gICAgcHJpdmF0ZSBtZW51RWxlbWVudCA9IG51bGw7XG4gICAgcHJpdmF0ZSBzdWJzY3JpcHRpb25zOiBTdWJzY3JpcHRpb25bXSA9IFtdO1xuICAgIHByaXZhdGUgY29udGV4dE1lbnVMaXN0ZW5lckZuOiAoKSA9PiB2b2lkO1xuXG4gICAgQElucHV0KClcbiAgICBzaG93SWNvbnM6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIEBWaWV3Q2hpbGQoTWF0TWVudVRyaWdnZXIpXG4gICAgbWVudVRyaWdnZXI6IE1hdE1lbnVUcmlnZ2VyO1xuXG4gICAgQEhvc3RMaXN0ZW5lcignY29udGV4dG1lbnUnLCBbJyRldmVudCddKVxuICAgIG9uU2hvd0NvbnRleHRNZW51KGV2ZW50PzogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBASG9zdExpc3RlbmVyKCd3aW5kb3c6cmVzaXplJywgWyckZXZlbnQnXSlcbiAgICBvblJlc2l6ZShldmVudCkge1xuICAgICAgICBpZiAodGhpcy5tZE1lbnVFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZVBvc2l0aW9uKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSB2aWV3cG9ydDogVmlld3BvcnRSdWxlcixcbiAgICAgICAgcHJpdmF0ZSBvdmVybGF5Q29udGFpbmVyOiBPdmVybGF5Q29udGFpbmVyLFxuICAgICAgICBwcml2YXRlIGNvbnRleHRNZW51U2VydmljZTogQ29udGV4dE1lbnVTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHJlbmRlcmVyOiBSZW5kZXJlcjJcbiAgICApIHtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goXG4gICAgICAgICAgICB0aGlzLmNvbnRleHRNZW51U2VydmljZS5zaG93LnN1YnNjcmliZShlID0+IHRoaXMuc2hvd01lbnUoZS5ldmVudCwgZS5vYmopKSxcblxuICAgICAgICAgICAgdGhpcy5tZW51VHJpZ2dlci5vbk1lbnVPcGVuLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5vdmVybGF5Q29udGFpbmVyLmdldENvbnRhaW5lckVsZW1lbnQoKTtcbiAgICAgICAgICAgICAgICBpZiAoY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGV4dE1lbnVMaXN0ZW5lckZuID0gdGhpcy5yZW5kZXJlci5saXN0ZW4oY29udGFpbmVyLCAnY29udGV4dG1lbnUnLCAoZTogRXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubWVudUVsZW1lbnQgPSB0aGlzLmdldENvbnRleHRNZW51RWxlbWVudCgpO1xuICAgICAgICAgICAgfSksXG5cbiAgICAgICAgICAgIHRoaXMubWVudVRyaWdnZXIub25NZW51Q2xvc2Uuc3Vic2NyaWJlKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lbnVFbGVtZW50ID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250ZXh0TWVudUxpc3RlbmVyRm4pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0TWVudUxpc3RlbmVyRm4oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIG5nT25EZXN0cm95KCkge1xuICAgICAgICBpZiAodGhpcy5jb250ZXh0TWVudUxpc3RlbmVyRm4pIHtcbiAgICAgICAgICAgIHRoaXMuY29udGV4dE1lbnVMaXN0ZW5lckZuKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMuZm9yRWFjaChzdWJzY3JpcHRpb24gPT4gc3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCkpO1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMgPSBbXTtcblxuICAgICAgICB0aGlzLm1lbnVFbGVtZW50ID0gbnVsbDtcbiAgICB9XG5cbiAgICBvbk1lbnVJdGVtQ2xpY2soZXZlbnQ6IEV2ZW50LCBtZW51SXRlbTogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChtZW51SXRlbSAmJiBtZW51SXRlbS5tb2RlbCAmJiBtZW51SXRlbS5tb2RlbC5kaXNhYmxlZCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG1lbnVJdGVtLnN1YmplY3QubmV4dChtZW51SXRlbSk7XG4gICAgfVxuXG4gICAgc2hvd01lbnUoZSwgbGlua3MpIHtcbiAgICAgICAgdGhpcy5saW5rcyA9IGxpbmtzO1xuXG4gICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICB0aGlzLm1vdXNlTG9jYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgbGVmdDogZS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHRvcDogZS5jbGllbnRZXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tZW51VHJpZ2dlci5vcGVuTWVudSgpO1xuXG4gICAgICAgIGlmICh0aGlzLm1kTWVudUVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlUG9zaXRpb24oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBtZE1lbnVFbGVtZW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZW51RWxlbWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxvY2F0aW9uQ3NzKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgbGVmdDogdGhpcy5tb3VzZUxvY2F0aW9uLmxlZnQgKyAncHgnLFxuICAgICAgICAgICAgdG9wOiB0aGlzLm1vdXNlTG9jYXRpb24udG9wICsgJ3B4J1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgdXBkYXRlUG9zaXRpb24oKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMubWRNZW51RWxlbWVudC5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWRNZW51RWxlbWVudC5jbGllbnRXaWR0aCArIHRoaXMubW91c2VMb2NhdGlvbi5sZWZ0ID4gdGhpcy52aWV3cG9ydC5nZXRWaWV3cG9ydFJlY3QoKS53aWR0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbnVUcmlnZ2VyLm1lbnUueFBvc2l0aW9uID0gJ2JlZm9yZSc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWRNZW51RWxlbWVudC5wYXJlbnRFbGVtZW50LnN0eWxlLmxlZnQgPSB0aGlzLm1vdXNlTG9jYXRpb24ubGVmdCAtIHRoaXMubWRNZW51RWxlbWVudC5jbGllbnRXaWR0aCArICdweCc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW51VHJpZ2dlci5tZW51LnhQb3NpdGlvbiA9ICdhZnRlcic7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWRNZW51RWxlbWVudC5wYXJlbnRFbGVtZW50LnN0eWxlLmxlZnQgPSB0aGlzLmxvY2F0aW9uQ3NzKCkubGVmdDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tZE1lbnVFbGVtZW50LmNsaWVudEhlaWdodCArIHRoaXMubW91c2VMb2NhdGlvbi50b3AgPiB0aGlzLnZpZXdwb3J0LmdldFZpZXdwb3J0UmVjdCgpLmhlaWdodCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbnVUcmlnZ2VyLm1lbnUueVBvc2l0aW9uID0gJ2Fib3ZlJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZE1lbnVFbGVtZW50LnBhcmVudEVsZW1lbnQuc3R5bGUudG9wID0gdGhpcy5tb3VzZUxvY2F0aW9uLnRvcCAtIHRoaXMubWRNZW51RWxlbWVudC5jbGllbnRIZWlnaHQgKyAncHgnO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubWVudVRyaWdnZXIubWVudS55UG9zaXRpb24gPSAnYmVsb3cnO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm1kTWVudUVsZW1lbnQucGFyZW50RWxlbWVudC5zdHlsZS50b3AgPSB0aGlzLmxvY2F0aW9uQ3NzKCkudG9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRDb250ZXh0TWVudUVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm92ZXJsYXlDb250YWluZXIuZ2V0Q29udGFpbmVyRWxlbWVudCgpLnF1ZXJ5U2VsZWN0b3IoJy5jb250ZXh0LW1lbnUnKTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBPdmVybGF5UmVmIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL292ZXJsYXknO1xuXG5leHBvcnQgY2xhc3MgQ29udGV4dE1lbnVPdmVybGF5UmVmIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgb3ZlcmxheVJlZjogT3ZlcmxheVJlZikgeyB9XG5cbiAgICBjbG9zZSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vdmVybGF5UmVmLmRpc3Bvc2UoKTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3Rpb25Ub2tlbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5leHBvcnQgY29uc3QgQ09OVEVYVF9NRU5VX0RBVEEgPSBuZXcgSW5qZWN0aW9uVG9rZW48YW55PignQ09OVEVYVF9NRU5VX0RBVEEnKTtcbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gICAgc3RhdGUsXG4gICAgc3R5bGUsXG4gICAgYW5pbWF0ZSxcbiAgICB0cmFuc2l0aW9uLFxuICAgIHF1ZXJ5LFxuICAgIGdyb3VwLFxuICAgIHNlcXVlbmNlLFxuICAgIEFuaW1hdGlvblN0YXRlTWV0YWRhdGEsXG4gICAgQW5pbWF0aW9uVHJhbnNpdGlvbk1ldGFkYXRhXG59IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuXG5leHBvcnQgY29uc3QgY29udGV4dE1lbnVBbmltYXRpb246ICggQW5pbWF0aW9uU3RhdGVNZXRhZGF0YSB8IEFuaW1hdGlvblRyYW5zaXRpb25NZXRhZGF0YSlbXSA9IFtcbiAgICBzdGF0ZSgndm9pZCcsIHN0eWxlKHtcbiAgICAgICAgb3BhY2l0eTogMCxcbiAgICAgICAgdHJhbnNmb3JtOiAnc2NhbGUoMC4wMSwgMC4wMSknXG4gICAgfSkpLFxuICAgIHRyYW5zaXRpb24oJ3ZvaWQgPT4gKicsIHNlcXVlbmNlKFtcbiAgICAgICAgcXVlcnkoJy5tYXQtbWVudS1jb250ZW50Jywgc3R5bGUoeyBvcGFjaXR5OiAwIH0pKSxcbiAgICAgICAgYW5pbWF0ZSgnMTAwbXMgbGluZWFyJywgc3R5bGUoeyBvcGFjaXR5OiAxLCB0cmFuc2Zvcm06ICdzY2FsZSgxLCAwLjUpJyB9KSksXG4gICAgICAgIGdyb3VwKFtcbiAgICAgICAgICAgIHF1ZXJ5KCcubWF0LW1lbnUtY29udGVudCcsIGFuaW1hdGUoJzQwMG1zIGN1YmljLWJlemllcigwLjU1LCAwLCAwLjU1LCAwLjIpJyxcbiAgICAgICAgICAgICAgICBzdHlsZSh7IG9wYWNpdHk6IDEgfSlcbiAgICAgICAgICAgICkpLFxuICAgICAgICAgICAgYW5pbWF0ZSgnMzAwbXMgY3ViaWMtYmV6aWVyKDAuMjUsIDAuOCwgMC4yNSwgMSknLCBzdHlsZSh7IHRyYW5zZm9ybTogJ3NjYWxlKDEsIDEpJyB9KSlcbiAgICAgICAgXSlcbiAgICBdKSksXG4gICAgdHJhbnNpdGlvbignKiA9PiB2b2lkJywgYW5pbWF0ZSgnMTUwbXMgNTBtcyBsaW5lYXInLCBzdHlsZSh7IG9wYWNpdHk6IDAgfSkpKVxuXTtcbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gICAgQ29tcG9uZW50LCBWaWV3RW5jYXBzdWxhdGlvbiwgSG9zdExpc3RlbmVyLCBBZnRlclZpZXdJbml0LFxuICAgIE9wdGlvbmFsLCBJbmplY3QsIFF1ZXJ5TGlzdCwgVmlld0NoaWxkcmVuXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgdHJpZ2dlciB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuaW1wb3J0IHsgRE9XTl9BUlJPVywgVVBfQVJST1cgfSBmcm9tICdAYW5ndWxhci9jZGsva2V5Y29kZXMnO1xuaW1wb3J0IHsgRm9jdXNLZXlNYW5hZ2VyIH0gZnJvbSAnQGFuZ3VsYXIvY2RrL2ExMXknO1xuaW1wb3J0IHsgTWF0TWVudUl0ZW0gfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5pbXBvcnQgeyBDb250ZXh0TWVudU92ZXJsYXlSZWYgfSBmcm9tICcuL2NvbnRleHQtbWVudS1vdmVybGF5JztcbmltcG9ydCB7IGNvbnRleHRNZW51QW5pbWF0aW9uIH0gZnJvbSAnLi9hbmltYXRpb25zJztcbmltcG9ydCB7IENPTlRFWFRfTUVOVV9EQVRBIH0gZnJvbSAnLi9jb250ZXh0LW1lbnUudG9rZW5zJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtY29udGV4dC1tZW51JyxcbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgICA8ZGl2IG1hdC1tZW51IGNsYXNzPVwibWF0LW1lbnUtcGFuZWxcIiBAcGFuZWxBbmltYXRpb24+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiYWRmLWNvbnRleHQtbWVudS1jb250ZW50XCIgY2xhc3M9XCJtYXQtbWVudS1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPG5nLWNvbnRhaW5lciAqbmdGb3I9XCJsZXQgbGluayBvZiBsaW5rc1wiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uICpuZ0lmPVwibGluay5tb2RlbD8udmlzaWJsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgW2F0dHIuZGF0YS1hdXRvbWF0aW9uLWlkXT1cIidjb250ZXh0LScrKChsaW5rLnRpdGxlIHx8IGxpbmsubW9kZWw/LnRpdGxlKSB8IHRyYW5zbGF0ZSlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hdC1tZW51LWl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBbZGlzYWJsZWRdPVwibGluay5tb2RlbD8uZGlzYWJsZWRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvbk1lbnVJdGVtQ2xpY2soJGV2ZW50LCBsaW5rKVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPG1hdC1pY29uICpuZ0lmPVwibGluay5tb2RlbD8uaWNvblwiPnt7IGxpbmsubW9kZWwuaWNvbiB9fTwvbWF0LWljb24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj57eyAobGluay50aXRsZSB8fCBsaW5rLm1vZGVsPy50aXRsZSkgfCB0cmFuc2xhdGUgfX08L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvbmctY29udGFpbmVyPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIGAsXG4gICAgaG9zdDoge1xuICAgICAgICByb2xlOiAnbWVudScsXG4gICAgICAgIGNsYXNzOiAnYWRmLWNvbnRleHQtbWVudSdcbiAgICB9LFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgYW5pbWF0aW9uczogW1xuICAgICAgICB0cmlnZ2VyKCdwYW5lbEFuaW1hdGlvbicsIGNvbnRleHRNZW51QW5pbWF0aW9uKVxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgQ29udGV4dE1lbnVMaXN0Q29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XG4gICAgcHJpdmF0ZSBrZXlNYW5hZ2VyOiBGb2N1c0tleU1hbmFnZXI8TWF0TWVudUl0ZW0+O1xuICAgIEBWaWV3Q2hpbGRyZW4oTWF0TWVudUl0ZW0pIGl0ZW1zOiBRdWVyeUxpc3Q8TWF0TWVudUl0ZW0+O1xuICAgIGxpbmtzOiBhbnlbXTtcblxuICAgIEBIb3N0TGlzdGVuZXIoJ2RvY3VtZW50OmtleWRvd24uRXNjYXBlJywgWyckZXZlbnQnXSlcbiAgICBoYW5kbGVLZXlkb3duRXNjYXBlKGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZXh0TWVudU92ZXJsYXlSZWYuY2xvc2UoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ2RvY3VtZW50OmtleWRvd24nLCBbJyRldmVudCddKVxuICAgIGhhbmRsZUtleWRvd25FdmVudChldmVudDogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGtleUNvZGUgPSBldmVudC5rZXlDb2RlO1xuICAgICAgICAgICAgaWYgKGtleUNvZGUgPT09IFVQX0FSUk9XIHx8IGtleUNvZGUgPT09IERPV05fQVJST1cpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmtleU1hbmFnZXIub25LZXlkb3duKGV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBASW5qZWN0KENvbnRleHRNZW51T3ZlcmxheVJlZikgcHJpdmF0ZSBjb250ZXh0TWVudU92ZXJsYXlSZWY6IENvbnRleHRNZW51T3ZlcmxheVJlZixcbiAgICAgICAgQE9wdGlvbmFsKCkgQEluamVjdChDT05URVhUX01FTlVfREFUQSkgcHJpdmF0ZSBkYXRhOiBhbnlcbiAgICApIHtcbiAgICAgICAgdGhpcy5saW5rcyA9IHRoaXMuZGF0YTtcbiAgICB9XG5cbiAgICBvbk1lbnVJdGVtQ2xpY2soZXZlbnQ6IEV2ZW50LCBtZW51SXRlbTogYW55KSB7XG4gICAgICAgIGlmIChtZW51SXRlbSAmJiBtZW51SXRlbS5tb2RlbCAmJiBtZW51SXRlbS5tb2RlbC5kaXNhYmxlZCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVudUl0ZW0uc3ViamVjdC5uZXh0KG1lbnVJdGVtKTtcbiAgICAgICAgdGhpcy5jb250ZXh0TWVudU92ZXJsYXlSZWYuY2xvc2UoKTtcbiAgICB9XG5cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIHRoaXMua2V5TWFuYWdlciA9IG5ldyBGb2N1c0tleU1hbmFnZXI8TWF0TWVudUl0ZW0+KHRoaXMuaXRlbXMpO1xuICAgICAgICB0aGlzLmtleU1hbmFnZXIuc2V0Rmlyc3RJdGVtQWN0aXZlKCk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSwgSW5qZWN0b3IsIEVsZW1lbnRSZWYsIENvbXBvbmVudFJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT3ZlcmxheSwgT3ZlcmxheUNvbmZpZywgT3ZlcmxheVJlZiB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9vdmVybGF5JztcbmltcG9ydCB7IFBvcnRhbEluamVjdG9yLCBDb21wb25lbnRQb3J0YWwgfSBmcm9tICdAYW5ndWxhci9jZGsvcG9ydGFsJztcbmltcG9ydCB7IENvbnRleHRNZW51T3ZlcmxheVJlZiB9IGZyb20gJy4vY29udGV4dC1tZW51LW92ZXJsYXknO1xuaW1wb3J0IHsgQ29udGV4dE1lbnVPdmVybGF5Q29uZmlnIH0gZnJvbSAnLi9pbnRlcmZhY2VzJztcbmltcG9ydCB7IENPTlRFWFRfTUVOVV9EQVRBIH0gZnJvbSAnLi9jb250ZXh0LW1lbnUudG9rZW5zJztcbmltcG9ydCB7IENvbnRleHRNZW51TGlzdENvbXBvbmVudCB9IGZyb20gJy4vY29udGV4dC1tZW51LWxpc3QuY29tcG9uZW50JztcblxuY29uc3QgREVGQVVMVF9DT05GSUc6IENvbnRleHRNZW51T3ZlcmxheUNvbmZpZyA9IHtcbiAgICBwYW5lbENsYXNzOiAnY2RrLW92ZXJsYXktcGFuZScsXG4gICAgYmFja2Ryb3BDbGFzczogJ2Nkay1vdmVybGF5LXRyYW5zcGFyZW50LWJhY2tkcm9wJyxcbiAgICBoYXNCYWNrZHJvcDogdHJ1ZVxufTtcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIENvbnRleHRNZW51T3ZlcmxheVNlcnZpY2Uge1xuXG4gICAgY29uc3RydWN0b3IoIHByaXZhdGUgaW5qZWN0b3I6IEluamVjdG9yLCBwcml2YXRlIG92ZXJsYXk6IE92ZXJsYXkpIHsgfVxuXG4gICAgb3Blbihjb25maWc6IENvbnRleHRNZW51T3ZlcmxheUNvbmZpZyk6IENvbnRleHRNZW51T3ZlcmxheVJlZiB7XG4gICAgICAgIGNvbnN0IG92ZXJsYXlDb25maWcgPSB7IC4uLkRFRkFVTFRfQ09ORklHLCAuLi5jb25maWcgfTtcblxuICAgICAgICBjb25zdCBvdmVybGF5ID0gdGhpcy5jcmVhdGVPdmVybGF5KG92ZXJsYXlDb25maWcpO1xuXG4gICAgICAgIGNvbnN0IG92ZXJsYXlSZWYgPSBuZXcgQ29udGV4dE1lbnVPdmVybGF5UmVmKG92ZXJsYXkpO1xuXG4gICAgICAgIHRoaXMuYXR0YWNoRGlhbG9nQ29udGFpbmVyKG92ZXJsYXksIGNvbmZpZywgb3ZlcmxheVJlZik7XG5cbiAgICAgICAgb3ZlcmxheS5iYWNrZHJvcENsaWNrKCkuc3Vic2NyaWJlKCgpID0+IG92ZXJsYXlSZWYuY2xvc2UoKSk7XG5cbiAgICAgICAgLy8gcHJldmVudCBuYXRpdmUgY29udGV4dG1lbnUgb24gb3ZlcmxheSBlbGVtZW50IGlmIGNvbmZpZy5oYXNCYWNrZHJvcCBpcyB0cnVlXG4gICAgICAgIGlmIChvdmVybGF5Q29uZmlnLmhhc0JhY2tkcm9wKSB7XG4gICAgICAgICAgICAoPGFueT4gb3ZlcmxheSkuX2JhY2tkcm9wRWxlbWVudFxuICAgICAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAoPGFueT4gb3ZlcmxheSkuX2JhY2tkcm9wQ2xpY2submV4dChudWxsKTtcbiAgICAgICAgICAgICAgICB9LCB0cnVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvdmVybGF5UmVmO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlT3ZlcmxheShjb25maWc6IENvbnRleHRNZW51T3ZlcmxheUNvbmZpZyk6IE92ZXJsYXlSZWYge1xuICAgICAgICBjb25zdCBvdmVybGF5Q29uZmlnID0gdGhpcy5nZXRPdmVybGF5Q29uZmlnKGNvbmZpZyk7XG4gICAgICAgIHJldHVybiB0aGlzLm92ZXJsYXkuY3JlYXRlKG92ZXJsYXlDb25maWcpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXR0YWNoRGlhbG9nQ29udGFpbmVyKG92ZXJsYXk6IE92ZXJsYXlSZWYsIGNvbmZpZzogQ29udGV4dE1lbnVPdmVybGF5Q29uZmlnLCBjb250ZXh0TWVudU92ZXJsYXlSZWY6IENvbnRleHRNZW51T3ZlcmxheVJlZikge1xuICAgICAgICBjb25zdCBpbmplY3RvciA9IHRoaXMuY3JlYXRlSW5qZWN0b3IoY29uZmlnLCBjb250ZXh0TWVudU92ZXJsYXlSZWYpO1xuXG4gICAgICAgIGNvbnN0IGNvbnRhaW5lclBvcnRhbCA9IG5ldyBDb21wb25lbnRQb3J0YWwoQ29udGV4dE1lbnVMaXN0Q29tcG9uZW50LCBudWxsLCBpbmplY3Rvcik7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lclJlZjogQ29tcG9uZW50UmVmPENvbnRleHRNZW51TGlzdENvbXBvbmVudD4gPSBvdmVybGF5LmF0dGFjaChjb250YWluZXJQb3J0YWwpO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXJSZWYuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVJbmplY3Rvcihjb25maWc6IENvbnRleHRNZW51T3ZlcmxheUNvbmZpZywgY29udGV4dE1lbnVPdmVybGF5UmVmOiBDb250ZXh0TWVudU92ZXJsYXlSZWYpOiBQb3J0YWxJbmplY3RvciB7XG4gICAgICAgIGNvbnN0IGluamVjdGlvblRva2VucyA9IG5ldyBXZWFrTWFwKCk7XG5cbiAgICAgICAgaW5qZWN0aW9uVG9rZW5zLnNldChDb250ZXh0TWVudU92ZXJsYXlSZWYsIGNvbnRleHRNZW51T3ZlcmxheVJlZik7XG4gICAgICAgIGluamVjdGlvblRva2Vucy5zZXQoQ09OVEVYVF9NRU5VX0RBVEEsIGNvbmZpZy5kYXRhKTtcblxuICAgICAgICByZXR1cm4gbmV3IFBvcnRhbEluamVjdG9yKHRoaXMuaW5qZWN0b3IsIGluamVjdGlvblRva2Vucyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRPdmVybGF5Q29uZmlnKGNvbmZpZzogQ29udGV4dE1lbnVPdmVybGF5Q29uZmlnKTogT3ZlcmxheUNvbmZpZyB7XG4gICAgICAgIGNvbnN0IHsgY2xpZW50WSwgY2xpZW50WCAgfSA9IGNvbmZpZy5zb3VyY2U7XG5cbiAgICAgICAgY29uc3QgZmFrZUVsZW1lbnQ6IGFueSA9IHtcbiAgICAgICAgICAgIGdldEJvdW5kaW5nQ2xpZW50UmVjdDogKCk6IENsaWVudFJlY3QgPT4gKHtcbiAgICAgICAgICAgICAgICBib3R0b206IGNsaWVudFksXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGNsaWVudFgsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IGNsaWVudFgsXG4gICAgICAgICAgICAgICAgdG9wOiBjbGllbnRZLFxuICAgICAgICAgICAgICAgIHdpZHRoOiAwXG4gICAgICAgICAgICB9KVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uU3RyYXRlZ3kgPSB0aGlzLm92ZXJsYXkucG9zaXRpb24oKVxuICAgICAgICAgICAgLmNvbm5lY3RlZFRvKFxuICAgICAgICAgICAgICAgIG5ldyBFbGVtZW50UmVmKGZha2VFbGVtZW50KSxcbiAgICAgICAgICAgICAgICB7IG9yaWdpblg6ICdzdGFydCcsIG9yaWdpblk6ICdib3R0b20nIH0sXG4gICAgICAgICAgICAgICAgeyBvdmVybGF5WDogJ3N0YXJ0Jywgb3ZlcmxheVk6ICd0b3AnIH0pXG4gICAgICAgICAgICAud2l0aEZhbGxiYWNrUG9zaXRpb24oXG4gICAgICAgICAgICAgICAgeyBvcmlnaW5YOiAnc3RhcnQnLCBvcmlnaW5ZOiAndG9wJyB9LFxuICAgICAgICAgICAgICAgIHsgb3ZlcmxheVg6ICdzdGFydCcsIG92ZXJsYXlZOiAnYm90dG9tJyB9KVxuICAgICAgICAgICAgLndpdGhGYWxsYmFja1Bvc2l0aW9uKFxuICAgICAgICAgICAgICAgIHsgb3JpZ2luWDogJ2VuZCcsIG9yaWdpblk6ICd0b3AnIH0sXG4gICAgICAgICAgICAgICAgeyBvdmVybGF5WDogJ3N0YXJ0Jywgb3ZlcmxheVk6ICd0b3AnIH0pXG4gICAgICAgICAgICAud2l0aEZhbGxiYWNrUG9zaXRpb24oXG4gICAgICAgICAgICAgICAgeyBvcmlnaW5YOiAnc3RhcnQnLCBvcmlnaW5ZOiAndG9wJyB9LFxuICAgICAgICAgICAgICAgIHsgb3ZlcmxheVg6ICdlbmQnLCBvdmVybGF5WTogJ3RvcCcgfSlcbiAgICAgICAgICAgIC53aXRoRmFsbGJhY2tQb3NpdGlvbihcbiAgICAgICAgICAgICAgICB7IG9yaWdpblg6ICdlbmQnLCBvcmlnaW5ZOiAnY2VudGVyJyB9LFxuICAgICAgICAgICAgICAgIHsgb3ZlcmxheVg6ICdzdGFydCcsIG92ZXJsYXlZOiAnY2VudGVyJyB9KVxuICAgICAgICAgICAgLndpdGhGYWxsYmFja1Bvc2l0aW9uKFxuICAgICAgICAgICAgICAgIHsgb3JpZ2luWDogJ3N0YXJ0Jywgb3JpZ2luWTogJ2NlbnRlcicgfSxcbiAgICAgICAgICAgICAgICB7IG92ZXJsYXlYOiAnZW5kJywgb3ZlcmxheVk6ICdjZW50ZXInIH1cbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgY29uc3Qgb3ZlcmxheUNvbmZpZyA9IG5ldyBPdmVybGF5Q29uZmlnKHtcbiAgICAgICAgICAgIGhhc0JhY2tkcm9wOiBjb25maWcuaGFzQmFja2Ryb3AsXG4gICAgICAgICAgICBiYWNrZHJvcENsYXNzOiBjb25maWcuYmFja2Ryb3BDbGFzcyxcbiAgICAgICAgICAgIHBhbmVsQ2xhc3M6IGNvbmZpZy5wYW5lbENsYXNzLFxuICAgICAgICAgICAgc2Nyb2xsU3RyYXRlZ3k6IHRoaXMub3ZlcmxheS5zY3JvbGxTdHJhdGVnaWVzLmNsb3NlKCksXG4gICAgICAgICAgICBwb3NpdGlvblN0cmF0ZWd5XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBvdmVybGF5Q29uZmlnO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIHRzbGludDpkaXNhYmxlOm5vLWlucHV0LXJlbmFtZSAgKi9cblxuaW1wb3J0IHsgRGlyZWN0aXZlLCBIb3N0TGlzdGVuZXIsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb250ZXh0TWVudU92ZXJsYXlTZXJ2aWNlIH0gZnJvbSAnLi9jb250ZXh0LW1lbnUtb3ZlcmxheS5zZXJ2aWNlJztcblxuLy8gQGRlcHJlY2F0ZWQgMi4zLjAgY29udGV4dC1tZW51IHRhZyByZW1vdmVkXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogJ1thZGYtY29udGV4dC1tZW51XSwgW2NvbnRleHQtbWVudV0nXG59KVxuZXhwb3J0IGNsYXNzIENvbnRleHRNZW51RGlyZWN0aXZlIHtcbiAgICAvKiogSXRlbXMgZm9yIHRoZSBtZW51LiAqL1xuICAgIEBJbnB1dCgnY29udGV4dC1tZW51JylcbiAgICBsaW5rczogYW55W107XG5cbiAgICAvKiogSXMgdGhlIG1lbnUgZW5hYmxlZD8gKi9cbiAgICBASW5wdXQoJ2NvbnRleHQtbWVudS1lbmFibGVkJylcbiAgICBlbmFibGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbnRleHRNZW51U2VydmljZTogQ29udGV4dE1lbnVPdmVybGF5U2VydmljZSkge31cblxuICAgIEBIb3N0TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgWyckZXZlbnQnXSlcbiAgICBvblNob3dDb250ZXh0TWVudShldmVudD86IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5hYmxlZCkge1xuICAgICAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMubGlua3MgJiYgdGhpcy5saW5rcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZXh0TWVudVNlcnZpY2Uub3Blbih7XG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZTogZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMubGlua3NcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0ZXJpYWxNb2R1bGUgfSBmcm9tICcuLi9tYXRlcmlhbC5tb2R1bGUnO1xuaW1wb3J0IHsgVHJhbnNsYXRlTW9kdWxlIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XG5cbmltcG9ydCB7IENvbnRleHRNZW51SG9sZGVyQ29tcG9uZW50IH0gZnJvbSAnLi9jb250ZXh0LW1lbnUtaG9sZGVyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb250ZXh0TWVudURpcmVjdGl2ZSB9IGZyb20gJy4vY29udGV4dC1tZW51LmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBDb250ZXh0TWVudUxpc3RDb21wb25lbnQgfSBmcm9tICcuL2NvbnRleHQtbWVudS1saXN0LmNvbXBvbmVudCc7XG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGUsXG4gICAgICAgIE1hdGVyaWFsTW9kdWxlLFxuICAgICAgICBUcmFuc2xhdGVNb2R1bGUuZm9yQ2hpbGQoKVxuICAgIF0sXG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIENvbnRleHRNZW51SG9sZGVyQ29tcG9uZW50LFxuICAgICAgICBDb250ZXh0TWVudURpcmVjdGl2ZSxcbiAgICAgICAgQ29udGV4dE1lbnVMaXN0Q29tcG9uZW50XG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIENvbnRleHRNZW51SG9sZGVyQ29tcG9uZW50LFxuICAgICAgICBDb250ZXh0TWVudURpcmVjdGl2ZVxuICAgIF0sXG4gICAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgICAgIENvbnRleHRNZW51TGlzdENvbXBvbmVudFxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgQ29udGV4dE1lbnVNb2R1bGUge31cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFRyYW5zbGF0ZVNlcnZpY2UgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUsIEJlaGF2aW9yU3ViamVjdCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQXBwQ29uZmlnU2VydmljZSB9IGZyb20gJy4uL2FwcC1jb25maWcvYXBwLWNvbmZpZy5zZXJ2aWNlJztcbmltcG9ydCB7IFN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSAnLi9zdG9yYWdlLnNlcnZpY2UnO1xuaW1wb3J0IHsgZGlzdGluY3RVbnRpbENoYW5nZWQsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuZXhwb3J0IGVudW0gVXNlclByZWZlcmVuY2VWYWx1ZXMge1xuICAgIFBhZ2luYXRpb25TaXplID0gJ1BBR0lOQVRJT05fU0laRScsXG4gICAgTG9jYWxlID0gJ0xPQ0FMRScsXG4gICAgU3VwcG9ydGVkUGFnZVNpemVzID0gJ3N1cHBvcnRlZFBhZ2VTaXplcydcbn1cblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFVzZXJQcmVmZXJlbmNlc1NlcnZpY2Uge1xuXG4gICAgZGVmYXVsdHMgPSB7XG4gICAgICAgIHBhZ2luYXRpb25TaXplOiAyNSxcbiAgICAgICAgc3VwcG9ydGVkUGFnZVNpemVzOiBbNSwgMTAsIDE1LCAyMF0sXG4gICAgICAgIGxvY2FsZTogJ2VuJ1xuICAgIH07XG5cbiAgICBwcml2YXRlIHVzZXJQcmVmZXJlbmNlU3RhdHVzOiBhbnkgPSB0aGlzLmRlZmF1bHRzO1xuXG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWQgd2UgYXJlIGdyb3VwaW5nIGV2ZXJ5IHZhbHVlIGNoYW5nZWQgb24gdGhlIHVzZXIgcHJlZmVyZW5jZSBpbiBhIHNpbmdsZSBzdHJlYW0gOiB1c2VyUHJlZmVyZW5jZVZhbHVlJFxuICAgICAqL1xuICAgIGxvY2FsZSQ6IE9ic2VydmFibGU8c3RyaW5nPjtcbiAgICBwcml2YXRlIGxvY2FsZVN1YmplY3Q6IEJlaGF2aW9yU3ViamVjdDxzdHJpbmc+O1xuXG4gICAgcHJpdmF0ZSBvbkNoYW5nZVN1YmplY3Q6IEJlaGF2aW9yU3ViamVjdDxhbnk+O1xuICAgIG9uQ2hhbmdlOiBPYnNlcnZhYmxlPGFueT47XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgdHJhbnNsYXRlOiBUcmFuc2xhdGVTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgYXBwQ29uZmlnOiBBcHBDb25maWdTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgc3RvcmFnZTogU3RvcmFnZVNlcnZpY2UpIHtcbiAgICAgICAgdGhpcy5hcHBDb25maWcub25Mb2FkLnN1YnNjcmliZSh0aGlzLmluaXRVc2VyUHJlZmVyZW5jZVN0YXR1cy5iaW5kKHRoaXMpKTtcbiAgICAgICAgdGhpcy5sb2NhbGVTdWJqZWN0ID0gbmV3IEJlaGF2aW9yU3ViamVjdCh0aGlzLmdldChVc2VyUHJlZmVyZW5jZVZhbHVlcy5Mb2NhbGUsIHRoaXMuZ2V0RGVmYXVsdExvY2FsZSgpKSk7XG4gICAgICAgIHRoaXMubG9jYWxlJCA9IHRoaXMubG9jYWxlU3ViamVjdC5hc09ic2VydmFibGUoKTtcbiAgICAgICAgdGhpcy5vbkNoYW5nZVN1YmplY3QgPSBuZXcgQmVoYXZpb3JTdWJqZWN0KHRoaXMudXNlclByZWZlcmVuY2VTdGF0dXMpO1xuICAgICAgICB0aGlzLm9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZVN1YmplY3QuYXNPYnNlcnZhYmxlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0VXNlclByZWZlcmVuY2VTdGF0dXMoKSB7XG4gICAgICAgIHRoaXMudXNlclByZWZlcmVuY2VTdGF0dXNbVXNlclByZWZlcmVuY2VWYWx1ZXMuTG9jYWxlXSA9IHRoaXMubG9jYWxlIHx8IHRoaXMuZ2V0RGVmYXVsdExvY2FsZSgpO1xuICAgICAgICB0aGlzLnVzZXJQcmVmZXJlbmNlU3RhdHVzW1VzZXJQcmVmZXJlbmNlVmFsdWVzLlBhZ2luYXRpb25TaXplXSA9IHRoaXMuYXBwQ29uZmlnLmdldCgncGFnaW5hdGlvbi5zaXplJywgdGhpcy5kZWZhdWx0cy5wYWdpbmF0aW9uU2l6ZSk7XG4gICAgICAgIHRoaXMudXNlclByZWZlcmVuY2VTdGF0dXNbVXNlclByZWZlcmVuY2VWYWx1ZXMuU3VwcG9ydGVkUGFnZVNpemVzXSA9IHRoaXMuYXBwQ29uZmlnLmdldCgncGFnaW5hdGlvbi5zdXBwb3J0ZWRQYWdlU2l6ZXMnLCB0aGlzLmRlZmF1bHRzLnN1cHBvcnRlZFBhZ2VTaXplcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB1cCBhIGNhbGxiYWNrIHRvIG5vdGlmeSB3aGVuIGEgcHJvcGVydHkgaGFzIGNoYW5nZWQuXG4gICAgICogQHBhcmFtIHByb3BlcnR5IFRoZSBwcm9wZXJ0eSB0byB3YXRjaFxuICAgICAqIEByZXR1cm5zIE5vdGlmaWNhdGlvbiBjYWxsYmFja1xuICAgICAqL1xuICAgIHNlbGVjdChwcm9wZXJ0eTogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMub25DaGFuZ2VcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCgodXNlclByZWZlcmVuY2VTdGF0dXMpID0+IHVzZXJQcmVmZXJlbmNlU3RhdHVzW3Byb3BlcnR5XSksXG4gICAgICAgICAgICAgICAgZGlzdGluY3RVbnRpbENoYW5nZWQoKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcHJlZmVyZW5jZSBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0gcHJvcGVydHkgTmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gZGVmYXVsdFZhbHVlIERlZmF1bHQgdG8gcmV0dXJuIGlmIHRoZSBwcm9wZXJ0eSBpcyBub3QgZm91bmRcbiAgICAgKiBAcmV0dXJucyBQcmVmZXJlbmNlIHByb3BlcnR5XG4gICAgICovXG4gICAgZ2V0KHByb3BlcnR5OiBzdHJpbmcsIGRlZmF1bHRWYWx1ZT86IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGtleSA9IHRoaXMuZ2V0UHJvcGVydHlLZXkocHJvcGVydHkpO1xuICAgICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuc3RvcmFnZS5nZXRJdGVtKGtleSk7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIGEgcHJlZmVyZW5jZSBwcm9wZXJ0eS5cbiAgICAgKiBAcGFyYW0gcHJvcGVydHkgTmFtZSBvZiB0aGUgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gdmFsdWUgTmV3IHZhbHVlIGZvciB0aGUgcHJvcGVydHlcbiAgICAgKi9cbiAgICBzZXQocHJvcGVydHk6IHN0cmluZywgdmFsdWU6IGFueSkge1xuICAgICAgICBpZiAoIXByb3BlcnR5KSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdG9yYWdlLnNldEl0ZW0oXG4gICAgICAgICAgICB0aGlzLmdldFByb3BlcnR5S2V5KHByb3BlcnR5KSxcbiAgICAgICAgICAgIHZhbHVlXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMudXNlclByZWZlcmVuY2VTdGF0dXNbcHJvcGVydHldID0gdmFsdWU7XG4gICAgICAgIHRoaXMub25DaGFuZ2VTdWJqZWN0Lm5leHQodGhpcy51c2VyUHJlZmVyZW5jZVN0YXR1cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYW4gaXRlbSBpcyBwcmVzZW50IGluIHRoZSBzdG9yYWdlXG4gICAgICogQHBhcmFtIHByb3BlcnR5IE5hbWUgb2YgdGhlIHByb3BlcnR5XG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgaXRlbSBpcyBwcmVzZW50LCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKi9cbiAgICBoYXNJdGVtKHByb3BlcnR5OiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKCFwcm9wZXJ0eSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnN0b3JhZ2UuaGFzSXRlbShcbiAgICAgICAgICAgIHRoaXMuZ2V0UHJvcGVydHlLZXkocHJvcGVydHkpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYWN0aXZlIHN0b3JhZ2UgcHJlZml4IGZvciBwcmVmZXJlbmNlcy5cbiAgICAgKiBAcmV0dXJucyBTdG9yYWdlIHByZWZpeFxuICAgICAqL1xuICAgIGdldFN0b3JhZ2VQcmVmaXgoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc3RvcmFnZS5nZXRJdGVtKCdVU0VSX1BST0ZJTEUnKSB8fCAnR1VFU1QnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGFjdGl2ZSBzdG9yYWdlIHByZWZpeCBmb3IgcHJlZmVyZW5jZXMuXG4gICAgICogQHBhcmFtIHZhbHVlIE5hbWUgb2YgdGhlIHByZWZpeFxuICAgICAqL1xuICAgIHNldFN0b3JhZ2VQcmVmaXgodmFsdWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLnN0b3JhZ2Uuc2V0SXRlbSgnVVNFUl9QUk9GSUxFJywgdmFsdWUgfHwgJ0dVRVNUJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZnVsbCBwcm9wZXJ0eSBrZXkgd2l0aCBwcmVmaXguXG4gICAgICogQHBhcmFtIHByb3BlcnR5IFRoZSBwcm9wZXJ0eSBuYW1lXG4gICAgICogQHJldHVybnMgUHJvcGVydHkga2V5XG4gICAgICovXG4gICAgZ2V0UHJvcGVydHlLZXkocHJvcGVydHk6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmdldFN0b3JhZ2VQcmVmaXgoKX1fXyR7cHJvcGVydHl9YDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFuIGFycmF5IGNvbnRhaW5pbmcgdGhlIGF2YWlsYWJsZSBwYWdlIHNpemVzLlxuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIHBhZ2Ugc2l6ZSB2YWx1ZXNcbiAgICAgKi9cbiAgICBnZXREZWZhdWx0UGFnZVNpemVzKCk6IG51bWJlcltdIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudXNlclByZWZlcmVuY2VTdGF0dXNbVXNlclByZWZlcmVuY2VWYWx1ZXMuU3VwcG9ydGVkUGFnZVNpemVzXTtcbiAgICB9XG5cbiAgICAvKiogUGFnaW5hdGlvbiBzaXplLiAqL1xuICAgIHNldCBwYWdpbmF0aW9uU2l6ZSh2YWx1ZTogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuc2V0KFVzZXJQcmVmZXJlbmNlVmFsdWVzLlBhZ2luYXRpb25TaXplLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgZ2V0IHBhZ2luYXRpb25TaXplKCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBOdW1iZXIodGhpcy5nZXQoVXNlclByZWZlcmVuY2VWYWx1ZXMuUGFnaW5hdGlvblNpemUsIHRoaXMudXNlclByZWZlcmVuY2VTdGF0dXNbVXNlclByZWZlcmVuY2VWYWx1ZXMuUGFnaW5hdGlvblNpemVdKSkgfHwgdGhpcy5kZWZhdWx0cy5wYWdpbmF0aW9uU2l6ZTtcbiAgICB9XG5cbiAgICAvKiogQ3VycmVudCBsb2NhbGUgc2V0dGluZy4gKi9cbiAgICBnZXQgbG9jYWxlKCk6IHN0cmluZyB7XG4gICAgICAgIGNvbnN0IGxvY2FsZSA9IHRoaXMuZ2V0KFVzZXJQcmVmZXJlbmNlVmFsdWVzLkxvY2FsZSwgdGhpcy51c2VyUHJlZmVyZW5jZVN0YXR1c1tVc2VyUHJlZmVyZW5jZVZhbHVlcy5Mb2NhbGVdKTtcbiAgICAgICAgcmV0dXJuIGxvY2FsZTtcbiAgICB9XG5cbiAgICBzZXQgbG9jYWxlKHZhbHVlOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5sb2NhbGVTdWJqZWN0Lm5leHQodmFsdWUpO1xuICAgICAgICB0aGlzLnNldChVc2VyUHJlZmVyZW5jZVZhbHVlcy5Mb2NhbGUsIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkZWZhdWx0IGxvY2FsZS5cbiAgICAgKiBAcmV0dXJucyBEZWZhdWx0IGxvY2FsZSBsYW5ndWFnZSBjb2RlXG4gICAgICovXG4gICAgcHVibGljIGdldERlZmF1bHRMb2NhbGUoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwQ29uZmlnLmdldDxzdHJpbmc+KCdsb2NhbGUnKSB8fCB0aGlzLnRyYW5zbGF0ZS5nZXRCcm93c2VyTGFuZygpIHx8ICdlbic7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3QsIEluamVjdGFibGUsIEluamVjdGlvblRva2VuLCBPcHRpb25hbCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVHJhbnNsYXRlU2VydmljZSB9IGZyb20gJ0BuZ3gtdHJhbnNsYXRlL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgVHJhbnNsYXRlTG9hZGVyU2VydmljZSB9IGZyb20gJy4vdHJhbnNsYXRlLWxvYWRlci5zZXJ2aWNlJztcbmltcG9ydCB7IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2UgfSBmcm9tICcuL3VzZXItcHJlZmVyZW5jZXMuc2VydmljZSc7XG5cbmV4cG9ydCBjb25zdCBUUkFOU0xBVElPTl9QUk9WSURFUiA9IG5ldyBJbmplY3Rpb25Ub2tlbignSW5qZWN0aW9uIHRva2VuIGZvciB0cmFuc2xhdGlvbiBwcm92aWRlcnMuJyk7XG5cbmV4cG9ydCBpbnRlcmZhY2UgVHJhbnNsYXRpb25Qcm92aWRlciB7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHNvdXJjZTogc3RyaW5nO1xufVxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgVHJhbnNsYXRpb25TZXJ2aWNlIHtcbiAgICBkZWZhdWx0TGFuZzogc3RyaW5nO1xuICAgIHVzZXJMYW5nOiBzdHJpbmc7XG4gICAgY3VzdG9tTG9hZGVyOiBUcmFuc2xhdGVMb2FkZXJTZXJ2aWNlO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIHRyYW5zbGF0ZTogVHJhbnNsYXRlU2VydmljZSxcbiAgICAgICAgICAgICAgICB1c2VyUHJlZmVyZW5jZTogVXNlclByZWZlcmVuY2VzU2VydmljZSxcbiAgICAgICAgICAgICAgICBAT3B0aW9uYWwoKSBASW5qZWN0KFRSQU5TTEFUSU9OX1BST1ZJREVSKSBwcm92aWRlcnM6IFRyYW5zbGF0aW9uUHJvdmlkZXJbXSkge1xuICAgICAgICB0aGlzLmN1c3RvbUxvYWRlciA9IDxUcmFuc2xhdGVMb2FkZXJTZXJ2aWNlPiB0aGlzLnRyYW5zbGF0ZS5jdXJyZW50TG9hZGVyO1xuXG4gICAgICAgIHRoaXMuZGVmYXVsdExhbmcgPSAnZW4nO1xuICAgICAgICB0cmFuc2xhdGUuc2V0RGVmYXVsdExhbmcodGhpcy5kZWZhdWx0TGFuZyk7XG5cbiAgICAgICAgaWYgKHByb3ZpZGVycyAmJiBwcm92aWRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZm9yIChsZXQgcHJvdmlkZXIgb2YgcHJvdmlkZXJzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRUcmFuc2xhdGlvbkZvbGRlcihwcm92aWRlci5uYW1lLCBwcm92aWRlci5zb3VyY2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdXNlclByZWZlcmVuY2UubG9jYWxlJC5zdWJzY3JpYmUoKGxvY2FsZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy51c2VyTGFuZyA9IGxvY2FsZTtcbiAgICAgICAgICAgIHRoaXMudXNlKHRoaXMudXNlckxhbmcpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgbmV3IGZvbGRlciBvZiB0cmFuc2xhdGlvbiBzb3VyY2UgZmlsZXMuXG4gICAgICogQHBhcmFtIG5hbWUgTmFtZSBmb3IgdGhlIHRyYW5zbGF0aW9uIHByb3ZpZGVyXG4gICAgICogQHBhcmFtIHBhdGggUGF0aCB0byB0aGUgZm9sZGVyXG4gICAgICovXG4gICAgYWRkVHJhbnNsYXRpb25Gb2xkZXIobmFtZTogc3RyaW5nID0gJycsIHBhdGg6IHN0cmluZyA9ICcnKSB7XG4gICAgICAgIGlmICghdGhpcy5jdXN0b21Mb2FkZXIucHJvdmlkZXJSZWdpc3RlcmVkKG5hbWUpKSB7XG4gICAgICAgICAgICB0aGlzLmN1c3RvbUxvYWRlci5yZWdpc3RlclByb3ZpZGVyKG5hbWUsIHBhdGgpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy51c2VyTGFuZykge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZFRyYW5zbGF0aW9uKHRoaXMudXNlckxhbmcsIHRoaXMuZGVmYXVsdExhbmcpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRUcmFuc2xhdGlvbih0aGlzLmRlZmF1bHRMYW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRUcmFuc2xhdGlvbihsYW5nOiBzdHJpbmcsIGZhbGxiYWNrPzogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMudHJhbnNsYXRlLmdldFRyYW5zbGF0aW9uKGxhbmcpLnN1YnNjcmliZShcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnRyYW5zbGF0ZS51c2UobGFuZyk7XG4gICAgICAgICAgICAgICAgdGhpcy5vblRyYW5zbGF0aW9uQ2hhbmdlZChsYW5nKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGZhbGxiYWNrICYmIGZhbGxiYWNrICE9PSBsYW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZFRyYW5zbGF0aW9uKGZhbGxiYWNrKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVHJpZ2dlcnMgYSBub3RpZmljYXRpb24gY2FsbGJhY2sgd2hlbiB0aGUgdHJhbnNsYXRpb24gbGFuZ3VhZ2UgY2hhbmdlcy5cbiAgICAgKiBAcGFyYW0gbGFuZyBUaGUgbmV3IGxhbmd1YWdlIGNvZGVcbiAgICAgKi9cbiAgICBvblRyYW5zbGF0aW9uQ2hhbmdlZChsYW5nOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy50cmFuc2xhdGUub25UcmFuc2xhdGlvbkNoYW5nZS5uZXh0KHtcbiAgICAgICAgICAgIGxhbmc6IGxhbmcsXG4gICAgICAgICAgICB0cmFuc2xhdGlvbnM6IHRoaXMuY3VzdG9tTG9hZGVyLmdldEZ1bGxUcmFuc2xhdGlvbkpTT04obGFuZylcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdGFyZ2V0IGxhbmd1YWdlIGZvciB0cmFuc2xhdGlvbnMuXG4gICAgICogQHBhcmFtIGxhbmcgQ29kZSBuYW1lIGZvciB0aGUgbGFuZ3VhZ2VcbiAgICAgKiBAcmV0dXJucyBUcmFuc2xhdGlvbnMgYXZhaWxhYmxlIGZvciB0aGUgbGFuZ3VhZ2VcbiAgICAgKi9cbiAgICB1c2UobGFuZzogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgdGhpcy5jdXN0b21Mb2FkZXIuaW5pdChsYW5nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRlLnVzZShsYW5nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB0cmFuc2xhdGlvbiBmb3IgdGhlIHN1cHBsaWVkIGtleS5cbiAgICAgKiBAcGFyYW0ga2V5IEtleSB0byB0cmFuc2xhdGVcbiAgICAgKiBAcGFyYW0gaW50ZXJwb2xhdGVQYXJhbXMgU3RyaW5nKHMpIHRvIGJlIGludGVycG9sYXRlZCBpbnRvIHRoZSBtYWluIG1lc3NhZ2VcbiAgICAgKiBAcmV0dXJucyBUcmFuc2xhdGVkIHRleHRcbiAgICAgKi9cbiAgICBnZXQoa2V5OiBzdHJpbmcgfCBBcnJheTxzdHJpbmc+LCBpbnRlcnBvbGF0ZVBhcmFtcz86IE9iamVjdCk6IE9ic2VydmFibGU8c3RyaW5nIHwgYW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0ZS5nZXQoa2V5LCBpbnRlcnBvbGF0ZVBhcmFtcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlyZWN0bHkgcmV0dXJucyB0aGUgdHJhbnNsYXRpb24gZm9yIHRoZSBzdXBwbGllZCBrZXkuXG4gICAgICogQHBhcmFtIGtleSBLZXkgdG8gdHJhbnNsYXRlXG4gICAgICogQHBhcmFtIGludGVycG9sYXRlUGFyYW1zIFN0cmluZyhzKSB0byBiZSBpbnRlcnBvbGF0ZWQgaW50byB0aGUgbWFpbiBtZXNzYWdlXG4gICAgICogQHJldHVybnMgVHJhbnNsYXRlZCB0ZXh0XG4gICAgICovXG4gICAgaW5zdGFudChrZXk6IHN0cmluZyB8IEFycmF5PHN0cmluZz4sIGludGVycG9sYXRlUGFyYW1zPzogT2JqZWN0KTogc3RyaW5nIHwgYW55IHtcbiAgICAgICAgcmV0dXJuIGtleSA/IHRoaXMudHJhbnNsYXRlLmluc3RhbnQoa2V5LCBpbnRlcnBvbGF0ZVBhcmFtcykgOiAnJztcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBQaXBlLCBQaXBlVHJhbnNmb3JtIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBUcmFuc2xhdGlvblNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy90cmFuc2xhdGlvbi5zZXJ2aWNlJztcblxuQFBpcGUoe1xuICAgIG5hbWU6ICdhZGZGaWxlU2l6ZScsXG4gICAgcHVyZTogZmFsc2Vcbn0pXG5leHBvcnQgY2xhc3MgRmlsZVNpemVQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHRyYW5zbGF0aW9uOiBUcmFuc2xhdGlvblNlcnZpY2UpIHtcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm0oYnl0ZXM6IG51bWJlciwgZGVjaW1hbHM6IG51bWJlciA9IDIpOiBzdHJpbmcge1xuICAgICAgICBpZiAoYnl0ZXMgPT0gbnVsbCB8fCBieXRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gJyc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYnl0ZXMgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiAnMCAnICsgdGhpcy50cmFuc2xhdGlvbi5pbnN0YW50KCdDT1JFLkZJTEVfU0laRS5CWVRFUycpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgayA9IDEwMjQsXG4gICAgICAgICAgICBkbSA9IGRlY2ltYWxzIHx8IDIsXG4gICAgICAgICAgICBzaXplcyA9IFsnQllURVMnLCAnS0InLCAnTUInLCAnR0InLCAnVEInLCAnUEInLCAnRUInLCAnWkInLCAnWUInXSxcbiAgICAgICAgICAgIGkgPSBNYXRoLmZsb29yKE1hdGgubG9nKGJ5dGVzKSAvIE1hdGgubG9nKGspKTtcblxuICAgICAgICBjb25zdCBpMThuU2l6ZSA9IHRoaXMudHJhbnNsYXRpb24uaW5zdGFudChgQ09SRS5GSUxFX1NJWkUuJHtzaXplc1tpXX1gKTtcblxuICAgICAgICByZXR1cm4gcGFyc2VGbG9hdCgoYnl0ZXMgLyBNYXRoLnBvdyhrLCBpKSkudG9GaXhlZChkbSkpICsgJyAnICsgaTE4blNpemU7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgY2xhc3MgUGVybWlzc2lvbnNFbnVtIGV4dGVuZHMgU3RyaW5nIHtcbiAgICBzdGF0aWMgREVMRVRFOiBzdHJpbmcgPSAnZGVsZXRlJztcbiAgICBzdGF0aWMgVVBEQVRFOiBzdHJpbmcgPSAndXBkYXRlJztcbiAgICBzdGF0aWMgQ1JFQVRFOiBzdHJpbmcgPSAnY3JlYXRlJztcbiAgICBzdGF0aWMgQ09QWTogc3RyaW5nID0gJ2NvcHknO1xuICAgIHN0YXRpYyBMT0NLOiBzdHJpbmcgPSAnbG9jayc7XG4gICAgc3RhdGljIFVQREFURVBFUk1JU1NJT05TOiBzdHJpbmcgPSAndXBkYXRlUGVybWlzc2lvbnMnO1xuICAgIHN0YXRpYyBOT1RfREVMRVRFOiBzdHJpbmcgPSAnIWRlbGV0ZSc7XG4gICAgc3RhdGljIE5PVF9VUERBVEU6IHN0cmluZyA9ICchdXBkYXRlJztcbiAgICBzdGF0aWMgTk9UX0NSRUFURTogc3RyaW5nID0gJyFjcmVhdGUnO1xuICAgIHN0YXRpYyBOT1RfVVBEQVRFUEVSTUlTU0lPTlM6IHN0cmluZyA9ICchdXBkYXRlUGVybWlzc2lvbnMnO1xufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRG9tU2FuaXRpemVyIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XG5pbXBvcnQgeyBDb250ZW50QXBpLCBNaW5pbWFsTm9kZUVudHJ5RW50aXR5LCBOb2RlLCBOb2RlRW50cnkgfSBmcm9tICdhbGZyZXNjby1qcy1hcGknO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgU3ViamVjdCwgZnJvbSwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgRm9sZGVyQ3JlYXRlZEV2ZW50IH0gZnJvbSAnLi4vZXZlbnRzL2ZvbGRlci1jcmVhdGVkLmV2ZW50JztcbmltcG9ydCB7IFBlcm1pc3Npb25zRW51bSB9IGZyb20gJy4uL21vZGVscy9wZXJtaXNzaW9ucy5lbnVtJztcbmltcG9ydCB7IEFsZnJlc2NvQXBpU2VydmljZSB9IGZyb20gJy4vYWxmcmVzY28tYXBpLnNlcnZpY2UnO1xuaW1wb3J0IHsgQXV0aGVudGljYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi9hdXRoZW50aWNhdGlvbi5zZXJ2aWNlJztcbmltcG9ydCB7IExvZ1NlcnZpY2UgfSBmcm9tICcuL2xvZy5zZXJ2aWNlJztcbmltcG9ydCB7IGNhdGNoRXJyb3IsIHRhcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIENvbnRlbnRTZXJ2aWNlIHtcblxuICAgIHByaXZhdGUgc2F2ZURhdGE6IEZ1bmN0aW9uO1xuXG4gICAgZm9sZGVyQ3JlYXRlZDogU3ViamVjdDxGb2xkZXJDcmVhdGVkRXZlbnQ+ID0gbmV3IFN1YmplY3Q8Rm9sZGVyQ3JlYXRlZEV2ZW50PigpO1xuICAgIGZvbGRlckNyZWF0ZTogU3ViamVjdDxNaW5pbWFsTm9kZUVudHJ5RW50aXR5PiA9IG5ldyBTdWJqZWN0PE1pbmltYWxOb2RlRW50cnlFbnRpdHk+KCk7XG4gICAgZm9sZGVyRWRpdDogU3ViamVjdDxNaW5pbWFsTm9kZUVudHJ5RW50aXR5PiA9IG5ldyBTdWJqZWN0PE1pbmltYWxOb2RlRW50cnlFbnRpdHk+KCk7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgYXV0aFNlcnZpY2U6IEF1dGhlbnRpY2F0aW9uU2VydmljZSxcbiAgICAgICAgICAgICAgICBwdWJsaWMgYXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgbG9nU2VydmljZTogTG9nU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIHNhbml0aXplcjogRG9tU2FuaXRpemVyKSB7XG4gICAgICAgIHRoaXMuc2F2ZURhdGEgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgbGV0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGEpO1xuICAgICAgICAgICAgYS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuXG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGEsIGZvcm1hdCwgZmlsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICBsZXQgYmxvYiA9IG51bGw7XG5cbiAgICAgICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnYmxvYicgfHwgZm9ybWF0ID09PSAnZGF0YScpIHtcbiAgICAgICAgICAgICAgICAgICAgYmxvYiA9IG5ldyBCbG9iKFtkYXRhXSwgeyB0eXBlOiAnb2N0ZXQvc3RyZWFtJyB9KTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoZm9ybWF0ID09PSAnb2JqZWN0JyB8fCBmb3JtYXQgPT09ICdqc29uJykge1xuICAgICAgICAgICAgICAgICAgICBsZXQganNvbiA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuICAgICAgICAgICAgICAgICAgICBibG9iID0gbmV3IEJsb2IoW2pzb25dLCB7IHR5cGU6ICdvY3RldC9zdHJlYW0nIH0pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChibG9iKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB3aW5kb3cubmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cubmF2aWdhdG9yLm1zU2F2ZU9yT3BlbkJsb2IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hdmlnYXRvci5tc1NhdmVPck9wZW5CbG9iKGJsb2IsIGZpbGVOYW1lKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB1cmwgPSB3aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChibG9iKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEuaHJlZiA9IHVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEuZG93bmxvYWQgPSBmaWxlTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGEuY2xpY2soKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LlVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgIH0oKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyBjb250ZW50IGRvd25sb2FkIGZvciBhIEJsb2Igd2l0aCBhIGZpbGUgbmFtZS5cbiAgICAgKiBAcGFyYW0gYmxvYiBDb250ZW50IHRvIGRvd25sb2FkLlxuICAgICAqIEBwYXJhbSBmaWxlTmFtZSBOYW1lIG9mIHRoZSByZXN1bHRpbmcgZmlsZS5cbiAgICAgKi9cbiAgICBkb3dubG9hZEJsb2IoYmxvYjogQmxvYiwgZmlsZU5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLnNhdmVEYXRhKGJsb2IsICdibG9iJywgZmlsZU5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgY29udGVudCBkb3dubG9hZCBmb3IgYSBkYXRhIGFycmF5IHdpdGggYSBmaWxlIG5hbWUuXG4gICAgICogQHBhcmFtIGRhdGEgRGF0YSB0byBkb3dubG9hZC5cbiAgICAgKiBAcGFyYW0gZmlsZU5hbWUgTmFtZSBvZiB0aGUgcmVzdWx0aW5nIGZpbGUuXG4gICAgICovXG4gICAgZG93bmxvYWREYXRhKGRhdGE6IGFueSwgZmlsZU5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICB0aGlzLnNhdmVEYXRhKGRhdGEsICdkYXRhJywgZmlsZU5hbWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgY29udGVudCBkb3dubG9hZCBmb3IgYSBKU09OIG9iamVjdCB3aXRoIGEgZmlsZSBuYW1lLlxuICAgICAqIEBwYXJhbSBqc29uIEpTT04gb2JqZWN0IHRvIGRvd25sb2FkLlxuICAgICAqIEBwYXJhbSBmaWxlTmFtZSBOYW1lIG9mIHRoZSByZXN1bHRpbmcgZmlsZS5cbiAgICAgKi9cbiAgICBkb3dubG9hZEpTT04oanNvbjogYW55LCBmaWxlTmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIHRoaXMuc2F2ZURhdGEoanNvbiwgJ2pzb24nLCBmaWxlTmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHRydXN0ZWQgb2JqZWN0IFVSTCBmcm9tIHRoZSBCbG9iLlxuICAgICAqIFdBUk5JTkc6IGNhbGxpbmcgdGhpcyBtZXRob2Qgd2l0aCB1bnRydXN0ZWQgdXNlciBkYXRhIGV4cG9zZXMgeW91ciBhcHBsaWNhdGlvbiB0byBYU1Mgc2VjdXJpdHkgcmlza3MhXG4gICAgICogQHBhcmFtICBibG9iIERhdGEgdG8gd3JhcCBpbnRvIG9iamVjdCBVUkxcbiAgICAgKiBAcmV0dXJucyBVUkwgc3RyaW5nXG4gICAgICovXG4gICAgY3JlYXRlVHJ1c3RlZFVybChibG9iOiBCbG9iKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHVybCA9IHdpbmRvdy5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgICAgICByZXR1cm4gPHN0cmluZz4gdGhpcy5zYW5pdGl6ZXIuYnlwYXNzU2VjdXJpdHlUcnVzdFVybCh1cmwpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IGNvbnRlbnRBcGkoKTogQ29udGVudEFwaSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5jb250ZW50O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSB0aHVtYm5haWwgVVJMIGZvciB0aGUgZ2l2ZW4gZG9jdW1lbnQgbm9kZS5cbiAgICAgKiBAcGFyYW0gbm9kZSBOb2RlIHRvIGdldCBVUkwgZm9yLlxuICAgICAqIEBwYXJhbSBhdHRhY2htZW50IFRvZ2dsZXMgd2hldGhlciB0byByZXRyaWV2ZSBjb250ZW50IGFzIGFuIGF0dGFjaG1lbnQgZm9yIGRvd25sb2FkXG4gICAgICogQHBhcmFtIHRpY2tldCBDdXN0b20gdGlja2V0IHRvIHVzZSBmb3IgYXV0aGVudGljYXRpb25cbiAgICAgKiBAcmV0dXJucyBVUkwgc3RyaW5nXG4gICAgICovXG4gICAgZ2V0RG9jdW1lbnRUaHVtYm5haWxVcmwobm9kZTogYW55LCBhdHRhY2htZW50PzogYm9vbGVhbiwgdGlja2V0Pzogc3RyaW5nKTogc3RyaW5nIHtcblxuICAgICAgICBpZiAobm9kZSAmJiBub2RlLmVudHJ5KSB7XG4gICAgICAgICAgICBub2RlID0gbm9kZS5lbnRyeS5pZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRBcGkuZ2V0RG9jdW1lbnRUaHVtYm5haWxVcmwobm9kZSwgYXR0YWNobWVudCwgdGlja2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgY29udGVudCBVUkwgZm9yIHRoZSBnaXZlbiBub2RlLlxuICAgICAqIEBwYXJhbSBub2RlIE5vZGUgdG8gZ2V0IFVSTCBmb3IuXG4gICAgICogQHBhcmFtIGF0dGFjaG1lbnQgVG9nZ2xlcyB3aGV0aGVyIHRvIHJldHJpZXZlIGNvbnRlbnQgYXMgYW4gYXR0YWNobWVudCBmb3IgZG93bmxvYWRcbiAgICAgKiBAcGFyYW0gdGlja2V0IEN1c3RvbSB0aWNrZXQgdG8gdXNlIGZvciBhdXRoZW50aWNhdGlvblxuICAgICAqIEByZXR1cm5zIFVSTCBzdHJpbmdcbiAgICAgKi9cbiAgICBnZXRDb250ZW50VXJsKG5vZGU6IGFueSwgYXR0YWNobWVudD86IGJvb2xlYW4sIHRpY2tldD86IHN0cmluZyk6IHN0cmluZyB7XG5cbiAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5lbnRyeSkge1xuICAgICAgICAgICAgbm9kZSA9IG5vZGUuZW50cnkuaWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50QXBpLmdldENvbnRlbnRVcmwobm9kZSwgYXR0YWNobWVudCwgdGlja2V0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGNvbnRlbnQgZm9yIHRoZSBnaXZlbiBub2RlLlxuICAgICAqIEBwYXJhbSBub2RlSWQgSUQgb2YgdGhlIHRhcmdldCBub2RlXG4gICAgICogQHJldHVybnMgQ29udGVudCBkYXRhXG4gICAgICovXG4gICAgZ2V0Tm9kZUNvbnRlbnQobm9kZUlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5jb3JlLm5vZGVzQXBpLmdldEZpbGVDb250ZW50KG5vZGVJZCkpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmb2xkZXIuXG4gICAgICogQHBhcmFtIHJlbGF0aXZlUGF0aCBMb2NhdGlvbiB0byBjcmVhdGUgdGhlIGZvbGRlclxuICAgICAqIEBwYXJhbSBuYW1lIEZvbGRlciBuYW1lXG4gICAgICogQHBhcmFtIHBhcmVudElkIE5vZGUgSUQgb2YgcGFyZW50IGZvbGRlclxuICAgICAqIEByZXR1cm5zIEluZm9ybWF0aW9uIGFib3V0IHRoZSBuZXcgZm9sZGVyXG4gICAgICovXG4gICAgY3JlYXRlRm9sZGVyKHJlbGF0aXZlUGF0aDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIHBhcmVudElkPzogc3RyaW5nKTogT2JzZXJ2YWJsZTxOb2RlRW50cnk+IHtcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkubm9kZXMuY3JlYXRlRm9sZGVyKG5hbWUsIHJlbGF0aXZlUGF0aCwgcGFyZW50SWQpKVxuICAgICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICAgICAgdGFwKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvbGRlckNyZWF0ZWQubmV4dCg8Rm9sZGVyQ3JlYXRlZEV2ZW50PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZVBhdGg6IHJlbGF0aXZlUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJlbnRJZDogcGFyZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlOiBkYXRhXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIE5vZGUgdmlhIGl0cyBub2RlIElELlxuICAgICAqIEBwYXJhbSBub2RlSWQgSUQgb2YgdGhlIHRhcmdldCBub2RlXG4gICAgICogQHBhcmFtIG9wdHMgT3B0aW9ucyBzdXBwb3J0ZWQgYnkgSlNBUElcbiAgICAgKiBAcmV0dXJucyBEZXRhaWxzIG9mIHRoZSBmb2xkZXJcbiAgICAgKi9cbiAgICBnZXROb2RlKG5vZGVJZDogc3RyaW5nLCBvcHRzPzogYW55KTogT2JzZXJ2YWJsZTxOb2RlRW50cnk+IHtcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkubm9kZXMuZ2V0Tm9kZShub2RlSWQsIG9wdHMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgdGhlIHVzZXIgaGFzIHBlcm1pc3Npb25zIG9uIHRoYXQgbm9kZVxuICAgICAqIEBwYXJhbSBub2RlIE5vZGUgdG8gY2hlY2sgYWxsb3dhYmxlT3BlcmF0aW9uc1xuICAgICAqIEBwYXJhbSBwZXJtaXNzaW9uIENyZWF0ZSwgZGVsZXRlLCB1cGRhdGUsIHVwZGF0ZVBlcm1pc3Npb25zLCAhY3JlYXRlLCAhZGVsZXRlLCAhdXBkYXRlLCAhdXBkYXRlUGVybWlzc2lvbnNcbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSB1c2VyIGhhcyB0aGUgcmVxdWlyZWQgcGVybWlzc2lvbnMsIGZhbHNlIG90aGVyd2lzZVxuICAgICAqL1xuICAgIGhhc1Blcm1pc3Npb24obm9kZTogTm9kZSwgcGVybWlzc2lvbjogUGVybWlzc2lvbnNFbnVtIHwgc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBoYXNQZXJtaXNzaW9uID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuaGFzQWxsb3dhYmxlT3BlcmF0aW9ucyhub2RlKSkge1xuICAgICAgICAgICAgaWYgKHBlcm1pc3Npb24gJiYgcGVybWlzc2lvbi5zdGFydHNXaXRoKCchJykpIHtcbiAgICAgICAgICAgICAgICBoYXNQZXJtaXNzaW9uID0gbm9kZS5hbGxvd2FibGVPcGVyYXRpb25zLmZpbmQoY3VycmVudFBlcm1pc3Npb24gPT4gY3VycmVudFBlcm1pc3Npb24gPT09IHBlcm1pc3Npb24ucmVwbGFjZSgnIScsICcnKSkgPyBmYWxzZSA6IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhc1Blcm1pc3Npb24gPSBub2RlLmFsbG93YWJsZU9wZXJhdGlvbnMuZmluZChjdXJyZW50UGVybWlzc2lvbiA9PiBjdXJyZW50UGVybWlzc2lvbiA9PT0gcGVybWlzc2lvbikgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uICYmIHBlcm1pc3Npb24uc3RhcnRzV2l0aCgnIScpKSB7XG4gICAgICAgICAgICAgICAgaGFzUGVybWlzc2lvbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGVybWlzc2lvbiA9PT0gUGVybWlzc2lvbnNFbnVtLkNPUFkpIHtcbiAgICAgICAgICAgIGhhc1Blcm1pc3Npb24gPSB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBlcm1pc3Npb24gPT09IFBlcm1pc3Npb25zRW51bS5MT0NLKSB7XG4gICAgICAgICAgICBoYXNQZXJtaXNzaW9uID0gbm9kZS5pc0ZpbGU7XG5cbiAgICAgICAgICAgIGlmIChub2RlLmlzTG9ja2VkICYmIHRoaXMuaGFzQWxsb3dhYmxlT3BlcmF0aW9ucyhub2RlKSkge1xuICAgICAgICAgICAgICAgIGhhc1Blcm1pc3Npb24gPSAhIX5ub2RlLmFsbG93YWJsZU9wZXJhdGlvbnMuaW5kZXhPZigndXBkYXRlUGVybWlzc2lvbnMnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoYXNQZXJtaXNzaW9uO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiB0aGUgbm9kZSBoYXMgdGhlIHByb3BlcnRpZXMgYWxsb3dhYmxlT3BlcmF0aW9uc1xuICAgICAqIEBwYXJhbSBub2RlIE5vZGUgdG8gY2hlY2sgYWxsb3dhYmxlT3BlcmF0aW9uc1xuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIG5vZGUgaGFzIHRoZSBwcm9wZXJ0eSwgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaGFzQWxsb3dhYmxlT3BlcmF0aW9ucyhub2RlOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIG5vZGUgJiYgbm9kZS5hbGxvd2FibGVPcGVyYXRpb25zID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRXJyb3IoZXJyb3I6IGFueSkge1xuICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuZXJyb3IoZXJyb3IpO1xuICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihlcnJvciB8fCAnU2VydmVyIGVycm9yJyk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0SWNvblJlZ2lzdHJ5IH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgRG9tU2FuaXRpemVyIH0gZnJvbSAnQGFuZ3VsYXIvcGxhdGZvcm0tYnJvd3Nlcic7XG5pbXBvcnQgeyBDb250ZW50U2VydmljZSB9IGZyb20gJy4vY29udGVudC5zZXJ2aWNlJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFRodW1ibmFpbFNlcnZpY2Uge1xuXG4gICAgREVGQVVMVF9JQ09OOiBzdHJpbmcgPSAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX21pc2NlbGxhbmVvdXMuc3ZnJztcblxuICAgIG1pbWVUeXBlSWNvbnM6IGFueSA9IHtcbiAgICAgICAgJ2ltYWdlL3BuZyc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfcmFzdGVyX2ltYWdlLnN2ZycsXG4gICAgICAgICdpbWFnZS9qcGVnJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19yYXN0ZXJfaW1hZ2Uuc3ZnJyxcbiAgICAgICAgJ2ltYWdlL2dpZic6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfcmFzdGVyX2ltYWdlLnN2ZycsXG4gICAgICAgICdpbWFnZS9ibXAnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3Jhc3Rlcl9pbWFnZS5zdmcnLFxuICAgICAgICAnaW1hZ2UvY2dtJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19yYXN0ZXJfaW1hZ2Uuc3ZnJyxcbiAgICAgICAgJ2ltYWdlL2llZic6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfcmFzdGVyX2ltYWdlLnN2ZycsXG4gICAgICAgICdpbWFnZS9qcDInOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3Jhc3Rlcl9pbWFnZS5zdmcnLFxuICAgICAgICAnaW1hZ2UvdGlmZic6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfcmFzdGVyX2ltYWdlLnN2ZycsXG4gICAgICAgICdpbWFnZS92bmQuYWRvYmUucGhvdG9zaG9wJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19yYXN0ZXJfaW1hZ2Uuc3ZnJyxcbiAgICAgICAgJ2ltYWdlL3ZuZC5hZG9iZS5wcmVtaWVyZSc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfcmFzdGVyX2ltYWdlLnN2ZycsXG4gICAgICAgICdpbWFnZS94LWNtdS1yYXN0ZXInOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3Jhc3Rlcl9pbWFnZS5zdmcnLFxuICAgICAgICAnaW1hZ2UveC1kd3QnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3Jhc3Rlcl9pbWFnZS5zdmcnLFxuICAgICAgICAnaW1hZ2UveC1wb3J0YWJsZS1hbnltYXAnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3Jhc3Rlcl9pbWFnZS5zdmcnLFxuICAgICAgICAnaW1hZ2UveC1wb3J0YWJsZS1iaXRtYXAnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3Jhc3Rlcl9pbWFnZS5zdmcnLFxuICAgICAgICAnaW1hZ2UveC1wb3J0YWJsZS1ncmF5bWFwJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19yYXN0ZXJfaW1hZ2Uuc3ZnJyxcbiAgICAgICAgJ2ltYWdlL3gtcG9ydGFibGUtcGl4bWFwJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19yYXN0ZXJfaW1hZ2Uuc3ZnJyxcbiAgICAgICAgJ2ltYWdlL3gtcmF3LWFkb2JlJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19yYXN0ZXJfaW1hZ2Uuc3ZnJyxcbiAgICAgICAgJ2ltYWdlL3gtcmF3LWNhbm9uJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19yYXN0ZXJfaW1hZ2Uuc3ZnJyxcbiAgICAgICAgJ2ltYWdlL3gtcmF3LWZ1amknOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3Jhc3Rlcl9pbWFnZS5zdmcnLFxuICAgICAgICAnaW1hZ2UveC1yYXctaGFzc2VsYmxhZCc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfcmFzdGVyX2ltYWdlLnN2ZycsXG4gICAgICAgICdpbWFnZS94LXJhdy1rb2Rhayc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfcmFzdGVyX2ltYWdlLnN2ZycsXG4gICAgICAgICdpbWFnZS94LXJhdy1sZWljYSc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfcmFzdGVyX2ltYWdlLnN2ZycsXG4gICAgICAgICdpbWFnZS94LXJhdy1taW5vbHRhJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19yYXN0ZXJfaW1hZ2Uuc3ZnJyxcbiAgICAgICAgJ2ltYWdlL3gtcmF3LW5pa29uJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19yYXN0ZXJfaW1hZ2Uuc3ZnJyxcbiAgICAgICAgJ2ltYWdlL3gtcmF3LW9seW1wdXMnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3Jhc3Rlcl9pbWFnZS5zdmcnLFxuICAgICAgICAnaW1hZ2UveC1yYXctcGFuYXNvbmljJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19yYXN0ZXJfaW1hZ2Uuc3ZnJyxcbiAgICAgICAgJ2ltYWdlL3gtcmF3LXBlbnRheCc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfcmFzdGVyX2ltYWdlLnN2ZycsXG4gICAgICAgICdpbWFnZS94LXJhdy1yZWQnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3Jhc3Rlcl9pbWFnZS5zdmcnLFxuICAgICAgICAnaW1hZ2UveC1yYXctc2lnbWEnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3Jhc3Rlcl9pbWFnZS5zdmcnLFxuICAgICAgICAnaW1hZ2UveC1yYXctc29ueSc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfcmFzdGVyX2ltYWdlLnN2ZycsXG4gICAgICAgICdpbWFnZS94LXhiaXRtYXAnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3Jhc3Rlcl9pbWFnZS5zdmcnLFxuICAgICAgICAnaW1hZ2UveC14cGl4bWFwJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19yYXN0ZXJfaW1hZ2Uuc3ZnJyxcbiAgICAgICAgJ2ltYWdlL3gteHdpbmRvd2R1bXAnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3Jhc3Rlcl9pbWFnZS5zdmcnLFxuICAgICAgICAnaW1hZ2Uvc3ZnK3htbCc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfdmVjdG9yX2ltYWdlLnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi9lcHMnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3Jhc3Rlcl9pbWFnZS5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24vaWxsdXN0cmF0b3InOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3Jhc3Rlcl9pbWFnZS5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24vcGRmJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19wZGYuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5tcy1leGNlbCc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfbXNfZXhjZWwuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5zcHJlYWRzaGVldG1sLnNoZWV0JzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc19leGNlbC5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnNwcmVhZHNoZWV0bWwudGVtcGxhdGUnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX21zX2V4Y2VsLnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuYWRkaW4ubWFjcm9lbmFibGVkLjEyJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc19leGNlbC5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLnNoZWV0LmJpbmFyeS5tYWNyb2VuYWJsZWQuMTInOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX21zX2V4Y2VsLnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQubXMtZXhjZWwuc2hlZXQubWFjcm9lbmFibGVkLjEyJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc19leGNlbC5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24vdm5kLm1zLWV4Y2VsLnRlbXBsYXRlLm1hY3JvZW5hYmxlZC4xMic6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfbXNfZXhjZWwuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5zdW4ueG1sLmNhbGMnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX21zX2V4Y2VsLnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQuc3VuLnhtbC5jYWxjLnRlbXBsYXRlJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc19leGNlbC5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24vdm5kLm1zLW91dGxvb2snOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX2RvY3VtZW50LnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi9tc3dvcmQnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX21zX3dvcmQuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC53b3JkcHJvY2Vzc2luZ21sLmRvY3VtZW50JzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc193b3JkLnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQud29yZHByb2Nlc3NpbmdtbC50ZW1wbGF0ZSc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfbXNfd29yZC5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24vdm5kLm1zLXdvcmQuZG9jdW1lbnQubWFjcm9lbmFibGVkLjEyJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc193b3JkLnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQubXMtd29yZC50ZW1wbGF0ZS5tYWNyb2VuYWJsZWQuMTInOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX21zX3dvcmQuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5zdW4ueG1sLndyaXRlcic6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfbXNfd29yZC5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24vdm5kLnN1bi54bWwud3JpdGVyLnRlbXBsYXRlJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc193b3JkLnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi9ydGYnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX21zX3dvcmQuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50JzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc19wb3dlcnBvaW50LnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwucHJlc2VudGF0aW9uJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc19wb3dlcnBvaW50LnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQub3BlbnhtbGZvcm1hdHMtb2ZmaWNlZG9jdW1lbnQucHJlc2VudGF0aW9ubWwudGVtcGxhdGUnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX21zX3Bvd2VycG9pbnQuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5vcGVueG1sZm9ybWF0cy1vZmZpY2Vkb2N1bWVudC5wcmVzZW50YXRpb25tbC5zbGlkZXNob3cnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX21zX3Bvd2VycG9pbnQuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQucHJlc2VudGF0aW9uJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc19wb3dlcnBvaW50LnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnByZXNlbnRhdGlvbi10ZW1wbGF0ZSc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfbXNfcG93ZXJwb2ludC5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24vdm5kLm9wZW54bWxmb3JtYXRzLW9mZmljZWRvY3VtZW50LnByZXNlbnRhdGlvbm1sLnNsaWRlJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc19wb3dlcnBvaW50LnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQuc3VuLnhtbC5pbXByZXNzJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc19wb3dlcnBvaW50LnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQuc3VuLnhtbC5pbXByZXNzLnRlbXBsYXRlJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc19wb3dlcnBvaW50LnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQub2FzaXMub3BlbmRvY3VtZW50LnNwcmVhZHNoZWV0JzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc19leGNlbC5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24vdm5kLm9hc2lzLm9wZW5kb2N1bWVudC5zcHJlYWRzaGVldC10ZW1wbGF0ZSc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfbXNfZXhjZWwuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5tcy1wb3dlcnBvaW50LmFkZGluLm1hY3JvZW5hYmxlZC4xMic6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfbXNfcG93ZXJwb2ludC5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24vdm5kLm1zLXBvd2VycG9pbnQucHJlc2VudGF0aW9uLm1hY3JvZW5hYmxlZC4xMic6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfbXNfcG93ZXJwb2ludC5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24vdm5kLm1zLXBvd2VycG9pbnQuc2xpZGUubWFjcm9lbmFibGVkLjEyJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc19wb3dlcnBvaW50LnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludC5zbGlkZXNob3cubWFjcm9lbmFibGVkLjEyJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19tc19wb3dlcnBvaW50LnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi92bmQubXMtcG93ZXJwb2ludC50ZW1wbGF0ZS5tYWNyb2VuYWJsZWQuMTInOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX21zX3Bvd2VycG9pbnQuc3ZnJyxcbiAgICAgICAgJ3ZpZGVvL21wNCc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfdmlkZW8uc3ZnJyxcbiAgICAgICAgJ3ZpZGVvLzNncHAnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3ZpZGVvLnN2ZycsXG4gICAgICAgICd2aWRlby8zZ3BwMic6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfdmlkZW8uc3ZnJyxcbiAgICAgICAgJ3ZpZGVvL21wMnQnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3ZpZGVvLnN2ZycsXG4gICAgICAgICd2aWRlby9tcGVnJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY192aWRlby5zdmcnLFxuICAgICAgICAndmlkZW8vbXBlZzInOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3ZpZGVvLnN2ZycsXG4gICAgICAgICd2aWRlby9vZ2cnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3ZpZGVvLnN2ZycsXG4gICAgICAgICd2aWRlby9xdWlja3RpbWUnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3ZpZGVvLnN2ZycsXG4gICAgICAgICd2aWRlby93ZWJtJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY192aWRlby5zdmcnLFxuICAgICAgICAndmlkZW8veC1mbHYnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3ZpZGVvLnN2ZycsXG4gICAgICAgICd2aWRlby94LW00dic6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfdmlkZW8uc3ZnJyxcbiAgICAgICAgJ3ZpZGVvL3gtbXMtYXNmJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY192aWRlby5zdmcnLFxuICAgICAgICAndmlkZW8veC1tcy13bXYnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3ZpZGVvLnN2ZycsXG4gICAgICAgICd2aWRlby94LW1zdmlkZW8nOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3ZpZGVvLnN2ZycsXG4gICAgICAgICd2aWRlby94LXJhZC1zY3JlZW5wbGF5JzogICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfdmlkZW8uc3ZnJyxcbiAgICAgICAgJ3ZpZGVvL3gtc2dpLW1vdmllJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY192aWRlby5zdmcnLFxuICAgICAgICAndmlkZW8veC1tYXRyb3NrYSc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfdmlkZW8uc3ZnJyxcbiAgICAgICAgJ2F1ZGlvL21wZWcnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX2F1ZGlvLnN2ZycsXG4gICAgICAgICdhdWRpby9vZ2cnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX2F1ZGlvLnN2ZycsXG4gICAgICAgICdhdWRpby93YXYnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX2F1ZGlvLnN2ZycsXG4gICAgICAgICdhdWRpby9iYXNpYyc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfYXVkaW8uc3ZnJyxcbiAgICAgICAgJ2F1ZGlvL21wNCc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfYXVkaW8uc3ZnJyxcbiAgICAgICAgJ2F1ZGlvL3ZuZC5hZG9iZS5zb3VuZGJvb3RoJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19hdWRpby5zdmcnLFxuICAgICAgICAnYXVkaW8vdm9yYmlzJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19hdWRpby5zdmcnLFxuICAgICAgICAnYXVkaW8veC1haWZmJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19hdWRpby5zdmcnLFxuICAgICAgICAnYXVkaW8veC1mbGFjJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19hdWRpby5zdmcnLFxuICAgICAgICAnYXVkaW8veC1tcy13bWEnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX2F1ZGlvLnN2ZycsXG4gICAgICAgICdhdWRpby94LXdhdic6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfYXVkaW8uc3ZnJyxcbiAgICAgICAgJ3gtd29ybGQveC12cm1sJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY192aWRlby5zdmcnLFxuICAgICAgICAndGV4dC9wbGFpbic6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfZG9jdW1lbnQuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQudGV4dCc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfZG9jdW1lbnQuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5vYXNpcy5vcGVuZG9jdW1lbnQudGV4dC10ZW1wbGF0ZSc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfZG9jdW1lbnQuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3gtamF2YXNjcmlwdCc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfZG9jdW1lbnQuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL2pzb24nOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX2RvY3VtZW50LnN2ZycsXG4gICAgICAgICd0ZXh0L2Nzdic6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfZG9jdW1lbnQuc3ZnJyxcbiAgICAgICAgJ3RleHQveG1sJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19kb2N1bWVudC5zdmcnLFxuICAgICAgICAndGV4dC9odG1sJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY193ZWJzaXRlLnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi94LWNvbXByZXNzZWQnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX2FyY2hpdmUuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3gtemlwLWNvbXByZXNzZWQnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX2FyY2hpdmUuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ppcCc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfYXJjaGl2ZS5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24veC10YXInOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX2FyY2hpdmUuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5hcHBsZS5rZXlub3RlJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19wcmVzZW50YXRpb24uc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5hcHBsZS5wYWdlcyc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfZG9jdW1lbnQuc3ZnJyxcbiAgICAgICAgJ2FwcGxpY2F0aW9uL3ZuZC5hcHBsZS5udW1iZXJzJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19zcHJlYWRzaGVldC5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24vdm5kLnZpc2lvJzogJy4vYXNzZXRzL2ltYWdlcy9mdF9pY19kb2N1bWVudC5zdmcnLFxuICAgICAgICAnYXBwbGljYXRpb24vd29yZHBlcmZlY3QnOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX2RvY3VtZW50LnN2ZycsXG4gICAgICAgICdhcHBsaWNhdGlvbi94LWNwaW8nOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX2RvY3VtZW50LnN2ZycsXG4gICAgICAgICdmb2xkZXInOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX2ZvbGRlci5zdmcnLFxuICAgICAgICAnc21hcnRGb2xkZXInOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX3NtYXJ0X2ZvbGRlci5zdmcnLFxuICAgICAgICAnZGlzYWJsZS9mb2xkZXInOiAnLi9hc3NldHMvaW1hZ2VzL2Z0X2ljX2ZvbGRlcl9kaXNhYmxlLnN2ZycsXG4gICAgICAgICdzZWxlY3RlZCc6ICcuL2Fzc2V0cy9pbWFnZXMvZnRfaWNfc2VsZWN0ZWQuc3ZnJ1xuICAgIH07XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgY29udGVudFNlcnZpY2U6IENvbnRlbnRTZXJ2aWNlLCBtYXRJY29uUmVnaXN0cnk6IE1hdEljb25SZWdpc3RyeSwgc2FuaXRpemVyOiBEb21TYW5pdGl6ZXIpIHtcbiAgICAgICAgT2JqZWN0LmtleXModGhpcy5taW1lVHlwZUljb25zKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBtYXRJY29uUmVnaXN0cnkuYWRkU3ZnSWNvbihrZXksIHNhbml0aXplci5ieXBhc3NTZWN1cml0eVRydXN0UmVzb3VyY2VVcmwodGhpcy5taW1lVHlwZUljb25zW2tleV0pKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHRodW1ibmFpbCBVUkwgZm9yIHRoZSBnaXZlbiBkb2N1bWVudCBub2RlLlxuICAgICAqIEBwYXJhbSBub2RlIE5vZGUgdG8gZ2V0IFVSTCBmb3IuXG4gICAgICogQHJldHVybnMgVVJMIHN0cmluZ1xuICAgICAqL1xuICAgIHB1YmxpYyBnZXREb2N1bWVudFRodW1ibmFpbFVybChub2RlOiBhbnkpOiBzdHJpbmcge1xuICAgICAgICBsZXQgdGh1bWJuYWlsID0gdGhpcy5jb250ZW50U2VydmljZS5nZXREb2N1bWVudFRodW1ibmFpbFVybChub2RlKTtcbiAgICAgICAgcmV0dXJuIHRodW1ibmFpbCB8fCB0aGlzLkRFRkFVTFRfSUNPTjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgdGh1bWJuYWlsIFVSTCBmb3IgYSBNSU1FIHR5cGUuXG4gICAgICogQHBhcmFtIG1pbWVUeXBlIE1JTUUgdHlwZSBmb3IgdGhlIHRodW1ibmFpbFxuICAgICAqIEByZXR1cm5zIFVSTCBzdHJpbmdcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0TWltZVR5cGVJY29uKG1pbWVUeXBlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBsZXQgaWNvbiA9IHRoaXMubWltZVR5cGVJY29uc1ttaW1lVHlwZV07XG4gICAgICAgIHJldHVybiAoaWNvbiB8fCB0aGlzLkRFRkFVTFRfSUNPTik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIFwibWlzY2VsbGFuZW91c1wiIHRodW1ibmFpbCBVUkwgZm9yIHR5cGVzIHdpdGggbm8gb3RoZXIgaWNvbiBkZWZpbmVkLlxuICAgICAqIEByZXR1cm5zIFVSTCBzdHJpbmdcbiAgICAgKi9cbiAgICBwdWJsaWMgZ2V0RGVmYXVsdE1pbWVUeXBlSWNvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5ERUZBVUxUX0lDT047XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVGh1bWJuYWlsU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL3RodW1ibmFpbC5zZXJ2aWNlJztcblxuQFBpcGUoe1xuICAgIG5hbWU6ICdhZGZNaW1lVHlwZUljb24nXG59KVxuZXhwb3J0IGNsYXNzIE1pbWVUeXBlSWNvblBpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgdGh1bWJuYWlsU2VydmljZTogVGh1bWJuYWlsU2VydmljZSkgeyB9XG5cbiAgICB0cmFuc2Zvcm0odGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudGh1bWJuYWlsU2VydmljZS5nZXRNaW1lVHlwZUljb24odGV4dCk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWluaW1hbE5vZGVFbnRpdHkgfSBmcm9tICdhbGZyZXNjby1qcy1hcGknO1xuXG5AUGlwZSh7XG4gICAgbmFtZTogJ2FkZk5vZGVOYW1lVG9vbHRpcCdcbn0pXG5leHBvcnQgY2xhc3MgTm9kZU5hbWVUb29sdGlwUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuXG4gICAgdHJhbnNmb3JtKG5vZGU6IE1pbmltYWxOb2RlRW50aXR5KTogc3RyaW5nIHtcbiAgICAgICAgaWYgKG5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmdldE5vZGVUb29sdGlwKG5vZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29udGFpbnNMaW5lKGxpbmVzOiBzdHJpbmdbXSwgbGluZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBsaW5lcy5zb21lKChpdGVtOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtLnRvTG93ZXJDYXNlKCkgPT09IGxpbmUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVEdXBsaWNhdGVMaW5lcyhsaW5lczogc3RyaW5nW10pOiBzdHJpbmdbXSB7XG4gICAgICAgIGNvbnN0IHJlZHVjZXIgPSAoYWNjOiBzdHJpbmdbXSwgbGluZTogc3RyaW5nKTogc3RyaW5nW10gPT4ge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5zTGluZShhY2MsIGxpbmUpKSB7IGFjYy5wdXNoKGxpbmUpOyB9XG4gICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBsaW5lcy5yZWR1Y2UocmVkdWNlciwgW10pO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Tm9kZVRvb2x0aXAobm9kZTogTWluaW1hbE5vZGVFbnRpdHkpOiBzdHJpbmcge1xuICAgICAgICBpZiAoIW5vZGUgfHwgIW5vZGUuZW50cnkpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgeyBlbnRyeTogeyBwcm9wZXJ0aWVzLCBuYW1lIH0gfSA9IG5vZGU7XG4gICAgICAgIGNvbnN0IGxpbmVzID0gWyBuYW1lIF07XG5cbiAgICAgICAgaWYgKHByb3BlcnRpZXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgICAgICAnY206dGl0bGUnOiB0aXRsZSxcbiAgICAgICAgICAgICAgICAnY206ZGVzY3JpcHRpb24nOiBkZXNjcmlwdGlvblxuICAgICAgICAgICAgfSA9IHByb3BlcnRpZXM7XG5cbiAgICAgICAgICAgIGlmICh0aXRsZSAmJiBkZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgIGxpbmVzWzBdID0gdGl0bGU7XG4gICAgICAgICAgICAgICAgbGluZXNbMV0gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRpdGxlKSB7XG4gICAgICAgICAgICAgICAgbGluZXNbMV0gPSB0aXRsZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgbGluZXNbMV0gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUR1cGxpY2F0ZUxpbmVzKGxpbmVzKS5qb2luKGBcXG5gKTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgaW50ZXJmYWNlIEhpZ2h0bGlnaHRUcmFuc2Zvcm1SZXN1bHQge1xuICAgIHRleHQ6IHN0cmluZztcbiAgICBjaGFuZ2VkOiBib29sZWFuO1xufVxuXG5leHBvcnQgY2xhc3MgSGlnaGxpZ2h0VHJhbnNmb3JtU2VydmljZSB7XG5cbiAgICAvKipcbiAgICAgKiBTZWFyY2hlcyBmb3IgYHNlYXJjaGAgc3RyaW5nKHMpIHdpdGhpbiBgdGV4dGAgYW5kIGhpZ2hsaWdodHMgYWxsIG9jY3VycmVuY2VzLlxuICAgICAqIEBwYXJhbSB0ZXh0IFRleHQgdG8gc2VhcmNoIHdpdGhpblxuICAgICAqIEBwYXJhbSBzZWFyY2ggVGV4dCBwYXR0ZXJuIHRvIHNlYXJjaCBmb3JcbiAgICAgKiBAcGFyYW0gd3JhcHBlckNsYXNzIENTUyBjbGFzcyB1c2VkIHRvIHByb3ZpZGUgaGlnaGxpZ2h0aW5nIHN0eWxlXG4gICAgICogQHJldHVybnMgTmV3IHRleHQgYWxvbmcgd2l0aCBib29sZWFuIHZhbHVlIHRvIGluZGljYXRlIHdoZXRoZXIgYW55dGhpbmcgd2FzIGhpZ2hsaWdodGVkXG4gICAgICovXG4gICAgcHVibGljIGhpZ2hsaWdodCh0ZXh0OiBzdHJpbmcsIHNlYXJjaDogc3RyaW5nLCB3cmFwcGVyQ2xhc3M6IHN0cmluZyA9ICdoaWdobGlnaHQnKTogSGlnaHRsaWdodFRyYW5zZm9ybVJlc3VsdCB7XG4gICAgICAgIGxldCBpc01hdGNoaW5nID0gZmFsc2UsXG4gICAgICAgICAgICByZXN1bHQgPSB0ZXh0O1xuXG4gICAgICAgIGlmIChzZWFyY2ggJiYgdGV4dCkge1xuICAgICAgICAgICAgbGV0IHBhdHRlcm4gPSBzZWFyY2gucmVwbGFjZSgvW1xcLVxcW1xcXVxcL1xce1xcfVxcKFxcKVxcKlxcK1xcP1xcLlxcXFxcXF5cXCRcXHxdL2csICdcXFxcJCYnKTtcbiAgICAgICAgICAgIHBhdHRlcm4gPSBwYXR0ZXJuLnNwbGl0KCcgJykuZmlsdGVyKCh0KSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHQubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIH0pLmpvaW4oJ3wnKTtcblxuICAgICAgICAgICAgY29uc3QgcmVnZXggPSBuZXcgUmVnRXhwKHBhdHRlcm4sICdnaScpO1xuICAgICAgICAgICAgcmVzdWx0ID0gdGV4dC5yZXBsYWNlKHJlZ2V4LCAobWF0Y2gpID0+IHtcbiAgICAgICAgICAgICAgICBpc01hdGNoaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gYDxzcGFuIGNsYXNzPVwiJHt3cmFwcGVyQ2xhc3N9XCI+JHttYXRjaH08L3NwYW4+YDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHsgdGV4dDogcmVzdWx0LCBjaGFuZ2VkOiBpc01hdGNoaW5nIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyB0ZXh0OiByZXN1bHQsIGNoYW5nZWQ6IGlzTWF0Y2hpbmcgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEhpZ2hsaWdodFRyYW5zZm9ybVNlcnZpY2UsIEhpZ2h0bGlnaHRUcmFuc2Zvcm1SZXN1bHQgfSBmcm9tICcuLi9zZXJ2aWNlcy9oaWdobGlnaHQtdHJhbnNmb3JtLnNlcnZpY2UnO1xuXG5AUGlwZSh7XG4gICAgbmFtZTogJ2hpZ2hsaWdodCdcbn0pXG5leHBvcnQgY2xhc3MgSGlnaGxpZ2h0UGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBoaWdobGlnaHRUcmFuc2Zvcm1TZXJ2aWNlOiBIaWdobGlnaHRUcmFuc2Zvcm1TZXJ2aWNlKSB7IH1cblxuICAgIHRyYW5zZm9ybSh0ZXh0OiBzdHJpbmcsIHNlYXJjaDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgcmVzdWx0OiBIaWdodGxpZ2h0VHJhbnNmb3JtUmVzdWx0ID0gdGhpcy5oaWdobGlnaHRUcmFuc2Zvcm1TZXJ2aWNlLmhpZ2hsaWdodCh0ZXh0LCBzZWFyY2gpO1xuICAgICAgICByZXR1cm4gcmVzdWx0LnRleHQ7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQtZXM2JztcbmltcG9ydCB7IFBpcGUsIFBpcGVUcmFuc2Zvcm0gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQFBpcGUoe1xuICAgIG5hbWU6ICdhZGZUaW1lQWdvJ1xufSlcbmV4cG9ydCBjbGFzcyBUaW1lQWdvUGlwZSBpbXBsZW1lbnRzIFBpcGVUcmFuc2Zvcm0ge1xuXG4gICAgZGVmYXVsdExvY2FsZSA9ICdlbi1VUyc7XG5cbiAgICB0cmFuc2Zvcm0odmFsdWU6IERhdGUsIGxvY2FsZT86IHN0cmluZykge1xuICAgICAgICBpZiAodmFsdWUgIT09IG51bGwgJiYgdmFsdWUgIT09IHVuZGVmaW5lZCApIHtcbiAgICAgICAgICAgIGNvbnN0IGFjdHVhbExvY2FsZSA9IGxvY2FsZSA/IGxvY2FsZSA6IHRoaXMuZGVmYXVsdExvY2FsZTtcbiAgICAgICAgICAgIGNvbnN0IHRoZW4gPSBtb21lbnQodmFsdWUpO1xuICAgICAgICAgICAgY29uc3QgZGlmZiA9IG1vbWVudCgpLmxvY2FsZShhY3R1YWxMb2NhbGUpLmRpZmYodGhlbiwgJ2RheXMnKTtcbiAgICAgICAgICAgIHJldHVybiBkaWZmID4gNyA/IHRoZW4ubG9jYWxlKGFjdHVhbExvY2FsZSkuZm9ybWF0KCdERC9NTS9ZWVlZIEhIOm1tJykgOiB0aGVuLmxvY2FsZShhY3R1YWxMb2NhbGUpLmZyb21Ob3coKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRG9tU2FuaXRpemVyLCBTYWZlSHRtbCB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuaW1wb3J0IHsgVXNlclByb2Nlc3NNb2RlbCB9IGZyb20gJy4uL21vZGVscy91c2VyLXByb2Nlc3MubW9kZWwnO1xuaW1wb3J0IHsgRWNtVXNlck1vZGVsIH0gZnJvbSAnLi4vdXNlcmluZm8vbW9kZWxzL2VjbS11c2VyLm1vZGVsJztcblxuQFBpcGUoe1xuICAgIG5hbWU6ICd1c2VybmFtZUluaXRpYWxzJ1xufSlcbmV4cG9ydCBjbGFzcyBJbml0aWFsVXNlcm5hbWVQaXBlIGltcGxlbWVudHMgUGlwZVRyYW5zZm9ybSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNhbml0aXplZDogRG9tU2FuaXRpemVyKSB7XG4gICAgfVxuXG4gICAgdHJhbnNmb3JtKHVzZXI6IFVzZXJQcm9jZXNzTW9kZWwgfCBFY21Vc2VyTW9kZWwsIGNsYXNzTmFtZTogc3RyaW5nID0gJycsIGRlbGltaXRlcjogc3RyaW5nID0gJycpOiBTYWZlSHRtbCB7XG4gICAgICAgIGxldCByZXN1bHQ6IFNhZmVIdG1sID0gJyc7XG4gICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgICBsZXQgaW5pdGlhbFJlc3VsdCA9IHRoaXMuZ2V0SW5pdGlhbFVzZXJOYW1lKHVzZXIuZmlyc3ROYW1lLCB1c2VyLmxhc3ROYW1lLCBkZWxpbWl0ZXIpO1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5zYW5pdGl6ZWQuYnlwYXNzU2VjdXJpdHlUcnVzdEh0bWwoYDxkaXYgaWQ9XCJ1c2VyLWluaXRpYWxzLWltYWdlXCIgY2xhc3M9XCIke2NsYXNzTmFtZX1cIj4ke2luaXRpYWxSZXN1bHR9PC9kaXY+YCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBnZXRJbml0aWFsVXNlck5hbWUoZmlyc3ROYW1lOiBzdHJpbmcsIGxhc3ROYW1lOiBzdHJpbmcsIGRlbGltaXRlcjogc3RyaW5nKSB7XG4gICAgICAgIGZpcnN0TmFtZSA9IChmaXJzdE5hbWUgPyBmaXJzdE5hbWVbMF0gOiAnJyk7XG4gICAgICAgIGxhc3ROYW1lID0gKGxhc3ROYW1lID8gbGFzdE5hbWVbMF0gOiAnJyk7XG4gICAgICAgIHJldHVybiBmaXJzdE5hbWUgKyBkZWxpbWl0ZXIgKyBsYXN0TmFtZTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgRmlsZVNpemVQaXBlIH0gZnJvbSAnLi9maWxlLXNpemUucGlwZSc7XG5pbXBvcnQgeyBNaW1lVHlwZUljb25QaXBlIH0gZnJvbSAnLi9taW1lLXR5cGUtaWNvbi5waXBlJztcbmltcG9ydCB7IE5vZGVOYW1lVG9vbHRpcFBpcGUgfSBmcm9tICcuL25vZGUtbmFtZS10b29sdGlwLnBpcGUnO1xuaW1wb3J0IHsgSGlnaGxpZ2h0UGlwZSB9IGZyb20gJy4vdGV4dC1oaWdobGlnaHQucGlwZSc7XG5pbXBvcnQgeyBUaW1lQWdvUGlwZSB9IGZyb20gJy4vdGltZS1hZ28ucGlwZSc7XG5pbXBvcnQgeyBJbml0aWFsVXNlcm5hbWVQaXBlIH0gZnJvbSAnLi91c2VyLWluaXRpYWwucGlwZSc7XG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGVcbiAgICBdLFxuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBGaWxlU2l6ZVBpcGUsXG4gICAgICAgIEhpZ2hsaWdodFBpcGUsXG4gICAgICAgIFRpbWVBZ29QaXBlLFxuICAgICAgICBNaW1lVHlwZUljb25QaXBlLFxuICAgICAgICBJbml0aWFsVXNlcm5hbWVQaXBlLFxuICAgICAgICBOb2RlTmFtZVRvb2x0aXBQaXBlXG4gICAgXSxcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgRmlsZVNpemVQaXBlLFxuICAgICAgICBIaWdobGlnaHRQaXBlLFxuICAgICAgICBUaW1lQWdvUGlwZSxcbiAgICAgICAgTWltZVR5cGVJY29uUGlwZSxcbiAgICAgICAgSW5pdGlhbFVzZXJuYW1lUGlwZSxcbiAgICAgICAgTm9kZU5hbWVUb29sdGlwUGlwZVxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBGaWxlU2l6ZVBpcGUsXG4gICAgICAgIEhpZ2hsaWdodFBpcGUsXG4gICAgICAgIFRpbWVBZ29QaXBlLFxuICAgICAgICBNaW1lVHlwZUljb25QaXBlLFxuICAgICAgICBJbml0aWFsVXNlcm5hbWVQaXBlLFxuICAgICAgICBOb2RlTmFtZVRvb2x0aXBQaXBlXG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBQaXBlTW9kdWxlIHtcbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIHRzbGludDpkaXNhYmxlOm5vLWlucHV0LXJlbmFtZSAgKi9cblxuaW1wb3J0IHsgRGlyZWN0aXZlLCBFbGVtZW50UmVmLCBJbnB1dCwgUmVuZGVyZXIyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIaWdobGlnaHRUcmFuc2Zvcm1TZXJ2aWNlLCBIaWdodGxpZ2h0VHJhbnNmb3JtUmVzdWx0IH0gZnJvbSAnLi4vc2VydmljZXMvaGlnaGxpZ2h0LXRyYW5zZm9ybS5zZXJ2aWNlJztcblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdbYWRmLWhpZ2hsaWdodF0nXG59KVxuZXhwb3J0IGNsYXNzIEhpZ2hsaWdodERpcmVjdGl2ZSB7XG5cbiAgICAvKiogQ2xhc3Mgc2VsZWN0b3IgZm9yIGhpZ2hsaWdodGFibGUgZWxlbWVudHMuICovXG4gICAgQElucHV0KCdhZGYtaGlnaGxpZ2h0LXNlbGVjdG9yJylcbiAgICBzZWxlY3Rvcjogc3RyaW5nID0gJyc7XG5cbiAgICAvKiogVGV4dCB0byBoaWdobGlnaHQuICovXG4gICAgQElucHV0KCdhZGYtaGlnaGxpZ2h0JylcbiAgICBzZWFyY2g6IHN0cmluZyA9ICcnO1xuXG4gICAgLyoqIENTUyBjbGFzcyB1c2VkIHRvIGFwcGx5IGhpZ2hsaWdodGluZy4gKi9cbiAgICBASW5wdXQoJ2FkZi1oaWdobGlnaHQtY2xhc3MnKVxuICAgIGNsYXNzVG9BcHBseTogc3RyaW5nID0gJ2FkZi1oaWdobGlnaHQnO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgZWw6IEVsZW1lbnRSZWYsXG4gICAgICAgIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyMixcbiAgICAgICAgcHJpdmF0ZSBoaWdobGlnaHRUcmFuc2Zvcm1TZXJ2aWNlOiBIaWdobGlnaHRUcmFuc2Zvcm1TZXJ2aWNlKSB7IH1cblxuICAgIHB1YmxpYyBoaWdobGlnaHQoc2VhcmNoID0gdGhpcy5zZWFyY2gsIHNlbGVjdG9yID0gdGhpcy5zZWxlY3RvciwgY2xhc3NUb0FwcGx5ID0gdGhpcy5jbGFzc1RvQXBwbHkpIHtcbiAgICAgICAgaWYgKHNlYXJjaCAmJiBzZWxlY3Rvcikge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudHMgPSB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG5cbiAgICAgICAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQ6IEhpZ2h0bGlnaHRUcmFuc2Zvcm1SZXN1bHQgPSB0aGlzLmhpZ2hsaWdodFRyYW5zZm9ybVNlcnZpY2UuaGlnaGxpZ2h0KGVsZW1lbnQuaW5uZXJIVE1MLCBzZWFyY2gsIGNsYXNzVG9BcHBseSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jaGFuZ2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVuZGVyZXIuc2V0UHJvcGVydHkoZWxlbWVudCwgJ2lubmVySFRNTCcsIHJlc3VsdC50ZXh0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IElucHV0LCBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIE9uSW5pdCwgUmVuZGVyZXIyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgQXV0aGVudGljYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvYXV0aGVudGljYXRpb24uc2VydmljZSc7XG5cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnW2FkZi1sb2dvdXRdJ1xufSlcbmV4cG9ydCBjbGFzcyBMb2dvdXREaXJlY3RpdmUgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgLyoqIFVyaSB0byBiZSByZWRpcmVjdCBhZnRlciB0aGUgbG9nb3V0IGRlZmF1bHQgdmFsdWUgbG9naW4gKi9cbiAgICBASW5wdXQoKVxuICAgIHJlZGlyZWN0VXJpOiBzdHJpbmcgPSAnL2xvZ2luJztcblxuICAgIC8qKiBFbmFibGUgcmVkaXJlY3QgYWZ0ZXIgbG9nb3V0ICovXG4gICAgQElucHV0KClcbiAgICBlbmFiZWxSZWRpcmVjdDogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSByZW5kZXJlcjogUmVuZGVyZXIyLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgcm91dGVyOiBSb3V0ZXIsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBhdXRoOiBBdXRoZW50aWNhdGlvblNlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KSB7XG4gICAgICAgICAgICB0aGlzLnJlbmRlcmVyLmxpc3Rlbih0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudCwgJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgICAgICAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIHRoaXMubG9nb3V0KCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvZ291dCgpIHtcbiAgICAgICAgdGhpcy5hdXRoLmxvZ291dCgpLnN1YnNjcmliZShcbiAgICAgICAgICAgICgpID0+IHRoaXMucmVkaXJlY3RUb1VyaSgpLFxuICAgICAgICAgICAgKCkgPT4gdGhpcy5yZWRpcmVjdFRvVXJpKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICByZWRpcmVjdFRvVXJpKCkge1xuICAgICAgICBpZiAodGhpcy5lbmFiZWxSZWRpcmVjdCkge1xuICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoW3RoaXMucmVkaXJlY3RVcmldKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIHRzbGludDpkaXNhYmxlOm5vLWlucHV0LXJlbmFtZSAgKi9cblxuaW1wb3J0IHsgRGlyZWN0aXZlLCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIEhvc3RMaXN0ZW5lciwgSW5wdXQsIE9uQ2hhbmdlcywgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNaW5pbWFsTm9kZUVudGl0eSwgTWluaW1hbE5vZGVFbnRyeUVudGl0eSwgRGVsZXRlZE5vZGVFbnRpdHksIERlbGV0ZWROb2RlTWluaW1hbEVudHJ5IH0gZnJvbSAnYWxmcmVzY28tanMtYXBpJztcbmltcG9ydCB7IE9ic2VydmFibGUsIGZvcmtKb2luLCBmcm9tLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQWxmcmVzY29BcGlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvYWxmcmVzY28tYXBpLnNlcnZpY2UnO1xuaW1wb3J0IHsgVHJhbnNsYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvdHJhbnNsYXRpb24uc2VydmljZSc7XG5pbXBvcnQgeyBtYXAsIGNhdGNoRXJyb3IgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmludGVyZmFjZSBQcm9jZXNzZWROb2RlRGF0YSB7XG4gICAgZW50cnk6IE1pbmltYWxOb2RlRW50cnlFbnRpdHkgfCBEZWxldGVkTm9kZU1pbmltYWxFbnRyeTtcbiAgICBzdGF0dXM6IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFByb2Nlc3NTdGF0dXMge1xuICAgIHN1Y2Nlc3M6IFByb2Nlc3NlZE5vZGVEYXRhW107XG4gICAgZmFpbGVkOiBQcm9jZXNzZWROb2RlRGF0YVtdO1xuXG4gICAgc29tZUZhaWxlZCgpO1xuXG4gICAgc29tZVN1Y2NlZWRlZCgpO1xuXG4gICAgb25lRmFpbGVkKCk7XG5cbiAgICBvbmVTdWNjZWVkZWQoKTtcblxuICAgIGFsbFN1Y2NlZWRlZCgpO1xuXG4gICAgYWxsRmFpbGVkKCk7XG59XG5cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnW2FkZi1kZWxldGVdJ1xufSlcbmV4cG9ydCBjbGFzcyBOb2RlRGVsZXRlRGlyZWN0aXZlIGltcGxlbWVudHMgT25DaGFuZ2VzIHtcbiAgICAvKiogQXJyYXkgb2Ygbm9kZXMgdG8gZGVsZXRlLiAqL1xuICAgIEBJbnB1dCgnYWRmLWRlbGV0ZScpXG4gICAgc2VsZWN0aW9uOiBNaW5pbWFsTm9kZUVudGl0eVtdIHwgRGVsZXRlZE5vZGVFbnRpdHlbXTtcblxuICAgIC8qKiBJZiB0cnVlIHRoZW4gdGhlIG5vZGVzIGFyZSBkZWxldGVkIGltbWVkaWF0ZWx5IHJhdGhlciB0aGFuIGJlaW5nIHB1dCBpbiB0aGUgdHJhc2ggKi9cbiAgICBASW5wdXQoKVxuICAgIHBlcm1hbmVudDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqIEVtaXR0ZWQgd2hlbiB0aGUgbm9kZXMgaGF2ZSBiZWVuIGRlbGV0ZWQuICovXG4gICAgQE91dHB1dCgpXG4gICAgZGVsZXRlOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIEBIb3N0TGlzdGVuZXIoJ2NsaWNrJylcbiAgICBvbkNsaWNrKCkge1xuICAgICAgICB0aGlzLnByb2Nlc3ModGhpcy5zZWxlY3Rpb24pO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYWxmcmVzY29BcGlTZXJ2aWNlOiBBbGZyZXNjb0FwaVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSB0cmFuc2xhdGlvbjogVHJhbnNsYXRpb25TZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgZWxlbWVudFJlZjogRWxlbWVudFJlZikge1xuICAgIH1cblxuICAgIG5nT25DaGFuZ2VzKCkge1xuICAgICAgICBpZiAoIXRoaXMuc2VsZWN0aW9uIHx8ICh0aGlzLnNlbGVjdGlvbiAmJiB0aGlzLnNlbGVjdGlvbi5sZW5ndGggPT09IDApKSB7XG4gICAgICAgICAgICB0aGlzLnNldERpc2FibGVBdHRyaWJ1dGUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnYWRmLW5vZGUtcGVybWlzc2lvbicpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXREaXNhYmxlQXR0cmlidXRlKGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0RGlzYWJsZUF0dHJpYnV0ZShkaXNhYmxlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmRpc2FibGVkID0gZGlzYWJsZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHByb2Nlc3Moc2VsZWN0aW9uOiBNaW5pbWFsTm9kZUVudGl0eVtdIHwgRGVsZXRlZE5vZGVFbnRpdHlbXSkge1xuICAgICAgICBpZiAoc2VsZWN0aW9uICYmIHNlbGVjdGlvbi5sZW5ndGgpIHtcblxuICAgICAgICAgICAgY29uc3QgYmF0Y2ggPSB0aGlzLmdldERlbGV0ZU5vZGVzQmF0Y2goc2VsZWN0aW9uKTtcblxuICAgICAgICAgICAgZm9ya0pvaW4oLi4uYmF0Y2gpXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgoZGF0YTogUHJvY2Vzc2VkTm9kZURhdGFbXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwcm9jZXNzZWRJdGVtczogUHJvY2Vzc1N0YXR1cyA9IHRoaXMucHJvY2Vzc1N0YXR1cyhkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRoaXMuZ2V0TWVzc2FnZShwcm9jZXNzZWRJdGVtcyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kZWxldGUuZW1pdChtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RGVsZXRlTm9kZXNCYXRjaChzZWxlY3Rpb246IGFueSk6IE9ic2VydmFibGU8UHJvY2Vzc2VkTm9kZURhdGE+W10ge1xuICAgICAgICByZXR1cm4gc2VsZWN0aW9uLm1hcCgobm9kZSkgPT4gdGhpcy5kZWxldGVOb2RlKG5vZGUpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGRlbGV0ZU5vZGUobm9kZTogTWluaW1hbE5vZGVFbnRpdHkgfCBEZWxldGVkTm9kZUVudGl0eSk6IE9ic2VydmFibGU8UHJvY2Vzc2VkTm9kZURhdGE+IHtcbiAgICAgICAgY29uc3QgaWQgPSAoPGFueT4gbm9kZS5lbnRyeSkubm9kZUlkIHx8IG5vZGUuZW50cnkuaWQ7XG5cbiAgICAgICAgbGV0IHByb21pc2U7XG5cbiAgICAgICAgaWYgKG5vZGUuZW50cnkuaGFzT3duUHJvcGVydHkoJ2FyY2hpdmVkQXQnKSkge1xuICAgICAgICAgICAgcHJvbWlzZSA9IHRoaXMuYWxmcmVzY29BcGlTZXJ2aWNlLm5vZGVzQXBpLnB1cmdlRGVsZXRlZE5vZGUoaWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcHJvbWlzZSA9IHRoaXMuYWxmcmVzY29BcGlTZXJ2aWNlLm5vZGVzQXBpLmRlbGV0ZU5vZGUoaWQsIHsgcGVybWFuZW50OiB0aGlzLnBlcm1hbmVudCB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmcm9tKHByb21pc2UpLnBpcGUoXG4gICAgICAgICAgICBtYXAoKCkgPT4gKHtcbiAgICAgICAgICAgICAgICBlbnRyeTogbm9kZS5lbnRyeSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDFcbiAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoKCkgPT4gb2Yoe1xuICAgICAgICAgICAgICAgIGVudHJ5OiBub2RlLmVudHJ5LFxuICAgICAgICAgICAgICAgIHN0YXR1czogMFxuICAgICAgICAgICAgfSkpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9jZXNzU3RhdHVzKGRhdGEpOiBQcm9jZXNzU3RhdHVzIHtcbiAgICAgICAgY29uc3QgZGVsZXRlU3RhdHVzID0ge1xuICAgICAgICAgICAgc3VjY2VzczogW10sXG4gICAgICAgICAgICBmYWlsZWQ6IFtdLFxuICAgICAgICAgICAgZ2V0IHNvbWVGYWlsZWQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuZmFpbGVkLmxlbmd0aCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHNvbWVTdWNjZWVkZWQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuc3VjY2Vzcy5sZW5ndGgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBvbmVGYWlsZWQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbGVkLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgb25lU3VjY2VlZGVkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnN1Y2Nlc3MubGVuZ3RoID09PSAxO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBhbGxTdWNjZWVkZWQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc29tZVN1Y2NlZWRlZCAmJiAhdGhpcy5zb21lRmFpbGVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBhbGxGYWlsZWQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuc29tZUZhaWxlZCAmJiAhdGhpcy5zb21lU3VjY2VlZGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkYXRhLnJlZHVjZShcbiAgICAgICAgICAgIChhY2MsIG5leHQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobmV4dC5zdGF0dXMgPT09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjLnN1Y2Nlc3MucHVzaChuZXh0KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhY2MuZmFpbGVkLnB1c2gobmV4dCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkZWxldGVTdGF0dXNcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldE1lc3NhZ2Uoc3RhdHVzKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHN0YXR1cy5hbGxGYWlsZWQgJiYgIXN0YXR1cy5vbmVGYWlsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0aW9uLmluc3RhbnQoXG4gICAgICAgICAgICAgICAgJ0NPUkUuREVMRVRFX05PREUuRVJST1JfUExVUkFMJyxcbiAgICAgICAgICAgICAgICB7IG51bWJlcjogc3RhdHVzLmZhaWxlZC5sZW5ndGggfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0dXMuYWxsU3VjY2VlZGVkICYmICFzdGF0dXMub25lU3VjY2VlZGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGlvbi5pbnN0YW50KFxuICAgICAgICAgICAgICAgICdDT1JFLkRFTEVURV9OT0RFLlBMVVJBTCcsXG4gICAgICAgICAgICAgICAgeyBudW1iZXI6IHN0YXR1cy5zdWNjZXNzLmxlbmd0aCB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXR1cy5zb21lRmFpbGVkICYmIHN0YXR1cy5zb21lU3VjY2VlZGVkICYmICFzdGF0dXMub25lU3VjY2VlZGVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGlvbi5pbnN0YW50KFxuICAgICAgICAgICAgICAgICdDT1JFLkRFTEVURV9OT0RFLlBBUlRJQUxfUExVUkFMJyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHN0YXR1cy5zdWNjZXNzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgZmFpbGVkOiBzdGF0dXMuZmFpbGVkLmxlbmd0aFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdHVzLnNvbWVGYWlsZWQgJiYgc3RhdHVzLm9uZVN1Y2NlZWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRpb24uaW5zdGFudChcbiAgICAgICAgICAgICAgICAnQ09SRS5ERUxFVEVfTk9ERS5QQVJUSUFMX1NJTkdVTEFSJyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHN0YXR1cy5zdWNjZXNzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgZmFpbGVkOiBzdGF0dXMuZmFpbGVkLmxlbmd0aFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdHVzLm9uZUZhaWxlZCAmJiAhc3RhdHVzLnNvbWVTdWNjZWVkZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0aW9uLmluc3RhbnQoXG4gICAgICAgICAgICAgICAgJ0NPUkUuREVMRVRFX05PREUuRVJST1JfU0lOR1VMQVInLFxuICAgICAgICAgICAgICAgIHsgbmFtZTogc3RhdHVzLmZhaWxlZFswXS5lbnRyeS5uYW1lIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc3RhdHVzLm9uZVN1Y2NlZWRlZCAmJiAhc3RhdHVzLnNvbWVGYWlsZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0aW9uLmluc3RhbnQoXG4gICAgICAgICAgICAgICAgJ0NPUkUuREVMRVRFX05PREUuU0lOR1VMQVInLFxuICAgICAgICAgICAgICAgIHsgbmFtZTogc3RhdHVzLnN1Y2Nlc3NbMF0uZW50cnkubmFtZSB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyogdHNsaW50OmRpc2FibGU6bm8taW5wdXQtcmVuYW1lICAqL1xuXG5pbXBvcnQgeyBEaXJlY3RpdmUsIEV2ZW50RW1pdHRlciwgSG9zdExpc3RlbmVyLCBJbnB1dCwgT25DaGFuZ2VzLCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZhdm9yaXRlQm9keSwgTWluaW1hbE5vZGVFbnRpdHkgfSBmcm9tICdhbGZyZXNjby1qcy1hcGknO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgZnJvbSwgZm9ya0pvaW4sIG9mIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBBbGZyZXNjb0FwaVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9hbGZyZXNjby1hcGkuc2VydmljZSc7XG5pbXBvcnQgeyBjYXRjaEVycm9yLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnW2FkZi1ub2RlLWZhdm9yaXRlXScsXG4gICAgZXhwb3J0QXM6ICdhZGZGYXZvcml0ZSdcbn0pXG5leHBvcnQgY2xhc3MgTm9kZUZhdm9yaXRlRGlyZWN0aXZlIGltcGxlbWVudHMgT25DaGFuZ2VzIHtcbiAgICBmYXZvcml0ZXM6IGFueVtdID0gW107XG5cbiAgICAvKiogQXJyYXkgb2Ygbm9kZXMgdG8gdG9nZ2xlIGFzIGZhdm9yaXRlcy4gKi9cbiAgICBASW5wdXQoJ2FkZi1ub2RlLWZhdm9yaXRlJylcbiAgICBzZWxlY3Rpb246IE1pbmltYWxOb2RlRW50aXR5W10gPSBbXTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIGZhdm9yaXRlIHNldHRpbmcgaXMgY29tcGxldGUuICovXG4gICAgQE91dHB1dCgpIHRvZ2dsZTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIHRoZSBmYXZvcml0ZSBzZXR0aW5nIGhhcyBmYWlsLiAqL1xuICAgIEBPdXRwdXQoKSBlcnJvcjogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgICBASG9zdExpc3RlbmVyKCdjbGljaycpXG4gICAgb25DbGljaygpIHtcbiAgICAgICAgdGhpcy50b2dnbGVGYXZvcml0ZSgpO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYWxmcmVzY29BcGlTZXJ2aWNlOiBBbGZyZXNjb0FwaVNlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgICAgIGlmICghY2hhbmdlcy5zZWxlY3Rpb24uY3VycmVudFZhbHVlLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhpcy5mYXZvcml0ZXMgPSBbXTtcblxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5tYXJrRmF2b3JpdGVzTm9kZXMoY2hhbmdlcy5zZWxlY3Rpb24uY3VycmVudFZhbHVlKTtcbiAgICB9XG5cbiAgICB0b2dnbGVGYXZvcml0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZhdm9yaXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGV2ZXJ5ID0gdGhpcy5mYXZvcml0ZXMuZXZlcnkoKHNlbGVjdGVkKSA9PiBzZWxlY3RlZC5lbnRyeS5pc0Zhdm9yaXRlKTtcblxuICAgICAgICBpZiAoZXZlcnkpIHtcbiAgICAgICAgICAgIGNvbnN0IGJhdGNoID0gdGhpcy5mYXZvcml0ZXMubWFwKChzZWxlY3RlZCkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIHNoYXJlZCBmaWxlcyBoYXZlIG5vZGVJZFxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gc2VsZWN0ZWQuZW50cnkubm9kZUlkIHx8IHNlbGVjdGVkLmVudHJ5LmlkO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZyb20odGhpcy5hbGZyZXNjb0FwaVNlcnZpY2UuZmF2b3JpdGVzQXBpLnJlbW92ZUZhdm9yaXRlU2l0ZSgnLW1lLScsIGlkKSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZm9ya0pvaW4oYmF0Y2gpLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmF2b3JpdGVzLm1hcChzZWxlY3RlZCA9PiBzZWxlY3RlZC5lbnRyeS5pc0Zhdm9yaXRlID0gZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvZ2dsZS5lbWl0KCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnJvciA9PiB0aGlzLmVycm9yLmVtaXQoZXJyb3IpXG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCFldmVyeSkge1xuICAgICAgICAgICAgY29uc3Qgbm90RmF2b3JpdGUgPSB0aGlzLmZhdm9yaXRlcy5maWx0ZXIoKG5vZGUpID0+ICFub2RlLmVudHJ5LmlzRmF2b3JpdGUpO1xuICAgICAgICAgICAgY29uc3QgYm9keTogRmF2b3JpdGVCb2R5W10gPSBub3RGYXZvcml0ZS5tYXAoKG5vZGUpID0+IHRoaXMuY3JlYXRlRmF2b3JpdGVCb2R5KG5vZGUpKTtcblxuICAgICAgICAgICAgZnJvbSh0aGlzLmFsZnJlc2NvQXBpU2VydmljZS5mYXZvcml0ZXNBcGkuYWRkRmF2b3JpdGUoJy1tZS0nLCA8YW55PiBib2R5KSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub3RGYXZvcml0ZS5tYXAoc2VsZWN0ZWQgPT4gc2VsZWN0ZWQuZW50cnkuaXNGYXZvcml0ZSA9IHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50b2dnbGUuZW1pdCgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvciA9PiB0aGlzLmVycm9yLmVtaXQoZXJyb3IpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1hcmtGYXZvcml0ZXNOb2RlcyhzZWxlY3Rpb246IE1pbmltYWxOb2RlRW50aXR5W10pIHtcbiAgICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPD0gdGhpcy5mYXZvcml0ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBuZXdGYXZvcml0ZXMgPSB0aGlzLnJlZHVjZSh0aGlzLmZhdm9yaXRlcywgc2VsZWN0aW9uKTtcbiAgICAgICAgICAgIHRoaXMuZmF2b3JpdGVzID0gbmV3RmF2b3JpdGVzO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5kaWZmKHNlbGVjdGlvbiwgdGhpcy5mYXZvcml0ZXMpO1xuICAgICAgICBjb25zdCBiYXRjaCA9IHRoaXMuZ2V0UHJvY2Vzc0JhdGNoKHJlc3VsdCk7XG5cbiAgICAgICAgZm9ya0pvaW4oYmF0Y2gpLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICAgIHRoaXMuZmF2b3JpdGVzLnB1c2goLi4uZGF0YSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhc0Zhdm9yaXRlcygpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuZmF2b3JpdGVzICYmICF0aGlzLmZhdm9yaXRlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmZhdm9yaXRlcy5ldmVyeSgoc2VsZWN0ZWQpID0+IHNlbGVjdGVkLmVudHJ5LmlzRmF2b3JpdGUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UHJvY2Vzc0JhdGNoKHNlbGVjdGlvbik6IGFueVtdIHtcbiAgICAgICAgcmV0dXJuIHNlbGVjdGlvbi5tYXAoKHNlbGVjdGVkOiBNaW5pbWFsTm9kZUVudGl0eSkgPT4gdGhpcy5nZXRGYXZvcml0ZShzZWxlY3RlZCkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RmF2b3JpdGUoc2VsZWN0ZWQ6IE1pbmltYWxOb2RlRW50aXR5KTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgY29uc3Qgbm9kZSA9IHNlbGVjdGVkLmVudHJ5O1xuXG4gICAgICAgIC8vIEFDUyA2Lnggd2l0aCAnaXNGYXZvcml0ZScgaW5jbHVkZVxuICAgICAgICBpZiAobm9kZSAmJiBub2RlLmhhc093blByb3BlcnR5KCdpc0Zhdm9yaXRlJykpIHtcbiAgICAgICAgICAgIHJldHVybiBvZihzZWxlY3RlZCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBBQ1MgNS54IGFuZCA2Lnggd2l0aG91dCAnaXNGYXZvcml0ZScgaW5jbHVkZVxuICAgICAgICBjb25zdCB7IG5hbWUsIGlzRmlsZSwgaXNGb2xkZXIgfSA9IG5vZGU7XG4gICAgICAgIC8vIHNoYXJlZCBmaWxlcyBoYXZlIG5vZGVJZFxuICAgICAgICBjb25zdCBpZCA9IG5vZGUubm9kZUlkIHx8IG5vZGUuaWQ7XG5cbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuYWxmcmVzY29BcGlTZXJ2aWNlLmZhdm9yaXRlc0FwaS5nZXRGYXZvcml0ZSgnLW1lLScsIGlkKTtcblxuICAgICAgICByZXR1cm4gZnJvbShwcm9taXNlKS5waXBlKFxuICAgICAgICAgICAgbWFwKCgpID0+ICh7XG4gICAgICAgICAgICAgICAgZW50cnk6IHtcbiAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgIGlzRm9sZGVyLFxuICAgICAgICAgICAgICAgICAgICBpc0ZpbGUsXG4gICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGlzRmF2b3JpdGU6IHRydWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSksXG4gICAgICAgICAgICBjYXRjaEVycm9yKCgpID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2Yoe1xuICAgICAgICAgICAgICAgICAgICBlbnRyeToge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0ZvbGRlcixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzRmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc0Zhdm9yaXRlOiBmYWxzZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlRmF2b3JpdGVCb2R5KG5vZGUpOiBGYXZvcml0ZUJvZHkge1xuICAgICAgICBjb25zdCB0eXBlID0gdGhpcy5nZXROb2RlVHlwZShub2RlKTtcbiAgICAgICAgLy8gc2hhcmVkIGZpbGVzIGhhdmUgbm9kZUlkXG4gICAgICAgIGNvbnN0IGlkID0gbm9kZS5lbnRyeS5ub2RlSWQgfHwgbm9kZS5lbnRyeS5pZDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgICAgICAgW3R5cGVdOiB7XG4gICAgICAgICAgICAgICAgICAgIGd1aWQ6IGlkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Tm9kZVR5cGUobm9kZSk6IHN0cmluZyB7XG4gICAgICAgIC8vIHNoYXJlZCBjb3VsZCBvbmx5IGJlIGZpbGVzXG4gICAgICAgIGlmICghbm9kZS5lbnRyeS5pc0ZpbGUgJiYgIW5vZGUuZW50cnkuaXNGb2xkZXIpIHtcbiAgICAgICAgICAgIHJldHVybiAnZmlsZSc7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbm9kZS5lbnRyeS5pc0ZpbGUgPyAnZmlsZScgOiAnZm9sZGVyJztcbiAgICB9XG5cbiAgICBwcml2YXRlIGRpZmYobGlzdCwgcGF0Y2gpOiBhbnlbXSB7XG4gICAgICAgIGNvbnN0IGlkcyA9IHBhdGNoLm1hcChpdGVtID0+IGl0ZW0uZW50cnkuaWQpO1xuXG4gICAgICAgIHJldHVybiBsaXN0LmZpbHRlcihpdGVtID0+IGlkcy5pbmNsdWRlcyhpdGVtLmVudHJ5LmlkKSA/IG51bGwgOiBpdGVtKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlZHVjZShwYXRjaCwgY29tcGFyYXRvcik6IGFueVtdIHtcbiAgICAgICAgY29uc3QgaWRzID0gY29tcGFyYXRvci5tYXAoaXRlbSA9PiBpdGVtLmVudHJ5LmlkKTtcblxuICAgICAgICByZXR1cm4gcGF0Y2guZmlsdGVyKGl0ZW0gPT4gaWRzLmluY2x1ZGVzKGl0ZW0uZW50cnkuaWQpID8gaXRlbSA6IG51bGwpO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgSW5qZWN0aW9uVG9rZW4gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuZXhwb3J0IGNvbnN0IEVYVEVORElCTEVfQ09NUE9ORU5UID0gbmV3IEluamVjdGlvblRva2VuPENvbXBvbmVudD4oJ2V4dGVuZGlibGUuY29tcG9uZW50Jyk7XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby1pbnB1dC1yZW5hbWUgICovXG5cbmltcG9ydCB7IENoYW5nZURldGVjdG9yUmVmLCBEaXJlY3RpdmUsIEVsZW1lbnRSZWYsIEhvc3QsIEluamVjdCwgSW5wdXQsIE9uQ2hhbmdlcywgT3B0aW9uYWwsIFJlbmRlcmVyMiwgIFNpbXBsZUNoYW5nZXMgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1pbmltYWxOb2RlRW50aXR5IH0gZnJvbSAnYWxmcmVzY28tanMtYXBpJztcbmltcG9ydCB7IENvbnRlbnRTZXJ2aWNlIH0gZnJvbSAnLi8uLi9zZXJ2aWNlcy9jb250ZW50LnNlcnZpY2UnO1xuaW1wb3J0IHsgRVhURU5ESUJMRV9DT01QT05FTlQgfSBmcm9tICcuLy4uL2ludGVyZmFjZS9pbmplY3Rpb24udG9rZW5zJztcblxuZXhwb3J0IGludGVyZmFjZSBOb2RlUGVybWlzc2lvblN1YmplY3Qge1xuICAgIGRpc2FibGVkOiBib29sZWFuO1xufVxuXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogJ1thZGYtbm9kZS1wZXJtaXNzaW9uXSdcbn0pXG5leHBvcnQgY2xhc3MgTm9kZVBlcm1pc3Npb25EaXJlY3RpdmUgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xuXG4gICAgLyoqIE5vZGUgcGVybWlzc2lvbiB0byBjaGVjayAoY3JlYXRlLCBkZWxldGUsIHVwZGF0ZSwgdXBkYXRlUGVybWlzc2lvbnMsXG4gICAgICogIWNyZWF0ZSwgIWRlbGV0ZSwgIXVwZGF0ZSwgIXVwZGF0ZVBlcm1pc3Npb25zKS5cbiAgICAgKi9cbiAgICBASW5wdXQoJ2FkZi1ub2RlLXBlcm1pc3Npb24nKVxuICAgIHBlcm1pc3Npb246IHN0cmluZyAgPSBudWxsO1xuXG4gICAgLyoqIE5vZGVzIHRvIGNoZWNrIHBlcm1pc3Npb24gZm9yLiAqL1xuICAgIEBJbnB1dCgnYWRmLW5vZGVzJylcbiAgICBub2RlczogTWluaW1hbE5vZGVFbnRpdHlbXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyMixcbiAgICAgICAgICAgICAgICBwcml2YXRlIGNvbnRlbnRTZXJ2aWNlOiBDb250ZW50U2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGNoYW5nZURldGVjdG9yOiBDaGFuZ2VEZXRlY3RvclJlZixcblxuICAgICAgICAgICAgICAgIEBIb3N0KClcbiAgICAgICAgICAgICAgICBAT3B0aW9uYWwoKVxuICAgICAgICAgICAgICAgIEBJbmplY3QoRVhURU5ESUJMRV9DT01QT05FTlQpIHByaXZhdGUgcGFyZW50Q29tcG9uZW50PzogTm9kZVBlcm1pc3Npb25TdWJqZWN0KSB7XG4gICAgfVxuXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xuICAgICAgICBpZiAoY2hhbmdlcy5ub2RlcyAmJiAhY2hhbmdlcy5ub2Rlcy5maXJzdENoYW5nZSkge1xuICAgICAgICAgICAgdGhpcy51cGRhdGVFbGVtZW50KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGVzIGRpc2FibGVkIHN0YXRlIGZvciB0aGUgZGVjb3JhdGVkIGVsZW1lbXRuXG4gICAgICpcbiAgICAgKiBAbWVtYmVyb2YgTm9kZVBlcm1pc3Npb25EaXJlY3RpdmVcbiAgICAgKi9cbiAgICB1cGRhdGVFbGVtZW50KCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgZW5hYmxlID0gdGhpcy5oYXNQZXJtaXNzaW9uKHRoaXMubm9kZXMsIHRoaXMucGVybWlzc2lvbik7XG5cbiAgICAgICAgaWYgKGVuYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5lbmFibGUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGVuYWJsZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGVuYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50Q29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudENvbXBvbmVudC5kaXNhYmxlZCA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5jaGFuZ2VEZXRlY3Rvci5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZUVsZW1lbnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZGlzYWJsZSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMucGFyZW50Q29tcG9uZW50KSB7XG4gICAgICAgICAgICB0aGlzLnBhcmVudENvbXBvbmVudC5kaXNhYmxlZCA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLmNoYW5nZURldGVjdG9yLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZGlzYWJsZUVsZW1lbnQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgZGVjb3JhdGVkIGVsZW1lbnRcbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBOb2RlUGVybWlzc2lvbkRpcmVjdGl2ZVxuICAgICAqL1xuICAgIGVuYWJsZUVsZW1lbnQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIucmVtb3ZlQXR0cmlidXRlKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LCAnZGlzYWJsZWQnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEaXNhYmxlcyBkZWNvcmF0ZWQgZWxlbWVudFxuICAgICAqXG4gICAgICogQG1lbWJlcm9mIE5vZGVQZXJtaXNzaW9uRGlyZWN0aXZlXG4gICAgICovXG4gICAgZGlzYWJsZUVsZW1lbnQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVuZGVyZXIuc2V0QXR0cmlidXRlKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LCAnZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyB3aGV0aGVyIGFsbCBub2RlcyBoYXZlIGEgcGFydGljdWxhciBwZXJtaXNzaW9uXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIG5vZGVzIE5vZGUgY29sbGVjdGlvbiB0byBjaGVja1xuICAgICAqIEBwYXJhbSAgcGVybWlzc2lvbiBQZXJtaXNzaW9uIHRvIGNoZWNrIGZvciBlYWNoIG5vZGVcbiAgICAgKiBAbWVtYmVyb2YgTm9kZVBlcm1pc3Npb25EaXJlY3RpdmVcbiAgICAgKi9cbiAgICBoYXNQZXJtaXNzaW9uKG5vZGVzOiBNaW5pbWFsTm9kZUVudGl0eVtdLCBwZXJtaXNzaW9uOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKG5vZGVzICYmIG5vZGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBub2Rlcy5ldmVyeShub2RlID0+IHRoaXMuY29udGVudFNlcnZpY2UuaGFzUGVybWlzc2lvbihub2RlLmVudHJ5LCBwZXJtaXNzaW9uKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yIG5vLWlucHV0LXJlbmFtZSAqL1xuXG5pbXBvcnQgeyBEaXJlY3RpdmUsIEV2ZW50RW1pdHRlciwgSG9zdExpc3RlbmVyLCBJbnB1dCwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEZWxldGVkTm9kZUVudHJ5LCBEZWxldGVkTm9kZXNQYWdpbmcsIFBhdGhJbmZvRW50aXR5IH0gZnJvbSAnYWxmcmVzY28tanMtYXBpJztcbmltcG9ydCB7IE9ic2VydmFibGUsIGZvcmtKb2luLCBmcm9tLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQWxmcmVzY29BcGlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvYWxmcmVzY28tYXBpLnNlcnZpY2UnO1xuaW1wb3J0IHsgVHJhbnNsYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvdHJhbnNsYXRpb24uc2VydmljZSc7XG5pbXBvcnQgeyB0YXAsIG1lcmdlTWFwLCBtYXAsIGNhdGNoRXJyb3IgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbmV4cG9ydCBjbGFzcyBSZXN0b3JlTWVzc2FnZU1vZGVsIHtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgcGF0aDogUGF0aEluZm9FbnRpdHk7XG4gICAgYWN0aW9uOiBzdHJpbmc7XG59XG5cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnW2FkZi1yZXN0b3JlXSdcbn0pXG5leHBvcnQgY2xhc3MgTm9kZVJlc3RvcmVEaXJlY3RpdmUge1xuICAgIHByaXZhdGUgcmVzdG9yZVByb2Nlc3NTdGF0dXM7XG5cbiAgICAvKiogQXJyYXkgb2YgZGVsZXRlZCBub2RlcyB0byByZXN0b3JlLiAqL1xuICAgIEBJbnB1dCgnYWRmLXJlc3RvcmUnKVxuICAgIHNlbGVjdGlvbjogRGVsZXRlZE5vZGVFbnRyeVtdO1xuXG4gICAgLyoqXG4gICAgICogUGF0aCB0byByZXN0b3JlZCBub2RlLlxuICAgICAqIEBkZXByZWNhdGVkIDIuNC4wXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBsb2NhdGlvbjogc3RyaW5nID0gJyc7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIHJlc3RvcmF0aW9uIGlzIGNvbXBsZXRlLiAqL1xuICAgIEBPdXRwdXQoKVxuICAgIHJlc3RvcmU6IEV2ZW50RW1pdHRlcjxSZXN0b3JlTWVzc2FnZU1vZGVsPiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIEBIb3N0TGlzdGVuZXIoJ2NsaWNrJylcbiAgICBvbkNsaWNrKCkge1xuICAgICAgICB0aGlzLnJlY292ZXIodGhpcy5zZWxlY3Rpb24pO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYWxmcmVzY29BcGlTZXJ2aWNlOiBBbGZyZXNjb0FwaVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSB0cmFuc2xhdGlvbjogVHJhbnNsYXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHRoaXMucmVzdG9yZVByb2Nlc3NTdGF0dXMgPSB0aGlzLnByb2Nlc3NTdGF0dXMoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlY292ZXIoc2VsZWN0aW9uOiBhbnkpIHtcbiAgICAgICAgaWYgKCFzZWxlY3Rpb24ubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBub2Rlc1dpdGhQYXRoID0gdGhpcy5nZXROb2Rlc1dpdGhQYXRoKHNlbGVjdGlvbik7XG5cbiAgICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggJiYgbm9kZXNXaXRoUGF0aC5sZW5ndGgpIHtcblxuICAgICAgICAgICAgdGhpcy5yZXN0b3JlTm9kZXNCYXRjaChub2Rlc1dpdGhQYXRoKS5waXBlKFxuICAgICAgICAgICAgICAgIHRhcChyZXN0b3JlZE5vZGVzID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gdGhpcy5wcm9jZXNzU3RhdHVzKHJlc3RvcmVkTm9kZXMpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzdG9yZVByb2Nlc3NTdGF0dXMuZmFpbC5wdXNoKC4uLnN0YXR1cy5mYWlsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN0b3JlUHJvY2Vzc1N0YXR1cy5zdWNjZXNzLnB1c2goLi4uc3RhdHVzLnN1Y2Nlc3MpO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG1lcmdlTWFwKCgpID0+IHRoaXMuZ2V0RGVsZXRlZE5vZGVzKCkpXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuc3Vic2NyaWJlKGRlbGV0ZWROb2Rlc0xpc3QgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHsgZW50cmllczogbm9kZWxpc3QgfSA9IGRlbGV0ZWROb2Rlc0xpc3QubGlzdDtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGZhaWw6IHJlc3RvcmVFcnJvck5vZGVzIH0gPSB0aGlzLnJlc3RvcmVQcm9jZXNzU3RhdHVzO1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlbGVjdGVkTm9kZXMgPSB0aGlzLmRpZmYocmVzdG9yZUVycm9yTm9kZXMsIHNlbGVjdGlvbiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbWFpbmluZ05vZGVzID0gdGhpcy5kaWZmKHNlbGVjdGVkTm9kZXMsIG5vZGVsaXN0KTtcblxuICAgICAgICAgICAgICAgIGlmICghcmVtYWluaW5nTm9kZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWNvdmVyKHJlbWFpbmluZ05vZGVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucmVzdG9yZVByb2Nlc3NTdGF0dXMuZmFpbC5wdXNoKC4uLnNlbGVjdGlvbik7XG4gICAgICAgICAgICB0aGlzLm5vdGlmaWNhdGlvbigpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXN0b3JlTm9kZXNCYXRjaChiYXRjaDogRGVsZXRlZE5vZGVFbnRyeVtdKTogT2JzZXJ2YWJsZTxEZWxldGVkTm9kZUVudHJ5W10+IHtcbiAgICAgICAgcmV0dXJuIGZvcmtKb2luKGJhdGNoLm1hcCgobm9kZSkgPT4gdGhpcy5yZXN0b3JlTm9kZShub2RlKSkpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Tm9kZXNXaXRoUGF0aChzZWxlY3Rpb24pOiBEZWxldGVkTm9kZUVudHJ5W10ge1xuICAgICAgICByZXR1cm4gc2VsZWN0aW9uLmZpbHRlcigobm9kZSkgPT4gbm9kZS5lbnRyeS5wYXRoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldERlbGV0ZWROb2RlcygpOiBPYnNlcnZhYmxlPERlbGV0ZWROb2Rlc1BhZ2luZz4ge1xuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5hbGZyZXNjb0FwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKVxuICAgICAgICAgICAgLmNvcmUubm9kZXNBcGkuZ2V0RGVsZXRlZE5vZGVzKHsgaW5jbHVkZTogWydwYXRoJ10gfSk7XG5cbiAgICAgICAgcmV0dXJuIGZyb20ocHJvbWlzZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXN0b3JlTm9kZShub2RlKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgY29uc3QgeyBlbnRyeSB9ID0gbm9kZTtcblxuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5hbGZyZXNjb0FwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5ub2Rlcy5yZXN0b3JlTm9kZShlbnRyeS5pZCk7XG5cbiAgICAgICAgcmV0dXJuIGZyb20ocHJvbWlzZSkucGlwZShcbiAgICAgICAgICAgIG1hcCgoKSA9PiAoe1xuICAgICAgICAgICAgICAgIHN0YXR1czogMSxcbiAgICAgICAgICAgICAgICBlbnRyeVxuICAgICAgICAgICAgfSkpLFxuICAgICAgICAgICAgY2F0Y2hFcnJvcigoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IHN0YXR1c0NvZGUgfSA9IChKU09OLnBhcnNlKGVycm9yLm1lc3NhZ2UpKS5lcnJvcjtcblxuICAgICAgICAgICAgICAgIHJldHVybiBvZih7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogMCxcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzQ29kZSxcbiAgICAgICAgICAgICAgICAgICAgZW50cnlcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBkaWZmKHNlbGVjdGlvbiwgbGlzdCwgZnJvbUxpc3QgPSB0cnVlKTogYW55IHtcbiAgICAgICAgY29uc3QgaWRzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0uZW50cnkuaWQpO1xuXG4gICAgICAgIHJldHVybiBsaXN0LmZpbHRlcihpdGVtID0+IHtcbiAgICAgICAgICAgIGlmIChmcm9tTGlzdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpZHMuaW5jbHVkZXMoaXRlbS5lbnRyeS5pZCkgPyBpdGVtIDogbnVsbDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICFpZHMuaW5jbHVkZXMoaXRlbS5lbnRyeS5pZCkgPyBpdGVtIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm9jZXNzU3RhdHVzKGRhdGEgPSBbXSk6IGFueSB7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IHtcbiAgICAgICAgICAgIGZhaWw6IFtdLFxuICAgICAgICAgICAgc3VjY2VzczogW10sXG4gICAgICAgICAgICBnZXQgc29tZUZhaWxlZCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gISEodGhpcy5mYWlsLmxlbmd0aCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IHNvbWVTdWNjZWVkZWQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuICEhKHRoaXMuc3VjY2Vzcy5sZW5ndGgpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBvbmVGYWlsZWQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmFpbC5sZW5ndGggPT09IDE7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0IG9uZVN1Y2NlZWRlZCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zdWNjZXNzLmxlbmd0aCA9PT0gMTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgYWxsU3VjY2VlZGVkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNvbWVTdWNjZWVkZWQgJiYgIXRoaXMuc29tZUZhaWxlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgYWxsRmFpbGVkKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNvbWVGYWlsZWQgJiYgIXRoaXMuc29tZVN1Y2NlZWRlZDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXNldCgpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZhaWwgPSBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3MgPSBbXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZGF0YS5yZWR1Y2UoXG4gICAgICAgICAgICAoYWNjLCBub2RlKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUuc3RhdHVzKSB7XG4gICAgICAgICAgICAgICAgICAgIGFjYy5zdWNjZXNzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjLmZhaWwucHVzaChub2RlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHN0YXR1c1xuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UmVzdG9yZU1lc3NhZ2UoKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgeyByZXN0b3JlUHJvY2Vzc1N0YXR1czogc3RhdHVzIH0gPSB0aGlzO1xuXG4gICAgICAgIGlmIChzdGF0dXMuc29tZUZhaWxlZCAmJiAhc3RhdHVzLm9uZUZhaWxlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRpb24uaW5zdGFudChcbiAgICAgICAgICAgICAgICAnQ09SRS5SRVNUT1JFX05PREUuUEFSVElBTF9QTFVSQUwnLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyOiBzdGF0dXMuZmFpbC5sZW5ndGhcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXR1cy5vbmVGYWlsZWQgJiYgc3RhdHVzLmZhaWxbMF0uc3RhdHVzQ29kZSkge1xuICAgICAgICAgICAgaWYgKHN0YXR1cy5mYWlsWzBdLnN0YXR1c0NvZGUgPT09IDQwOSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0aW9uLmluc3RhbnQoXG4gICAgICAgICAgICAgICAgICAgICdDT1JFLlJFU1RPUkVfTk9ERS5OT0RFX0VYSVNUUycsXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHN0YXR1cy5mYWlsWzBdLmVudHJ5Lm5hbWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0aW9uLmluc3RhbnQoXG4gICAgICAgICAgICAgICAgICAgICdDT1JFLlJFU1RPUkVfTk9ERS5HRU5FUklDJyxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogc3RhdHVzLmZhaWxbMF0uZW50cnkubmFtZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzdGF0dXMub25lRmFpbGVkICYmICFzdGF0dXMuZmFpbFswXS5zdGF0dXNDb2RlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy50cmFuc2xhdGlvbi5pbnN0YW50KFxuICAgICAgICAgICAgICAgICdDT1JFLlJFU1RPUkVfTk9ERS5MT0NBVElPTl9NSVNTSU5HJyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IHN0YXR1cy5mYWlsWzBdLmVudHJ5Lm5hbWVcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXR1cy5hbGxTdWNjZWVkZWQgJiYgIXN0YXR1cy5vbmVTdWNjZWVkZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnRyYW5zbGF0aW9uLmluc3RhbnQoJ0NPUkUuUkVTVE9SRV9OT0RFLlBMVVJBTCcpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHN0YXR1cy5hbGxTdWNjZWVkZWQgJiYgc3RhdHVzLm9uZVN1Y2NlZWRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMudHJhbnNsYXRpb24uaW5zdGFudChcbiAgICAgICAgICAgICAgICAnQ09SRS5SRVNUT1JFX05PREUuU0lOR1VMQVInLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogc3RhdHVzLnN1Y2Nlc3NbMF0uZW50cnkubmFtZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG5vdGlmaWNhdGlvbigpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gT2JqZWN0LmFzc2lnbih7fSwgdGhpcy5yZXN0b3JlUHJvY2Vzc1N0YXR1cyk7XG5cbiAgICAgICAgbGV0IG1lc3NhZ2UgPSB0aGlzLmdldFJlc3RvcmVNZXNzYWdlKCk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICBjb25zdCBhY3Rpb24gPSAoc3RhdHVzLm9uZVN1Y2NlZWRlZCAmJiAhc3RhdHVzLnNvbWVGYWlsZWQpID8gdGhpcy50cmFuc2xhdGlvbi5pbnN0YW50KCdDT1JFLlJFU1RPUkVfTk9ERS5WSUVXJykgOiAnJztcblxuICAgICAgICBsZXQgcGF0aDtcbiAgICAgICAgaWYgKHN0YXR1cy5zdWNjZXNzICYmIHN0YXR1cy5zdWNjZXNzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHBhdGggPSBzdGF0dXMuc3VjY2Vzc1swXS5lbnRyeS5wYXRoO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVzdG9yZS5lbWl0KHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsXG4gICAgICAgICAgICBhY3Rpb246IGFjdGlvbixcbiAgICAgICAgICAgIHBhdGg6IHBhdGhcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNldCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZXN0b3JlUHJvY2Vzc1N0YXR1cy5yZXNldCgpO1xuICAgICAgICB0aGlzLnNlbGVjdGlvbiA9IFtdO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIHRzbGludDpkaXNhYmxlOm5vLWlucHV0LXJlbmFtZSAgKi9cblxuaW1wb3J0IHsgRGlyZWN0aXZlLCBFbGVtZW50UmVmLCBIb3N0TGlzdGVuZXIsIElucHV0LCBOZ1pvbmUsIE9uRGVzdHJveSwgT25Jbml0LCBSZW5kZXJlcjIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZpbGVJbmZvLCBGaWxlVXRpbHMgfSBmcm9tICcuLi91dGlscy9maWxlLXV0aWxzJztcblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdbYWRmLXVwbG9hZF0nXG59KVxuZXhwb3J0IGNsYXNzIFVwbG9hZERpcmVjdGl2ZSBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcblxuICAgIC8qKiBFbmFibGVzL2Rpc2FibGVzIHVwbG9hZGluZy4gKi9cbiAgICBASW5wdXQoJ2FkZi11cGxvYWQnKVxuICAgIGVuYWJsZWQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLyoqIERhdGEgdG8gdXBsb2FkLiAqL1xuICAgIEBJbnB1dCgnYWRmLXVwbG9hZC1kYXRhJylcbiAgICBkYXRhOiBhbnk7XG5cbiAgICAvKiogVXBsb2FkIG1vZGUuIENhbiBiZSBcImRyb3BcIiAocmVjZWl2ZXMgZHJvcHBlZCBmaWxlcykgb3IgXCJjbGlja1wiXG4gICAgICogKGNsaWNraW5nIG9wZW5zIGEgZmlsZSBkaWFsb2cpLiBCb3RoIG1vZGVzIGNhbiBiZSBhY3RpdmUgYXQgb25jZS5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG1vZGU6IHN0cmluZ1tdID0gWydkcm9wJ107IC8vIGNsaWNrfGRyb3BcblxuICAgIC8qKiBUb2dnbGVzIG11bHRpcGxlIGZpbGUgdXBsb2Fkcy4gKi9cbiAgICBASW5wdXQoKVxuICAgIG11bHRpcGxlOiBib29sZWFuO1xuXG4gICAgLyoqIChDbGljayBtb2RlIG9ubHkpIE1JTUUgdHlwZSBmaWx0ZXIgZm9yIGZpbGVzIHRvIGFjY2VwdC4gKi9cbiAgICBASW5wdXQoKVxuICAgIGFjY2VwdDogc3RyaW5nO1xuXG4gICAgLyoqIChDbGljayBtb2RlIG9ubHkpIFRvZ2dsZXMgdXBsb2FkaW5nIG9mIGRpcmVjdG9yaWVzLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgZGlyZWN0b3J5OiBib29sZWFuO1xuXG4gICAgaXNEcmFnZ2luZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcHJpdmF0ZSBjc3NDbGFzc05hbWU6IHN0cmluZyA9ICdhZGYtdXBsb2FkX19kcmFnZ2luZyc7XG4gICAgcHJpdmF0ZSB1cGxvYWQ6IEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZWw6IEVsZW1lbnRSZWYsIHByaXZhdGUgcmVuZGVyZXI6IFJlbmRlcmVyMiwgcHJpdmF0ZSBuZ1pvbmU6IE5nWm9uZSkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSBlbC5uYXRpdmVFbGVtZW50O1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAodGhpcy5pc0NsaWNrTW9kZSgpICYmIHRoaXMucmVuZGVyZXIpIHtcbiAgICAgICAgICAgIGxldCBpbnB1dFVwbG9hZCA9IHRoaXMucmVuZGVyZXIuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkID0gdGhpcy5lbC5uYXRpdmVFbGVtZW50LnBhcmVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoaW5wdXRVcGxvYWQpO1xuXG4gICAgICAgICAgICB0aGlzLnVwbG9hZC50eXBlID0gJ2ZpbGUnO1xuICAgICAgICAgICAgdGhpcy51cGxvYWQuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIHRoaXMudXBsb2FkLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGUgPT4gdGhpcy5vblNlbGVjdEZpbGVzKGUpKTtcblxuICAgICAgICAgICAgaWYgKHRoaXMubXVsdGlwbGUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwbG9hZC5zZXRBdHRyaWJ1dGUoJ211bHRpcGxlJywgJycpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5hY2NlcHQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnVwbG9hZC5zZXRBdHRyaWJ1dGUoJ2FjY2VwdCcsIHRoaXMuYWNjZXB0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuZGlyZWN0b3J5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy51cGxvYWQuc2V0QXR0cmlidXRlKCd3ZWJraXRkaXJlY3RvcnknLCAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5pc0Ryb3BNb2RlKCkpIHtcbiAgICAgICAgICAgIHRoaXMubmdab25lLnJ1bk91dHNpZGVBbmd1bGFyKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2VudGVyJywgdGhpcy5vbkRyYWdFbnRlci5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCB0aGlzLm9uRHJhZ092ZXIuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIHRoaXMub25EcmFnTGVhdmUuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCB0aGlzLm9uRHJvcC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCB0aGlzLm9uRHJhZ0VudGVyKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdvdmVyJywgdGhpcy5vbkRyYWdPdmVyKTtcbiAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdsZWF2ZScsIHRoaXMub25EcmFnTGVhdmUpO1xuICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZHJvcCcsIHRoaXMub25Ecm9wKTtcbiAgICB9XG5cbiAgICBASG9zdExpc3RlbmVyKCdjbGljaycsIFsnJGV2ZW50J10pXG4gICAgb25DbGljayhldmVudDogRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNDbGlja01vZGUoKSAmJiB0aGlzLnVwbG9hZCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMudXBsb2FkLmNsaWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkRyYWdFbnRlcihldmVudDogRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNEcm9wTW9kZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmNzc0NsYXNzTmFtZSk7XG4gICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25EcmFnT3ZlcihldmVudDogRXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgaWYgKHRoaXMuaXNEcm9wTW9kZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLmNzc0NsYXNzTmFtZSk7XG4gICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBvbkRyYWdMZWF2ZShldmVudCkge1xuICAgICAgICBpZiAodGhpcy5pc0Ryb3BNb2RlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuY3NzQ2xhc3NOYW1lKTtcbiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2luZyA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Ecm9wKGV2ZW50OiBFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5pc0Ryb3BNb2RlKCkpIHtcblxuICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLmNzc0NsYXNzTmFtZSk7XG4gICAgICAgICAgICB0aGlzLmlzRHJhZ2dpbmcgPSBmYWxzZTtcblxuICAgICAgICAgICAgY29uc3QgZGF0YVRyYW5mZXIgPSB0aGlzLmdldERhdGFUcmFuc2ZlcihldmVudCk7XG4gICAgICAgICAgICBpZiAoZGF0YVRyYW5mZXIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldEZpbGVzRHJvcHBlZChkYXRhVHJhbmZlcikudGhlbihmaWxlcyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25VcGxvYWRGaWxlcyhmaWxlcyk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgb25VcGxvYWRGaWxlcyhmaWxlczogRmlsZUluZm9bXSkge1xuICAgICAgICBpZiAodGhpcy5lbmFibGVkICYmIGZpbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGxldCBlID0gbmV3IEN1c3RvbUV2ZW50KCd1cGxvYWQtZmlsZXMnLCB7XG4gICAgICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgICAgIHNlbmRlcjogdGhpcyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogdGhpcy5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBmaWxlczogZmlsZXNcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGJ1YmJsZXM6IHRydWVcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmVsLm5hdGl2ZUVsZW1lbnQuZGlzcGF0Y2hFdmVudChlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBoYXNNb2RlKG1vZGU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lbmFibGVkICYmIG1vZGUgJiYgdGhpcy5tb2RlICYmIHRoaXMubW9kZS5pbmRleE9mKG1vZGUpID4gLTE7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIGlzRHJvcE1vZGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc01vZGUoJ2Ryb3AnKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaXNDbGlja01vZGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc01vZGUoJ2NsaWNrJyk7XG4gICAgfVxuXG4gICAgZ2V0RGF0YVRyYW5zZmVyKGV2ZW50OiBFdmVudCB8IGFueSk6IERhdGFUcmFuc2ZlciB7XG4gICAgICAgIGlmIChldmVudCAmJiBldmVudC5kYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudC5kYXRhVHJhbnNmZXI7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50ICYmIGV2ZW50Lm9yaWdpbmFsRXZlbnQgJiYgZXZlbnQub3JpZ2luYWxFdmVudC5kYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBldmVudC5vcmlnaW5hbEV2ZW50LmRhdGFUcmFuc2ZlcjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeHRyYWN0IGZpbGVzIGZyb20gdGhlIERhdGFUcmFuc2ZlciBvYmplY3QgdXNlZCB0byBob2xkIHRoZSBkYXRhIHRoYXQgaXMgYmVpbmcgZHJhZ2dlZCBkdXJpbmcgYSBkcmFnIGFuZCBkcm9wIG9wZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0gZGF0YVRyYW5zZmVyIERhdGFUcmFuc2ZlciBvYmplY3RcbiAgICAgKi9cbiAgICBnZXRGaWxlc0Ryb3BwZWQoZGF0YVRyYW5zZmVyOiBEYXRhVHJhbnNmZXIpOiBQcm9taXNlPEZpbGVJbmZvW10+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgY29uc3QgaXRlcmF0aW9ucyA9IFtdO1xuXG4gICAgICAgICAgICBpZiAoZGF0YVRyYW5zZmVyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaXRlbXMgPSBkYXRhVHJhbnNmZXIuaXRlbXM7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaXRlbXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaXRlbXNbaV0ud2Via2l0R2V0QXNFbnRyeSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IGl0ZW1zW2ldLndlYmtpdEdldEFzRW50cnkoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaXRlbS5pc0ZpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnMucHVzaChQcm9taXNlLnJlc29sdmUoPEZpbGVJbmZvPiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnk6IGl0ZW0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTogaXRlbXNbaV0uZ2V0QXNGaWxlKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVGb2xkZXI6ICcvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0uaXNEaXJlY3RvcnkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnMucHVzaChuZXcgUHJvbWlzZShyZXNvbHZlRm9sZGVyID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBGaWxlVXRpbHMuZmxhdHRlcm4oaXRlbSkudGhlbihmaWxlcyA9PiByZXNvbHZlRm9sZGVyKGZpbGVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZXJhdGlvbnMucHVzaChQcm9taXNlLnJlc29sdmUoPEZpbGVJbmZvPiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVudHJ5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlOiBpdGVtc1tpXS5nZXRBc0ZpbGUoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmVGb2xkZXI6ICcvJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHNhZmFyaSBvciBGRlxuICAgICAgICAgICAgICAgICAgICBsZXQgZmlsZXMgPSBGaWxlVXRpbHNcbiAgICAgICAgICAgICAgICAgICAgICAgIC50b0ZpbGVBcnJheShkYXRhVHJhbnNmZXIuZmlsZXMpXG4gICAgICAgICAgICAgICAgICAgICAgICAubWFwKGZpbGUgPT4gPEZpbGVJbmZvPiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW50cnk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZmlsZTogZmlsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWxhdGl2ZUZvbGRlcjogJy8nXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICBpdGVyYXRpb25zLnB1c2goUHJvbWlzZS5yZXNvbHZlKGZpbGVzKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBQcm9taXNlLmFsbChpdGVyYXRpb25zKS50aGVuKHJlc3VsdCA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQucmVkdWNlKChhLCBiKSA9PiBhLmNvbmNhdChiKSwgW10pKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gdXNlciBzZWxlY3RzIGZpbGVzIG9yIGZvbGRlcnMgYnkgbWVhbnMgb2YgRmlsZSBEaWFsb2dcbiAgICAgKiBAcGFyYW0gZSBET00gZXZlbnRcbiAgICAgKi9cbiAgICBvblNlbGVjdEZpbGVzKGU6IGFueSk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5pc0NsaWNrTW9kZSgpKSB7XG4gICAgICAgICAgICBjb25zdCBpbnB1dCA9ICg8SFRNTElucHV0RWxlbWVudD4gZS5jdXJyZW50VGFyZ2V0KTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVzID0gRmlsZVV0aWxzLnRvRmlsZUFycmF5KGlucHV0LmZpbGVzKTtcbiAgICAgICAgICAgIHRoaXMub25VcGxvYWRGaWxlcyhmaWxlcy5tYXAoZmlsZSA9PiA8RmlsZUluZm8+IHtcbiAgICAgICAgICAgICAgICBlbnRyeTogbnVsbCxcbiAgICAgICAgICAgICAgICBmaWxlOiBmaWxlLFxuICAgICAgICAgICAgICAgIHJlbGF0aXZlRm9sZGVyOiAnLydcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlID0gJyc7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdGVyaWFsTW9kdWxlIH0gZnJvbSAnLi4vbWF0ZXJpYWwubW9kdWxlJztcblxuaW1wb3J0IHsgSGlnaGxpZ2h0RGlyZWN0aXZlIH0gZnJvbSAnLi9oaWdobGlnaHQuZGlyZWN0aXZlJztcbmltcG9ydCB7IExvZ291dERpcmVjdGl2ZSB9IGZyb20gJy4vbG9nb3V0LmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBOb2RlRGVsZXRlRGlyZWN0aXZlIH0gZnJvbSAnLi9ub2RlLWRlbGV0ZS5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgTm9kZUZhdm9yaXRlRGlyZWN0aXZlIH0gZnJvbSAnLi9ub2RlLWZhdm9yaXRlLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBOb2RlUGVybWlzc2lvbkRpcmVjdGl2ZSB9IGZyb20gJy4vbm9kZS1wZXJtaXNzaW9uLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBOb2RlUmVzdG9yZURpcmVjdGl2ZSB9IGZyb20gJy4vbm9kZS1yZXN0b3JlLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBVcGxvYWREaXJlY3RpdmUgfSBmcm9tICcuL3VwbG9hZC5kaXJlY3RpdmUnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBNYXRlcmlhbE1vZHVsZVxuICAgIF0sXG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIEhpZ2hsaWdodERpcmVjdGl2ZSxcbiAgICAgICAgTG9nb3V0RGlyZWN0aXZlLFxuICAgICAgICBOb2RlRGVsZXRlRGlyZWN0aXZlLFxuICAgICAgICBOb2RlRmF2b3JpdGVEaXJlY3RpdmUsXG4gICAgICAgIE5vZGVQZXJtaXNzaW9uRGlyZWN0aXZlLFxuICAgICAgICBOb2RlUmVzdG9yZURpcmVjdGl2ZSxcbiAgICAgICAgVXBsb2FkRGlyZWN0aXZlXG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIEhpZ2hsaWdodERpcmVjdGl2ZSxcbiAgICAgICAgTG9nb3V0RGlyZWN0aXZlLFxuICAgICAgICBOb2RlRGVsZXRlRGlyZWN0aXZlLFxuICAgICAgICBOb2RlRmF2b3JpdGVEaXJlY3RpdmUsXG4gICAgICAgIE5vZGVQZXJtaXNzaW9uRGlyZWN0aXZlLFxuICAgICAgICBOb2RlUmVzdG9yZURpcmVjdGl2ZSxcbiAgICAgICAgVXBsb2FkRGlyZWN0aXZlXG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBEaXJlY3RpdmVNb2R1bGUge31cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIElucHV0LCBPbkluaXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEYXRhQ29sdW1uIH0gZnJvbSAnLi4vLi4vZGF0YS9kYXRhLWNvbHVtbi5tb2RlbCc7XG5pbXBvcnQgeyBEYXRhUm93IH0gZnJvbSAnLi4vLi4vZGF0YS9kYXRhLXJvdy5tb2RlbCc7XG5pbXBvcnQgeyBEYXRhVGFibGVBZGFwdGVyIH0gZnJvbSAnLi4vLi4vZGF0YS9kYXRhdGFibGUtYWRhcHRlcic7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLWRhdGF0YWJsZS1jZWxsJyxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgICA8bmctY29udGFpbmVyPlxuICAgICAgICAgICAgPHNwYW4gW3RpdGxlXT1cInRvb2x0aXBcIiBjbGFzcz1cImFkZi1kYXRhdGFibGUtY2VsbC12YWx1ZVwiPnt7dmFsdWV9fTwvc3Bhbj5cbiAgICAgICAgPC9uZy1jb250YWluZXI+YCxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgIGhvc3Q6IHsgY2xhc3M6ICdhZGYtZGF0YXRhYmxlLWNlbGwnIH1cbn0pXG5leHBvcnQgY2xhc3MgRGF0YVRhYmxlQ2VsbENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBASW5wdXQoKVxuICAgIGRhdGE6IERhdGFUYWJsZUFkYXB0ZXI7XG5cbiAgICBASW5wdXQoKVxuICAgIGNvbHVtbjogRGF0YUNvbHVtbjtcblxuICAgIEBJbnB1dCgpXG4gICAgcm93OiBEYXRhUm93O1xuXG4gICAgQElucHV0KClcbiAgICB2YWx1ZTogYW55O1xuXG4gICAgQElucHV0KClcbiAgICB0b29sdGlwOiBzdHJpbmc7XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbHVlICYmIHRoaXMuY29sdW1uICYmIHRoaXMuY29sdW1uLmtleSAmJiB0aGlzLnJvdyAmJiB0aGlzLmRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLmRhdGEuZ2V0VmFsdWUodGhpcy5yb3csIHRoaXMuY29sdW1uKTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLnRvb2x0aXApIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXAgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4gLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yIG5vLWlucHV0LXJlbmFtZSAgKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBDb250ZW50Q2hpbGQsIElucHV0LCBPbkluaXQsIFRlbXBsYXRlUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnZGF0YS1jb2x1bW4nLFxuICAgIHRlbXBsYXRlOiAnJ1xufSlcbmV4cG9ydCBjbGFzcyBEYXRhQ29sdW1uQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICAgIC8qKiBEYXRhIHNvdXJjZSBrZXkuIENhbiBiZSBlaXRoZXIgYSBjb2x1bW4vcHJvcGVydHkga2V5IGxpa2UgYHRpdGxlYFxuICAgICAqICBvciBhIHByb3BlcnR5IHBhdGggbGlrZSBgY3JlYXRlZEJ5Lm5hbWVgLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAga2V5OiBzdHJpbmc7XG5cbiAgICAvKiogVmFsdWUgdHlwZSBmb3IgdGhlIGNvbHVtbi4gUG9zc2libGUgc2V0dGluZ3MgYXJlICd0ZXh0JywgJ2ltYWdlJyxcbiAgICAgKiAnZGF0ZScsICdmaWxlU2l6ZScgYW5kICdsb2NhdGlvbicuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICB0eXBlOiBzdHJpbmcgPSAndGV4dCc7XG5cbiAgICAvKiogVmFsdWUgZm9ybWF0IChpZiBzdXBwb3J0ZWQgYnkgdGhlIHBhcmVudCBjb21wb25lbnQpLCBmb3IgZXhhbXBsZSBmb3JtYXQgb2YgdGhlIGRhdGUuICovXG4gICAgQElucHV0KClcbiAgICBmb3JtYXQ6IHN0cmluZztcblxuICAgIC8qKiBUb2dnbGVzIGFiaWxpdHkgdG8gc29ydCBieSB0aGlzIGNvbHVtbiwgZm9yIGV4YW1wbGUgYnkgY2xpY2tpbmcgdGhlIGNvbHVtbiBoZWFkZXIuICovXG4gICAgQElucHV0KClcbiAgICBzb3J0YWJsZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAvKiogRGlzcGxheSB0aXRsZSBvZiB0aGUgY29sdW1uLCB0eXBpY2FsbHkgdXNlZCBmb3IgY29sdW1uIGhlYWRlcnMuIFlvdSBjYW4gdXNlIHRoZVxuICAgICAqIGkxOG4gcmVzb3VyY2Uga2V5IHRvIGdldCBpdCB0cmFuc2xhdGVkIGF1dG9tYXRpY2FsbHkuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICB0aXRsZTogc3RyaW5nID0gJyc7XG5cbiAgICBAQ29udGVudENoaWxkKFRlbXBsYXRlUmVmKVxuICAgIHRlbXBsYXRlOiBhbnk7XG5cbiAgICAvKiogQ3VzdG9tIHRvb2x0aXAgZm9ybWF0dGVyIGZ1bmN0aW9uLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgZm9ybWF0VG9vbHRpcDogRnVuY3Rpb247XG5cbiAgICAvKiogVGl0bGUgdG8gYmUgdXNlZCBmb3Igc2NyZWVuIHJlYWRlcnMuICovXG4gICAgQElucHV0KCdzci10aXRsZScpXG4gICAgc3JUaXRsZTogc3RyaW5nO1xuXG4gICAgLyoqIEFkZGl0aW9uYWwgQ1NTIGNsYXNzIHRvIGJlIGFwcGxpZWQgdG8gY29sdW1uIChoZWFkZXIgYW5kIGNlbGxzKS4gKi9cbiAgICBASW5wdXQoJ2NsYXNzJylcbiAgICBjc3NDbGFzczogc3RyaW5nO1xuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zclRpdGxlICYmIHRoaXMua2V5ID09PSAnJHRodW1ibmFpbCcpIHtcbiAgICAgICAgICAgIHRoaXMuc3JUaXRsZSA9ICdUaHVtYm5haWwnO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuIC8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBDb250ZW50Q2hpbGRyZW4sIFF1ZXJ5TGlzdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRGF0YUNvbHVtbkNvbXBvbmVudCB9IGZyb20gJy4vZGF0YS1jb2x1bW4uY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdkYXRhLWNvbHVtbnMnLFxuICAgIHRlbXBsYXRlOiAnJ1xufSlcbmV4cG9ydCBjbGFzcyBEYXRhQ29sdW1uTGlzdENvbXBvbmVudCB7XG5cbiAgICBAQ29udGVudENoaWxkcmVuKERhdGFDb2x1bW5Db21wb25lbnQpIGNvbHVtbnM6IFF1ZXJ5TGlzdDxEYXRhQ29sdW1uQ29tcG9uZW50PjtcblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqIEJhc2UgY2FuY2VsbGFibGUgZXZlbnQgaW1wbGVtZW50YXRpb24gKi9cbmV4cG9ydCBjbGFzcyBCYXNlRXZlbnQ8VD4ge1xuXG4gICAgcHJpdmF0ZSBpc0RlZmF1bHRQcmV2ZW50ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHZhbHVlOiBUO1xuXG4gICAgZ2V0IGRlZmF1bHRQcmV2ZW50ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG5cbiAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQmFzZUV2ZW50IH0gZnJvbSAnLi9iYXNlLmV2ZW50JztcblxuLyoqIEJhc2UgY29udGFpbmVyIGZvciBhbnkgZXZlbnQgd2hpY2ggdGFrZXMgcGxhY2UgaW4gdGhlIERPTSAgKi9cbmV4cG9ydCBjbGFzcyBCYXNlVUlFdmVudDxUPiBleHRlbmRzIEJhc2VFdmVudDxUPiB7XG5cbiAgICAvKiogT3JpZ2luYWwgRE9NIGV2ZW50ICovXG4gICAgZXZlbnQ6IEV2ZW50O1xufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQXNzb2NDaGlsZEJvZHksIEFzc29jVGFyZ2V0Qm9keSB9IGZyb20gJ2FsZnJlc2NvLWpzLWFwaSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRmlsZVVwbG9hZFByb2dyZXNzIHtcbiAgICBsb2FkZWQ6IG51bWJlcjtcbiAgICB0b3RhbDogbnVtYmVyO1xuICAgIHBlcmNlbnQ6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBGaWxlVXBsb2FkT3B0aW9ucyB7XG4gICAgY29tbWVudD86IHN0cmluZztcbiAgICBuZXdWZXJzaW9uPzogYm9vbGVhbjtcbiAgICBtYWpvclZlcnNpb24/OiBib29sZWFuO1xuICAgIHBhcmVudElkPzogc3RyaW5nO1xuICAgIHBhdGg/OiBzdHJpbmc7XG4gICAgbm9kZVR5cGU/OiBzdHJpbmc7XG4gICAgcHJvcGVydGllcz86IGFueTtcbiAgICBhc3NvY2lhdGlvbj86IGFueTtcbiAgICBzZWNvbmRhcnlDaGlsZHJlbj86IEFzc29jQ2hpbGRCb2R5W107XG4gICAgdGFyZ2V0cz86IEFzc29jVGFyZ2V0Qm9keVtdO1xufVxuXG5leHBvcnQgZW51bSBGaWxlVXBsb2FkU3RhdHVzIHtcbiAgICBQZW5kaW5nID0gMCxcbiAgICBDb21wbGV0ZSA9IDEsXG4gICAgU3RhcnRpbmcgPSAyLFxuICAgIFByb2dyZXNzID0gMyxcbiAgICBDYW5jZWxsZWQgPSA0LFxuICAgIEFib3J0ZWQgPSA1LFxuICAgIEVycm9yID0gNixcbiAgICBEZWxldGVkID0gN1xufVxuXG5leHBvcnQgY2xhc3MgRmlsZU1vZGVsIHtcbiAgICByZWFkb25seSBuYW1lOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgc2l6ZTogbnVtYmVyO1xuICAgIHJlYWRvbmx5IGZpbGU6IEZpbGU7XG5cbiAgICBpZDogc3RyaW5nO1xuICAgIHN0YXR1czogRmlsZVVwbG9hZFN0YXR1cyA9IEZpbGVVcGxvYWRTdGF0dXMuUGVuZGluZztcbiAgICBwcm9ncmVzczogRmlsZVVwbG9hZFByb2dyZXNzO1xuICAgIG9wdGlvbnM6IEZpbGVVcGxvYWRPcHRpb25zO1xuICAgIGRhdGE6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKGZpbGU6IEZpbGUsIG9wdGlvbnM/OiBGaWxlVXBsb2FkT3B0aW9ucywgaWQ/OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5maWxlID0gZmlsZTtcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xuICAgICAgICB0aGlzLm5hbWUgPSBmaWxlLm5hbWU7XG4gICAgICAgIHRoaXMuc2l6ZSA9IGZpbGUuc2l6ZTtcbiAgICAgICAgdGhpcy5kYXRhID0gbnVsbDtcblxuICAgICAgICB0aGlzLnByb2dyZXNzID0ge1xuICAgICAgICAgICAgbG9hZGVkOiAwLFxuICAgICAgICAgICAgdG90YWw6IDAsXG4gICAgICAgICAgICBwZXJjZW50OiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5vcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwge1xuICAgICAgICAgICAgbmV3VmVyc2lvbjogZmFsc2VcbiAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgZ2V0IGV4dGVuc2lvbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lLnNsaWNlKChNYXRoLm1heCgwLCB0aGlzLm5hbWUubGFzdEluZGV4T2YoJy4nKSkgfHwgSW5maW5pdHkpICsgMSk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRmlsZU1vZGVsLCBGaWxlVXBsb2FkU3RhdHVzIH0gZnJvbSAnLi4vbW9kZWxzL2ZpbGUubW9kZWwnO1xuXG5leHBvcnQgY2xhc3MgRmlsZVVwbG9hZEV2ZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgZmlsZTogRmlsZU1vZGVsLFxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgc3RhdHVzOiBGaWxlVXBsb2FkU3RhdHVzID0gRmlsZVVwbG9hZFN0YXR1cy5QZW5kaW5nLFxuICAgICAgICBwdWJsaWMgcmVhZG9ubHkgZXJyb3I6IGFueSA9IG51bGwpIHtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIEZpbGVVcGxvYWRDb21wbGV0ZUV2ZW50IGV4dGVuZHMgRmlsZVVwbG9hZEV2ZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKGZpbGU6IEZpbGVNb2RlbCwgcHVibGljIHRvdGFsQ29tcGxldGU6IG51bWJlciA9IDAsIHB1YmxpYyBkYXRhPzogYW55LCBwdWJsaWMgdG90YWxBYm9ydGVkOiBudW1iZXIgPSAwKSB7XG4gICAgICAgIHN1cGVyKGZpbGUsIEZpbGVVcGxvYWRTdGF0dXMuQ29tcGxldGUpO1xuICAgIH1cblxufVxuXG5leHBvcnQgY2xhc3MgRmlsZVVwbG9hZERlbGV0ZUV2ZW50IGV4dGVuZHMgRmlsZVVwbG9hZEV2ZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKGZpbGU6IEZpbGVNb2RlbCwgcHVibGljIHRvdGFsQ29tcGxldGU6IG51bWJlciA9IDApIHtcbiAgICAgICAgc3VwZXIoZmlsZSwgRmlsZVVwbG9hZFN0YXR1cy5EZWxldGVkKTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIEZpbGVVcGxvYWRFcnJvckV2ZW50IGV4dGVuZHMgRmlsZVVwbG9hZEV2ZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKGZpbGU6IEZpbGVNb2RlbCwgcHVibGljIGVycm9yOiBhbnksIHB1YmxpYyB0b3RhbEVycm9yOiBudW1iZXIgPSAwKSB7XG4gICAgICAgIHN1cGVyKGZpbGUsIEZpbGVVcGxvYWRTdGF0dXMuRXJyb3IpO1xuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQmFzZVVJRXZlbnQgfSBmcm9tICcuLi8uLi9ldmVudHMnO1xuaW1wb3J0IHsgRGF0YVJvdyB9IGZyb20gJy4vZGF0YS1yb3cubW9kZWwnO1xuXG5leHBvcnQgY2xhc3MgRGF0YVJvd0V2ZW50IGV4dGVuZHMgQmFzZVVJRXZlbnQ8RGF0YVJvdz4ge1xuXG4gICAgc2VuZGVyOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3Rvcih2YWx1ZTogRGF0YVJvdywgZG9tRXZlbnQ6IEV2ZW50LCBzZW5kZXI/OiBhbnkpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgICAgICB0aGlzLmV2ZW50ID0gZG9tRXZlbnQ7XG4gICAgICAgIHRoaXMuc2VuZGVyID0gc2VuZGVyO1xuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQmFzZUV2ZW50IH0gZnJvbSAnLi4vLi4vLi4vZXZlbnRzJztcbmltcG9ydCB7IERhdGFDb2x1bW4gfSBmcm9tICcuLi8uLi9kYXRhL2RhdGEtY29sdW1uLm1vZGVsJztcbmltcG9ydCB7IERhdGFSb3cgfSBmcm9tICcuLi8uLi9kYXRhL2RhdGEtcm93Lm1vZGVsJztcblxuZXhwb3J0IGNsYXNzIERhdGFDZWxsRXZlbnRNb2RlbCB7XG5cbiAgICByZWFkb25seSByb3c6IERhdGFSb3c7XG4gICAgcmVhZG9ubHkgY29sOiBEYXRhQ29sdW1uO1xuICAgIGFjdGlvbnM6IGFueVtdO1xuXG4gICAgY29uc3RydWN0b3Iocm93OiBEYXRhUm93LCBjb2w6IERhdGFDb2x1bW4sIGFjdGlvbnM6IGFueVtdKSB7XG4gICAgICAgIHRoaXMucm93ID0gcm93O1xuICAgICAgICB0aGlzLmNvbCA9IGNvbDtcbiAgICAgICAgdGhpcy5hY3Rpb25zID0gYWN0aW9ucyB8fCBbXTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIERhdGFDZWxsRXZlbnQgZXh0ZW5kcyBCYXNlRXZlbnQ8RGF0YUNlbGxFdmVudE1vZGVsPiB7XG5cbiAgICBjb25zdHJ1Y3Rvcihyb3c6IERhdGFSb3csIGNvbDogRGF0YUNvbHVtbiwgYWN0aW9uczogYW55W10pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy52YWx1ZSA9IG5ldyBEYXRhQ2VsbEV2ZW50TW9kZWwocm93LCBjb2wsIGFjdGlvbnMpO1xuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQmFzZUV2ZW50IH0gZnJvbSAnLi4vLi4vLi4vZXZlbnRzJztcbmltcG9ydCB7IERhdGFSb3cgfSBmcm9tICcuLi8uLi9kYXRhL2RhdGEtcm93Lm1vZGVsJztcblxuZXhwb3J0IGNsYXNzIERhdGFSb3dBY3Rpb25Nb2RlbCB7XG5cbiAgICByb3c6IERhdGFSb3c7XG4gICAgYWN0aW9uOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3Rvcihyb3c6IERhdGFSb3csIGFjdGlvbjogYW55KSB7XG4gICAgICAgIHRoaXMucm93ID0gcm93O1xuICAgICAgICB0aGlzLmFjdGlvbiA9IGFjdGlvbjtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRhUm93QWN0aW9uRXZlbnQgZXh0ZW5kcyBCYXNlRXZlbnQ8RGF0YVJvd0FjdGlvbk1vZGVsPiB7XG5cbiAgICAvLyBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eSB3aXRoIDEuMi4wIGFuZCBlYXJsaWVyXG4gICAgZ2V0IGFyZ3MoKTogRGF0YVJvd0FjdGlvbk1vZGVsIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3Iocm93OiBEYXRhUm93LCBhY3Rpb246IGFueSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLnZhbHVlID0gbmV3IERhdGFSb3dBY3Rpb25Nb2RlbChyb3csIGFjdGlvbik7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICAgIEFmdGVyQ29udGVudEluaXQsIENvbXBvbmVudCwgQ29udGVudENoaWxkLCBEb0NoZWNrLCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LFxuICAgIEl0ZXJhYmxlRGlmZmVycywgT25DaGFuZ2VzLCBPdXRwdXQsIFNpbXBsZUNoYW5nZSwgU2ltcGxlQ2hhbmdlcywgVGVtcGxhdGVSZWYsIFZpZXdFbmNhcHN1bGF0aW9uLCBPbkRlc3Ryb3lcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNYXRDaGVja2JveENoYW5nZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiwgT2JzZXJ2YWJsZSwgT2JzZXJ2ZXIgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IERhdGFDb2x1bW5MaXN0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vLi4vZGF0YS1jb2x1bW4vZGF0YS1jb2x1bW4tbGlzdC5jb21wb25lbnQnO1xuaW1wb3J0IHsgRGF0YUNvbHVtbiB9IGZyb20gJy4uLy4uL2RhdGEvZGF0YS1jb2x1bW4ubW9kZWwnO1xuaW1wb3J0IHsgRGF0YVJvd0V2ZW50IH0gZnJvbSAnLi4vLi4vZGF0YS9kYXRhLXJvdy1ldmVudC5tb2RlbCc7XG5pbXBvcnQgeyBEYXRhUm93IH0gZnJvbSAnLi4vLi4vZGF0YS9kYXRhLXJvdy5tb2RlbCc7XG5pbXBvcnQgeyBEYXRhU29ydGluZyB9IGZyb20gJy4uLy4uL2RhdGEvZGF0YS1zb3J0aW5nLm1vZGVsJztcbmltcG9ydCB7IERhdGFUYWJsZUFkYXB0ZXIgfSBmcm9tICcuLi8uLi9kYXRhL2RhdGF0YWJsZS1hZGFwdGVyJztcblxuaW1wb3J0IHsgT2JqZWN0RGF0YVJvdyB9IGZyb20gJy4uLy4uL2RhdGEvb2JqZWN0LWRhdGFyb3cubW9kZWwnO1xuaW1wb3J0IHsgT2JqZWN0RGF0YVRhYmxlQWRhcHRlciB9IGZyb20gJy4uLy4uL2RhdGEvb2JqZWN0LWRhdGF0YWJsZS1hZGFwdGVyJztcbmltcG9ydCB7IERhdGFDZWxsRXZlbnQgfSBmcm9tICcuL2RhdGEtY2VsbC5ldmVudCc7XG5pbXBvcnQgeyBEYXRhUm93QWN0aW9uRXZlbnQgfSBmcm9tICcuL2RhdGEtcm93LWFjdGlvbi5ldmVudCc7XG5pbXBvcnQgeyBzaGFyZSwgYnVmZmVyLCBtYXAsIGZpbHRlciwgZGVib3VuY2VUaW1lIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5leHBvcnQgZW51bSBEaXNwbGF5TW9kZSB7XG4gICAgTGlzdCA9ICdsaXN0JyxcbiAgICBHYWxsZXJ5ID0gJ2dhbGxlcnknXG59XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLWRhdGF0YWJsZScsXG4gICAgc3R5bGVVcmxzOiBbJy4vZGF0YXRhYmxlLmNvbXBvbmVudC5zY3NzJ10sXG4gICAgdGVtcGxhdGVVcmw6ICcuL2RhdGF0YWJsZS5jb21wb25lbnQuaHRtbCcsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBEYXRhVGFibGVDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlckNvbnRlbnRJbml0LCBPbkNoYW5nZXMsIERvQ2hlY2ssIE9uRGVzdHJveSB7XG5cbiAgICBAQ29udGVudENoaWxkKERhdGFDb2x1bW5MaXN0Q29tcG9uZW50KVxuICAgIGNvbHVtbkxpc3Q6IERhdGFDb2x1bW5MaXN0Q29tcG9uZW50O1xuXG4gICAgLyoqIERhdGEgc291cmNlIGZvciB0aGUgdGFibGUgKi9cbiAgICBASW5wdXQoKVxuICAgIGRhdGE6IERhdGFUYWJsZUFkYXB0ZXI7XG5cbiAgICAvKiogU2VsZWN0cyB0aGUgZGlzcGxheSBtb2RlIG9mIHRoZSB0YWJsZS4gQ2FuIGJlIFwibGlzdFwiIG9yIFwiZ2FsbGVyeVwiLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgZGlzcGxheTogc3RyaW5nID0gRGlzcGxheU1vZGUuTGlzdDtcblxuICAgIC8qKiBUaGUgcm93cyB0aGF0IHRoZSBkYXRhdGFibGUgd2lsbCBzaG93LiAqL1xuICAgIEBJbnB1dCgpXG4gICAgcm93czogYW55W10gPSBbXTtcblxuICAgIC8qKiBEZWZpbmUgdGhlIHNvcnQgb3JkZXIgb2YgdGhlIGRhdGF0YWJsZS4gUG9zc2libGUgdmFsdWVzIGFyZSA6XG4gICAgICogW2BjcmVhdGVkYCwgYGRlc2NgXSwgW2BjcmVhdGVkYCwgYGFzY2BdLCBbYGR1ZWAsIGBkZXNjYF0sIFtgZHVlYCwgYGFzY2BdXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzb3J0aW5nOiBhbnlbXSA9IFtdO1xuXG4gICAgLyoqIFRoZSBjb2x1bW5zIHRoYXQgdGhlIGRhdGF0YWJsZSB3aWxsIHNob3cuICovXG4gICAgQElucHV0KClcbiAgICBjb2x1bW5zOiBhbnlbXSA9IFtdO1xuXG4gICAgLyoqIFJvdyBzZWxlY3Rpb24gbW9kZS4gQ2FuIGJlIG5vbmUsIGBzaW5nbGVgIG9yIGBtdWx0aXBsZWAuIEZvciBgbXVsdGlwbGVgIG1vZGUsXG4gICAgICogeW91IGNhbiB1c2UgQ21kIChtYWNPUykgb3IgQ3RybCAoV2luKSBtb2RpZmllciBrZXkgdG8gdG9nZ2xlIHNlbGVjdGlvbiBmb3IgbXVsdGlwbGUgcm93cy5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNlbGVjdGlvbk1vZGU6IHN0cmluZyA9ICdzaW5nbGUnOyAvLyBub25lfHNpbmdsZXxtdWx0aXBsZVxuXG4gICAgLyoqIFRvZ2dsZXMgbXVsdGlwbGUgcm93IHNlbGVjdGlvbiwgd2hpY2ggcmVuZGVycyBjaGVja2JveGVzIGF0IHRoZSBiZWdpbm5pbmcgb2YgZWFjaCByb3cuICovXG4gICAgQElucHV0KClcbiAgICBtdWx0aXNlbGVjdDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqIFRvZ2dsZXMgdGhlIGRhdGEgYWN0aW9ucyBjb2x1bW4uICovXG4gICAgQElucHV0KClcbiAgICBhY3Rpb25zOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKiogUG9zaXRpb24gb2YgdGhlIGFjdGlvbnMgZHJvcGRvd24gbWVudS4gQ2FuIGJlIFwibGVmdFwiIG9yIFwicmlnaHRcIi4gKi9cbiAgICBASW5wdXQoKVxuICAgIGFjdGlvbnNQb3NpdGlvbjogc3RyaW5nID0gJ3JpZ2h0JzsgLy8gbGVmdHxyaWdodFxuXG4gICAgLyoqIEZhbGxiYWNrIGltYWdlIGZvciByb3dzIHdoZXJlIHRoZSB0aHVtYm5haWwgaXMgbWlzc2luZy4gKi9cbiAgICBASW5wdXQoKVxuICAgIGZhbGxiYWNrVGh1bWJuYWlsOiBzdHJpbmc7XG5cbiAgICAvKiogVG9nZ2xlcyBjdXN0b20gY29udGV4dCBtZW51IGZvciB0aGUgY29tcG9uZW50LiAqL1xuICAgIEBJbnB1dCgpXG4gICAgY29udGV4dE1lbnU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKiBUb2dnbGVzIGZpbGUgZHJvcCBzdXBwb3J0IGZvciByb3dzIChzZWVcbiAgICAgKiBbVXBsb2FkIGRpcmVjdGl2ZV0odXBsb2FkLmRpcmVjdGl2ZS5tZCkgZm9yIGZ1cnRoZXIgZGV0YWlscykuXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBhbGxvd0Ryb3BGaWxlczogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqIFRoZSBpbmxpbmUgc3R5bGUgdG8gYXBwbHkgdG8gZXZlcnkgcm93LiBTZWVcbiAgICAgKiBbTmdTdHlsZV0oaHR0cHM6Ly9hbmd1bGFyLmlvL2RvY3MvdHMvbGF0ZXN0L2FwaS9jb21tb24vaW5kZXgvTmdTdHlsZS1kaXJlY3RpdmUuaHRtbClcbiAgICAgKiBkb2NzIGZvciBtb3JlIGRldGFpbHMgYW5kIHVzYWdlIGV4YW1wbGVzLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgcm93U3R5bGU6IHN0cmluZztcblxuICAgIC8qKiBUaGUgQ1NTIGNsYXNzIHRvIGFwcGx5IHRvIGV2ZXJ5IHJvdy4gKi9cbiAgICBASW5wdXQoKVxuICAgIHJvd1N0eWxlQ2xhc3M6IHN0cmluZyA9ICcnO1xuXG4gICAgLyoqIFRvZ2dsZXMgdGhlIGhlYWRlci4gKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3dIZWFkZXI6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLyoqIEVtaXR0ZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgYSByb3cuICovXG4gICAgQE91dHB1dCgpXG4gICAgcm93Q2xpY2sgPSBuZXcgRXZlbnRFbWl0dGVyPERhdGFSb3dFdmVudD4oKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIHVzZXIgZG91YmxlLWNsaWNrcyBhIHJvdy4gKi9cbiAgICBAT3V0cHV0KClcbiAgICByb3dEYmxDbGljayA9IG5ldyBFdmVudEVtaXR0ZXI8RGF0YVJvd0V2ZW50PigpO1xuXG4gICAgLyoqIEVtaXR0ZWQgYmVmb3JlIHRoZSBjb250ZXh0IG1lbnUgaXMgZGlzcGxheWVkIGZvciBhIHJvdy4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBzaG93Um93Q29udGV4dE1lbnUgPSBuZXcgRXZlbnRFbWl0dGVyPERhdGFDZWxsRXZlbnQ+KCk7XG5cbiAgICAvKiogRW1pdHRlZCBiZWZvcmUgdGhlIGFjdGlvbnMgbWVudSBpcyBkaXNwbGF5ZWQgZm9yIGEgcm93LiAqL1xuICAgIEBPdXRwdXQoKVxuICAgIHNob3dSb3dBY3Rpb25zTWVudSA9IG5ldyBFdmVudEVtaXR0ZXI8RGF0YUNlbGxFdmVudD4oKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIHVzZXIgZXhlY3V0ZXMgYSByb3cgYWN0aW9uLiAqL1xuICAgIEBPdXRwdXQoKVxuICAgIGV4ZWN1dGVSb3dBY3Rpb24gPSBuZXcgRXZlbnRFbWl0dGVyPERhdGFSb3dBY3Rpb25FdmVudD4oKTtcblxuICAgIC8qKiBGbGFnIHRoYXQgaW5kaWNhdGVzIGlmIHRoZSBkYXRhdGFibGUgaXMgaW4gbG9hZGluZyBzdGF0ZSBhbmQgbmVlZHMgdG8gc2hvdyB0aGVcbiAgICAgKiBsb2FkaW5nIHRlbXBsYXRlIChzZWUgdGhlIGRvY3MgdG8gbGVhcm4gaG93IHRvIGNvbmZpZ3VyZSBhIGxvYWRpbmcgdGVtcGxhdGUpLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgbG9hZGluZzogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqIEZsYWcgdGhhdCBpbmRpY2F0ZXMgaWYgdGhlIGRhdGF0YWJsZSBzaG91bGQgc2hvdyB0aGUgXCJubyBwZXJtaXNzaW9uXCIgdGVtcGxhdGUuICovXG4gICAgQElucHV0KClcbiAgICBub1Blcm1pc3Npb246IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFNob3VsZCB0aGUgaXRlbXMgZm9yIHRoZSByb3cgYWN0aW9ucyBtZW51IGJlIGNhY2hlZCBmb3IgcmV1c2UgYWZ0ZXIgdGhleSBhcmUgbG9hZGVkXG4gICAgICogdGhlIGZpcnN0IHRpbWU/XG4gICAgICovXG4gICAgQElucHV0KClcbiAgICByb3dNZW51Q2FjaGVFbmFibGVkID0gdHJ1ZTtcblxuICAgIG5vQ29udGVudFRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuICAgIG5vUGVybWlzc2lvblRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xuICAgIGxvYWRpbmdUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcblxuICAgIGlzU2VsZWN0QWxsQ2hlY2tlZDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHNlbGVjdGlvbiA9IG5ldyBBcnJheTxEYXRhUm93PigpO1xuXG4gICAgLyoqIFRoaXMgYXJyYXkgb2YgZmFrZSByb3dzIGZpeCB0aGUgZmxleCBsYXlvdXQgZm9yIHRoZSBnYWxsZXJ5IHZpZXcgKi9cbiAgICBmYWtlUm93cyA9IFtdO1xuXG4gICAgcHJpdmF0ZSBjbGlja09ic2VydmVyOiBPYnNlcnZlcjxEYXRhUm93RXZlbnQ+O1xuICAgIHByaXZhdGUgY2xpY2skOiBPYnNlcnZhYmxlPERhdGFSb3dFdmVudD47XG5cbiAgICBwcml2YXRlIGRpZmZlcjogYW55O1xuICAgIHByaXZhdGUgcm93TWVudUNhY2hlOiBvYmplY3QgPSB7fTtcblxuICAgIHByaXZhdGUgc3Vic2NyaXB0aW9uczogU3Vic2NyaXB0aW9uW10gPSBbXTtcbiAgICBwcml2YXRlIHNpbmdsZUNsaWNrU3RyZWFtU3ViOiBTdWJzY3JpcHRpb247XG4gICAgcHJpdmF0ZSBtdWx0aUNsaWNrU3RyZWFtU3ViOiBTdWJzY3JpcHRpb247XG4gICAgcHJpdmF0ZSBkYXRhUm93c0NoYW5nZWQ6IFN1YnNjcmlwdGlvbjtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZWxlbWVudFJlZjogRWxlbWVudFJlZixcbiAgICAgICAgICAgICAgICBkaWZmZXJzOiBJdGVyYWJsZURpZmZlcnMpIHtcbiAgICAgICAgaWYgKGRpZmZlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuZGlmZmVyID0gZGlmZmVycy5maW5kKFtdKS5jcmVhdGUobnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jbGljayQgPSBuZXcgT2JzZXJ2YWJsZTxEYXRhUm93RXZlbnQ+KG9ic2VydmVyID0+IHRoaXMuY2xpY2tPYnNlcnZlciA9IG9ic2VydmVyKVxuICAgICAgICAgICAgLnBpcGUoc2hhcmUoKSk7XG4gICAgfVxuXG4gICAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICAgICAgICBpZiAodGhpcy5jb2x1bW5MaXN0KSB7XG4gICAgICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbkxpc3QuY29sdW1ucy5jaGFuZ2VzLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VGFibGVTY2hlbWEoKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRhdGF0YWJsZUxheW91dEZpeCgpO1xuICAgICAgICB0aGlzLnNldFRhYmxlU2NoZW1hKCk7XG4gICAgfVxuXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xuICAgICAgICB0aGlzLmluaXRBbmRTdWJzY3JpYmVDbGlja1N0cmVhbSgpO1xuICAgICAgICBpZiAodGhpcy5pc1Byb3BlcnR5Q2hhbmdlZChjaGFuZ2VzWydkYXRhJ10pKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5pc1RhYmxlRW1wdHkoKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuaW5pdFRhYmxlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IGNoYW5nZXNbJ2RhdGEnXS5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5yZXNldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNQcm9wZXJ0eUNoYW5nZWQoY2hhbmdlc1sncm93cyddKSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNUYWJsZUVtcHR5KCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmluaXRUYWJsZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNldFRhYmxlUm93cyhjaGFuZ2VzWydyb3dzJ10uY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjaGFuZ2VzLnNlbGVjdGlvbk1vZGUgJiYgIWNoYW5nZXMuc2VsZWN0aW9uTW9kZS5pc0ZpcnN0Q2hhbmdlKCkpIHtcbiAgICAgICAgICAgIHRoaXMucmVzZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHRoaXMuZW1pdFJvd1NlbGVjdGlvbkV2ZW50KCdyb3ctdW5zZWxlY3QnLCBudWxsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzUHJvcGVydHlDaGFuZ2VkKGNoYW5nZXNbJ3NvcnRpbmcnXSkpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0VGFibGVTb3J0aW5nKGNoYW5nZXNbJ3NvcnRpbmcnXS5jdXJyZW50VmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNQcm9wZXJ0eUNoYW5nZWQoY2hhbmdlc1snZGlzcGxheSddKSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhdGFibGVMYXlvdXRGaXgoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5nRG9DaGVjaygpIHtcbiAgICAgICAgbGV0IGNoYW5nZXMgPSB0aGlzLmRpZmZlci5kaWZmKHRoaXMucm93cyk7XG4gICAgICAgIGlmIChjaGFuZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLnNldFRhYmxlUm93cyh0aGlzLnJvd3MpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNQcm9wZXJ0eUNoYW5nZWQocHJvcGVydHk6IFNpbXBsZUNoYW5nZSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gcHJvcGVydHkgJiYgcHJvcGVydHkuY3VycmVudFZhbHVlID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cblxuICAgIGNvbnZlcnRUb1Jvd3NEYXRhKHJvd3M6IGFueSBbXSk6IE9iamVjdERhdGFSb3dbXSB7XG4gICAgICAgIHJldHVybiByb3dzLm1hcChyb3cgPT4gbmV3IE9iamVjdERhdGFSb3cocm93LCByb3cuaXNTZWxlY3RlZCkpO1xuICAgIH1cblxuICAgIGNvbnZlcnRUb0RhdGFTb3J0aW5nKHNvcnRpbmc6IGFueVtdKTogRGF0YVNvcnRpbmcge1xuICAgICAgICBpZiAoc29ydGluZyAmJiBzb3J0aW5nLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRGF0YVNvcnRpbmcoc29ydGluZ1swXSwgc29ydGluZ1sxXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGluaXRBbmRTdWJzY3JpYmVDbGlja1N0cmVhbSgpIHtcbiAgICAgICAgdGhpcy51bnN1YnNjcmliZUNsaWNrU3RyZWFtKCk7XG4gICAgICAgIGxldCBzaW5nbGVDbGlja1N0cmVhbSA9IHRoaXMuY2xpY2skXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBidWZmZXIoXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xpY2skLnBpcGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJvdW5jZVRpbWUoMjUwKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKSxcbiAgICAgICAgICAgICAgICBtYXAobGlzdCA9PiBsaXN0KSxcbiAgICAgICAgICAgICAgICBmaWx0ZXIoeCA9PiB4Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgdGhpcy5zaW5nbGVDbGlja1N0cmVhbVN1YiA9IHNpbmdsZUNsaWNrU3RyZWFtLnN1YnNjcmliZSgob2JqOiBEYXRhUm93RXZlbnRbXSkgPT4ge1xuICAgICAgICAgICAgbGV0IGV2ZW50OiBEYXRhUm93RXZlbnQgPSBvYmpbMF07XG4gICAgICAgICAgICB0aGlzLmhhbmRsZVJvd1NlbGVjdGlvbihldmVudC52YWx1ZSwgPE1vdXNlRXZlbnQgfCBLZXlib2FyZEV2ZW50PiBldmVudC5ldmVudCk7XG4gICAgICAgICAgICB0aGlzLnJvd0NsaWNrLmVtaXQoZXZlbnQpO1xuICAgICAgICAgICAgaWYgKCFldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuZGlzcGF0Y2hFdmVudChcbiAgICAgICAgICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KCdyb3ctY2xpY2snLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZXRhaWw6IGV2ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgYnViYmxlczogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGxldCBtdWx0aUNsaWNrU3RyZWFtID0gdGhpcy5jbGljayRcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIGJ1ZmZlcihcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbGljayQucGlwZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlVGltZSgyNTApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgIG1hcChsaXN0ID0+IGxpc3QpLFxuICAgICAgICAgICAgICAgIGZpbHRlcih4ID0+IHgubGVuZ3RoID49IDIpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgIHRoaXMubXVsdGlDbGlja1N0cmVhbVN1YiA9IG11bHRpQ2xpY2tTdHJlYW0uc3Vic2NyaWJlKChvYmo6IERhdGFSb3dFdmVudFtdKSA9PiB7XG4gICAgICAgICAgICBsZXQgZXZlbnQ6IERhdGFSb3dFdmVudCA9IG9ialswXTtcbiAgICAgICAgICAgIHRoaXMucm93RGJsQ2xpY2suZW1pdChldmVudCk7XG4gICAgICAgICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgICAgICAgICBuZXcgQ3VzdG9tRXZlbnQoJ3Jvdy1kYmxjbGljaycsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRldGFpbDogZXZlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlXG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1bnN1YnNjcmliZUNsaWNrU3RyZWFtKCkge1xuICAgICAgICBpZiAodGhpcy5zaW5nbGVDbGlja1N0cmVhbVN1Yikge1xuICAgICAgICAgICAgdGhpcy5zaW5nbGVDbGlja1N0cmVhbVN1Yi51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy5zaW5nbGVDbGlja1N0cmVhbVN1YiA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMubXVsdGlDbGlja1N0cmVhbVN1Yikge1xuICAgICAgICAgICAgdGhpcy5tdWx0aUNsaWNrU3RyZWFtU3ViLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgICAgICB0aGlzLm11bHRpQ2xpY2tTdHJlYW1TdWIgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpbml0VGFibGUoKSB7XG4gICAgICAgIHRoaXMuZGF0YSA9IG5ldyBPYmplY3REYXRhVGFibGVBZGFwdGVyKHRoaXMucm93cywgdGhpcy5jb2x1bW5zKTtcbiAgICAgICAgdGhpcy5zZXRUYWJsZVNvcnRpbmcodGhpcy5zb3J0aW5nKTtcbiAgICAgICAgdGhpcy5yZXNldFNlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLnJvd01lbnVDYWNoZSA9IHt9O1xuICAgIH1cblxuICAgIGlzVGFibGVFbXB0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YSA9PT0gdW5kZWZpbmVkIHx8IHRoaXMuZGF0YSA9PT0gbnVsbDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFRhYmxlUm93cyhyb3dzOiBhbnlbXSkge1xuICAgICAgICBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICB0aGlzLmRhdGEuc2V0Um93cyh0aGlzLmNvbnZlcnRUb1Jvd3NEYXRhKHJvd3MpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgc2V0VGFibGVTY2hlbWEoKSB7XG4gICAgICAgIGxldCBzY2hlbWEgPSBbXTtcbiAgICAgICAgaWYgKCF0aGlzLmNvbHVtbnMgfHwgdGhpcy5jb2x1bW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgc2NoZW1hID0gdGhpcy5nZXRTY2hlbWFGcm9tSHRtbCgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2NoZW1hID0gdGhpcy5jb2x1bW5zLmNvbmNhdCh0aGlzLmdldFNjaGVtYUZyb21IdG1sKCkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jb2x1bW5zID0gc2NoZW1hO1xuXG4gICAgICAgIGlmICh0aGlzLmRhdGEgJiYgdGhpcy5jb2x1bW5zICYmIHRoaXMuY29sdW1ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuc2V0Q29sdW1ucyh0aGlzLmNvbHVtbnMpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRUYWJsZVNvcnRpbmcoc29ydGluZykge1xuICAgICAgICBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEuc2V0U29ydGluZyh0aGlzLmNvbnZlcnRUb0RhdGFTb3J0aW5nKHNvcnRpbmcpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBnZXRTY2hlbWFGcm9tSHRtbCgpOiBhbnkge1xuICAgICAgICBsZXQgc2NoZW1hID0gW107XG4gICAgICAgIGlmICh0aGlzLmNvbHVtbkxpc3QgJiYgdGhpcy5jb2x1bW5MaXN0LmNvbHVtbnMgJiYgdGhpcy5jb2x1bW5MaXN0LmNvbHVtbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2NoZW1hID0gdGhpcy5jb2x1bW5MaXN0LmNvbHVtbnMubWFwKGMgPT4gPERhdGFDb2x1bW4+IGMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgfVxuXG4gICAgb25Sb3dDbGljayhyb3c6IERhdGFSb3csIGU6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyb3cpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGFSb3dFdmVudCA9IG5ldyBEYXRhUm93RXZlbnQocm93LCBlLCB0aGlzKTtcbiAgICAgICAgICAgIHRoaXMuY2xpY2tPYnNlcnZlci5uZXh0KGRhdGFSb3dFdmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkVudGVyS2V5UHJlc3NlZChyb3c6IERhdGFSb3csIGU6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgaWYgKHJvdykge1xuICAgICAgICAgICAgdGhpcy5oYW5kbGVSb3dTZWxlY3Rpb24ocm93LCBlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlUm93U2VsZWN0aW9uKHJvdzogRGF0YVJvdywgZTogS2V5Ym9hcmRFdmVudCB8IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTaW5nbGVTZWxlY3Rpb25Nb2RlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RSb3cocm93LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB0aGlzLmVtaXRSb3dTZWxlY3Rpb25FdmVudCgncm93LXNlbGVjdCcsIHJvdyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmlzTXVsdGlTZWxlY3Rpb25Nb2RlKCkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RpZmllciA9IGUgJiYgKGUubWV0YUtleSB8fCBlLmN0cmxLZXkpO1xuICAgICAgICAgICAgICAgIGxldCBuZXdWYWx1ZTogYm9vbGVhbjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZWxlY3Rpb24ubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gIXJvdy5pc1NlbGVjdGVkO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1ZhbHVlID0gbW9kaWZpZXIgPyAhcm93LmlzU2VsZWN0ZWQgOiB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBkb21FdmVudE5hbWUgPSBuZXdWYWx1ZSA/ICdyb3ctc2VsZWN0JyA6ICdyb3ctdW5zZWxlY3QnO1xuXG4gICAgICAgICAgICAgICAgaWYgKCFtb2RpZmllcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0Um93KHJvdywgbmV3VmFsdWUpO1xuICAgICAgICAgICAgICAgIHRoaXMuZW1pdFJvd1NlbGVjdGlvbkV2ZW50KGRvbUV2ZW50TmFtZSwgcm93KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJlc2V0U2VsZWN0aW9uKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5kYXRhKSB7XG4gICAgICAgICAgICBjb25zdCByb3dzID0gdGhpcy5kYXRhLmdldFJvd3MoKTtcbiAgICAgICAgICAgIGlmIChyb3dzICYmIHJvd3MubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHJvd3MuZm9yRWFjaChyID0+IHIuaXNTZWxlY3RlZCA9IGZhbHNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uID0gW107XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pc1NlbGVjdEFsbENoZWNrZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBvblJvd0RibENsaWNrKHJvdzogRGF0YVJvdywgZT86IEV2ZW50KSB7XG4gICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGRhdGFSb3dFdmVudCA9IG5ldyBEYXRhUm93RXZlbnQocm93LCBlLCB0aGlzKTtcbiAgICAgICAgdGhpcy5jbGlja09ic2VydmVyLm5leHQoZGF0YVJvd0V2ZW50KTtcbiAgICB9XG5cbiAgICBvblJvd0tleVVwKHJvdzogRGF0YVJvdywgZTogS2V5Ym9hcmRFdmVudCkge1xuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBDdXN0b21FdmVudCgncm93LWtleXVwJywge1xuICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgcm93OiByb3csXG4gICAgICAgICAgICAgICAga2V5Ym9hcmRFdmVudDogZSxcbiAgICAgICAgICAgICAgICBzZW5kZXI6IHRoaXNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBidWJibGVzOiB0cnVlXG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuXG4gICAgICAgIGlmIChldmVudC5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uS2V5Ym9hcmROYXZpZ2F0ZShyb3csIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbktleWJvYXJkTmF2aWdhdGUocm93OiBEYXRhUm93LCBlOiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmIChlKSB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBldmVudCA9IG5ldyBEYXRhUm93RXZlbnQocm93LCBlLCB0aGlzKTtcblxuICAgICAgICB0aGlzLnJvd0RibENsaWNrLmVtaXQoZXZlbnQpO1xuICAgICAgICB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5kaXNwYXRjaEV2ZW50KFxuICAgICAgICAgICAgbmV3IEN1c3RvbUV2ZW50KCdyb3ctZGJsY2xpY2snLCB7XG4gICAgICAgICAgICAgICAgZGV0YWlsOiBldmVudCxcbiAgICAgICAgICAgICAgICBidWJibGVzOiB0cnVlXG4gICAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgIH1cblxuICAgIG9uQ29sdW1uSGVhZGVyQ2xpY2soY29sdW1uOiBEYXRhQ29sdW1uKSB7XG4gICAgICAgIGlmIChjb2x1bW4gJiYgY29sdW1uLnNvcnRhYmxlKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVudCA9IHRoaXMuZGF0YS5nZXRTb3J0aW5nKCk7XG4gICAgICAgICAgICBsZXQgbmV3RGlyZWN0aW9uID0gJ2FzYyc7XG4gICAgICAgICAgICBpZiAoY3VycmVudCAmJiBjb2x1bW4ua2V5ID09PSBjdXJyZW50LmtleSkge1xuICAgICAgICAgICAgICAgIG5ld0RpcmVjdGlvbiA9IGN1cnJlbnQuZGlyZWN0aW9uID09PSAnYXNjJyA/ICdkZXNjJyA6ICdhc2MnO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5kYXRhLnNldFNvcnRpbmcobmV3IERhdGFTb3J0aW5nKGNvbHVtbi5rZXksIG5ld0RpcmVjdGlvbikpO1xuICAgICAgICAgICAgdGhpcy5lbWl0U29ydGluZ0NoYW5nZWRFdmVudChjb2x1bW4ua2V5LCBuZXdEaXJlY3Rpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25TZWxlY3RBbGxDbGljayhlOiBNYXRDaGVja2JveENoYW5nZSkge1xuICAgICAgICB0aGlzLmlzU2VsZWN0QWxsQ2hlY2tlZCA9IGUuY2hlY2tlZDtcblxuICAgICAgICBpZiAodGhpcy5tdWx0aXNlbGVjdCkge1xuICAgICAgICAgICAgbGV0IHJvd3MgPSB0aGlzLmRhdGEuZ2V0Um93cygpO1xuICAgICAgICAgICAgaWYgKHJvd3MgJiYgcm93cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCByb3dzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0Um93KHJvd3NbaV0sIGUuY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBkb21FdmVudE5hbWUgPSBlLmNoZWNrZWQgPyAncm93LXNlbGVjdCcgOiAncm93LXVuc2VsZWN0JztcbiAgICAgICAgICAgIGNvbnN0IHJvdyA9IHRoaXMuc2VsZWN0aW9uLmxlbmd0aCA+IDAgPyB0aGlzLnNlbGVjdGlvblswXSA6IG51bGw7XG5cbiAgICAgICAgICAgIHRoaXMuZW1pdFJvd1NlbGVjdGlvbkV2ZW50KGRvbUV2ZW50TmFtZSwgcm93KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQ2hlY2tib3hDaGFuZ2Uocm93OiBEYXRhUm93LCBldmVudDogTWF0Q2hlY2tib3hDaGFuZ2UpIHtcbiAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBldmVudC5jaGVja2VkO1xuXG4gICAgICAgIHRoaXMuc2VsZWN0Um93KHJvdywgbmV3VmFsdWUpO1xuXG4gICAgICAgIGNvbnN0IGRvbUV2ZW50TmFtZSA9IG5ld1ZhbHVlID8gJ3Jvdy1zZWxlY3QnIDogJ3Jvdy11bnNlbGVjdCc7XG4gICAgICAgIHRoaXMuZW1pdFJvd1NlbGVjdGlvbkV2ZW50KGRvbUV2ZW50TmFtZSwgcm93KTtcbiAgICB9XG5cbiAgICBvbkltYWdlTG9hZGluZ0Vycm9yKGV2ZW50OiBFdmVudCwgcm93OiBEYXRhUm93KSB7XG4gICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgbGV0IGVsZW1lbnQgPSA8YW55PiBldmVudC50YXJnZXQ7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmZhbGxiYWNrVGh1bWJuYWlsKSB7XG4gICAgICAgICAgICAgICAgZWxlbWVudC5zcmMgPSB0aGlzLmZhbGxiYWNrVGh1bWJuYWlsO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlbGVtZW50LnNyYyA9IHJvdy5pbWFnZUVycm9yUmVzb2x2ZXIoZXZlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNJY29uVmFsdWUocm93OiBEYXRhUm93LCBjb2w6IERhdGFDb2x1bW4pOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHJvdyAmJiBjb2wpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHJvdy5nZXRWYWx1ZShjb2wua2V5KTtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZSAmJiB2YWx1ZS5zdGFydHNXaXRoKCdtYXRlcmlhbC1pY29uczovLycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBhc0ljb25WYWx1ZShyb3c6IERhdGFSb3csIGNvbDogRGF0YUNvbHVtbik6IHN0cmluZyB7XG4gICAgICAgIGlmICh0aGlzLmlzSWNvblZhbHVlKHJvdywgY29sKSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gcm93LmdldFZhbHVlKGNvbC5rZXkpIHx8ICcnO1xuICAgICAgICAgICAgcmV0dXJuIHZhbHVlLnJlcGxhY2UoJ21hdGVyaWFsLWljb25zOi8vJywgJycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGljb25BbHRUZXh0S2V5KHZhbHVlOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdmFsdWUgPyAnSUNPTlMuJyArIHZhbHVlLnN1YnN0cmluZyh2YWx1ZS5sYXN0SW5kZXhPZignLycpICsgMSkucmVwbGFjZSgvXFwuW2Etel0rLywgJycpIDogJyc7XG4gICAgfVxuXG4gICAgaXNDb2x1bW5Tb3J0ZWQoY29sOiBEYXRhQ29sdW1uLCBkaXJlY3Rpb246IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoY29sICYmIGRpcmVjdGlvbikge1xuICAgICAgICAgICAgbGV0IHNvcnRpbmcgPSB0aGlzLmRhdGEuZ2V0U29ydGluZygpO1xuICAgICAgICAgICAgcmV0dXJuIHNvcnRpbmcgJiYgc29ydGluZy5rZXkgPT09IGNvbC5rZXkgJiYgc29ydGluZy5kaXJlY3Rpb24gPT09IGRpcmVjdGlvbjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0Q29udGV4dE1lbnVBY3Rpb25zKHJvdzogRGF0YVJvdywgY29sOiBEYXRhQ29sdW1uKTogYW55W10ge1xuICAgICAgICBsZXQgZXZlbnQgPSBuZXcgRGF0YUNlbGxFdmVudChyb3csIGNvbCwgW10pO1xuICAgICAgICB0aGlzLnNob3dSb3dDb250ZXh0TWVudS5lbWl0KGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIGV2ZW50LnZhbHVlLmFjdGlvbnM7XG4gICAgfVxuXG4gICAgZ2V0Um93QWN0aW9ucyhyb3c6IERhdGFSb3csIGNvbD86IERhdGFDb2x1bW4pOiBhbnlbXSB7XG4gICAgICAgIGNvbnN0IGlkID0gcm93LmdldFZhbHVlKCdpZCcpO1xuXG4gICAgICAgIGlmICghdGhpcy5yb3dNZW51Q2FjaGVbaWRdKSB7XG4gICAgICAgICAgICBsZXQgZXZlbnQgPSBuZXcgRGF0YUNlbGxFdmVudChyb3csIGNvbCwgW10pO1xuICAgICAgICAgICAgdGhpcy5zaG93Um93QWN0aW9uc01lbnUuZW1pdChldmVudCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMucm93TWVudUNhY2hlRW5hYmxlZCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBldmVudC52YWx1ZS5hY3Rpb25zO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5yb3dNZW51Q2FjaGVbaWRdID0gZXZlbnQudmFsdWUuYWN0aW9ucztcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnJvd01lbnVDYWNoZVtpZF07XG4gICAgfVxuXG4gICAgb25FeGVjdXRlUm93QWN0aW9uKHJvdzogRGF0YVJvdywgYWN0aW9uOiBhbnkpIHtcbiAgICAgICAgaWYgKGFjdGlvbi5kaXNhYmxlZCB8fCBhY3Rpb24uZGlzYWJsZWQpIHtcbiAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5leGVjdXRlUm93QWN0aW9uLmVtaXQobmV3IERhdGFSb3dBY3Rpb25FdmVudChyb3csIGFjdGlvbikpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcm93QWxsb3dzRHJvcChyb3c6IERhdGFSb3cpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHJvdy5pc0Ryb3BUYXJnZXQgPT09IHRydWU7XG4gICAgfVxuXG4gICAgaGFzU2VsZWN0aW9uTW9kZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNTaW5nbGVTZWxlY3Rpb25Nb2RlKCkgfHwgdGhpcy5pc011bHRpU2VsZWN0aW9uTW9kZSgpO1xuICAgIH1cblxuICAgIGlzU2luZ2xlU2VsZWN0aW9uTW9kZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0aW9uTW9kZSAmJiB0aGlzLnNlbGVjdGlvbk1vZGUudG9Mb3dlckNhc2UoKSA9PT0gJ3NpbmdsZSc7XG4gICAgfVxuXG4gICAgaXNNdWx0aVNlbGVjdGlvbk1vZGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGlvbk1vZGUgJiYgdGhpcy5zZWxlY3Rpb25Nb2RlLnRvTG93ZXJDYXNlKCkgPT09ICdtdWx0aXBsZSc7XG4gICAgfVxuXG4gICAgZ2V0Um93U3R5bGUocm93OiBEYXRhUm93KTogc3RyaW5nIHtcbiAgICAgICAgcm93LmNzc0NsYXNzID0gcm93LmNzc0NsYXNzID8gcm93LmNzc0NsYXNzIDogJyc7XG4gICAgICAgIHRoaXMucm93U3R5bGVDbGFzcyA9IHRoaXMucm93U3R5bGVDbGFzcyA/IHRoaXMucm93U3R5bGVDbGFzcyA6ICcnO1xuICAgICAgICByZXR1cm4gYCR7cm93LmNzc0NsYXNzfSAke3RoaXMucm93U3R5bGVDbGFzc31gO1xuICAgIH1cblxuICAgIGdldEZpbGVuYW1lKHJvdzogRGF0YVJvdyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiByb3cuZ2V0VmFsdWUoJ25hbWUnKTtcbiAgICB9XG5cbiAgICBnZXRTb3J0aW5nS2V5KCk6IHN0cmluZyB7XG4gICAgICAgIGlmICh0aGlzLmRhdGEuZ2V0U29ydGluZygpKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmdldFNvcnRpbmcoKS5rZXk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZWxlY3RSb3cocm93OiBEYXRhUm93LCB2YWx1ZTogYm9vbGVhbikge1xuICAgICAgICBpZiAocm93KSB7XG4gICAgICAgICAgICByb3cuaXNTZWxlY3RlZCA9IHZhbHVlO1xuICAgICAgICAgICAgY29uc3QgaWR4ID0gdGhpcy5zZWxlY3Rpb24uaW5kZXhPZihyb3cpO1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlkeCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb24ucHVzaChyb3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlkeCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENlbGxUb29sdGlwKHJvdzogRGF0YVJvdywgY29sOiBEYXRhQ29sdW1uKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHJvdyAmJiBjb2wgJiYgY29sLmZvcm1hdFRvb2x0aXApIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDogc3RyaW5nID0gY29sLmZvcm1hdFRvb2x0aXAocm93LCBjb2wpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZ2V0U29ydGFibGVDb2x1bW5zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhLmdldENvbHVtbnMoKS5maWx0ZXIoY29sdW1uID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjb2x1bW4uc29ydGFibGUgPT09IHRydWU7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGlzRW1wdHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEuZ2V0Um93cygpLmxlbmd0aCA9PT0gMDtcbiAgICB9XG5cbiAgICBpc0hlYWRlclZpc2libGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNob3dIZWFkZXIgJiYgIXRoaXMubG9hZGluZyAmJiAhdGhpcy5pc0VtcHR5KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlbWl0Um93U2VsZWN0aW9uRXZlbnQobmFtZTogc3RyaW5nLCByb3c6IERhdGFSb3cpIHtcbiAgICAgICAgY29uc3QgZG9tRXZlbnQgPSBuZXcgQ3VzdG9tRXZlbnQobmFtZSwge1xuICAgICAgICAgICAgZGV0YWlsOiB7XG4gICAgICAgICAgICAgICAgcm93OiByb3csXG4gICAgICAgICAgICAgICAgc2VsZWN0aW9uOiB0aGlzLnNlbGVjdGlvblxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGJ1YmJsZXM6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LmRpc3BhdGNoRXZlbnQoZG9tRXZlbnQpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZW1pdFNvcnRpbmdDaGFuZ2VkRXZlbnQoa2V5OiBzdHJpbmcsIGRpcmVjdGlvbjogc3RyaW5nKSB7XG4gICAgICAgIGNvbnN0IGRvbUV2ZW50ID0gbmV3IEN1c3RvbUV2ZW50KCdzb3J0aW5nLWNoYW5nZWQnLCB7XG4gICAgICAgICAgICBkZXRhaWw6IHtcbiAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgZGlyZWN0aW9uXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYnViYmxlczogdHJ1ZVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQuZGlzcGF0Y2hFdmVudChkb21FdmVudCk7XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMudW5zdWJzY3JpYmVDbGlja1N0cmVhbSgpO1xuXG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHMgPT4gcy51bnN1YnNjcmliZSgpKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zID0gW107XG5cbiAgICAgICAgaWYgKHRoaXMuZGF0YVJvd3NDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFSb3dzQ2hhbmdlZC51bnN1YnNjcmliZSgpO1xuICAgICAgICAgICAgdGhpcy5kYXRhUm93c0NoYW5nZWQgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGF0YXRhYmxlTGF5b3V0Rml4KCkge1xuICAgICAgICBjb25zdCBtYXhHYWxsZXJ5Um93cyA9IDI1O1xuXG4gICAgICAgIGlmICh0aGlzLmRpc3BsYXkgPT09ICdnYWxsZXJ5Jykge1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBtYXhHYWxsZXJ5Um93czsgaSsrKSB7XG4gICAgICAgICAgICAgICB0aGlzLmZha2VSb3dzLnB1c2goJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mYWtlUm93cyA9IFtdO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRGF0YVRhYmxlQ2VsbENvbXBvbmVudCB9IGZyb20gJy4vZGF0YXRhYmxlLWNlbGwuY29tcG9uZW50JztcbmltcG9ydCB7XG4gICAgVXNlclByZWZlcmVuY2VzU2VydmljZSxcbiAgICBVc2VyUHJlZmVyZW5jZVZhbHVlc1xufSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlcy91c2VyLXByZWZlcmVuY2VzLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1kYXRlLWNlbGwnLFxuXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPG5nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDxzcGFuIHRpdGxlPVwie3sgdG9vbHRpcCB8IGRhdGU6J21lZGl1bScgfX1cIiAqbmdJZj1cImZvcm1hdCA9PT0gJ3RpbWVBZ28nIGVsc2Ugc3RhbmRhcmRfZGF0ZVwiPlxuICAgICAgICAgICAgICAgIHt7IHZhbHVlIHwgYWRmVGltZUFnbzogY3VycmVudExvY2FsZSB9fVxuICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICAgICAgPG5nLXRlbXBsYXRlICNzdGFuZGFyZF9kYXRlPlxuICAgICAgICAgICAgPHNwYW4gdGl0bGU9XCJ7eyB0b29sdGlwIHwgZGF0ZTpmb3JtYXQgfX1cIj5cbiAgICAgICAgICAgICAgICB7eyB2YWx1ZSB8IGRhdGU6Zm9ybWF0IH19XG4gICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvbmctdGVtcGxhdGU+XG4gICAgYCxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgIGhvc3Q6IHsgY2xhc3M6ICdhZGYtZGF0ZS1jZWxsJyB9XG59KVxuZXhwb3J0IGNsYXNzIERhdGVDZWxsQ29tcG9uZW50IGV4dGVuZHMgRGF0YVRhYmxlQ2VsbENvbXBvbmVudCB7XG4gICAgY3VycmVudExvY2FsZTtcblxuICAgIGdldCBmb3JtYXQoKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKHRoaXMuY29sdW1uKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb2x1bW4uZm9ybWF0IHx8ICdtZWRpdW0nO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnbWVkaXVtJztcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvcih1c2VyUHJlZmVyZW5jZVNlcnZpY2U6IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoKTtcblxuICAgICAgICBpZiAodXNlclByZWZlcmVuY2VTZXJ2aWNlKSB7XG4gICAgICAgICAgICB1c2VyUHJlZmVyZW5jZVNlcnZpY2VcbiAgICAgICAgICAgICAgICAuc2VsZWN0KFVzZXJQcmVmZXJlbmNlVmFsdWVzLkxvY2FsZSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKGxvY2FsZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2FsZSA9IGxvY2FsZTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgRGlyZWN0aXZlLCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1lbXB0eS1saXN0JyxcbiAgICBzdHlsZVVybHM6IFsnLi9lbXB0eS1saXN0LmNvbXBvbmVudC5zY3NzJ10sXG4gICAgdGVtcGxhdGVVcmw6ICcuL2VtcHR5LWxpc3QuY29tcG9uZW50Lmh0bWwnLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgRW1wdHlMaXN0Q29tcG9uZW50IHt9XG5cbkBEaXJlY3RpdmUoeyBzZWxlY3RvcjogJ1thZGYtZW1wdHktbGlzdC1oZWFkZXJdJyB9KSBleHBvcnQgY2xhc3MgRW1wdHlMaXN0SGVhZGVyRGlyZWN0aXZlIHt9XG5ARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbYWRmLWVtcHR5LWxpc3QtYm9keV0nIH0pIGV4cG9ydCBjbGFzcyBFbXB0eUxpc3RCb2R5RGlyZWN0aXZlIHt9XG5ARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbYWRmLWVtcHR5LWxpc3QtZm9vdGVyXScgfSkgZXhwb3J0IGNsYXNzIEVtcHR5TGlzdEZvb3RlckRpcmVjdGl2ZSB7fVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRGF0YVRhYmxlQ2VsbENvbXBvbmVudCB9IGZyb20gJy4vZGF0YXRhYmxlLWNlbGwuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtZmlsZXNpemUtY2VsbCcsXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPG5nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDxzcGFuIFt0aXRsZV09XCJ0b29sdGlwXCI+e3sgdmFsdWUgfCBhZGZGaWxlU2l6ZSB9fTwvc3Bhbj5cbiAgICAgICAgPC9uZy1jb250YWluZXI+XG4gICAgYCxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgIGhvc3Q6IHsgY2xhc3M6ICdhZGYtZmlsZXNpemUtY2VsbCcgfVxufSlcbmV4cG9ydCBjbGFzcyBGaWxlU2l6ZUNlbGxDb21wb25lbnQgZXh0ZW5kcyBEYXRhVGFibGVDZWxsQ29tcG9uZW50IHt9XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUGF0aEluZm9FbnRpdHkgfSBmcm9tICdhbGZyZXNjby1qcy1hcGknO1xuaW1wb3J0IHsgRGF0YVRhYmxlQ2VsbENvbXBvbmVudCB9IGZyb20gJy4vZGF0YXRhYmxlLWNlbGwuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtbG9jYXRpb24tY2VsbCcsXG4gICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgdGVtcGxhdGU6IGBcbiAgICAgICAgPG5nLWNvbnRhaW5lcj5cbiAgICAgICAgICAgIDxhIGhyZWY9XCJcIiBbdGl0bGVdPVwidG9vbHRpcFwiIFtyb3V0ZXJMaW5rXT1cImxpbmtcIj5cbiAgICAgICAgICAgICAgICB7eyBkaXNwbGF5VGV4dCB9fVxuICAgICAgICAgICAgPC9hPlxuICAgICAgICA8L25nLWNvbnRhaW5lcj5cbiAgICBgLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgaG9zdDogeyBjbGFzczogJ2FkZi1sb2NhdGlvbi1jZWxsJyB9XG59KVxuZXhwb3J0IGNsYXNzIExvY2F0aW9uQ2VsbENvbXBvbmVudCBleHRlbmRzIERhdGFUYWJsZUNlbGxDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgQElucHV0KClcbiAgICBsaW5rOiBhbnlbXTtcblxuICAgIEBJbnB1dCgpXG4gICAgZGlzcGxheVRleHQ6IHN0cmluZyA9ICcnO1xuXG4gICAgLyoqIEBvdmVycmlkZSAqL1xuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAoIXRoaXMudmFsdWUgJiYgdGhpcy5jb2x1bW4gJiYgdGhpcy5jb2x1bW4ua2V5ICYmIHRoaXMucm93ICYmIHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgY29uc3QgcGF0aDogUGF0aEluZm9FbnRpdHkgPSB0aGlzLmRhdGEuZ2V0VmFsdWUodGhpcy5yb3csIHRoaXMuY29sdW1uKTtcblxuICAgICAgICAgICAgaWYgKHBhdGggJiYgcGF0aC5uYW1lICYmIHBhdGguZWxlbWVudHMpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gcGF0aDtcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlUZXh0ID0gcGF0aC5uYW1lLnNwbGl0KCcvJykucG9wKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudG9vbHRpcCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvb2x0aXAgPSBwYXRoLm5hbWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgY29uc3QgcGFyZW50ID0gcGF0aC5lbGVtZW50c1twYXRoLmVsZW1lbnRzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIHRoaXMubGluayA9IFsgdGhpcy5jb2x1bW4uZm9ybWF0LCBwYXJlbnQuaWQgXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEFmdGVyQ29udGVudEluaXQsIENvbnRlbnRDaGlsZCwgRGlyZWN0aXZlLCBUZW1wbGF0ZVJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRGF0YVRhYmxlQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9kYXRhdGFibGUvZGF0YXRhYmxlLmNvbXBvbmVudCc7XG5cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnbG9hZGluZy1jb250ZW50LXRlbXBsYXRlJ1xufSlcbmV4cG9ydCBjbGFzcyBMb2FkaW5nQ29udGVudFRlbXBsYXRlRGlyZWN0aXZlIGltcGxlbWVudHMgQWZ0ZXJDb250ZW50SW5pdCB7XG5cbiAgICBAQ29udGVudENoaWxkKFRlbXBsYXRlUmVmKVxuICAgIHRlbXBsYXRlOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRhdGFUYWJsZTogRGF0YVRhYmxlQ29tcG9uZW50KSB7XG4gICAgfVxuXG4gICAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICAgICAgICBpZiAodGhpcy5kYXRhVGFibGUpIHtcbiAgICAgICAgICAgIHRoaXMuZGF0YVRhYmxlLmxvYWRpbmdUZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGU7XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEFmdGVyQ29udGVudEluaXQsIENvbnRlbnRDaGlsZCwgRGlyZWN0aXZlLCBUZW1wbGF0ZVJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRGF0YVRhYmxlQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9kYXRhdGFibGUvZGF0YXRhYmxlLmNvbXBvbmVudCc7XG5cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnbm8tY29udGVudC10ZW1wbGF0ZSdcbn0pXG5leHBvcnQgY2xhc3MgTm9Db250ZW50VGVtcGxhdGVEaXJlY3RpdmUgaW1wbGVtZW50cyBBZnRlckNvbnRlbnRJbml0IHtcblxuICAgIEBDb250ZW50Q2hpbGQoVGVtcGxhdGVSZWYpXG4gICAgdGVtcGxhdGU6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZGF0YVRhYmxlOiBEYXRhVGFibGVDb21wb25lbnQpIHtcbiAgICB9XG5cbiAgICBuZ0FmdGVyQ29udGVudEluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmRhdGFUYWJsZSkge1xuICAgICAgICAgICAgdGhpcy5kYXRhVGFibGUubm9Db250ZW50VGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQWZ0ZXJDb250ZW50SW5pdCwgQ29udGVudENoaWxkLCBEaXJlY3RpdmUsIFRlbXBsYXRlUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEYXRhVGFibGVDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL2RhdGF0YWJsZS9kYXRhdGFibGUuY29tcG9uZW50JztcblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICduby1wZXJtaXNzaW9uLXRlbXBsYXRlJ1xufSlcbmV4cG9ydCBjbGFzcyBOb1Blcm1pc3Npb25UZW1wbGF0ZURpcmVjdGl2ZSBpbXBsZW1lbnRzIEFmdGVyQ29udGVudEluaXQge1xuXG4gICAgQENvbnRlbnRDaGlsZChUZW1wbGF0ZVJlZilcbiAgICB0ZW1wbGF0ZTogYW55O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBkYXRhVGFibGU6IERhdGFUYWJsZUNvbXBvbmVudCkge1xuICAgIH1cblxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZGF0YVRhYmxlKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFUYWJsZS5ub1Blcm1pc3Npb25UZW1wbGF0ZSA9IHRoaXMudGVtcGxhdGU7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBEaXJlY3RpdmUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdhZGYtZW1wdHktY3VzdG9tLWNvbnRlbnQnXG59KVxuXG5leHBvcnQgY2xhc3MgRW1wdHlDdXN0b21Db250ZW50RGlyZWN0aXZlIHt9XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJvdXRlck1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBUcmFuc2xhdGVNb2R1bGUgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJztcblxuaW1wb3J0IHsgTWF0ZXJpYWxNb2R1bGUgfSBmcm9tICcuLi9tYXRlcmlhbC5tb2R1bGUnO1xuaW1wb3J0IHsgQ29udGV4dE1lbnVNb2R1bGUgfSBmcm9tICcuLi9jb250ZXh0LW1lbnUvY29udGV4dC1tZW51Lm1vZHVsZSc7XG5pbXBvcnQgeyBQaXBlTW9kdWxlIH0gZnJvbSAnLi4vcGlwZXMvcGlwZS5tb2R1bGUnO1xuXG5pbXBvcnQgeyBEaXJlY3RpdmVNb2R1bGUgfSBmcm9tICcuLi9kaXJlY3RpdmVzL2RpcmVjdGl2ZS5tb2R1bGUnO1xuaW1wb3J0IHsgRGF0YVRhYmxlQ2VsbENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9kYXRhdGFibGUvZGF0YXRhYmxlLWNlbGwuY29tcG9uZW50JztcbmltcG9ydCB7IERhdGFUYWJsZUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9kYXRhdGFibGUvZGF0YXRhYmxlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBEYXRlQ2VsbENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9kYXRhdGFibGUvZGF0ZS1jZWxsLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBFbXB0eUxpc3RCb2R5RGlyZWN0aXZlLFxuICAgIEVtcHR5TGlzdENvbXBvbmVudCxcbiAgICBFbXB0eUxpc3RGb290ZXJEaXJlY3RpdmUsXG4gICAgRW1wdHlMaXN0SGVhZGVyRGlyZWN0aXZlIH0gZnJvbSAnLi9jb21wb25lbnRzL2RhdGF0YWJsZS9lbXB0eS1saXN0LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBGaWxlU2l6ZUNlbGxDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZGF0YXRhYmxlL2ZpbGVzaXplLWNlbGwuY29tcG9uZW50JztcbmltcG9ydCB7IExvY2F0aW9uQ2VsbENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9kYXRhdGFibGUvbG9jYXRpb24tY2VsbC5jb21wb25lbnQnO1xuaW1wb3J0IHsgTG9hZGluZ0NvbnRlbnRUZW1wbGF0ZURpcmVjdGl2ZSB9IGZyb20gJy4vZGlyZWN0aXZlcy9sb2FkaW5nLXRlbXBsYXRlLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBOb0NvbnRlbnRUZW1wbGF0ZURpcmVjdGl2ZSB9IGZyb20gJy4vZGlyZWN0aXZlcy9uby1jb250ZW50LXRlbXBsYXRlLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBOb1Blcm1pc3Npb25UZW1wbGF0ZURpcmVjdGl2ZSB9IGZyb20gJy4vZGlyZWN0aXZlcy9uby1wZXJtaXNzaW9uLXRlbXBsYXRlLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBFbXB0eUN1c3RvbUNvbnRlbnREaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZXMvZW1wdHktY3VzdG9tLWNvbnRlbnQuZGlyZWN0aXZlJztcblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIFJvdXRlck1vZHVsZSxcbiAgICAgICAgTWF0ZXJpYWxNb2R1bGUsXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgVHJhbnNsYXRlTW9kdWxlLmZvckNoaWxkKCksXG4gICAgICAgIENvbnRleHRNZW51TW9kdWxlLFxuICAgICAgICBQaXBlTW9kdWxlLFxuICAgICAgICBEaXJlY3RpdmVNb2R1bGVcbiAgICBdLFxuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBEYXRhVGFibGVDb21wb25lbnQsXG4gICAgICAgIEVtcHR5TGlzdENvbXBvbmVudCxcbiAgICAgICAgRW1wdHlMaXN0SGVhZGVyRGlyZWN0aXZlLFxuICAgICAgICBFbXB0eUxpc3RCb2R5RGlyZWN0aXZlLFxuICAgICAgICBFbXB0eUxpc3RGb290ZXJEaXJlY3RpdmUsXG4gICAgICAgIERhdGFUYWJsZUNlbGxDb21wb25lbnQsXG4gICAgICAgIERhdGVDZWxsQ29tcG9uZW50LFxuICAgICAgICBGaWxlU2l6ZUNlbGxDb21wb25lbnQsXG4gICAgICAgIExvY2F0aW9uQ2VsbENvbXBvbmVudCxcbiAgICAgICAgTm9Db250ZW50VGVtcGxhdGVEaXJlY3RpdmUsXG4gICAgICAgIE5vUGVybWlzc2lvblRlbXBsYXRlRGlyZWN0aXZlLFxuICAgICAgICBMb2FkaW5nQ29udGVudFRlbXBsYXRlRGlyZWN0aXZlLFxuICAgICAgICBFbXB0eUN1c3RvbUNvbnRlbnREaXJlY3RpdmVcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgRGF0YVRhYmxlQ29tcG9uZW50LFxuICAgICAgICBFbXB0eUxpc3RDb21wb25lbnQsXG4gICAgICAgIEVtcHR5TGlzdEhlYWRlckRpcmVjdGl2ZSxcbiAgICAgICAgRW1wdHlMaXN0Qm9keURpcmVjdGl2ZSxcbiAgICAgICAgRW1wdHlMaXN0Rm9vdGVyRGlyZWN0aXZlLFxuICAgICAgICBEYXRhVGFibGVDZWxsQ29tcG9uZW50LFxuICAgICAgICBEYXRlQ2VsbENvbXBvbmVudCxcbiAgICAgICAgRmlsZVNpemVDZWxsQ29tcG9uZW50LFxuICAgICAgICBMb2NhdGlvbkNlbGxDb21wb25lbnQsXG4gICAgICAgIE5vQ29udGVudFRlbXBsYXRlRGlyZWN0aXZlLFxuICAgICAgICBOb1Blcm1pc3Npb25UZW1wbGF0ZURpcmVjdGl2ZSxcbiAgICAgICAgTG9hZGluZ0NvbnRlbnRUZW1wbGF0ZURpcmVjdGl2ZSxcbiAgICAgICAgRW1wdHlDdXN0b21Db250ZW50RGlyZWN0aXZlXG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBEYXRhVGFibGVNb2R1bGUge31cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBEYXRhQ29sdW1uTGlzdENvbXBvbmVudCB9IGZyb20gJy4vZGF0YS1jb2x1bW4tbGlzdC5jb21wb25lbnQnO1xuaW1wb3J0IHsgRGF0YUNvbHVtbkNvbXBvbmVudCB9IGZyb20gJy4vZGF0YS1jb2x1bW4uY29tcG9uZW50JztcblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZVxuICAgIF0sXG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIERhdGFDb2x1bW5Db21wb25lbnQsXG4gICAgICAgIERhdGFDb2x1bW5MaXN0Q29tcG9uZW50XG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIERhdGFDb2x1bW5Db21wb25lbnQsXG4gICAgICAgIERhdGFDb2x1bW5MaXN0Q29tcG9uZW50XG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBEYXRhQ29sdW1uTW9kdWxlIHt9XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFRyYW5zbGF0ZU1vZHVsZSB9IGZyb20gJ0BuZ3gtdHJhbnNsYXRlL2NvcmUnO1xuaW1wb3J0IHsgTWF0ZXJpYWxNb2R1bGUgfSBmcm9tICcuLi9tYXRlcmlhbC5tb2R1bGUnO1xuaW1wb3J0IHsgQWJvdXRDb21wb25lbnQgfSBmcm9tICcuL2Fib3V0LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBEYXRhVGFibGVNb2R1bGUgfSBmcm9tICcuLi9kYXRhdGFibGUvZGF0YXRhYmxlLm1vZHVsZSc7XG5pbXBvcnQgeyBEYXRhQ29sdW1uTW9kdWxlIH0gZnJvbSAnLi4vZGF0YS1jb2x1bW4vZGF0YS1jb2x1bW4ubW9kdWxlJztcblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgTWF0ZXJpYWxNb2R1bGUsXG4gICAgICAgIFRyYW5zbGF0ZU1vZHVsZS5mb3JDaGlsZCgpLFxuICAgICAgICBEYXRhVGFibGVNb2R1bGUsXG4gICAgICAgIERhdGFDb2x1bW5Nb2R1bGVcbiAgICBdLFxuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBBYm91dENvbXBvbmVudFxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBBYm91dENvbXBvbmVudFxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgQWJvdXRNb2R1bGUge31cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJlbmRpdGlvbkVudHJ5IH0gZnJvbSAnYWxmcmVzY28tanMtYXBpJztcbmltcG9ydCB7IEFsZnJlc2NvQXBpU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2FsZnJlc2NvLWFwaS5zZXJ2aWNlJztcbmltcG9ydCB7IExvZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9sb2cuc2VydmljZSc7XG5cbkBJbmplY3RhYmxlKHtcbiAgICBwcm92aWRlZEluOiAncm9vdCdcbn0pXG5leHBvcnQgY2xhc3MgVmlld1V0aWxTZXJ2aWNlIHtcbiAgICBzdGF0aWMgVEFSR0VUID0gJ19uZXcnO1xuXG4gICAgLyoqXG4gICAgICogQ29udGVudCBncm91cHMgYmFzZWQgb24gY2F0ZWdvcml6YXRpb24gb2YgZmlsZXMgdGhhdCBjYW4gYmUgdmlld2VkIGluIHRoZSB3ZWIgYnJvd3Nlci4gVGhpc1xuICAgICAqIGltcGxlbWVudGF0aW9uIG9yIGdyb3VwaW5nIGlzIHRpZWQgdG8gdGhlIGRlZmluaXRpb24gdGhlIG5nIGNvbXBvbmVudDogVmlld2VyQ29tcG9uZW50XG4gICAgICovXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOnZhcmlhYmxlLW5hbWVcbiAgICBzdGF0aWMgQ29udGVudEdyb3VwID0ge1xuICAgICAgICBJTUFHRTogJ2ltYWdlJyxcbiAgICAgICAgTUVESUE6ICdtZWRpYScsXG4gICAgICAgIFBERjogJ3BkZicsXG4gICAgICAgIFRFWFQ6ICd0ZXh0J1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBCYXNlZCBvbiBWaWV3ZXJDb21wb25lbnQgSW1wbGVtZW50YXRpb24sIHRoaXMgdmFsdWUgaXMgdXNlZCB0byBkZXRlcm1pbmUgaG93IG1hbnkgdGltZXMgd2UgdHJ5XG4gICAgICogdG8gZ2V0IHRoZSByZW5kaXRpb24gb2YgYSBmaWxlIGZvciBwcmV2aWV3LCBvciBwcmludGluZy5cbiAgICAgKi9cbiAgICBtYXhSZXRyaWVzID0gNTtcblxuICAgIC8qKlxuICAgICAqIE1pbWUtdHlwZSBncm91cGluZyBiYXNlZCBvbiB0aGUgVmlld2VyQ29tcG9uZW50LlxuICAgICAqL1xuICAgIHByaXZhdGUgbWltZVR5cGVzID0ge1xuICAgICAgICB0ZXh0OiBbJ3RleHQvcGxhaW4nLCAndGV4dC9jc3YnLCAndGV4dC94bWwnLCAndGV4dC9odG1sJywgJ2FwcGxpY2F0aW9uL3gtamF2YXNjcmlwdCddLFxuICAgICAgICBwZGY6IFsnYXBwbGljYXRpb24vcGRmJ10sXG4gICAgICAgIGltYWdlOiBbJ2ltYWdlL3BuZycsICdpbWFnZS9qcGVnJywgJ2ltYWdlL2dpZicsICdpbWFnZS9ibXAnLCAnaW1hZ2Uvc3ZnK3htbCddLFxuICAgICAgICBtZWRpYTogWyd2aWRlby9tcDQnLCAndmlkZW8vd2VibScsICd2aWRlby9vZ2cnLCAnYXVkaW8vbXBlZycsICdhdWRpby9vZ2cnLCAnYXVkaW8vd2F2J11cbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhcGlTZXJ2aWNlOiBBbGZyZXNjb0FwaVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBsb2dTZXJ2aWNlOiBMb2dTZXJ2aWNlKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgdGFrZXMgYSB1cmwgdG8gdHJpZ2dlciB0aGUgcHJpbnQgZGlhbG9nIGFnYWluc3QsIGFuZCB0aGUgdHlwZSBvZiBhcnRpZmFjdCB0aGF0IGl0XG4gICAgICogaXMuXG4gICAgICogVGhpcyBVUkwgc2hvdWxkIGJlIG9uZSB0aGF0IGNhbiBiZSByZW5kZXJlZCBpbiB0aGUgYnJvd3NlciwgZm9yIGV4YW1wbGUgUERGLCBJbWFnZSwgb3IgVGV4dFxuICAgICAqL1xuICAgIHByaW50RmlsZSh1cmw6IHN0cmluZywgdHlwZTogc3RyaW5nKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHB3YSA9IHdpbmRvdy5vcGVuKHVybCwgVmlld1V0aWxTZXJ2aWNlLlRBUkdFVCk7XG4gICAgICAgIGlmIChwd2EpIHtcbiAgICAgICAgICAgIC8vIEJlY2F1c2Ugb2YgdGhlIHdheSBjaHJvbWUgZm9jdXMgYW5kIGNsb3NlIGltYWdlIHdpbmRvdyB2cy4gcGRmIHByZXZpZXcgd2luZG93XG4gICAgICAgICAgICBpZiAodHlwZSA9PT0gVmlld1V0aWxTZXJ2aWNlLkNvbnRlbnRHcm91cC5JTUFHRSkge1xuICAgICAgICAgICAgICAgIHB3YS5vbmZvY3VzID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwd2EuY2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBwd2Eub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHB3YS5wcmludCgpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExhdW5jaCB0aGUgRmlsZSBQcmludCBkaWFsb2cgZnJvbSBhbnl3aGVyZSBvdGhlciB0aGFuIHRoZSBwcmV2aWV3IHNlcnZpY2UsIHdoaWNoIHJlc29sdmVzIHRoZVxuICAgICAqIHJlbmRpdGlvbiBvZiB0aGUgb2JqZWN0IHRoYXQgY2FuIGJlIHByaW50ZWQgZnJvbSBhIHdlYiBicm93c2VyLlxuICAgICAqIFRoZXNlIGFyZTogaW1hZ2VzLCBQREYgZmlsZXMsIG9yIFBERiByZW5kaXRpb24gb2YgZmlsZXMuXG4gICAgICogV2UgYWxzbyBmb3JjZSBQREYgcmVuZGl0aW9uIGZvciBURVhUIHR5cGUgb2JqZWN0cywgb3RoZXJ3aXNlIHRoZSBkZWZhdWx0IFVSTCBpcyB0byBkb3dubG9hZC5cbiAgICAgKiBUT0RPIHRoZXJlIGFyZSBkaWZmZXJlbnQgVEVYVCB0eXBlIG9iamVjdHMsIChIVE1MLCBwbGFpbnRleHQsIHhtbCwgZXRjLiB3ZSBzaG91bGQgZGV0ZXJtaW5lIGhvdyB0aGVzZSBhcmUgaGFuZGxlZClcbiAgICAgKi9cbiAgICBwcmludEZpbGVHZW5lcmljKG9iamVjdElkOiBzdHJpbmcsIG1pbWVUeXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgY29uc3Qgbm9kZUlkID0gb2JqZWN0SWQ7XG4gICAgICAgIGNvbnN0IHR5cGU6IHN0cmluZyA9IHRoaXMuZ2V0Vmlld2VyVHlwZUJ5TWltZVR5cGUobWltZVR5cGUpO1xuXG4gICAgICAgIHRoaXMuZ2V0UmVuZGl0aW9uKG5vZGVJZCwgVmlld1V0aWxTZXJ2aWNlLkNvbnRlbnRHcm91cC5QREYpXG4gICAgICAgIC50aGVuKHZhbHVlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHVybDogc3RyaW5nID0gdGhpcy5nZXRSZW5kaXRpb25Vcmwobm9kZUlkLCB0eXBlLCAodmFsdWUgPyB0cnVlIDogZmFsc2UpKTtcbiAgICAgICAgICAgIGNvbnN0IHByaW50VHlwZSA9ICh0eXBlID09PSBWaWV3VXRpbFNlcnZpY2UuQ29udGVudEdyb3VwLlBERlxuICAgICAgICAgICAgICAgIHx8IHR5cGUgPT09IFZpZXdVdGlsU2VydmljZS5Db250ZW50R3JvdXAuVEVYVClcbiAgICAgICAgICAgICAgICA/IFZpZXdVdGlsU2VydmljZS5Db250ZW50R3JvdXAuUERGIDogdHlwZTtcbiAgICAgICAgICAgIHRoaXMucHJpbnRGaWxlKHVybCwgcHJpbnRUeXBlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuZXJyb3IoJ0Vycm9yIHdpdGggUHJpbnRpbmcnKTtcbiAgICAgICAgICAgIHRoaXMubG9nU2VydmljZS5lcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRSZW5kaXRpb25Vcmwobm9kZUlkOiBzdHJpbmcsIHR5cGU6IHN0cmluZywgcmVuZGl0aW9uRXhpc3RzOiBib29sZWFuKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIChyZW5kaXRpb25FeGlzdHMgJiYgdHlwZSAhPT0gVmlld1V0aWxTZXJ2aWNlLkNvbnRlbnRHcm91cC5JTUFHRSkgP1xuICAgICAgICAgICAgdGhpcy5hcGlTZXJ2aWNlLmNvbnRlbnRBcGkuZ2V0UmVuZGl0aW9uVXJsKG5vZGVJZCwgVmlld1V0aWxTZXJ2aWNlLkNvbnRlbnRHcm91cC5QREYpIDpcbiAgICAgICAgICAgIHRoaXMuYXBpU2VydmljZS5jb250ZW50QXBpLmdldENvbnRlbnRVcmwobm9kZUlkLCBmYWxzZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB3YWl0UmVuZGl0aW9uKG5vZGVJZDogc3RyaW5nLCByZW5kaXRpb25JZDogc3RyaW5nLCByZXRyaWVzOiBudW1iZXIpOiBQcm9taXNlPFJlbmRpdGlvbkVudHJ5PiB7XG4gICAgICAgIGNvbnN0IHJlbmRpdGlvbiA9IGF3YWl0IHRoaXMuYXBpU2VydmljZS5yZW5kaXRpb25zQXBpLmdldFJlbmRpdGlvbihub2RlSWQsIHJlbmRpdGlvbklkKTtcblxuICAgICAgICBpZiAodGhpcy5tYXhSZXRyaWVzIDwgcmV0cmllcykge1xuICAgICAgICAgICAgY29uc3Qgc3RhdHVzID0gcmVuZGl0aW9uLmVudHJ5LnN0YXR1cy50b1N0cmluZygpO1xuXG4gICAgICAgICAgICBpZiAoc3RhdHVzID09PSAnQ1JFQVRFRCcpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVuZGl0aW9uO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXRyaWVzICs9IDE7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy53YWl0KDEwMDApO1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCB0aGlzLndhaXRSZW5kaXRpb24obm9kZUlkLCByZW5kaXRpb25JZCwgcmV0cmllcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRWaWV3ZXJUeXBlQnlNaW1lVHlwZShtaW1lVHlwZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgaWYgKG1pbWVUeXBlKSB7XG4gICAgICAgICAgICBtaW1lVHlwZSA9IG1pbWVUeXBlLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgICAgIGNvbnN0IGVkaXRvclR5cGVzID0gT2JqZWN0LmtleXModGhpcy5taW1lVHlwZXMpO1xuICAgICAgICAgICAgZm9yIChjb25zdCB0eXBlIG9mIGVkaXRvclR5cGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWltZVR5cGVzW3R5cGVdLmluZGV4T2YobWltZVR5cGUpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAndW5rbm93bic7XG4gICAgfVxuXG4gICAgd2FpdChtczogbnVtYmVyKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuICAgIH1cblxuICAgIGFzeW5jIGdldFJlbmRpdGlvbihub2RlSWQ6IHN0cmluZywgcmVuZGl0aW9uSWQ6IHN0cmluZyk6IFByb21pc2U8UmVuZGl0aW9uRW50cnk+IHtcbiAgICAgICAgY29uc3Qgc3VwcG9ydGVkID0gYXdhaXQgdGhpcy5hcGlTZXJ2aWNlLnJlbmRpdGlvbnNBcGkuZ2V0UmVuZGl0aW9ucyhub2RlSWQpO1xuICAgICAgICBsZXQgcmVuZGl0aW9uID0gc3VwcG9ydGVkLmxpc3QuZW50cmllcy5maW5kKG9iaiA9PiBvYmouZW50cnkuaWQudG9Mb3dlckNhc2UoKSA9PT0gcmVuZGl0aW9uSWQpO1xuXG4gICAgICAgIGlmIChyZW5kaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IHJlbmRpdGlvbi5lbnRyeS5zdGF0dXMudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ05PVF9DUkVBVEVEJykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBpU2VydmljZS5yZW5kaXRpb25zQXBpLmNyZWF0ZVJlbmRpdGlvbihub2RlSWQsIHtpZDogcmVuZGl0aW9uSWR9KTtcbiAgICAgICAgICAgICAgICAgICAgcmVuZGl0aW9uID0gYXdhaXQgdGhpcy53YWl0UmVuZGl0aW9uKG5vZGVJZCwgcmVuZGl0aW9uSWQsIDApO1xuICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4gcmVzb2x2ZShyZW5kaXRpb24pKTtcbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLXZpZXdlci1tb3JlLWFjdGlvbnMnLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgaG9zdDogeyBjbGFzczogJ2FkZi12aWV3ZXItbW9yZS1hY3Rpb25zJyB9LFxuICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmBcbn0pXG5leHBvcnQgY2xhc3MgVmlld2VyTW9yZUFjdGlvbnNDb21wb25lbnQge1xufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENvbXBvbmVudCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtdmlld2VyLW9wZW4td2l0aCcsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICBob3N0OiB7IGNsYXNzOiAnYWRmLXZpZXdlci1vcGVuLXdpdGgnIH0sXG4gICAgdGVtcGxhdGU6IGA8bmctY29udGVudD48L25nLWNvbnRlbnQ+YFxufSlcbmV4cG9ydCBjbGFzcyBWaWV3ZXJPcGVuV2l0aENvbXBvbmVudCB7XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi12aWV3ZXItc2lkZWJhcicsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICBob3N0OiB7IGNsYXNzOiAnYWRmLXZpZXdlci1zaWRlYmFyJyB9LFxuICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmBcbn0pXG5leHBvcnQgY2xhc3MgVmlld2VyU2lkZWJhckNvbXBvbmVudCB7XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi12aWV3ZXItdG9vbGJhcicsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICBob3N0OiB7IGNsYXNzOiAnYWRmLXZpZXdlci10b29sYmFyJyB9LFxuICAgIHRlbXBsYXRlOiBgPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PmBcbn0pXG5leHBvcnQgY2xhc3MgVmlld2VyVG9vbGJhckNvbXBvbmVudCB7XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBMb2NhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQge1xuICAgIENvbXBvbmVudCwgQ29udGVudENoaWxkLCBFdmVudEVtaXR0ZXIsIEhvc3RMaXN0ZW5lciwgRWxlbWVudFJlZixcbiAgICBJbnB1dCwgT25DaGFuZ2VzLCBPdXRwdXQsIFNpbXBsZUNoYW5nZXMsIFRlbXBsYXRlUmVmLFxuICAgIFZpZXdFbmNhcHN1bGF0aW9uLCBPbkluaXQsIE9uRGVzdHJveVxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1pbmltYWxOb2RlRW50cnlFbnRpdHksIFJlbmRpdGlvbkVudHJ5IH0gZnJvbSAnYWxmcmVzY28tanMtYXBpJztcbmltcG9ydCB7IEJhc2VFdmVudCB9IGZyb20gJy4uLy4uL2V2ZW50cyc7XG5pbXBvcnQgeyBBbGZyZXNjb0FwaVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9hbGZyZXNjby1hcGkuc2VydmljZSc7XG5pbXBvcnQgeyBMb2dTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgVmlld2VyTW9yZUFjdGlvbnNDb21wb25lbnQgfSBmcm9tICcuL3ZpZXdlci1tb3JlLWFjdGlvbnMuY29tcG9uZW50JztcbmltcG9ydCB7IFZpZXdlck9wZW5XaXRoQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3ZXItb3Blbi13aXRoLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBWaWV3ZXJTaWRlYmFyQ29tcG9uZW50IH0gZnJvbSAnLi92aWV3ZXItc2lkZWJhci5jb21wb25lbnQnO1xuaW1wb3J0IHsgVmlld2VyVG9vbGJhckNvbXBvbmVudCB9IGZyb20gJy4vdmlld2VyLXRvb2xiYXIuY29tcG9uZW50JztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgVmlld1V0aWxTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvdmlldy11dGlsLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi12aWV3ZXInLFxuICAgIHRlbXBsYXRlVXJsOiAnLi92aWV3ZXIuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL3ZpZXdlci5jb21wb25lbnQuc2NzcyddLFxuICAgIGhvc3Q6IHsgJ2NsYXNzJzogJ2FkZi12aWV3ZXInIH0sXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBWaWV3ZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMsIE9uSW5pdCwgT25EZXN0cm95IHtcblxuICAgIEBDb250ZW50Q2hpbGQoVmlld2VyVG9vbGJhckNvbXBvbmVudClcbiAgICB0b29sYmFyOiBWaWV3ZXJUb29sYmFyQ29tcG9uZW50O1xuXG4gICAgQENvbnRlbnRDaGlsZChWaWV3ZXJTaWRlYmFyQ29tcG9uZW50KVxuICAgIHNpZGViYXI6IFZpZXdlclNpZGViYXJDb21wb25lbnQ7XG5cbiAgICBAQ29udGVudENoaWxkKFZpZXdlck9wZW5XaXRoQ29tcG9uZW50KVxuICAgIG1udU9wZW5XaXRoOiBWaWV3ZXJPcGVuV2l0aENvbXBvbmVudDtcblxuICAgIEBDb250ZW50Q2hpbGQoVmlld2VyTW9yZUFjdGlvbnNDb21wb25lbnQpXG4gICAgbW51TW9yZUFjdGlvbnM6IFZpZXdlck1vcmVBY3Rpb25zQ29tcG9uZW50O1xuXG4gICAgLyoqIElmIHlvdSB3YW50IHRvIGxvYWQgYW4gZXh0ZXJuYWwgZmlsZSB0aGF0IGRvZXMgbm90IGNvbWUgZnJvbSBBQ1MgeW91XG4gICAgICogY2FuIHVzZSB0aGlzIFVSTCB0byBzcGVjaWZ5IHdoZXJlIHRvIGxvYWQgdGhlIGZpbGUgZnJvbS5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHVybEZpbGUgPSAnJztcblxuICAgIC8qKiBWaWV3ZXIgdG8gdXNlIHdpdGggdGhlIGB1cmxGaWxlYCBhZGRyZXNzIChgcGRmYCwgYGltYWdlYCwgYG1lZGlhYCwgYHRleHRgKS5cbiAgICAgKiBVc2VkIHdoZW4gYHVybEZpbGVgIGhhcyBubyBmaWxlbmFtZSBhbmQgZXh0ZW5zaW9uLlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgdXJsRmlsZVZpZXdlcjogc3RyaW5nID0gbnVsbDtcblxuICAgIC8qKiBMb2FkcyBhIEJsb2IgRmlsZSAqL1xuICAgIEBJbnB1dCgpXG4gICAgYmxvYkZpbGU6IEJsb2I7XG5cbiAgICAvKipcbiAgICAgKiBOb2RlIElkIG9mIHRoZSBmaWxlIHRvIGxvYWQuXG4gICAgICogQGRlcHJlY2F0ZWQgMi40LjAgdXNlIG5vZGVJZFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2V0IGZpbGVOb2RlSWQobm9kZUlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5ub2RlSWQgPSBub2RlSWQ7XG4gICAgfVxuXG4gICAgLyoqIE5vZGUgSWQgb2YgdGhlIGZpbGUgdG8gbG9hZC4gKi9cbiAgICBASW5wdXQoKVxuICAgIG5vZGVJZDogc3RyaW5nID0gbnVsbDtcblxuICAgIC8qKiBTaGFyZWQgbGluayBpZCAodG8gZGlzcGxheSBzaGFyZWQgZmlsZSkuICovXG4gICAgQElucHV0KClcbiAgICBzaGFyZWRMaW5rSWQ6IHN0cmluZyA9IG51bGw7XG5cbiAgICAvKiogSWYgYHRydWVgIHRoZW4gc2hvdyB0aGUgVmlld2VyIGFzIGEgZnVsbCBwYWdlIG92ZXIgdGhlIGN1cnJlbnQgY29udGVudC5cbiAgICAgKiBPdGhlcndpc2UgZml0IGluc2lkZSB0aGUgcGFyZW50IGRpdi5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG92ZXJsYXlNb2RlID0gZmFsc2U7XG5cbiAgICAvKiogSGlkZSBvciBzaG93IHRoZSB2aWV3ZXIgKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3dWaWV3ZXIgPSB0cnVlO1xuXG4gICAgLyoqIEhpZGUgb3Igc2hvdyB0aGUgdG9vbGJhciAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2hvd1Rvb2xiYXIgPSB0cnVlO1xuXG4gICAgLyoqIFNwZWNpZmllcyB0aGUgbmFtZSBvZiB0aGUgZmlsZSB3aGVuIGl0IGlzIG5vdCBhdmFpbGFibGUgZnJvbSB0aGUgVVJMLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgZGlzcGxheU5hbWU6IHN0cmluZztcblxuICAgIC8qKiBBbGxvd3MgYGJhY2tgIG5hdmlnYXRpb24gKi9cbiAgICBASW5wdXQoKVxuICAgIGFsbG93R29CYWNrID0gdHJ1ZTtcblxuICAgIC8qKiBUb2dnbGVzIGRvd25sb2FkaW5nLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgYWxsb3dEb3dubG9hZCA9IHRydWU7XG5cbiAgICAvKiogVG9nZ2xlcyBwcmludGluZy4gKi9cbiAgICBASW5wdXQoKVxuICAgIGFsbG93UHJpbnQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgc2hhcmluZy5cbiAgICAgKiBAZGVwcmVjYXRlZCAyLjUuMCAtIGluamVjdCB0aGUgc2hhcmUgYnV0dG9uIGRpcmVjdGl2ZSBhcyBjdXN0b20gYnV0dG9uXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBhbGxvd1NoYXJlID0gZmFsc2U7XG5cbiAgICAvKiogVG9nZ2xlcyB0aGUgJ0Z1bGwgU2NyZWVuJyBmZWF0dXJlLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgYWxsb3dGdWxsU2NyZWVuID0gdHJ1ZTtcblxuICAgIC8qKiBUb2dnbGVzIGJlZm9yZS9uZXh0IG5hdmlnYXRpb24uIFlvdSBjYW4gdXNlIHRoZSBhcnJvdyBidXR0b25zIHRvIG5hdmlnYXRlXG4gICAgICogYmV0d2VlbiBkb2N1bWVudHMgaW4gdGhlIGNvbGxlY3Rpb24uXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBhbGxvd05hdmlnYXRlID0gZmFsc2U7XG5cbiAgICAvKiogVG9nZ2xlcyB0aGUgXCJiZWZvcmVcIiAoXCI8XCIpIGJ1dHRvbi4gUmVxdWlyZXMgYGFsbG93TmF2aWdhdGVgIHRvIGJlIGVuYWJsZWQuICovXG4gICAgQElucHV0KClcbiAgICBjYW5OYXZpZ2F0ZUJlZm9yZSA9IHRydWU7XG5cbiAgICAvKiogVG9nZ2xlcyB0aGUgbmV4dCAoXCI+XCIpIGJ1dHRvbi4gUmVxdWlyZXMgYGFsbG93TmF2aWdhdGVgIHRvIGJlIGVuYWJsZWQuICovXG4gICAgQElucHV0KClcbiAgICBjYW5OYXZpZ2F0ZU5leHQgPSB0cnVlO1xuXG4gICAgLyoqIEFsbG93IHRoZSBsZWZ0IHRoZSBzaWRlYmFyLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgYWxsb3dMZWZ0U2lkZWJhciA9IGZhbHNlO1xuXG4gICAgLyoqIEFsbG93IHRoZSByaWdodCBzaWRlYmFyLlxuICAgICAqIEBkZXByZWNhdGVkIDIuNS4wIC0gd2lsbCBiZSByZW5hbWVkICBhbGxvd1JpZ2h0U2lkZWJhciBpbiAzLjAuMFxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgYWxsb3dTaWRlYmFyID0gZmFsc2U7XG5cbiAgICAvKiogVG9nZ2xlcyBQREYgdGh1bWJuYWlscy4gKi9cbiAgICBASW5wdXQoKVxuICAgIGFsbG93VGh1bWJuYWlscyA9IHRydWU7XG5cbiAgICAvKipcbiAgICAgKiBUb2dnbGVzIHNpZGViYXIgdmlzaWJpbGl0eS4gUmVxdWlyZXMgYGFsbG93U2lkZWJhcmAgdG8gYmUgc2V0IHRvIGB0cnVlYC5cbiAgICAgKiBAZGVwcmVjYXRlZCAyLjUuMCAtIHdpbGwgYmUgcmVuYW1lZCBzaG93UmlnaHRTaWRlYmFyIGluIDMuMC4wXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzaG93U2lkZWJhciA9IGZhbHNlO1xuXG4gICAgLyoqIFRvZ2dsZXMgbGVmdCBzaWRlYmFyIHZpc2liaWxpdHkuIFJlcXVpcmVzIGBhbGxvd1NpZGViYXJgIHRvIGJlIHNldCB0byBgdHJ1ZWAuICovXG4gICAgQElucHV0KClcbiAgICBzaG93TGVmdFNpZGViYXIgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBwb3NpdGlvbiBvZiB0aGUgc2lkZWJhci4gQ2FuIGJlIGBsZWZ0YCBvciBgcmlnaHRgLlxuICAgICAqIEBkZXByZWNhdGVkIDIuNS4wIHVzZSBzaWRlYmFyVGVtcGxhdGVMZWZ0XG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBzaWRlYmFyUG9zaXRpb24gPSAncmlnaHQnO1xuXG4gICAgLyoqXG4gICAgICogVGhlIHRlbXBsYXRlIGZvciB0aGUgc2lkZWJhci4gVGhlIHRlbXBsYXRlIGNvbnRleHQgY29udGFpbnMgdGhlIGxvYWRlZCBub2RlIGRhdGEuXG4gICAgICogQGRlcHJlY2F0ZWQgMi41LjAgcmVuYW1lZCBhcyBzaWRlYmFyUmlnaHRcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHNpZGViYXJUZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PiA9IG51bGw7XG5cbiAgICAvKiogVGhlIHRlbXBsYXRlIGZvciB0aGUgbGVmdCBzaWRlYmFyLiBUaGUgdGVtcGxhdGUgY29udGV4dCBjb250YWlucyB0aGUgbG9hZGVkIG5vZGUgZGF0YS4gKi9cbiAgICBASW5wdXQoKVxuICAgIHNpZGViYXJMZWZ0VGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT4gPSBudWxsO1xuXG4gICAgLyoqIFRoZSB0ZW1wbGF0ZSBmb3IgdGhlIHBkZiB0aHVtYm5haWxzLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgdGh1bWJuYWlsc1RlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+ID0gbnVsbDtcblxuICAgIC8qKiBNSU1FIHR5cGUgb2YgdGhlIGZpbGUgY29udGVudCAod2hlbiBub3QgZGV0ZXJtaW5lZCBieSB0aGUgZmlsZW5hbWUgZXh0ZW5zaW9uKS4gKi9cbiAgICBASW5wdXQoKVxuICAgIG1pbWVUeXBlOiBzdHJpbmc7XG5cbiAgICAvKiogQ29udGVudCBmaWxlbmFtZS4gKi9cbiAgICBASW5wdXQoKVxuICAgIGZpbGVOYW1lOiBzdHJpbmc7XG5cbiAgICAvKiogVVJMIHRvIGRvd25sb2FkLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgZG93bmxvYWRVcmw6IHN0cmluZyA9IG51bGw7XG5cbiAgICAvKiogTnVtYmVyIG9mIHRpbWVzIHRoZSBWaWV3ZXIgd2lsbCByZXRyeSBmZXRjaGluZyBjb250ZW50IFJlbmRpdGlvbi5cbiAgICAgKiBUaGVyZSBpcyBhIGRlbGF5IG9mIGF0IGxlYXN0IG9uZSBzZWNvbmQgYmV0d2VlbiBhdHRlbXB0cy5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG1heFJldHJpZXMgPSAxMDtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdXNlciBjbGlja3MgdGhlICdCYWNrJyBidXR0b24uICovXG4gICAgQE91dHB1dCgpXG4gICAgZ29CYWNrID0gbmV3IEV2ZW50RW1pdHRlcjxCYXNlRXZlbnQ8YW55Pj4oKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdXNlciBjbGlja3MgdGhlICdEb3dubG9hZCcgYnV0dG9uLiAqL1xuICAgIEBPdXRwdXQoKVxuICAgIGRvd25sb2FkID0gbmV3IEV2ZW50RW1pdHRlcjxCYXNlRXZlbnQ8YW55Pj4oKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdXNlciBjbGlja3MgdGhlICdQcmludCcgYnV0dG9uLiAqL1xuICAgIEBPdXRwdXQoKVxuICAgIHByaW50ID0gbmV3IEV2ZW50RW1pdHRlcjxCYXNlRXZlbnQ8YW55Pj4oKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdXNlciBjbGlja3MgdGhlICdTaGFyZScgYnV0dG9uLiAqL1xuICAgIEBPdXRwdXQoKVxuICAgIHNoYXJlID0gbmV3IEV2ZW50RW1pdHRlcjxCYXNlRXZlbnQ8YW55Pj4oKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIHZpZXdlciBpcyBzaG93biBvciBoaWRkZW4uICovXG4gICAgQE91dHB1dCgpXG4gICAgc2hvd1ZpZXdlckNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIGZpbGVuYW1lIGV4dGVuc2lvbiBjaGFuZ2VzLiAqL1xuICAgIEBPdXRwdXQoKVxuICAgIGV4dGVuc2lvbkNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXI8c3RyaW5nPigpO1xuXG4gICAgLyoqIEVtaXR0ZWQgd2hlbiB1c2VyIGNsaWNrcyAnTmF2aWdhdGUgQmVmb3JlJyAoXCI8XCIpIGJ1dHRvbi4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBuYXZpZ2F0ZUJlZm9yZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdXNlciBjbGlja3MgJ05hdmlnYXRlIE5leHQnIChcIj5cIikgYnV0dG9uLiAqL1xuICAgIEBPdXRwdXQoKVxuICAgIG5hdmlnYXRlTmV4dCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIHNoYXJlZCBsaW5rIHVzZWQgaXMgbm90IHZhbGlkLiAqL1xuICAgIEBPdXRwdXQoKVxuICAgIGludmFsaWRTaGFyZWRMaW5rID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgdmlld2VyVHlwZSA9ICd1bmtub3duJztcbiAgICBpc0xvYWRpbmcgPSBmYWxzZTtcbiAgICBub2RlOiBNaW5pbWFsTm9kZUVudHJ5RW50aXR5O1xuXG4gICAgZXh0ZW5zaW9uVGVtcGxhdGVzOiB7IHRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+LCBpc1Zpc2libGU6IGJvb2xlYW4gfVtdID0gW107XG4gICAgZXh0ZXJuYWxFeHRlbnNpb25zOiBzdHJpbmdbXSA9IFtdO1xuICAgIHVybEZpbGVDb250ZW50OiBzdHJpbmc7XG4gICAgb3RoZXJNZW51OiBhbnk7XG4gICAgZXh0ZW5zaW9uOiBzdHJpbmc7XG4gICAgc2lkZWJhclRlbXBsYXRlQ29udGV4dDogeyBub2RlOiBNaW5pbWFsTm9kZUVudHJ5RW50aXR5IH0gPSB7IG5vZGU6IG51bGwgfTtcbiAgICBzaWRlYmFyTGVmdFRlbXBsYXRlQ29udGV4dDogeyBub2RlOiBNaW5pbWFsTm9kZUVudHJ5RW50aXR5IH0gPSB7IG5vZGU6IG51bGwgfTtcbiAgICBmaWxlVGl0bGU6IHN0cmluZztcblxuICAgIHByaXZhdGUgY2FjaGVCdXN0ZXJOdW1iZXI7XG5cbiAgICBwcml2YXRlIHN1YnNjcmlwdGlvbnM6IFN1YnNjcmlwdGlvbltdID0gW107XG5cbiAgICAvLyBFeHRlbnNpb25zIHRoYXQgYXJlIHN1cHBvcnRlZCBieSB0aGUgVmlld2VyIHdpdGhvdXQgY29udmVyc2lvblxuICAgIHByaXZhdGUgZXh0ZW5zaW9ucyA9IHtcbiAgICAgICAgaW1hZ2U6IFsncG5nJywgJ2pwZycsICdqcGVnJywgJ2dpZicsICdicG0nLCAnc3ZnJ10sXG4gICAgICAgIG1lZGlhOiBbJ3dhdicsICdtcDQnLCAnbXAzJywgJ3dlYm0nLCAnb2dnJ10sXG4gICAgICAgIHRleHQ6IFsndHh0JywgJ3htbCcsICdqcycsICdodG1sJywgJ2pzb24nLCAndHMnLCAnY3NzJywgJ21kJ10sXG4gICAgICAgIHBkZjogWydwZGYnXVxuICAgIH07XG5cbiAgICAvLyBNaW1lIHR5cGVzIHRoYXQgYXJlIHN1cHBvcnRlZCBieSB0aGUgVmlld2VyIHdpdGhvdXQgY29udmVyc2lvblxuICAgIHByaXZhdGUgbWltZVR5cGVzID0ge1xuICAgICAgICB0ZXh0OiBbJ3RleHQvcGxhaW4nLCAndGV4dC9jc3YnLCAndGV4dC94bWwnLCAndGV4dC9odG1sJywgJ2FwcGxpY2F0aW9uL3gtamF2YXNjcmlwdCddLFxuICAgICAgICBwZGY6IFsnYXBwbGljYXRpb24vcGRmJ10sXG4gICAgICAgIGltYWdlOiBbJ2ltYWdlL3BuZycsICdpbWFnZS9qcGVnJywgJ2ltYWdlL2dpZicsICdpbWFnZS9ibXAnLCAnaW1hZ2Uvc3ZnK3htbCddLFxuICAgICAgICBtZWRpYTogWyd2aWRlby9tcDQnLCAndmlkZW8vd2VibScsICd2aWRlby9vZ2cnLCAnYXVkaW8vbXBlZycsICdhdWRpby9vZ2cnLCAnYXVkaW8vd2F2J11cbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhcGlTZXJ2aWNlOiBBbGZyZXNjb0FwaVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSB2aWV3VXRpbHM6IFZpZXdVdGlsU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGxvZ1NlcnZpY2U6IExvZ1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBsb2NhdGlvbjogTG9jYXRpb24sXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBlbDogRWxlbWVudFJlZikge1xuICAgIH1cblxuICAgIGlzU291cmNlRGVmaW5lZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnVybEZpbGUgfHwgdGhpcy5ibG9iRmlsZSB8fCB0aGlzLm5vZGVJZCB8fCB0aGlzLnNoYXJlZExpbmtJZCkgPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5wdXNoKFxuICAgICAgICAgICAgdGhpcy5hcGlTZXJ2aWNlLm5vZGVVcGRhdGVkLnN1YnNjcmliZShub2RlID0+IHRoaXMub25Ob2RlVXBkYXRlZChub2RlKSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLmZvckVhY2goc3Vic2NyaXB0aW9uID0+IHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpKTtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zID0gW107XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbk5vZGVVcGRhdGVkKG5vZGU6IE1pbmltYWxOb2RlRW50cnlFbnRpdHkpIHtcbiAgICAgICAgaWYgKG5vZGUgJiYgbm9kZS5pZCA9PT0gdGhpcy5ub2RlSWQpIHtcbiAgICAgICAgICAgIHRoaXMuZ2VuZXJhdGVDYWNoZUJ1c3Rlck51bWJlcigpO1xuICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5zZXRVcE5vZGVGaWxlKG5vZGUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcbiAgICAgICAgaWYgKHRoaXMuc2hvd1ZpZXdlcikge1xuICAgICAgICAgICAgaWYgKCF0aGlzLmlzU291cmNlRGVmaW5lZCgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBIGNvbnRlbnQgc291cmNlIGF0dHJpYnV0ZSB2YWx1ZSBpcyBtaXNzaW5nLicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5ibG9iRmlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VXBCbG9iRGF0YSgpO1xuICAgICAgICAgICAgICAgIHRoaXMuaXNMb2FkaW5nID0gZmFsc2U7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMudXJsRmlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2V0VXBVcmxGaWxlKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5ub2RlSWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmFwaVNlcnZpY2Uubm9kZXNBcGkuZ2V0Tm9kZUluZm8odGhpcy5ub2RlSWQsIHsgaW5jbHVkZTogWydhbGxvd2FibGVPcGVyYXRpb25zJ10gfSkudGhlbihcbiAgICAgICAgICAgICAgICAgICAgKGRhdGE6IE1pbmltYWxOb2RlRW50cnlFbnRpdHkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2V0VXBOb2RlRmlsZShkYXRhKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nU2VydmljZS5lcnJvcignVGhpcyBub2RlIGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLnNoYXJlZExpbmtJZCkge1xuXG4gICAgICAgICAgICAgICAgdGhpcy5hcGlTZXJ2aWNlLnNoYXJlZExpbmtzQXBpLmdldFNoYXJlZExpbmsodGhpcy5zaGFyZWRMaW5rSWQpLnRoZW4oXG4gICAgICAgICAgICAgICAgICAgIGRldGFpbHMgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRVcFNoYXJlZExpbmtGaWxlKGRldGFpbHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nU2VydmljZS5lcnJvcignVGhpcyBzaGFyZWRMaW5rIGRvZXMgbm90IGV4aXN0Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmludmFsaWRTaGFyZWRMaW5rLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFVwQmxvYkRhdGEoKSB7XG4gICAgICAgIHRoaXMuZmlsZVRpdGxlID0gdGhpcy5nZXREaXNwbGF5TmFtZSgnVW5rbm93bicpO1xuICAgICAgICB0aGlzLm1pbWVUeXBlID0gdGhpcy5ibG9iRmlsZS50eXBlO1xuICAgICAgICB0aGlzLnZpZXdlclR5cGUgPSB0aGlzLmdldFZpZXdlclR5cGVCeU1pbWVUeXBlKHRoaXMubWltZVR5cGUpO1xuXG4gICAgICAgIHRoaXMuYWxsb3dEb3dubG9hZCA9IGZhbHNlO1xuICAgICAgICAvLyBUT0RPOiB3cmFwIGJsb2IgaW50byB0aGUgZGF0YSB1cmwgYW5kIGFsbG93IGRvd25sb2FkaW5nXG5cbiAgICAgICAgdGhpcy5leHRlbnNpb25DaGFuZ2UuZW1pdCh0aGlzLm1pbWVUeXBlKTtcbiAgICAgICAgdGhpcy5zY3JvbGxUb3AoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldFVwVXJsRmlsZSgpIHtcbiAgICAgICAgbGV0IGZpbGVuYW1lRnJvbVVybCA9IHRoaXMuZ2V0RmlsZW5hbWVGcm9tVXJsKHRoaXMudXJsRmlsZSk7XG4gICAgICAgIHRoaXMuZmlsZVRpdGxlID0gdGhpcy5nZXREaXNwbGF5TmFtZShmaWxlbmFtZUZyb21VcmwpO1xuICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IHRoaXMuZ2V0RmlsZUV4dGVuc2lvbihmaWxlbmFtZUZyb21VcmwpO1xuICAgICAgICB0aGlzLnVybEZpbGVDb250ZW50ID0gdGhpcy51cmxGaWxlO1xuXG4gICAgICAgIHRoaXMuZG93bmxvYWRVcmwgPSB0aGlzLnVybEZpbGU7XG4gICAgICAgIHRoaXMuZmlsZU5hbWUgPSB0aGlzLmRpc3BsYXlOYW1lO1xuXG4gICAgICAgIHRoaXMudmlld2VyVHlwZSA9IHRoaXMudXJsRmlsZVZpZXdlciB8fCB0aGlzLmdldFZpZXdlclR5cGVCeUV4dGVuc2lvbih0aGlzLmV4dGVuc2lvbik7XG4gICAgICAgIGlmICh0aGlzLnZpZXdlclR5cGUgPT09ICd1bmtub3duJykge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJUeXBlID0gdGhpcy5nZXRWaWV3ZXJUeXBlQnlNaW1lVHlwZSh0aGlzLm1pbWVUeXBlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uQ2hhbmdlLmVtaXQodGhpcy5leHRlbnNpb24pO1xuICAgICAgICB0aGlzLnNjcm9sbFRvcCgpO1xuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgc2V0VXBOb2RlRmlsZShkYXRhOiBNaW5pbWFsTm9kZUVudHJ5RW50aXR5KSB7XG4gICAgICAgIGxldCBzZXR1cE5vZGU7XG5cbiAgICAgICAgaWYgKGRhdGEuY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5taW1lVHlwZSA9IGRhdGEuY29udGVudC5taW1lVHlwZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZmlsZVRpdGxlID0gdGhpcy5nZXREaXNwbGF5TmFtZShkYXRhLm5hbWUpO1xuXG4gICAgICAgIHRoaXMudXJsRmlsZUNvbnRlbnQgPSB0aGlzLmFwaVNlcnZpY2UuY29udGVudEFwaS5nZXRDb250ZW50VXJsKGRhdGEuaWQpO1xuICAgICAgICB0aGlzLnVybEZpbGVDb250ZW50ID0gdGhpcy5jYWNoZUJ1c3Rlck51bWJlciA/IHRoaXMudXJsRmlsZUNvbnRlbnQgKyAnJicgKyB0aGlzLmNhY2hlQnVzdGVyTnVtYmVyIDogdGhpcy51cmxGaWxlQ29udGVudDtcblxuICAgICAgICB0aGlzLmV4dGVuc2lvbiA9IHRoaXMuZ2V0RmlsZUV4dGVuc2lvbihkYXRhLm5hbWUpO1xuXG4gICAgICAgIHRoaXMuZmlsZU5hbWUgPSBkYXRhLm5hbWU7XG4gICAgICAgIHRoaXMuZG93bmxvYWRVcmwgPSB0aGlzLmFwaVNlcnZpY2UuY29udGVudEFwaS5nZXRDb250ZW50VXJsKGRhdGEuaWQsIHRydWUpO1xuXG4gICAgICAgIHRoaXMudmlld2VyVHlwZSA9IHRoaXMuZ2V0Vmlld2VyVHlwZUJ5RXh0ZW5zaW9uKHRoaXMuZXh0ZW5zaW9uKTtcbiAgICAgICAgaWYgKHRoaXMudmlld2VyVHlwZSA9PT0gJ3Vua25vd24nKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclR5cGUgPSB0aGlzLmdldFZpZXdlclR5cGVCeU1pbWVUeXBlKHRoaXMubWltZVR5cGUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudmlld2VyVHlwZSA9PT0gJ3Vua25vd24nKSB7XG4gICAgICAgICAgICBzZXR1cE5vZGUgPSB0aGlzLmRpc3BsYXlOb2RlUmVuZGl0aW9uKGRhdGEuaWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5leHRlbnNpb25DaGFuZ2UuZW1pdCh0aGlzLmV4dGVuc2lvbik7XG4gICAgICAgIHRoaXMuc2lkZWJhclRlbXBsYXRlQ29udGV4dC5ub2RlID0gZGF0YTtcbiAgICAgICAgdGhpcy5zaWRlYmFyTGVmdFRlbXBsYXRlQ29udGV4dC5ub2RlID0gZGF0YTtcbiAgICAgICAgdGhpcy5zY3JvbGxUb3AoKTtcblxuICAgICAgICByZXR1cm4gc2V0dXBOb2RlO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0VXBTaGFyZWRMaW5rRmlsZShkZXRhaWxzOiBhbnkpIHtcbiAgICAgICAgdGhpcy5taW1lVHlwZSA9IGRldGFpbHMuZW50cnkuY29udGVudC5taW1lVHlwZTtcbiAgICAgICAgdGhpcy5maWxlVGl0bGUgPSB0aGlzLmdldERpc3BsYXlOYW1lKGRldGFpbHMuZW50cnkubmFtZSk7XG4gICAgICAgIHRoaXMuZXh0ZW5zaW9uID0gdGhpcy5nZXRGaWxlRXh0ZW5zaW9uKGRldGFpbHMuZW50cnkubmFtZSk7XG4gICAgICAgIHRoaXMuZmlsZU5hbWUgPSBkZXRhaWxzLmVudHJ5Lm5hbWU7XG5cbiAgICAgICAgdGhpcy51cmxGaWxlQ29udGVudCA9IHRoaXMuYXBpU2VydmljZS5jb250ZW50QXBpLmdldFNoYXJlZExpbmtDb250ZW50VXJsKHRoaXMuc2hhcmVkTGlua0lkLCBmYWxzZSk7XG4gICAgICAgIHRoaXMuZG93bmxvYWRVcmwgPSB0aGlzLmFwaVNlcnZpY2UuY29udGVudEFwaS5nZXRTaGFyZWRMaW5rQ29udGVudFVybCh0aGlzLnNoYXJlZExpbmtJZCwgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJUeXBlID0gdGhpcy5nZXRWaWV3ZXJUeXBlQnlNaW1lVHlwZSh0aGlzLm1pbWVUeXBlKTtcbiAgICAgICAgaWYgKHRoaXMudmlld2VyVHlwZSA9PT0gJ3Vua25vd24nKSB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclR5cGUgPSB0aGlzLmdldFZpZXdlclR5cGVCeUV4dGVuc2lvbih0aGlzLmV4dGVuc2lvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy52aWV3ZXJUeXBlID09PSAndW5rbm93bicpIHtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVNoYXJlZExpbmtSZW5kaXRpb24odGhpcy5zaGFyZWRMaW5rSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5leHRlbnNpb25DaGFuZ2UuZW1pdCh0aGlzLmV4dGVuc2lvbik7XG4gICAgfVxuXG4gICAgdG9nZ2xlU2lkZWJhcigpIHtcbiAgICAgICAgdGhpcy5zaG93U2lkZWJhciA9ICF0aGlzLnNob3dTaWRlYmFyO1xuICAgICAgICBpZiAodGhpcy5zaG93U2lkZWJhciAmJiB0aGlzLm5vZGVJZCkge1xuICAgICAgICAgICAgdGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkubm9kZXMuZ2V0Tm9kZUluZm8odGhpcy5ub2RlSWQsIHsgaW5jbHVkZTogWydhbGxvd2FibGVPcGVyYXRpb25zJ10gfSlcbiAgICAgICAgICAgICAgICAudGhlbigoZGF0YTogTWluaW1hbE5vZGVFbnRyeUVudGl0eSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZGViYXJUZW1wbGF0ZUNvbnRleHQubm9kZSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB0b2dnbGVMZWZ0U2lkZWJhcigpIHtcbiAgICAgICAgdGhpcy5zaG93TGVmdFNpZGViYXIgPSAhdGhpcy5zaG93TGVmdFNpZGViYXI7XG4gICAgICAgIGlmICh0aGlzLnNob3dTaWRlYmFyICYmIHRoaXMubm9kZUlkKSB7XG4gICAgICAgICAgICB0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5ub2Rlcy5nZXROb2RlSW5mbyh0aGlzLm5vZGVJZCwgeyBpbmNsdWRlOiBbJ2FsbG93YWJsZU9wZXJhdGlvbnMnXSB9KVxuICAgICAgICAgICAgICAgIC50aGVuKChkYXRhOiBNaW5pbWFsTm9kZUVudHJ5RW50aXR5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2lkZWJhckxlZnRUZW1wbGF0ZUNvbnRleHQubm9kZSA9IGRhdGE7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldERpc3BsYXlOYW1lKG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheU5hbWUgfHwgbmFtZSA7XG4gICAgfVxuXG4gICAgc2Nyb2xsVG9wKCkge1xuICAgICAgICB3aW5kb3cuc2Nyb2xsVG8oMCwgMSk7XG4gICAgfVxuXG4gICAgZ2V0Vmlld2VyVHlwZUJ5TWltZVR5cGUobWltZVR5cGU6IHN0cmluZykge1xuICAgICAgICBpZiAobWltZVR5cGUpIHtcbiAgICAgICAgICAgIG1pbWVUeXBlID0gbWltZVR5cGUudG9Mb3dlckNhc2UoKTtcblxuICAgICAgICAgICAgY29uc3QgZWRpdG9yVHlwZXMgPSBPYmplY3Qua2V5cyh0aGlzLm1pbWVUeXBlcyk7XG4gICAgICAgICAgICBmb3IgKGxldCB0eXBlIG9mIGVkaXRvclR5cGVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWltZVR5cGVzW3R5cGVdLmluZGV4T2YobWltZVR5cGUpID49IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHR5cGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAndW5rbm93bic7XG4gICAgfVxuXG4gICAgZ2V0Vmlld2VyVHlwZUJ5RXh0ZW5zaW9uKGV4dGVuc2lvbjogc3RyaW5nKSB7XG4gICAgICAgIGlmIChleHRlbnNpb24pIHtcbiAgICAgICAgICAgIGV4dGVuc2lvbiA9IGV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNDdXN0b21WaWV3ZXJFeHRlbnNpb24oZXh0ZW5zaW9uKSkge1xuICAgICAgICAgICAgcmV0dXJuICdjdXN0b20nO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZXh0ZW5zaW9ucy5pbWFnZS5pbmRleE9mKGV4dGVuc2lvbikgPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICdpbWFnZSc7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5leHRlbnNpb25zLm1lZGlhLmluZGV4T2YoZXh0ZW5zaW9uKSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJ21lZGlhJztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmV4dGVuc2lvbnMudGV4dC5pbmRleE9mKGV4dGVuc2lvbikgPj0gMCkge1xuICAgICAgICAgICAgcmV0dXJuICd0ZXh0JztcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmV4dGVuc2lvbnMucGRmLmluZGV4T2YoZXh0ZW5zaW9uKSA+PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gJ3BkZic7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gJ3Vua25vd24nO1xuICAgIH1cblxuICAgIG9uQmFja0J1dHRvbkNsaWNrKCkge1xuICAgICAgICBpZiAodGhpcy5vdmVybGF5TW9kZSkge1xuICAgICAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgQmFzZUV2ZW50PGFueT4oKTtcbiAgICAgICAgICAgIHRoaXMuZ29CYWNrLm5leHQoZXZlbnQpO1xuXG4gICAgICAgICAgICBpZiAoIWV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvY2F0aW9uLmJhY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTmF2aWdhdGVCZWZvcmVDbGljaygpIHtcbiAgICAgICAgdGhpcy5uYXZpZ2F0ZUJlZm9yZS5uZXh0KCk7XG4gICAgfVxuXG4gICAgb25OYXZpZ2F0ZU5leHRDbGljaygpIHtcbiAgICAgICAgdGhpcy5uYXZpZ2F0ZU5leHQubmV4dCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNsb3NlIHRoZSB2aWV3ZXJcbiAgICAgKi9cbiAgICBjbG9zZSgpIHtcbiAgICAgICAgaWYgKHRoaXMub3RoZXJNZW51KSB7XG4gICAgICAgICAgICB0aGlzLm90aGVyTWVudS5oaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNob3dWaWV3ZXIgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5zaG93Vmlld2VyQ2hhbmdlLmVtaXQodGhpcy5zaG93Vmlld2VyKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBnZXQgRmlsZSBuYW1lIGZyb20gdXJsXG4gICAgICpcbiAgICAgKiBAcGFyYW0gIHVybCAtIHVybCBmaWxlXG4gICAgICovXG4gICAgZ2V0RmlsZW5hbWVGcm9tVXJsKHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGFuY2hvciA9IHVybC5pbmRleE9mKCcjJyk7XG4gICAgICAgIGxldCBxdWVyeSA9IHVybC5pbmRleE9mKCc/Jyk7XG4gICAgICAgIGxldCBlbmQgPSBNYXRoLm1pbihcbiAgICAgICAgICAgIGFuY2hvciA+IDAgPyBhbmNob3IgOiB1cmwubGVuZ3RoLFxuICAgICAgICAgICAgcXVlcnkgPiAwID8gcXVlcnkgOiB1cmwubGVuZ3RoKTtcbiAgICAgICAgcmV0dXJuIHVybC5zdWJzdHJpbmcodXJsLmxhc3RJbmRleE9mKCcvJywgZW5kKSArIDEsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGZpbGUgZXh0ZW5zaW9uIGZyb20gdGhlIHN0cmluZy5cbiAgICAgKiBTdXBwb3J0cyB0aGUgVVJMIGZvcm1hdHMgbGlrZTpcbiAgICAgKiBodHRwOi8vbG9jYWxob3N0L3Rlc3QuanBnP2NhY2hlPTEwMDBcbiAgICAgKiBodHRwOi8vbG9jYWxob3N0L3Rlc3QuanBnI2NhY2hlPTEwMDBcbiAgICAgKlxuICAgICAqIEBwYXJhbSBmaWxlTmFtZSAtIGZpbGUgbmFtZVxuICAgICAqL1xuICAgIGdldEZpbGVFeHRlbnNpb24oZmlsZU5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIGlmIChmaWxlTmFtZSkge1xuICAgICAgICAgICAgY29uc3QgbWF0Y2ggPSBmaWxlTmFtZS5tYXRjaCgvXFwuKFteXFwuL1xcP1xcI10rKSgkfFxcP3xcXCMpLyk7XG4gICAgICAgICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgaXNDdXN0b21WaWV3ZXJFeHRlbnNpb24oZXh0ZW5zaW9uOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgZXh0ZW5zaW9ucyA9IHRoaXMuZXh0ZXJuYWxFeHRlbnNpb25zIHx8IFtdO1xuXG4gICAgICAgIGlmIChleHRlbnNpb24gJiYgZXh0ZW5zaW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBleHRlbnNpb24gPSBleHRlbnNpb24udG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHJldHVybiBleHRlbnNpb25zLmluZGV4T2YoZXh0ZW5zaW9uKSA+PSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEtleWJvYXJkIGV2ZW50IGxpc3RlbmVyXG4gICAgICogQHBhcmFtICBldmVudFxuICAgICAqL1xuICAgIEBIb3N0TGlzdGVuZXIoJ2RvY3VtZW50OmtleXVwJywgWyckZXZlbnQnXSlcbiAgICBoYW5kbGVLZXlib2FyZEV2ZW50KGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGtleSA9IGV2ZW50LmtleUNvZGU7XG5cbiAgICAgICAgLy8gRXNjXG4gICAgICAgIGlmIChrZXkgPT09IDI3ICYmIHRoaXMub3ZlcmxheU1vZGUpIHsgLy8gZXNjXG4gICAgICAgICAgICB0aGlzLmNsb3NlKCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMZWZ0IGFycm93XG4gICAgICAgIGlmIChrZXkgPT09IDM3ICYmIHRoaXMuY2FuTmF2aWdhdGVCZWZvcmUpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLm9uTmF2aWdhdGVCZWZvcmVDbGljaygpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUmlnaHQgYXJyb3dcbiAgICAgICAgaWYgKGtleSA9PT0gMzkgJiYgdGhpcy5jYW5OYXZpZ2F0ZU5leHQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLm9uTmF2aWdhdGVOZXh0Q2xpY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEN0cmwrRlxuICAgICAgICBpZiAoa2V5ID09PSA3MCAmJiBldmVudC5jdHJsS2V5KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgdGhpcy5lbnRlckZ1bGxTY3JlZW4oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRvd25sb2FkQ29udGVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYWxsb3dEb3dubG9hZCAmJiB0aGlzLmRvd25sb2FkVXJsICYmIHRoaXMuZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGFyZ3MgPSBuZXcgQmFzZUV2ZW50KCk7XG4gICAgICAgICAgICB0aGlzLmRvd25sb2FkLm5leHQoYXJncyk7XG5cbiAgICAgICAgICAgIGlmICghYXJncy5kZWZhdWx0UHJldmVudGVkKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcblxuICAgICAgICAgICAgICAgIGxpbmsuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgICAgICBsaW5rLmRvd25sb2FkID0gdGhpcy5maWxlTmFtZTtcbiAgICAgICAgICAgICAgICBsaW5rLmhyZWYgPSB0aGlzLmRvd25sb2FkVXJsO1xuXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgICAgICAgICAgICBsaW5rLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChsaW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaW50Q29udGVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYWxsb3dQcmludCkge1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IG5ldyBCYXNlRXZlbnQoKTtcbiAgICAgICAgICAgIHRoaXMucHJpbnQubmV4dChhcmdzKTtcblxuICAgICAgICAgICAgaWYgKCFhcmdzLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdVdGlscy5wcmludEZpbGVHZW5lcmljKHRoaXMubm9kZUlkLCB0aGlzLm1pbWVUeXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNoYXJlQ29udGVudCgpIHtcbiAgICAgICAgaWYgKHRoaXMuYWxsb3dTaGFyZSkge1xuICAgICAgICAgICAgY29uc3QgYXJncyA9IG5ldyBCYXNlRXZlbnQoKTtcbiAgICAgICAgICAgIHRoaXMuc2hhcmUubmV4dChhcmdzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyaWdnZXJzIGZ1bGwgc2NyZWVuIG1vZGUgd2l0aCBhIG1haW4gY29udGVudCBhcmVhIGRpc3BsYXllZC5cbiAgICAgKi9cbiAgICBlbnRlckZ1bGxTY3JlZW4oKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmFsbG93RnVsbFNjcmVlbikge1xuICAgICAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5lbC5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hZGYtdmlld2VyX19mdWxsc2NyZWVuLWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgIGlmIChjb250YWluZXIucmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXIud2Via2l0UmVxdWVzdEZ1bGxzY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLndlYmtpdFJlcXVlc3RGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXIubW96UmVxdWVzdEZ1bGxTY3JlZW4pIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLm1velJlcXVlc3RGdWxsU2NyZWVuKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb250YWluZXIubXNSZXF1ZXN0RnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIubXNSZXF1ZXN0RnVsbHNjcmVlbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZGlzcGxheU5vZGVSZW5kaXRpb24obm9kZUlkOiBzdHJpbmcpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlbmRpdGlvbiA9IGF3YWl0IHRoaXMucmVzb2x2ZVJlbmRpdGlvbihub2RlSWQsICdwZGYnKTtcbiAgICAgICAgICAgIGlmIChyZW5kaXRpb24pIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZW5kaXRpb25JZCA9IHJlbmRpdGlvbi5lbnRyeS5pZDtcblxuICAgICAgICAgICAgICAgIGlmIChyZW5kaXRpb25JZCA9PT0gJ3BkZicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJUeXBlID0gJ3BkZic7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZW5kaXRpb25JZCA9PT0gJ2ltZ3ByZXZpZXcnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyVHlwZSA9ICdpbWFnZSc7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgdGhpcy51cmxGaWxlQ29udGVudCA9IHRoaXMuYXBpU2VydmljZS5jb250ZW50QXBpLmdldFJlbmRpdGlvblVybChub2RlSWQsIHJlbmRpdGlvbklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuZXJyb3IoZXJyKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgZGlzcGxheVNoYXJlZExpbmtSZW5kaXRpb24oc2hhcmVkSWQ6IHN0cmluZykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVuZGl0aW9uID0gYXdhaXQgdGhpcy5hcGlTZXJ2aWNlLnJlbmRpdGlvbnNBcGkuZ2V0U2hhcmVkTGlua1JlbmRpdGlvbihzaGFyZWRJZCwgJ3BkZicpO1xuICAgICAgICAgICAgaWYgKHJlbmRpdGlvbi5lbnRyeS5zdGF0dXMudG9TdHJpbmcoKSA9PT0gJ0NSRUFURUQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJUeXBlID0gJ3BkZic7XG4gICAgICAgICAgICAgICAgdGhpcy51cmxGaWxlQ29udGVudCA9IHRoaXMuYXBpU2VydmljZS5jb250ZW50QXBpLmdldFNoYXJlZExpbmtSZW5kaXRpb25Vcmwoc2hhcmVkSWQsICdwZGYnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRoaXMubG9nU2VydmljZS5lcnJvcihlcnJvcik7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlbmRpdGlvbiA9IGF3YWl0IHRoaXMuYXBpU2VydmljZS5yZW5kaXRpb25zQXBpLmdldFNoYXJlZExpbmtSZW5kaXRpb24oc2hhcmVkSWQsICdpbWdwcmV2aWV3Jyk7XG4gICAgICAgICAgICAgICAgaWYgKHJlbmRpdGlvbi5lbnRyeS5zdGF0dXMudG9TdHJpbmcoKSA9PT0gJ0NSRUFURUQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyVHlwZSA9ICdpbWFnZSc7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXJsRmlsZUNvbnRlbnQgPSB0aGlzLmFwaVNlcnZpY2UuY29udGVudEFwaS5nZXRTaGFyZWRMaW5rUmVuZGl0aW9uVXJsKHNoYXJlZElkLCAnaW1ncHJldmlldycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgcmVzb2x2ZVJlbmRpdGlvbihub2RlSWQ6IHN0cmluZywgcmVuZGl0aW9uSWQ6IHN0cmluZykge1xuICAgICAgICByZW5kaXRpb25JZCA9IHJlbmRpdGlvbklkLnRvTG93ZXJDYXNlKCk7XG5cbiAgICAgICAgY29uc3Qgc3VwcG9ydGVkID0gYXdhaXQgdGhpcy5hcGlTZXJ2aWNlLnJlbmRpdGlvbnNBcGkuZ2V0UmVuZGl0aW9ucyhub2RlSWQpO1xuXG4gICAgICAgIGxldCByZW5kaXRpb24gPSBzdXBwb3J0ZWQubGlzdC5lbnRyaWVzLmZpbmQob2JqID0+IG9iai5lbnRyeS5pZC50b0xvd2VyQ2FzZSgpID09PSByZW5kaXRpb25JZCk7XG4gICAgICAgIGlmICghcmVuZGl0aW9uKSB7XG4gICAgICAgICAgICByZW5kaXRpb25JZCA9ICdpbWdwcmV2aWV3JztcbiAgICAgICAgICAgIHJlbmRpdGlvbiA9IHN1cHBvcnRlZC5saXN0LmVudHJpZXMuZmluZChvYmogPT4gb2JqLmVudHJ5LmlkLnRvTG93ZXJDYXNlKCkgPT09IHJlbmRpdGlvbklkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChyZW5kaXRpb24pIHtcbiAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IHJlbmRpdGlvbi5lbnRyeS5zdGF0dXMudG9TdHJpbmcoKTtcblxuICAgICAgICAgICAgaWYgKHN0YXR1cyA9PT0gJ05PVF9DUkVBVEVEJykge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuYXBpU2VydmljZS5yZW5kaXRpb25zQXBpLmNyZWF0ZVJlbmRpdGlvbihub2RlSWQsIHsgaWQ6IHJlbmRpdGlvbklkIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJUeXBlID0gJ2luX2NyZWF0aW9uJztcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJlbmRpdGlvbiA9IGF3YWl0IHRoaXMud2FpdFJlbmRpdGlvbihub2RlSWQsIHJlbmRpdGlvbklkLCAwKTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlbmRpdGlvbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFzeW5jIHdhaXRSZW5kaXRpb24obm9kZUlkOiBzdHJpbmcsIHJlbmRpdGlvbklkOiBzdHJpbmcsIHJldHJpZXM6IG51bWJlcik6IFByb21pc2U8UmVuZGl0aW9uRW50cnk+IHtcbiAgICAgICAgbGV0IGN1cnJlbnRSZXRyeSA9IDA7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBsZXQgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UmV0cnkrKztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tYXhSZXRyaWVzID49IGN1cnJlbnRSZXRyeSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwaVNlcnZpY2UucmVuZGl0aW9uc0FwaS5nZXRSZW5kaXRpb24obm9kZUlkLCByZW5kaXRpb25JZCkudGhlbigocmVuZGl0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzdGF0dXMgPSByZW5kaXRpb24uZW50cnkuc3RhdHVzLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzID09PSAnQ1JFQVRFRCcpIHtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZW5kaXRpb25JZCA9PT0gJ3BkZicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJUeXBlID0gJ3BkZic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZW5kaXRpb25JZCA9PT0gJ2ltZ3ByZXZpZXcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyVHlwZSA9ICdpbWFnZSc7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cmxGaWxlQ29udGVudCA9IHRoaXMuYXBpU2VydmljZS5jb250ZW50QXBpLmdldFJlbmRpdGlvblVybChub2RlSWQsIHJlbmRpdGlvbklkKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUocmVuZGl0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJUeXBlID0gJ2Vycm9yX2luX2NyZWF0aW9uJztcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZWplY3QoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgMTAwMCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2VuZXJhdGVDYWNoZUJ1c3Rlck51bWJlcigpIHtcbiAgICAgICAgdGhpcy5jYWNoZUJ1c3Rlck51bWJlciA9IERhdGUubm93KCk7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkNoYW5nZXMsIFNpbXBsZUNoYW5nZXMsIFZpZXdFbmNhcHN1bGF0aW9uLCBFbGVtZW50UmVmLCBPbkluaXQsIE9uRGVzdHJveSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29udGVudFNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9jb250ZW50LnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1pbWctdmlld2VyJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vaW1nVmlld2VyLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9pbWdWaWV3ZXIuY29tcG9uZW50LnNjc3MnXSxcbiAgICBob3N0OiB7ICdjbGFzcyc6ICdhZGYtaW1hZ2Utdmlld2VyJyB9LFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgSW1nVmlld2VyQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMsIE9uRGVzdHJveSB7XG5cbiAgICBASW5wdXQoKVxuICAgIHNob3dUb29sYmFyID0gdHJ1ZTtcblxuICAgIEBJbnB1dCgpXG4gICAgdXJsRmlsZTogc3RyaW5nO1xuXG4gICAgQElucHV0KClcbiAgICBibG9iRmlsZTogQmxvYjtcblxuICAgIEBJbnB1dCgpXG4gICAgbmFtZUZpbGU6IHN0cmluZztcblxuICAgIHJvdGF0ZTogbnVtYmVyID0gMDtcbiAgICBzY2FsZVg6IG51bWJlciA9IDEuMDtcbiAgICBzY2FsZVk6IG51bWJlciA9IDEuMDtcbiAgICBvZmZzZXRYOiBudW1iZXIgPSAwO1xuICAgIG9mZnNldFk6IG51bWJlciA9IDA7XG4gICAgaXNEcmFnZ2VkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBwcml2YXRlIGRyYWcgPSB7IHg6IDAsIHk6IDAgfTtcbiAgICBwcml2YXRlIGRlbHRhID0geyB4OiAwLCB5OiAwIH07XG5cbiAgICBnZXQgdHJhbnNmb3JtKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBgc2NhbGUoJHt0aGlzLnNjYWxlWH0sICR7dGhpcy5zY2FsZVl9KSByb3RhdGUoJHt0aGlzLnJvdGF0ZX1kZWcpIHRyYW5zbGF0ZSgke3RoaXMub2Zmc2V0WH1weCwgJHt0aGlzLm9mZnNldFl9cHgpYDtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudFNjYWxlVGV4dCgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gTWF0aC5yb3VuZCh0aGlzLnNjYWxlWCAqIDEwMCkgKyAnJSc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlbGVtZW50OiBIVE1MRWxlbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGNvbnRlbnRTZXJ2aWNlOiBDb250ZW50U2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBlbDogRWxlbWVudFJlZikge1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLmVsZW1lbnQgPSA8SFRNTEVsZW1lbnQ+IHRoaXMuZWwubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjdmlld2VyLWltYWdlJyk7XG5cbiAgICAgICAgaWYgKHRoaXMuZWxlbWVudCkge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHRoaXMub25Nb3VzZURvd24uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHRoaXMub25Nb3VzZVVwLmJpbmQodGhpcykpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLm9uTW91c2VMZWF2ZS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHRoaXMub25Nb3VzZU91dC5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCB0aGlzLm9uTW91c2VNb3ZlLmJpbmQodGhpcykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLmVsZW1lbnQpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCB0aGlzLm9uTW91c2VEb3duKTtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgdGhpcy5vbk1vdXNlVXApO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbGVhdmUnLCB0aGlzLm9uTW91c2VMZWF2ZSk7XG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCB0aGlzLm9uTW91c2VPdXQpO1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMub25Nb3VzZU1vdmUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZURvd24oZXZlbnQ6IE1vdXNlRXZlbnQpIHtcbiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5pc0RyYWdnZWQgPSB0cnVlO1xuICAgICAgICB0aGlzLmRyYWcgPSB7IHg6IGV2ZW50LnBhZ2VYLCB5OiBldmVudC5wYWdlWSB9O1xuICAgIH1cblxuICAgIG9uTW91c2VNb3ZlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgdGhpcy5kZWx0YS54ID0gZXZlbnQucGFnZVggLSB0aGlzLmRyYWcueDtcbiAgICAgICAgICAgIHRoaXMuZGVsdGEueSA9IGV2ZW50LnBhZ2VZIC0gdGhpcy5kcmFnLnk7XG5cbiAgICAgICAgICAgIHRoaXMuZHJhZy54ID0gZXZlbnQucGFnZVg7XG4gICAgICAgICAgICB0aGlzLmRyYWcueSA9IGV2ZW50LnBhZ2VZO1xuXG4gICAgICAgICAgICBjb25zdCBzY2FsZVggPSAodGhpcy5zY2FsZVggIT09IDAgPyB0aGlzLnNjYWxlWCA6IDEuMCk7XG4gICAgICAgICAgICBjb25zdCBzY2FsZVkgPSAodGhpcy5zY2FsZVkgIT09IDAgPyB0aGlzLnNjYWxlWSA6IDEuMCk7XG5cbiAgICAgICAgICAgIHRoaXMub2Zmc2V0WCArPSAodGhpcy5kZWx0YS54IC8gc2NhbGVYKTtcbiAgICAgICAgICAgIHRoaXMub2Zmc2V0WSArPSAodGhpcy5kZWx0YS55IC8gc2NhbGVZKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uTW91c2VVcChldmVudDogTW91c2VFdmVudCkge1xuICAgICAgICBpZiAodGhpcy5pc0RyYWdnZWQpIHtcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLmlzRHJhZ2dlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25Nb3VzZUxlYXZlKGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk1vdXNlT3V0KGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmlzRHJhZ2dlZCkge1xuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuaXNEcmFnZ2VkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgICAgIGxldCBibG9iRmlsZSA9IGNoYW5nZXNbJ2Jsb2JGaWxlJ107XG4gICAgICAgIGlmIChibG9iRmlsZSAmJiBibG9iRmlsZS5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudXJsRmlsZSA9IHRoaXMuY29udGVudFNlcnZpY2UuY3JlYXRlVHJ1c3RlZFVybCh0aGlzLmJsb2JGaWxlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMudXJsRmlsZSAmJiAhdGhpcy5ibG9iRmlsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdHRyaWJ1dGUgdXJsRmlsZSBvciBibG9iRmlsZSBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgem9vbUluKCkge1xuICAgICAgICBjb25zdCByYXRpbyA9ICsoKHRoaXMuc2NhbGVYICsgMC4yKS50b0ZpeGVkKDEpKTtcbiAgICAgICAgdGhpcy5zY2FsZVggPSB0aGlzLnNjYWxlWSA9IHJhdGlvO1xuICAgIH1cblxuICAgIHpvb21PdXQoKSB7XG4gICAgICAgIGxldCByYXRpbyA9ICsoKHRoaXMuc2NhbGVYIC0gMC4yKS50b0ZpeGVkKDEpKTtcbiAgICAgICAgaWYgKHJhdGlvIDwgMC4yKSB7XG4gICAgICAgICAgICByYXRpbyA9IDAuMjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNjYWxlWCA9IHRoaXMuc2NhbGVZID0gcmF0aW87XG4gICAgfVxuXG4gICAgcm90YXRlTGVmdCgpIHtcbiAgICAgICAgY29uc3QgYW5nbGUgPSB0aGlzLnJvdGF0ZSAtIDkwO1xuICAgICAgICB0aGlzLnJvdGF0ZSA9IE1hdGguYWJzKGFuZ2xlKSA8IDM2MCA/IGFuZ2xlIDogMDtcbiAgICB9XG5cbiAgICByb3RhdGVSaWdodCgpIHtcbiAgICAgICAgY29uc3QgYW5nbGUgPSB0aGlzLnJvdGF0ZSArIDkwO1xuICAgICAgICB0aGlzLnJvdGF0ZSA9IE1hdGguYWJzKGFuZ2xlKSA8IDM2MCA/IGFuZ2xlIDogMDtcbiAgICB9XG5cbiAgICByZXNldCgpIHtcbiAgICAgICAgdGhpcy5yb3RhdGUgPSAwO1xuICAgICAgICB0aGlzLnNjYWxlWCA9IDEuMDtcbiAgICAgICAgdGhpcy5zY2FsZVkgPSAxLjA7XG4gICAgICAgIHRoaXMub2Zmc2V0WCA9IDA7XG4gICAgICAgIHRoaXMub2Zmc2V0WSA9IDA7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25DaGFuZ2VzLCBTaW1wbGVDaGFuZ2VzLCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29udGVudFNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9jb250ZW50LnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1tZWRpYS1wbGF5ZXInLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9tZWRpYVBsYXllci5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vbWVkaWFQbGF5ZXIuY29tcG9uZW50LnNjc3MnXSxcbiAgICBob3N0OiB7ICdjbGFzcyc6ICdhZGYtbWVkaWEtcGxheWVyJyB9LFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgTWVkaWFQbGF5ZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xuXG4gICAgQElucHV0KClcbiAgICB1cmxGaWxlOiBzdHJpbmc7XG5cbiAgICBASW5wdXQoKVxuICAgIGJsb2JGaWxlOiBCbG9iO1xuXG4gICAgQElucHV0KClcbiAgICBtaW1lVHlwZTogc3RyaW5nO1xuXG4gICAgQElucHV0KClcbiAgICBuYW1lRmlsZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjb250ZW50U2VydmljZTogQ29udGVudFNlcnZpY2UgKSB7fVxuXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xuICAgICAgICBsZXQgYmxvYkZpbGUgPSBjaGFuZ2VzWydibG9iRmlsZSddO1xuICAgICAgICBpZiAoYmxvYkZpbGUgJiYgYmxvYkZpbGUuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnVybEZpbGUgPSB0aGlzLmNvbnRlbnRTZXJ2aWNlLmNyZWF0ZVRydXN0ZWRVcmwodGhpcy5ibG9iRmlsZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMudXJsRmlsZSAmJiAhdGhpcy5ibG9iRmlsZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdHRyaWJ1dGUgdXJsRmlsZSBvciBibG9iRmlsZSBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyogdHNsaW50OmRpc2FibGU6YWRmLWxpY2Vuc2UtYmFubmVyICAqL1xuXG4vKiBDb3B5cmlnaHQgMjAxMiBNb3ppbGxhIEZvdW5kYXRpb25cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG4vKipcbiAqXG4gKiBSZW5kZXJpbmdRdWV1ZVNlcnZpY2VzIHJlbmRlcmluZyBvZiB0aGUgdmlld3MgZm9yIHBhZ2VzIGFuZCB0aHVtYm5haWxzLlxuICpcbiAqL1xuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFJlbmRlcmluZ1F1ZXVlU2VydmljZXMge1xuXG4gICAgcmVuZGVyaW5nU3RhdGVzID0ge1xuICAgICAgICBJTklUSUFMOiAwLFxuICAgICAgICBSVU5OSU5HOiAxLFxuICAgICAgICBQQVVTRUQ6IDIsXG4gICAgICAgIEZJTklTSEVEOiAzXG4gICAgfTtcblxuICAgIENMRUFOVVBfVElNRU9VVDogbnVtYmVyID0gMzAwMDA7XG5cbiAgICBwZGZWaWV3ZXI6IGFueSA9IG51bGw7XG4gICAgcGRmVGh1bWJuYWlsVmlld2VyOiBhbnkgPSBudWxsO1xuICAgIG9uSWRsZTogYW55ID0gbnVsbDtcblxuICAgIGhpZ2hlc3RQcmlvcml0eVBhZ2U6IGFueSA9IG51bGw7XG4gICAgaWRsZVRpbWVvdXQ6IGFueSA9IG51bGw7XG4gICAgcHJpbnRpbmc6IGFueSA9IGZhbHNlO1xuICAgIGlzVGh1bWJuYWlsVmlld0VuYWJsZWQ6IGFueSA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBkZlZpZXdlclxuICAgICAqL1xuICAgIHNldFZpZXdlcihwZGZWaWV3ZXIpIHtcbiAgICAgICAgdGhpcy5wZGZWaWV3ZXIgPSBwZGZWaWV3ZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBkZlRodW1ibmFpbFZpZXdlclxuICAgICAqL1xuICAgIHNldFRodW1ibmFpbFZpZXdlcihwZGZUaHVtYm5haWxWaWV3ZXIpIHtcbiAgICAgICAgdGhpcy5wZGZUaHVtYm5haWxWaWV3ZXIgPSBwZGZUaHVtYm5haWxWaWV3ZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtICB2aWV3XG4gICAgICovXG4gICAgaXNIaWdoZXN0UHJpb3JpdHkodmlldzogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhpZ2hlc3RQcmlvcml0eVBhZ2UgPT09IHZpZXcucmVuZGVyaW5nSWQ7XG4gICAgfVxuXG4gICAgcmVuZGVySGlnaGVzdFByaW9yaXR5KGN1cnJlbnRseVZpc2libGVQYWdlcykge1xuICAgICAgICBpZiAodGhpcy5pZGxlVGltZW91dCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuaWRsZVRpbWVvdXQpO1xuICAgICAgICAgICAgdGhpcy5pZGxlVGltZW91dCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQYWdlcyBoYXZlIGEgaGlnaGVyIHByaW9yaXR5IHRoYW4gdGh1bWJuYWlscywgc28gY2hlY2sgdGhlbSBmaXJzdC5cbiAgICAgICAgaWYgKHRoaXMucGRmVmlld2VyLmZvcmNlUmVuZGVyaW5nKGN1cnJlbnRseVZpc2libGVQYWdlcykpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBObyBwYWdlcyBuZWVkZWQgcmVuZGVyaW5nIHNvIGNoZWNrIHRodW1ibmFpbHMuXG4gICAgICAgIGlmICh0aGlzLnBkZlRodW1ibmFpbFZpZXdlciAmJiB0aGlzLmlzVGh1bWJuYWlsVmlld0VuYWJsZWQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnBkZlRodW1ibmFpbFZpZXdlci5mb3JjZVJlbmRlcmluZygpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucHJpbnRpbmcpIHtcbiAgICAgICAgICAgIC8vIElmIHByaW50aW5nIGlzIGN1cnJlbnRseSBvbmdvaW5nIGRvIG5vdCByZXNjaGVkdWxlIGNsZWFudXAuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5vbklkbGUpIHtcbiAgICAgICAgICAgIHRoaXMuaWRsZVRpbWVvdXQgPSBzZXRUaW1lb3V0KHRoaXMub25JZGxlLmJpbmQodGhpcyksIHRoaXMuQ0xFQU5VUF9USU1FT1VUKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEhpZ2hlc3RQcmlvcml0eSh2aXNpYmxlLCB2aWV3cywgc2Nyb2xsZWREb3duKSB7XG4gICAgICAgIC8vIFRoZSBzdGF0ZSBoYXMgY2hhbmdlZCBmaWd1cmUgb3V0IHdoaWNoIHBhZ2UgaGFzIHRoZSBoaWdoZXN0IHByaW9yaXR5IHRvXG4gICAgICAgIC8vIHJlbmRlciBuZXh0IChpZiBhbnkpLlxuICAgICAgICAvLyBQcmlvcml0eTpcbiAgICAgICAgLy8gMSB2aXNpYmxlIHBhZ2VzXG4gICAgICAgIC8vIDIgaWYgbGFzdCBzY3JvbGxlZCBkb3duIHBhZ2UgYWZ0ZXIgdGhlIHZpc2libGUgcGFnZXNcbiAgICAgICAgLy8gMiBpZiBsYXN0IHNjcm9sbGVkIHVwIHBhZ2UgYmVmb3JlIHRoZSB2aXNpYmxlIHBhZ2VzXG4gICAgICAgIGxldCB2aXNpYmxlVmlld3MgPSB2aXNpYmxlLnZpZXdzO1xuXG4gICAgICAgIGxldCBudW1WaXNpYmxlID0gdmlzaWJsZVZpZXdzLmxlbmd0aDtcbiAgICAgICAgaWYgKG51bVZpc2libGUgPT09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVZpc2libGU7ICsraSkge1xuICAgICAgICAgICAgbGV0IHZpZXcgPSB2aXNpYmxlVmlld3NbaV0udmlldztcbiAgICAgICAgICAgIGlmICghdGhpcy5pc1ZpZXdGaW5pc2hlZCh2aWV3KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2aWV3O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQWxsIHRoZSB2aXNpYmxlIHZpZXdzIGhhdmUgcmVuZGVyZWQsIHRyeSB0byByZW5kZXIgbmV4dC9wcmV2aW91cyBwYWdlcy5cbiAgICAgICAgaWYgKHNjcm9sbGVkRG93bikge1xuICAgICAgICAgICAgbGV0IG5leHRQYWdlSW5kZXggPSB2aXNpYmxlLmxhc3QuaWQ7XG4gICAgICAgICAgICAvLyBJRCdzIHN0YXJ0IGF0IDEgc28gbm8gbmVlZCB0byBhZGQgMS5cbiAgICAgICAgICAgIGlmICh2aWV3c1tuZXh0UGFnZUluZGV4XSAmJiAhdGhpcy5pc1ZpZXdGaW5pc2hlZCh2aWV3c1tuZXh0UGFnZUluZGV4XSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmlld3NbbmV4dFBhZ2VJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsZXQgcHJldmlvdXNQYWdlSW5kZXggPSB2aXNpYmxlLmZpcnN0LmlkIC0gMjtcbiAgICAgICAgICAgIGlmICh2aWV3c1twcmV2aW91c1BhZ2VJbmRleF0gJiYgIXRoaXMuaXNWaWV3RmluaXNoZWQodmlld3NbcHJldmlvdXNQYWdlSW5kZXhdKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2aWV3c1twcmV2aW91c1BhZ2VJbmRleF07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRXZlcnl0aGluZyB0aGF0IG5lZWRzIHRvIGJlIHJlbmRlcmVkIGhhcyBiZWVuLlxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gdmlld1xuICAgICAqL1xuICAgIGlzVmlld0ZpbmlzaGVkKHZpZXcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHZpZXcucmVuZGVyaW5nU3RhdGUgPT09IHRoaXMucmVuZGVyaW5nU3RhdGVzLkZJTklTSEVEO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbmRlciBhIHBhZ2Ugb3IgdGh1bWJuYWlsIHZpZXcuIFRoaXMgY2FsbHMgdGhlIGFwcHJvcHJpYXRlIGZ1bmN0aW9uXG4gICAgICogYmFzZWQgb24gdGhlIHZpZXdzIHN0YXRlLiBJZiB0aGUgdmlldyBpcyBhbHJlYWR5IHJlbmRlcmVkIGl0IHdpbGwgcmV0dXJuXG4gICAgICogZmFsc2UuXG4gICAgICogQHBhcmFtIHZpZXdcbiAgICAgKi9cbiAgICByZW5kZXJWaWV3KHZpZXc6IGFueSkge1xuICAgICAgICBsZXQgc3RhdGUgPSB2aWV3LnJlbmRlcmluZ1N0YXRlO1xuICAgICAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIHRoaXMucmVuZGVyaW5nU3RhdGVzLkZJTklTSEVEOlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIGNhc2UgdGhpcy5yZW5kZXJpbmdTdGF0ZXMuUEFVU0VEOlxuICAgICAgICAgICAgICAgIHRoaXMuaGlnaGVzdFByaW9yaXR5UGFnZSA9IHZpZXcucmVuZGVyaW5nSWQ7XG4gICAgICAgICAgICAgICAgdmlldy5yZXN1bWUoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgdGhpcy5yZW5kZXJpbmdTdGF0ZXMuUlVOTklORzpcbiAgICAgICAgICAgICAgICB0aGlzLmhpZ2hlc3RQcmlvcml0eVBhZ2UgPSB2aWV3LnJlbmRlcmluZ0lkO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSB0aGlzLnJlbmRlcmluZ1N0YXRlcy5JTklUSUFMOlxuICAgICAgICAgICAgICAgIHRoaXMuaGlnaGVzdFByaW9yaXR5UGFnZSA9IHZpZXcucmVuZGVyaW5nSWQ7XG4gICAgICAgICAgICAgICAgbGV0IGNvbnRpbnVlUmVuZGVyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlbmRlckhpZ2hlc3RQcmlvcml0eSgpO1xuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2aWV3LmRyYXcoKS50aGVuKGNvbnRpbnVlUmVuZGVyaW5nLCBjb250aW51ZVJlbmRlcmluZyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgSW5qZWN0LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdERpYWxvZ1JlZiwgTUFUX0RJQUxPR19EQVRBIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgRm9ybUNvbnRyb2wsIFZhbGlkYXRvcnMgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbmRlY2xhcmUgY29uc3QgcGRmanNMaWI6IGFueTtcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtcGRmLXZpZXdlci1wYXNzd29yZC1kaWFsb2cnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9wZGZWaWV3ZXItcGFzc3dvcmQtZGlhbG9nLmh0bWwnLFxuICAgIHN0eWxlVXJsczogWyAnLi9wZGZWaWV3ZXItcGFzc3dvcmQtZGlhbG9nLnNjc3MnIF1cbn0pXG5leHBvcnQgY2xhc3MgUGRmUGFzc3dvcmREaWFsb2dDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICAgIHBhc3N3b3JkRm9ybUNvbnRyb2w6IEZvcm1Db250cm9sO1xuXG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHByaXZhdGUgZGlhbG9nUmVmOiBNYXREaWFsb2dSZWY8UGRmUGFzc3dvcmREaWFsb2dDb21wb25lbnQ+LFxuICAgICAgICBASW5qZWN0KE1BVF9ESUFMT0dfREFUQSkgcHVibGljIGRhdGE6IGFueVxuICAgICkge31cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnBhc3N3b3JkRm9ybUNvbnRyb2wgPSBuZXcgRm9ybUNvbnRyb2woJycsIFtWYWxpZGF0b3JzLnJlcXVpcmVkXSk7XG4gICAgfVxuXG4gICAgaXNFcnJvcigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGF0YS5yZWFzb24gPT09IHBkZmpzTGliLlBhc3N3b3JkUmVzcG9uc2VzLklOQ09SUkVDVF9QQVNTV09SRDtcbiAgICB9XG5cbiAgICBpc1ZhbGlkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gIXRoaXMucGFzc3dvcmRGb3JtQ29udHJvbC5oYXNFcnJvcigncmVxdWlyZWQnKTtcbiAgICB9XG5cbiAgICBzdWJtaXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZGlhbG9nUmVmLmNsb3NlKHRoaXMucGFzc3dvcmRGb3JtQ29udHJvbC52YWx1ZSk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgVGVtcGxhdGVSZWYsXG4gICAgSG9zdExpc3RlbmVyLFxuICAgIE91dHB1dCxcbiAgICBJbnB1dCxcbiAgICBPbkNoYW5nZXMsXG4gICAgT25EZXN0cm95LFxuICAgIFZpZXdFbmNhcHN1bGF0aW9uLFxuICAgIEV2ZW50RW1pdHRlclxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IExvZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9sb2cuc2VydmljZSc7XG5pbXBvcnQgeyBSZW5kZXJpbmdRdWV1ZVNlcnZpY2VzIH0gZnJvbSAnLi4vc2VydmljZXMvcmVuZGVyaW5nLXF1ZXVlLnNlcnZpY2VzJztcbmltcG9ydCB7IFBkZlBhc3N3b3JkRGlhbG9nQ29tcG9uZW50IH0gZnJvbSAnLi9wZGZWaWV3ZXItcGFzc3dvcmQtZGlhbG9nJztcbmltcG9ydCB7IE1hdERpYWxvZyB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcblxuZGVjbGFyZSBjb25zdCBwZGZqc0xpYjogYW55O1xuZGVjbGFyZSBjb25zdCBwZGZqc1ZpZXdlcjogYW55O1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1wZGYtdmlld2VyJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vcGRmVmlld2VyLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFtcbiAgICAgICAgJy4vcGRmVmlld2VyLmNvbXBvbmVudC5zY3NzJyxcbiAgICAgICAgJy4vcGRmVmlld2VySG9zdC5jb21wb25lbnQuc2NzcydcbiAgICBdLFxuICAgIHByb3ZpZGVyczogW1JlbmRlcmluZ1F1ZXVlU2VydmljZXNdLFxuICAgIGhvc3Q6IHsgJ2NsYXNzJzogJ2FkZi1wZGYtdmlld2VyJyB9LFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgUGRmVmlld2VyQ29tcG9uZW50IGltcGxlbWVudHMgT25DaGFuZ2VzLCBPbkRlc3Ryb3kge1xuXG4gICAgQElucHV0KClcbiAgICB1cmxGaWxlOiBzdHJpbmc7XG5cbiAgICBASW5wdXQoKVxuICAgIGJsb2JGaWxlOiBCbG9iO1xuXG4gICAgQElucHV0KClcbiAgICBuYW1lRmlsZTogc3RyaW5nO1xuXG4gICAgQElucHV0KClcbiAgICBzaG93VG9vbGJhcjogYm9vbGVhbiA9IHRydWU7XG5cbiAgICBASW5wdXQoKVxuICAgIGFsbG93VGh1bWJuYWlscyA9IGZhbHNlO1xuXG4gICAgQElucHV0KClcbiAgICB0aHVtYm5haWxzVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT4gPSBudWxsO1xuXG4gICAgQE91dHB1dCgpXG4gICAgcmVuZGVyZWQgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAgIEBPdXRwdXQoKVxuICAgIGVycm9yID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgICBsb2FkaW5nVGFzazogYW55O1xuICAgIGN1cnJlbnRQZGZEb2N1bWVudDogYW55O1xuICAgIHBhZ2U6IG51bWJlcjtcbiAgICBkaXNwbGF5UGFnZTogbnVtYmVyO1xuICAgIHRvdGFsUGFnZXM6IG51bWJlcjtcbiAgICBsb2FkaW5nUGVyY2VudDogbnVtYmVyO1xuICAgIHBkZlZpZXdlcjogYW55O1xuICAgIGRvY3VtZW50Q29udGFpbmVyOiBhbnk7XG4gICAgY3VycmVudFNjYWxlTW9kZTogc3RyaW5nID0gJ2F1dG8nO1xuICAgIGN1cnJlbnRTY2FsZTogbnVtYmVyID0gMTtcblxuICAgIE1BWF9BVVRPX1NDQUxFOiBudW1iZXIgPSAxLjI1O1xuICAgIERFRkFVTFRfU0NBTEVfREVMVEE6IG51bWJlciA9IDEuMTtcbiAgICBNSU5fU0NBTEU6IG51bWJlciA9IDAuMjU7XG4gICAgTUFYX1NDQUxFOiBudW1iZXIgPSAxMC4wO1xuXG4gICAgaXNQYW5lbERpc2FibGVkID0gdHJ1ZTtcbiAgICBzaG93VGh1bWJuYWlsczogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHBkZlRodW1ibmFpbHNDb250ZXh0OiB7IHZpZXdlcjogYW55IH0gPSB7IHZpZXdlcjogbnVsbCB9O1xuXG4gICAgZ2V0IGN1cnJlbnRTY2FsZVRleHQoKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodGhpcy5jdXJyZW50U2NhbGUgKiAxMDApICsgJyUnO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGRpYWxvZzogTWF0RGlhbG9nLFxuICAgICAgICBwcml2YXRlIHJlbmRlcmluZ1F1ZXVlU2VydmljZXM6IFJlbmRlcmluZ1F1ZXVlU2VydmljZXMsXG4gICAgICAgIHByaXZhdGUgbG9nU2VydmljZTogTG9nU2VydmljZSkge1xuICAgICAgICAvLyBuZWVkZWQgdG8gcHJlc2VydmUgXCJ0aGlzXCIgY29udGV4dFxuICAgICAgICB0aGlzLm9uUGFnZUNoYW5nZSA9IHRoaXMub25QYWdlQ2hhbmdlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub25QYWdlc0xvYWRlZCA9IHRoaXMub25QYWdlc0xvYWRlZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9uUGFnZXJlbmRlcmVkID0gdGhpcy5vblBhZ2VyZW5kZXJlZC5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcbiAgICAgICAgbGV0IGJsb2JGaWxlID0gY2hhbmdlc1snYmxvYkZpbGUnXTtcblxuICAgICAgICBpZiAoYmxvYkZpbGUgJiYgYmxvYkZpbGUuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICBsZXQgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5leGVjdXRlUGRmKHJlYWRlci5yZXN1bHQpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iRmlsZS5jdXJyZW50VmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHVybEZpbGUgPSBjaGFuZ2VzWyd1cmxGaWxlJ107XG4gICAgICAgIGlmICh1cmxGaWxlICYmIHVybEZpbGUuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmV4ZWN1dGVQZGYodXJsRmlsZS5jdXJyZW50VmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnVybEZpbGUgJiYgIXRoaXMuYmxvYkZpbGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQXR0cmlidXRlIHVybEZpbGUgb3IgYmxvYkZpbGUgaXMgcmVxdWlyZWQnKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV4ZWN1dGVQZGYoc3JjKSB7XG5cbiAgICAgICAgcGRmanNMaWIuR2xvYmFsV29ya2VyT3B0aW9ucy53b3JrZXJTcmMgPSAncGRmLndvcmtlci5taW4uanMnO1xuICAgICAgICB0aGlzLmxvYWRpbmdUYXNrID0gcGRmanNMaWIuZ2V0RG9jdW1lbnQoc3JjKTtcblxuICAgICAgICB0aGlzLmxvYWRpbmdUYXNrLm9uUGFzc3dvcmQgPSAoY2FsbGJhY2ssIHJlYXNvbikgPT4ge1xuICAgICAgICAgICAgdGhpcy5vblBkZlBhc3N3b3JkKGNhbGxiYWNrLCByZWFzb24pO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMubG9hZGluZ1Rhc2sub25Qcm9ncmVzcyA9IChwcm9ncmVzc0RhdGEpID0+IHtcbiAgICAgICAgICAgIGxldCBsZXZlbCA9IHByb2dyZXNzRGF0YS5sb2FkZWQgLyBwcm9ncmVzc0RhdGEudG90YWw7XG4gICAgICAgICAgICB0aGlzLmxvYWRpbmdQZXJjZW50ID0gTWF0aC5yb3VuZChsZXZlbCAqIDEwMCk7XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy5sb2FkaW5nVGFzay50aGVuKChwZGZEb2N1bWVudCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGRmRG9jdW1lbnQgPSBwZGZEb2N1bWVudDtcbiAgICAgICAgICAgIHRoaXMudG90YWxQYWdlcyA9IHBkZkRvY3VtZW50Lm51bVBhZ2VzO1xuICAgICAgICAgICAgdGhpcy5wYWdlID0gMTtcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVBhZ2UgPSAxO1xuICAgICAgICAgICAgdGhpcy5pbml0UERGVmlld2VyKHRoaXMuY3VycmVudFBkZkRvY3VtZW50KTtcblxuICAgICAgICAgICAgdGhpcy5jdXJyZW50UGRmRG9jdW1lbnQuZ2V0UGFnZSgxKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnNjYWxlUGFnZSgnYXV0bycpO1xuICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvci5lbWl0KCk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3IuZW1pdCgpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpbml0UERGVmlld2VyKHBkZkRvY3VtZW50OiBhbnkpIHtcbiAgICAgICAgY29uc3Qgdmlld2VyOiBhbnkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlld2VyLXZpZXdlclBkZicpO1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmlld2VyLXBkZi12aWV3ZXInKTtcblxuICAgICAgICBpZiAodmlld2VyICYmIGNvbnRhaW5lcikge1xuICAgICAgICAgICAgdGhpcy5kb2N1bWVudENvbnRhaW5lciA9IGNvbnRhaW5lcjtcblxuICAgICAgICAgICAgdGhpcy5kb2N1bWVudENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdwYWdlY2hhbmdlJywgdGhpcy5vblBhZ2VDaGFuZ2UsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5kb2N1bWVudENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdwYWdlc2xvYWRlZCcsIHRoaXMub25QYWdlc0xvYWRlZCwgdHJ1ZSk7XG4gICAgICAgICAgICB0aGlzLmRvY3VtZW50Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ3RleHRsYXllcnJlbmRlcmVkJywgdGhpcy5vblBhZ2VyZW5kZXJlZCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIHRoaXMucGRmVmlld2VyID0gbmV3IHBkZmpzVmlld2VyLlBERlZpZXdlcih7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyOiB0aGlzLmRvY3VtZW50Q29udGFpbmVyLFxuICAgICAgICAgICAgICAgIHZpZXdlcjogdmlld2VyLFxuICAgICAgICAgICAgICAgIHJlbmRlcmluZ1F1ZXVlOiB0aGlzLnJlbmRlcmluZ1F1ZXVlU2VydmljZXNcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLnJlbmRlcmluZ1F1ZXVlU2VydmljZXMuc2V0Vmlld2VyKHRoaXMucGRmVmlld2VyKTtcbiAgICAgICAgICAgIHRoaXMucGRmVmlld2VyLnNldERvY3VtZW50KHBkZkRvY3VtZW50KTtcbiAgICAgICAgICAgIHRoaXMucGRmVGh1bWJuYWlsc0NvbnRleHQudmlld2VyID0gdGhpcy5wZGZWaWV3ZXI7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZG9jdW1lbnRDb250YWluZXIpIHtcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRDb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGFnZWNoYW5nZScsIHRoaXMub25QYWdlQ2hhbmdlLCB0cnVlKTtcbiAgICAgICAgICAgIHRoaXMuZG9jdW1lbnRDb250YWluZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcigncGFnZXNsb2FkZWQnLCB0aGlzLm9uUGFnZXNMb2FkZWQsIHRydWUpO1xuICAgICAgICAgICAgdGhpcy5kb2N1bWVudENvbnRhaW5lci5yZW1vdmVFdmVudExpc3RlbmVyKCd0ZXh0bGF5ZXJyZW5kZXJlZCcsIHRoaXMub25QYWdlcmVuZGVyZWQsIHRydWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMubG9hZGluZ1Rhc2spIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nVGFzay5kZXN0cm95KCk7XG4gICAgICAgICAgICB9IGNhdGNoIHt9XG5cbiAgICAgICAgICAgIHRoaXMubG9hZGluZ1Rhc2sgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdG9nZ2xlVGh1bWJuYWlscygpIHtcbiAgICAgICAgdGhpcy5zaG93VGh1bWJuYWlscyA9ICF0aGlzLnNob3dUaHVtYm5haWxzO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1ldGhvZCB0byBzY2FsZSB0aGUgcGFnZSBjdXJyZW50IHN1cHBvcnQgaW1wbGVtZW50YXRpb25cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzY2FsZU1vZGUgLSBuZXcgc2NhbGUgbW9kZVxuICAgICAqL1xuICAgIHNjYWxlUGFnZShzY2FsZU1vZGUpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50U2NhbGVNb2RlID0gc2NhbGVNb2RlO1xuXG4gICAgICAgIGlmICh0aGlzLnBkZlZpZXdlcikge1xuXG4gICAgICAgICAgICBsZXQgdmlld2VyQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdlci1tYWluLWNvbnRhaW5lcicpO1xuICAgICAgICAgICAgbGV0IGRvY3VtZW50Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3ZpZXdlci1wZGYtdmlld2VyJyk7XG5cbiAgICAgICAgICAgIGxldCB3aWR0aENvbnRhaW5lcjtcbiAgICAgICAgICAgIGxldCBoZWlnaHRDb250YWluZXI7XG5cbiAgICAgICAgICAgIGlmICh2aWV3ZXJDb250YWluZXIgJiYgdmlld2VyQ29udGFpbmVyLmNsaWVudFdpZHRoIDw9IGRvY3VtZW50Q29udGFpbmVyLmNsaWVudFdpZHRoKSB7XG4gICAgICAgICAgICAgICAgd2lkdGhDb250YWluZXIgPSB2aWV3ZXJDb250YWluZXIuY2xpZW50V2lkdGg7XG4gICAgICAgICAgICAgICAgaGVpZ2h0Q29udGFpbmVyID0gdmlld2VyQ29udGFpbmVyLmNsaWVudEhlaWdodDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgd2lkdGhDb250YWluZXIgPSBkb2N1bWVudENvbnRhaW5lci5jbGllbnRXaWR0aDtcbiAgICAgICAgICAgICAgICBoZWlnaHRDb250YWluZXIgPSBkb2N1bWVudENvbnRhaW5lci5jbGllbnRIZWlnaHQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBjdXJyZW50UGFnZSA9IHRoaXMucGRmVmlld2VyLl9wYWdlc1t0aGlzLnBkZlZpZXdlci5fY3VycmVudFBhZ2VOdW1iZXIgLSAxXTtcblxuICAgICAgICAgICAgbGV0IHBhZGRpbmcgPSAyMDtcbiAgICAgICAgICAgIGxldCBwYWdlV2lkdGhTY2FsZSA9ICh3aWR0aENvbnRhaW5lciAtIHBhZGRpbmcpIC8gY3VycmVudFBhZ2Uud2lkdGggKiBjdXJyZW50UGFnZS5zY2FsZTtcbiAgICAgICAgICAgIGxldCBwYWdlSGVpZ2h0U2NhbGUgPSAoaGVpZ2h0Q29udGFpbmVyIC0gcGFkZGluZykgLyBjdXJyZW50UGFnZS53aWR0aCAqIGN1cnJlbnRQYWdlLnNjYWxlO1xuXG4gICAgICAgICAgICBsZXQgc2NhbGU7XG5cbiAgICAgICAgICAgIHN3aXRjaCAodGhpcy5jdXJyZW50U2NhbGVNb2RlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSAncGFnZS1hY3R1YWwnOlxuICAgICAgICAgICAgICAgICAgICBzY2FsZSA9IDE7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ3BhZ2Utd2lkdGgnOlxuICAgICAgICAgICAgICAgICAgICBzY2FsZSA9IHBhZ2VXaWR0aFNjYWxlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdwYWdlLWhlaWdodCc6XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlID0gcGFnZUhlaWdodFNjYWxlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlICdwYWdlLWZpdCc6XG4gICAgICAgICAgICAgICAgICAgIHNjYWxlID0gTWF0aC5taW4ocGFnZVdpZHRoU2NhbGUsIHBhZ2VIZWlnaHRTY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2F1dG8nOlxuICAgICAgICAgICAgICAgICAgICBsZXQgaG9yaXpvbnRhbFNjYWxlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0xhbmRzY2FwZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaG9yaXpvbnRhbFNjYWxlID0gTWF0aC5taW4ocGFnZUhlaWdodFNjYWxlLCBwYWdlV2lkdGhTY2FsZSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsU2NhbGUgPSBwYWdlV2lkdGhTY2FsZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzY2FsZSA9IE1hdGgubWluKHRoaXMuTUFYX0FVVE9fU0NBTEUsIGhvcml6b250YWxTY2FsZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmVycm9yKCdwZGZWaWV3U2V0U2NhbGU6IFxcJycgKyBzY2FsZU1vZGUgKyAnXFwnIGlzIGFuIHVua25vd24gem9vbSB2YWx1ZS4nKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLnNldFNjYWxlVXBkYXRlUGFnZXMoc2NhbGUpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVXBkYXRlIGFsbCB0aGUgcGFnZXMgd2l0aCB0aGUgbmV3U2NhbGUgc2NhbGVcbiAgICAgKlxuICAgICAqIEBwYXJhbSBuZXdTY2FsZSAtIG5ldyBzY2FsZSBwYWdlXG4gICAgICovXG4gICAgc2V0U2NhbGVVcGRhdGVQYWdlcyhuZXdTY2FsZTogbnVtYmVyKSB7XG4gICAgICAgIGlmICghdGhpcy5pc1NhbWVTY2FsZSh0aGlzLmN1cnJlbnRTY2FsZSwgbmV3U2NhbGUpKSB7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRTY2FsZSA9IG5ld1NjYWxlO1xuXG4gICAgICAgICAgICB0aGlzLnBkZlZpZXdlci5fcGFnZXMuZm9yRWFjaChmdW5jdGlvbiAoY3VycmVudFBhZ2UpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UGFnZS51cGRhdGUobmV3U2NhbGUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnBkZlZpZXdlci51cGRhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiB0aGUgcmVxdWVzdCBzY2FsZSBvZiB0aGUgcGFnZSBpcyB0aGUgc2FtZSBmb3IgYXZvaWQgdXNlbGVzcyByZS1yZW5kZXJpbmdcbiAgICAgKlxuICAgICAqIEBwYXJhbSBvbGRTY2FsZSAtIG9sZCBzY2FsZSBwYWdlXG4gICAgICogQHBhcmFtIG5ld1NjYWxlIC0gbmV3IHNjYWxlIHBhZ2VcbiAgICAgKlxuICAgICAqL1xuICAgIGlzU2FtZVNjYWxlKG9sZFNjYWxlOiBudW1iZXIsIG5ld1NjYWxlOiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChuZXdTY2FsZSA9PT0gb2xkU2NhbGUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrIGlmIGlzIGEgbGFuZCBzY2FwZSB2aWV3XG4gICAgICpcbiAgICAgKiBAcGFyYW0gd2lkdGhcbiAgICAgKiBAcGFyYW0gaGVpZ2h0XG4gICAgICovXG4gICAgaXNMYW5kc2NhcGUod2lkdGg6IG51bWJlciwgaGVpZ2h0OiBudW1iZXIpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICh3aWR0aCA+IGhlaWdodCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogTWV0aG9kIHRyaWdnZXJlZCB3aGVuIHRoZSBwYWdlIGlzIHJlc2l6ZWRcbiAgICAgKi9cbiAgICBvblJlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy5zY2FsZVBhZ2UodGhpcy5jdXJyZW50U2NhbGVNb2RlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiB0b2dnbGUgdGhlIGZpdCBwYWdlIHBkZlxuICAgICAqL1xuICAgIHBhZ2VGaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRTY2FsZU1vZGUgIT09ICdwYWdlLWZpdCcpIHtcbiAgICAgICAgICAgIHRoaXMuc2NhbGVQYWdlKCdwYWdlLWZpdCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zY2FsZVBhZ2UoJ2F1dG8nKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIHpvb20gaW4gcGFnZSBwZGZcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aWNrc1xuICAgICAqL1xuICAgIHpvb21Jbih0aWNrcz86IG51bWJlcikge1xuICAgICAgICBsZXQgbmV3U2NhbGU6IGFueSA9IHRoaXMuY3VycmVudFNjYWxlO1xuICAgICAgICBkbyB7XG4gICAgICAgICAgICBuZXdTY2FsZSA9IChuZXdTY2FsZSAqIHRoaXMuREVGQVVMVF9TQ0FMRV9ERUxUQSkudG9GaXhlZCgyKTtcbiAgICAgICAgICAgIG5ld1NjYWxlID0gTWF0aC5jZWlsKG5ld1NjYWxlICogMTApIC8gMTA7XG4gICAgICAgICAgICBuZXdTY2FsZSA9IE1hdGgubWluKHRoaXMuTUFYX1NDQUxFLCBuZXdTY2FsZSk7XG4gICAgICAgIH0gd2hpbGUgKC0tdGlja3MgPiAwICYmIG5ld1NjYWxlIDwgdGhpcy5NQVhfU0NBTEUpO1xuICAgICAgICB0aGlzLmN1cnJlbnRTY2FsZU1vZGUgPSAnYXV0byc7XG4gICAgICAgIHRoaXMuc2V0U2NhbGVVcGRhdGVQYWdlcyhuZXdTY2FsZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogem9vbSBvdXQgcGFnZSBwZGZcbiAgICAgKlxuICAgICAqIEBwYXJhbSB0aWNrc1xuICAgICAqL1xuICAgIHpvb21PdXQodGlja3M/OiBudW1iZXIpIHtcbiAgICAgICAgbGV0IG5ld1NjYWxlOiBhbnkgPSB0aGlzLmN1cnJlbnRTY2FsZTtcbiAgICAgICAgZG8ge1xuICAgICAgICAgICAgbmV3U2NhbGUgPSAobmV3U2NhbGUgLyB0aGlzLkRFRkFVTFRfU0NBTEVfREVMVEEpLnRvRml4ZWQoMik7XG4gICAgICAgICAgICBuZXdTY2FsZSA9IE1hdGguZmxvb3IobmV3U2NhbGUgKiAxMCkgLyAxMDtcbiAgICAgICAgICAgIG5ld1NjYWxlID0gTWF0aC5tYXgodGhpcy5NSU5fU0NBTEUsIG5ld1NjYWxlKTtcbiAgICAgICAgfSB3aGlsZSAoLS10aWNrcyA+IDAgJiYgbmV3U2NhbGUgPiB0aGlzLk1JTl9TQ0FMRSk7XG4gICAgICAgIHRoaXMuY3VycmVudFNjYWxlTW9kZSA9ICdhdXRvJztcbiAgICAgICAgdGhpcy5zZXRTY2FsZVVwZGF0ZVBhZ2VzKG5ld1NjYWxlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBsb2FkIHRoZSBwcmV2aW91cyBwYWdlXG4gICAgICovXG4gICAgcHJldmlvdXNQYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5wZGZWaWV3ZXIgJiYgdGhpcy5wYWdlID4gMSkge1xuICAgICAgICAgICAgdGhpcy5wYWdlLS07XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlQYWdlID0gdGhpcy5wYWdlO1xuXG4gICAgICAgICAgICB0aGlzLnBkZlZpZXdlci5jdXJyZW50UGFnZU51bWJlciA9IHRoaXMucGFnZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGxvYWQgdGhlIG5leHQgcGFnZVxuICAgICAqL1xuICAgIG5leHRQYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5wZGZWaWV3ZXIgJiYgdGhpcy5wYWdlIDwgdGhpcy50b3RhbFBhZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UrKztcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheVBhZ2UgPSB0aGlzLnBhZ2U7XG5cbiAgICAgICAgICAgIHRoaXMucGRmVmlld2VyLmN1cnJlbnRQYWdlTnVtYmVyID0gdGhpcy5wYWdlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogbG9hZCB0aGUgcGFnZSBpbiBpbnB1dFxuICAgICAqXG4gICAgICogQHBhcmFtIHBhZ2UgdG8gbG9hZFxuICAgICAqL1xuICAgIGlucHV0UGFnZShwYWdlOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHBhZ2VJbnB1dCA9IHBhcnNlSW50KHBhZ2UsIDEwKTtcblxuICAgICAgICBpZiAoIWlzTmFOKHBhZ2VJbnB1dCkgJiYgcGFnZUlucHV0ID4gMCAmJiBwYWdlSW5wdXQgPD0gdGhpcy50b3RhbFBhZ2VzKSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlSW5wdXQ7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlQYWdlID0gdGhpcy5wYWdlO1xuICAgICAgICAgICAgdGhpcy5wZGZWaWV3ZXIuY3VycmVudFBhZ2VOdW1iZXIgPSB0aGlzLnBhZ2U7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmRpc3BsYXlQYWdlID0gdGhpcy5wYWdlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGFnZSBDaGFuZ2UgRXZlbnRcbiAgICAgKlxuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqL1xuICAgIG9uUGFnZUNoYW5nZShldmVudCkge1xuICAgICAgICB0aGlzLnBhZ2UgPSBldmVudC5wYWdlTnVtYmVyO1xuICAgICAgICB0aGlzLmRpc3BsYXlQYWdlID0gZXZlbnQucGFnZU51bWJlcjtcbiAgICB9XG5cbiAgICBvblBkZlBhc3N3b3JkKGNhbGxiYWNrLCByZWFzb24pIHtcbiAgICAgICAgdGhpcy5kaWFsb2dcbiAgICAgICAgICAgIC5vcGVuKFBkZlBhc3N3b3JkRGlhbG9nQ29tcG9uZW50LCB7XG4gICAgICAgICAgICAgICAgd2lkdGg6ICc0MDBweCcsXG4gICAgICAgICAgICAgICAgZGlzYWJsZUNsb3NlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGRhdGE6IHsgcmVhc29uIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuYWZ0ZXJDbG9zZWQoKS5zdWJzY3JpYmUocGFzc3dvcmQgPT4ge1xuICAgICAgICAgICAgaWYgKHBhc3N3b3JkKSB7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2socGFzc3dvcmQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYWdlIFJlbmRlcmVkIEV2ZW50XG4gICAgICovXG4gICAgb25QYWdlcmVuZGVyZWQoKSB7XG4gICAgICAgIHRoaXMucmVuZGVyZWQuZW1pdCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZ2VzIExvYWRlZCBFdmVudFxuICAgICAqXG4gICAgICogQHBhcmFtIGV2ZW50XG4gICAgICovXG4gICAgb25QYWdlc0xvYWRlZChldmVudCkge1xuICAgICAgICB0aGlzLmlzUGFuZWxEaXNhYmxlZCA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIExpdGVuZXIgS2V5Ym9hcmQgRXZlbnRcbiAgICAgKiBAcGFyYW0gS2V5Ym9hcmRFdmVudCBldmVudFxuICAgICAqL1xuICAgIEBIb3N0TGlzdGVuZXIoJ2RvY3VtZW50OmtleWRvd24nLCBbJyRldmVudCddKVxuICAgIGhhbmRsZUtleWJvYXJkRXZlbnQoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgbGV0IGtleSA9IGV2ZW50LmtleUNvZGU7XG4gICAgICAgIGlmIChrZXkgPT09IDM5KSB7IC8vIHJpZ2h0IGFycm93XG4gICAgICAgICAgICB0aGlzLm5leHRQYWdlKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoa2V5ID09PSAzNykgey8vIGxlZnQgYXJyb3dcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNQYWdlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICAgIENvbXBvbmVudCwgSW5wdXQsIENvbnRlbnRDaGlsZCwgVGVtcGxhdGVSZWYsIEhvc3RMaXN0ZW5lciwgT25Jbml0LFxuICAgIEFmdGVyVmlld0luaXQsIEVsZW1lbnRSZWYsIE9uRGVzdHJveSwgVmlld0VuY2Fwc3VsYXRpb25cbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLXBkZi10aHVtYm5haWxzJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vcGRmVmlld2VyLXRodW1ibmFpbHMuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL3BkZlZpZXdlci10aHVtYm5haWxzLmNvbXBvbmVudC5zY3NzJ10sXG4gICAgaG9zdDogeyAnY2xhc3MnOiAncGRmLXRodW1ibmFpbHMnIH0sXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBQZGZUaHVtYkxpc3RDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIEFmdGVyVmlld0luaXQsIE9uRGVzdHJveSB7XG4gICAgQElucHV0KCkgcGRmVmlld2VyOiBhbnk7XG5cbiAgICB2aXJ0dWFsSGVpZ2h0OiBudW1iZXIgPSAwO1xuICAgIHRyYW5zbGF0ZVk6IG51bWJlciA9IDA7XG4gICAgcmVuZGVySXRlbXMgPSBbXTtcbiAgICB3aWR0aDogbnVtYmVyID0gOTE7XG4gICAgY3VycmVudEhlaWdodDogbnVtYmVyID0gMDtcblxuICAgIHByaXZhdGUgaXRlbXMgPSBbXTtcbiAgICBwcml2YXRlIG1hcmdpbjogbnVtYmVyID0gMTU7XG4gICAgcHJpdmF0ZSBpdGVtSGVpZ2h0OiBudW1iZXIgPSAxMTQgKyB0aGlzLm1hcmdpbjtcblxuICAgIEBDb250ZW50Q2hpbGQoVGVtcGxhdGVSZWYpXG4gICAgdGVtcGxhdGU6IGFueTtcblxuICAgIEBIb3N0TGlzdGVuZXIoJ3dpbmRvdzpyZXNpemUnLCBbJyRldmVudCddKVxuICAgIG9uUmVzaXplKGV2ZW50KSB7XG4gICAgICAgIHRoaXMuY2FsY3VsYXRlSXRlbXMoKTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGVsZW1lbnQ6IEVsZW1lbnRSZWYpIHtcbiAgICAgICAgdGhpcy5jYWxjdWxhdGVJdGVtcyA9IHRoaXMuY2FsY3VsYXRlSXRlbXMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5vblBhZ2VDaGFuZ2UgPSB0aGlzLm9uUGFnZUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnBkZlZpZXdlci5ldmVudEJ1cy5vbigncGFnZWNoYW5nZScsIHRoaXMub25QYWdlQ2hhbmdlKTtcbiAgICAgICAgdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdGhpcy5jYWxjdWxhdGVJdGVtcywgdHJ1ZSk7XG5cbiAgICAgICAgdGhpcy5zZXRIZWlnaHQodGhpcy5wZGZWaWV3ZXIuY3VycmVudFBhZ2VOdW1iZXIpO1xuICAgICAgICB0aGlzLml0ZW1zID0gdGhpcy5nZXRQYWdlcygpO1xuICAgICAgICB0aGlzLmNhbGN1bGF0ZUl0ZW1zKCk7XG5cbiAgICB9XG5cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gdGhpcy5zY3JvbGxJbnRvKHRoaXMucGRmVmlld2VyLmN1cnJlbnRQYWdlTnVtYmVyKSwgMCk7XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuY2FsY3VsYXRlSXRlbXMsIHRydWUpO1xuICAgICAgICB0aGlzLnBkZlZpZXdlci5ldmVudEJ1cy5vZmYoJ3BhZ2VjaGFuZ2UnLCB0aGlzLm9uUGFnZUNoYW5nZSk7XG4gICAgfVxuXG4gICAgdHJhY2tCeUZuKGluZGV4OiBudW1iZXIsIGl0ZW06IGFueSk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiBpdGVtLmlkO1xuICAgIH1cblxuICAgIGlzU2VsZWN0ZWQocGFnZU51bTogbnVtYmVyKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBkZlZpZXdlci5jdXJyZW50UGFnZU51bWJlciA9PT0gcGFnZU51bTtcbiAgICB9XG5cbiAgICBnb1RvKHBhZ2VOdW06IG51bWJlcikge1xuICAgICAgICB0aGlzLnBkZlZpZXdlci5jdXJyZW50UGFnZU51bWJlciA9IHBhZ2VOdW07XG4gICAgfVxuXG4gICAgc2Nyb2xsSW50byhpdGVtOiBhbnkpIHtcbiAgICAgICAgaWYgKHRoaXMuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBjb25zdCBpbmRleDogbnVtYmVyID0gdGhpcy5pdGVtcy5maW5kSW5kZXgoKGVsZW1lbnQpID0+IGVsZW1lbnQuaWQgPT09IGl0ZW0pO1xuXG4gICAgICAgICAgICBpZiAoaW5kZXggPCAwIHx8IGluZGV4ID49IHRoaXMuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLmVsZW1lbnQubmF0aXZlRWxlbWVudC5zY3JvbGxUb3AgPSBpbmRleCAqIHRoaXMuaXRlbUhlaWdodDtcblxuICAgICAgICAgICAgdGhpcy5jYWxjdWxhdGVJdGVtcygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0UGFnZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBkZlZpZXdlci5fcGFnZXMubWFwKChwYWdlKSA9PiAoe1xuICAgICAgICAgICAgaWQ6IHBhZ2UuaWQsXG4gICAgICAgICAgICBnZXRXaWR0aDogKCkgPT4geyByZXR1cm4gdGhpcy53aWR0aDsgfSxcbiAgICAgICAgICAgIGdldEhlaWdodDogKCkgPT4geyByZXR1cm4gdGhpcy5jdXJyZW50SGVpZ2h0OyB9LFxuICAgICAgICAgICAgZ2V0UGFnZTogKCkgPT4gdGhpcy5wZGZWaWV3ZXIucGRmRG9jdW1lbnQuZ2V0UGFnZShwYWdlLmlkKVxuICAgICAgICB9KSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRIZWlnaHQoaWQpOiBudW1iZXIge1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnBkZlZpZXdlci5wZGZEb2N1bWVudC5nZXRQYWdlKGlkKS50aGVuKChwYWdlKSA9PiB0aGlzLmNhbGN1bGF0ZUhlaWdodChwYWdlKSk7XG4gICAgICAgIHJldHVybiBoZWlnaHQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVIZWlnaHQocGFnZSkge1xuICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHBhZ2UuZ2V0Vmlld3BvcnQoMSk7XG4gICAgICAgIGNvbnN0IHBhZ2VSYXRpbyA9IHZpZXdwb3J0LndpZHRoIC8gdmlld3BvcnQuaGVpZ2h0O1xuICAgICAgICBjb25zdCBoZWlnaHQgPSBNYXRoLmZsb29yKHRoaXMud2lkdGggLyBwYWdlUmF0aW8pO1xuXG4gICAgICAgIHRoaXMuY3VycmVudEhlaWdodCA9IGhlaWdodDtcbiAgICAgICAgdGhpcy5pdGVtSGVpZ2h0ID0gaGVpZ2h0ICsgdGhpcy5tYXJnaW47XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVJdGVtcygpIHtcbiAgICAgICAgY29uc3QgeyBlbGVtZW50LCB2aWV3UG9ydCwgaXRlbXNJblZpZXcgfSA9IHRoaXMuZ2V0Q29udGFpbmVyU2V0dXAoKTtcblxuICAgICAgICBjb25zdCBpbmRleEJ5U2Nyb2xsVG9wID0gZWxlbWVudC5zY3JvbGxUb3AgLyB2aWV3UG9ydCAqIHRoaXMuaXRlbXMubGVuZ3RoIC8gaXRlbXNJblZpZXc7XG5cbiAgICAgICAgY29uc3Qgc3RhcnQgPSBNYXRoLmZsb29yKGluZGV4QnlTY3JvbGxUb3ApO1xuXG4gICAgICAgIGNvbnN0IGVuZCA9IE1hdGguY2VpbChpbmRleEJ5U2Nyb2xsVG9wKSArIChpdGVtc0luVmlldyk7XG5cbiAgICAgICAgdGhpcy50cmFuc2xhdGVZID0gdGhpcy5pdGVtSGVpZ2h0ICogTWF0aC5jZWlsKHN0YXJ0KTtcbiAgICAgICAgdGhpcy52aXJ0dWFsSGVpZ2h0ID0gdGhpcy5pdGVtSGVpZ2h0ICogdGhpcy5pdGVtcy5sZW5ndGggIC0gdGhpcy50cmFuc2xhdGVZO1xuICAgICAgICB0aGlzLnJlbmRlckl0ZW1zID0gdGhpcy5pdGVtcy5zbGljZShzdGFydCwgZW5kKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldENvbnRhaW5lclNldHVwKCkge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5lbGVtZW50Lm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRSZWMgPSBlbGVtZW50LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICBjb25zdCBpdGVtc0luVmlldyA9IE1hdGguY2VpbChlbGVtZW50UmVjLmhlaWdodCAvIHRoaXMuaXRlbUhlaWdodCk7XG4gICAgICAgIGNvbnN0IHZpZXdQb3J0ID0gKHRoaXMuaXRlbUhlaWdodCAqIHRoaXMuaXRlbXMubGVuZ3RoKSAvIGl0ZW1zSW5WaWV3O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBlbGVtZW50LFxuICAgICAgICAgICAgdmlld1BvcnQsXG4gICAgICAgICAgICBpdGVtc0luVmlld1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgb25QYWdlQ2hhbmdlKGV2ZW50KSB7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5yZW5kZXJJdGVtcy5maW5kSW5kZXgoKGVsZW1lbnQpID0+IGVsZW1lbnQuaWQgPT09IGV2ZW50LnBhZ2VOdW1iZXIpO1xuXG4gICAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsSW50byhldmVudC5wYWdlTnVtYmVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChpbmRleCA+PSB0aGlzLnJlbmRlckl0ZW1zLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIHRoaXMuZWxlbWVudC5uYXRpdmVFbGVtZW50LnNjcm9sbFRvcCArPSB0aGlzLml0ZW1IZWlnaHQ7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkluaXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEb21TYW5pdGl6ZXIgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtcGRmLXRodW1iJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vcGRmVmlld2VyLXRodW1iLmNvbXBvbmVudC5odG1sJyxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIFBkZlRodW1iQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICAgIEBJbnB1dCgpXG4gICAgcGFnZTogYW55ID0gbnVsbDtcblxuICAgIGltYWdlJDogUHJvbWlzZTxzdHJpbmc+O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBzYW5pdGl6ZXI6IERvbVNhbml0aXplcikge31cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLmltYWdlJCA9IHRoaXMucGFnZS5nZXRQYWdlKCkudGhlbigocGFnZSkgPT4gdGhpcy5nZXRUaHVtYihwYWdlKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRUaHVtYihwYWdlKTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICAgICAgY29uc3Qgdmlld3BvcnQgPSBwYWdlLmdldFZpZXdwb3J0KDEpO1xuXG4gICAgICAgIGNvbnN0IHBhZ2VSYXRpbyA9IHZpZXdwb3J0LndpZHRoIC8gdmlld3BvcnQuaGVpZ2h0O1xuICAgICAgICBjb25zdCBjYW52YXMgPSB0aGlzLmdldENhbnZhcyhwYWdlUmF0aW8pO1xuICAgICAgICBjb25zdCBzY2FsZSA9IE1hdGgubWluKChjYW52YXMuaGVpZ2h0IC8gdmlld3BvcnQuaGVpZ2h0KSwgKGNhbnZhcy53aWR0aCAvIHZpZXdwb3J0LndpZHRoKSk7XG5cbiAgICAgICAgcmV0dXJuIHBhZ2UucmVuZGVyKHtcbiAgICAgICAgICAgIGNhbnZhc0NvbnRleHQ6IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpLFxuICAgICAgICAgICAgdmlld3BvcnQ6IHBhZ2UuZ2V0Vmlld3BvcnQoc2NhbGUpXG4gICAgICAgIH0pXG4gICAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGltYWdlU291cmNlID0gY2FudmFzLnRvRGF0YVVSTCgpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2FuaXRpemVyLmJ5cGFzc1NlY3VyaXR5VHJ1c3RVcmwoaW1hZ2VTb3VyY2UpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldENhbnZhcyhwYWdlUmF0aW8pOiBIVE1MQ2FudmFzRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICBjYW52YXMud2lkdGggPSB0aGlzLnBhZ2UuZ2V0V2lkdGgoKTtcbiAgICAgICAgY2FudmFzLmhlaWdodCA9IHRoaXMucGFnZS5nZXRIZWlnaHQoKTtcbiAgICAgICAgcmV0dXJuIGNhbnZhcztcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25DaGFuZ2VzLCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU2ltcGxlQ2hhbmdlcyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi10eHQtdmlld2VyJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vdHh0Vmlld2VyLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi90eHRWaWV3ZXIuY29tcG9uZW50LnNjc3MnXSxcbiAgICBob3N0OiB7ICdjbGFzcyc6ICdhZGYtdHh0LXZpZXdlcicgfSxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIFR4dFZpZXdlckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcyB7XG5cbiAgICBASW5wdXQoKVxuICAgIHVybEZpbGU6IGFueTtcblxuICAgIEBJbnB1dCgpXG4gICAgYmxvYkZpbGU6IEJsb2I7XG5cbiAgICBjb250ZW50OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGh0dHA6IEh0dHBDbGllbnQpIHtcbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKTogUHJvbWlzZTxhbnk+IHtcblxuICAgICAgICBsZXQgYmxvYkZpbGUgPSBjaGFuZ2VzWydibG9iRmlsZSddO1xuICAgICAgICBpZiAoYmxvYkZpbGUgJiYgYmxvYkZpbGUuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkQmxvYihibG9iRmlsZS5jdXJyZW50VmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHVybEZpbGUgPSBjaGFuZ2VzWyd1cmxGaWxlJ107XG4gICAgICAgIGlmICh1cmxGaWxlICYmIHVybEZpbGUuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRVcmxDb250ZW50KHVybEZpbGUuY3VycmVudFZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy51cmxGaWxlICYmICF0aGlzLmJsb2JGaWxlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0F0dHJpYnV0ZSB1cmxGaWxlIG9yIGJsb2JGaWxlIGlzIHJlcXVpcmVkJyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFVybENvbnRlbnQodXJsOiBzdHJpbmcpOiBQcm9taXNlPGFueT4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5odHRwLmdldCh1cmwsIHsgcmVzcG9uc2VUeXBlOiAndGV4dCcgfSkuc3Vic2NyaWJlKHJlcyA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50ID0gcmVzO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0sIChldmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChldmVudCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWFkQmxvYihibG9iOiBCbG9iKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGxldCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG4gICAgICAgICAgICByZWFkZXIub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudCA9IHJlYWRlci5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSAoZXJyb3I6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICByZWFkZXIucmVhZEFzVGV4dChibG9iKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLXZpZXdlci11bmtub3duLWZvcm1hdCcsXG4gICAgdGVtcGxhdGVVcmw6ICd1bmtub3duLWZvcm1hdC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJ3Vua25vd24tZm9ybWF0LmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgVW5rbm93bkZvcm1hdENvbXBvbmVudCB7XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSwgQ29tcG9uZW50LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi12aWV3ZXItdG9vbGJhci1hY3Rpb25zJyxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgIGhvc3Q6IHsgY2xhc3M6ICdhZGYtdmlld2VyLXRvb2xiYXItYWN0aW9ucycgfSxcbiAgICB0ZW1wbGF0ZTogYDxuZy1jb250ZW50PjwvbmctY29udGVudD5gXG59KVxuZXhwb3J0IGNsYXNzIFZpZXdlclRvb2xiYXJBY3Rpb25zQ29tcG9uZW50IHtcbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEFmdGVyQ29udGVudEluaXQsIENvbnRlbnRDaGlsZCwgRGlyZWN0aXZlLCBJbnB1dCwgVGVtcGxhdGVSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFZpZXdlckNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvdmlld2VyLmNvbXBvbmVudCc7XG5cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnYWRmLXZpZXdlci1leHRlbnNpb24nXG59KVxuZXhwb3J0IGNsYXNzIFZpZXdlckV4dGVuc2lvbkRpcmVjdGl2ZSBpbXBsZW1lbnRzIEFmdGVyQ29udGVudEluaXQge1xuXG4gICAgQENvbnRlbnRDaGlsZChUZW1wbGF0ZVJlZilcbiAgICB0ZW1wbGF0ZTogYW55O1xuXG4gICAgQElucHV0KClcbiAgICB1cmxGaWxlQ29udGVudDogc3RyaW5nO1xuXG4gICAgQElucHV0KClcbiAgICBleHRlbnNpb246IHN0cmluZztcblxuICAgIEBJbnB1dCgpXG4gICAgc3VwcG9ydGVkRXh0ZW5zaW9uczogc3RyaW5nW107XG5cbiAgICB0ZW1wbGF0ZU1vZGVsOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHZpZXdlckNvbXBvbmVudDogVmlld2VyQ29tcG9uZW50KSB7XG4gICAgfVxuXG4gICAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICAgICAgICB0aGlzLnRlbXBsYXRlTW9kZWwgPSB7IHRlbXBsYXRlOiB0aGlzLnRlbXBsYXRlLCBpc1Zpc2libGU6IGZhbHNlIH07XG5cbiAgICAgICAgdGhpcy52aWV3ZXJDb21wb25lbnQuZXh0ZW5zaW9uVGVtcGxhdGVzLnB1c2godGhpcy50ZW1wbGF0ZU1vZGVsKTtcblxuICAgICAgICB0aGlzLnZpZXdlckNvbXBvbmVudC5leHRlbnNpb25DaGFuZ2Uuc3Vic2NyaWJlKChmaWxlRXh0ZW5zaW9uKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlTW9kZWwuaXNWaXNpYmxlID0gdGhpcy5pc1Zpc2libGUoZmlsZUV4dGVuc2lvbik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmICh0aGlzLnN1cHBvcnRlZEV4dGVuc2lvbnMgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgICAgdGhpcy5zdXBwb3J0ZWRFeHRlbnNpb25zLmZvckVhY2goKGV4dGVuc2lvbikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyQ29tcG9uZW50LmV4dGVybmFsRXh0ZW5zaW9ucy5wdXNoKGV4dGVuc2lvbik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGNoZWNrIGlmIHRoZSBjdXJyZW50IGV4dGVuc2lvbiBpbiB0aGUgdmlld2VyIGlzIGNvbXBhdGlibGUgd2l0aCB0aGlzIGV4dGVuc2lvbiBjaGVja2luZyBhZ2FpbnN0IHN1cHBvcnRlZEV4dGVuc2lvbnNcbiAgICAgKi9cbiAgICBpc1Zpc2libGUoZmlsZUV4dGVuc2lvbik6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgc3VwcG9ydGVkRXh0ZW5zaW9uOiBzdHJpbmc7XG5cbiAgICAgICAgaWYgKHRoaXMuc3VwcG9ydGVkRXh0ZW5zaW9ucyAmJiAodGhpcy5zdXBwb3J0ZWRFeHRlbnNpb25zIGluc3RhbmNlb2YgQXJyYXkpKSB7XG4gICAgICAgICAgICBzdXBwb3J0ZWRFeHRlbnNpb24gPSB0aGlzLnN1cHBvcnRlZEV4dGVuc2lvbnMuZmluZCgoZXh0ZW5zaW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGV4dGVuc2lvbi50b0xvd2VyQ2FzZSgpID09PSBmaWxlRXh0ZW5zaW9uO1xuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhIXN1cHBvcnRlZEV4dGVuc2lvbjtcbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtdG9vbGJhci1kaXZpZGVyJyxcbiAgICB0ZW1wbGF0ZTogJzxkaXY+PC9kaXY+JyxcbiAgICBob3N0OiB7ICdjbGFzcyc6ICdhZGYtdG9vbGJhci1kaXZpZGVyJyB9LFxuICAgIHN0eWxlczogW2BcbiAgICAgICAgLmFkZi10b29sYmFyLWRpdmlkZXIgPiBkaXYge1xuICAgICAgICAgICAgaGVpZ2h0OiAyNHB4O1xuICAgICAgICAgICAgd2lkdGg6IDFweDtcbiAgICAgICAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgMC4yNik7XG4gICAgICAgICAgICBtYXJnaW4tbGVmdDogNXB4O1xuICAgICAgICAgICAgbWFyZ2luLXJpZ2h0OiA1cHg7XG4gICAgICAgIH1cbiAgICBgXSxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIFRvb2xiYXJEaXZpZGVyQ29tcG9uZW50IHt9XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtdG9vbGJhci10aXRsZScsXG4gICAgdGVtcGxhdGU6ICc8bmctY29udGVudD48L25nLWNvbnRlbnQ+JyxcbiAgICBob3N0OiB7ICdjbGFzcyc6ICdhZGYtdG9vbGJhci10aXRsZScgfVxufSlcbmV4cG9ydCBjbGFzcyBUb29sYmFyVGl0bGVDb21wb25lbnQge31cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIElucHV0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi10b29sYmFyJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vdG9vbGJhci5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vdG9vbGJhci5jb21wb25lbnQuc2NzcyddLFxuICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgaG9zdDogeyAnY2xhc3MnOiAnYWRmLXRvb2xiYXInIH1cbn0pXG5leHBvcnQgY2xhc3MgVG9vbGJhckNvbXBvbmVudCB7XG5cbiAgICAvKiogVG9vbGJhciB0aXRsZS4gKi9cbiAgICBASW5wdXQoKVxuICAgIHRpdGxlOiBzdHJpbmcgPSAnJztcblxuICAgIC8qKiBUb29sYmFyIGNvbG9yLiBDYW4gYmUgY2hhbmdlZCB0byBlbXB0eSB2YWx1ZSAoZGVmYXVsdCksIGBwcmltYXJ5YCwgYGFjY2VudGAgb3IgYHdhcm5gLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgY29sb3I6IHN0cmluZztcblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNYXRlcmlhbE1vZHVsZSB9IGZyb20gJy4uL21hdGVyaWFsLm1vZHVsZSc7XG5cbmltcG9ydCB7IFRvb2xiYXJEaXZpZGVyQ29tcG9uZW50IH0gZnJvbSAnLi90b29sYmFyLWRpdmlkZXIuY29tcG9uZW50JztcbmltcG9ydCB7IFRvb2xiYXJUaXRsZUNvbXBvbmVudCB9IGZyb20gJy4vdG9vbGJhci10aXRsZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgVG9vbGJhckNvbXBvbmVudCB9IGZyb20gJy4vdG9vbGJhci5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBNYXRlcmlhbE1vZHVsZVxuICAgIF0sXG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIFRvb2xiYXJDb21wb25lbnQsXG4gICAgICAgIFRvb2xiYXJUaXRsZUNvbXBvbmVudCxcbiAgICAgICAgVG9vbGJhckRpdmlkZXJDb21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgVG9vbGJhckNvbXBvbmVudCxcbiAgICAgICAgVG9vbGJhclRpdGxlQ29tcG9uZW50LFxuICAgICAgICBUb29sYmFyRGl2aWRlckNvbXBvbmVudFxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgVG9vbGJhck1vZHVsZSB7fVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBUcmFuc2xhdGVNb2R1bGUgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJztcbmltcG9ydCB7IEZsZXhMYXlvdXRNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mbGV4LWxheW91dCc7XG5pbXBvcnQgeyBGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuaW1wb3J0IHsgTWF0ZXJpYWxNb2R1bGUgfSBmcm9tICcuLi9tYXRlcmlhbC5tb2R1bGUnO1xuaW1wb3J0IHsgVG9vbGJhck1vZHVsZSB9IGZyb20gJy4uL3Rvb2xiYXIvdG9vbGJhci5tb2R1bGUnO1xuaW1wb3J0IHsgUGlwZU1vZHVsZSB9IGZyb20gJy4uL3BpcGVzL3BpcGUubW9kdWxlJztcbmltcG9ydCB7IEltZ1ZpZXdlckNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9pbWdWaWV3ZXIuY29tcG9uZW50JztcbmltcG9ydCB7IE1lZGlhUGxheWVyQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL21lZGlhUGxheWVyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQZGZWaWV3ZXJDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvcGRmVmlld2VyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQZGZQYXNzd29yZERpYWxvZ0NvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9wZGZWaWV3ZXItcGFzc3dvcmQtZGlhbG9nJztcbmltcG9ydCB7IFBkZlRodW1iQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3BkZlZpZXdlci10aHVtYi5jb21wb25lbnQnO1xuaW1wb3J0IHsgUGRmVGh1bWJMaXN0Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3BkZlZpZXdlci10aHVtYm5haWxzLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBUeHRWaWV3ZXJDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdHh0Vmlld2VyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBVbmtub3duRm9ybWF0Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3Vua25vd24tZm9ybWF0L3Vua25vd24tZm9ybWF0LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBWaWV3ZXJNb3JlQWN0aW9uc0NvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy92aWV3ZXItbW9yZS1hY3Rpb25zLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBWaWV3ZXJPcGVuV2l0aENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy92aWV3ZXItb3Blbi13aXRoLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBWaWV3ZXJTaWRlYmFyQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3ZpZXdlci1zaWRlYmFyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBWaWV3ZXJUb29sYmFyQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3ZpZXdlci10b29sYmFyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBWaWV3ZXJDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdmlld2VyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBWaWV3ZXJFeHRlbnNpb25EaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZXMvdmlld2VyLWV4dGVuc2lvbi5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgVmlld2VyVG9vbGJhckFjdGlvbnNDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvdmlld2VyLXRvb2xiYXItYWN0aW9ucy5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBNYXRlcmlhbE1vZHVsZSxcbiAgICAgICAgVHJhbnNsYXRlTW9kdWxlLmZvckNoaWxkKCksXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBUb29sYmFyTW9kdWxlLFxuICAgICAgICBQaXBlTW9kdWxlLFxuICAgICAgICBGbGV4TGF5b3V0TW9kdWxlXG4gICAgXSxcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgUGRmUGFzc3dvcmREaWFsb2dDb21wb25lbnQsXG4gICAgICAgIFZpZXdlckNvbXBvbmVudCxcbiAgICAgICAgSW1nVmlld2VyQ29tcG9uZW50LFxuICAgICAgICBUeHRWaWV3ZXJDb21wb25lbnQsXG4gICAgICAgIE1lZGlhUGxheWVyQ29tcG9uZW50LFxuICAgICAgICBQZGZWaWV3ZXJDb21wb25lbnQsXG4gICAgICAgIFBkZlRodW1iQ29tcG9uZW50LFxuICAgICAgICBQZGZUaHVtYkxpc3RDb21wb25lbnQsXG4gICAgICAgIFZpZXdlckV4dGVuc2lvbkRpcmVjdGl2ZSxcbiAgICAgICAgVW5rbm93bkZvcm1hdENvbXBvbmVudCxcbiAgICAgICAgVmlld2VyVG9vbGJhckNvbXBvbmVudCxcbiAgICAgICAgVmlld2VyU2lkZWJhckNvbXBvbmVudCxcbiAgICAgICAgVmlld2VyT3BlbldpdGhDb21wb25lbnQsXG4gICAgICAgIFZpZXdlck1vcmVBY3Rpb25zQ29tcG9uZW50LFxuICAgICAgICBWaWV3ZXJUb29sYmFyQWN0aW9uc0NvbXBvbmVudFxuICAgIF0sXG4gICAgZW50cnlDb21wb25lbnRzOiBbXG4gICAgICAgIFBkZlBhc3N3b3JkRGlhbG9nQ29tcG9uZW50XG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIFZpZXdlckNvbXBvbmVudCxcbiAgICAgICAgSW1nVmlld2VyQ29tcG9uZW50LFxuICAgICAgICBUeHRWaWV3ZXJDb21wb25lbnQsXG4gICAgICAgIE1lZGlhUGxheWVyQ29tcG9uZW50LFxuICAgICAgICBQZGZWaWV3ZXJDb21wb25lbnQsXG4gICAgICAgIFBkZlBhc3N3b3JkRGlhbG9nQ29tcG9uZW50LFxuICAgICAgICBQZGZUaHVtYkNvbXBvbmVudCxcbiAgICAgICAgUGRmVGh1bWJMaXN0Q29tcG9uZW50LFxuICAgICAgICBWaWV3ZXJFeHRlbnNpb25EaXJlY3RpdmUsXG4gICAgICAgIFVua25vd25Gb3JtYXRDb21wb25lbnQsXG4gICAgICAgIFZpZXdlclRvb2xiYXJDb21wb25lbnQsXG4gICAgICAgIFZpZXdlclNpZGViYXJDb21wb25lbnQsXG4gICAgICAgIFZpZXdlck9wZW5XaXRoQ29tcG9uZW50LFxuICAgICAgICBWaWV3ZXJNb3JlQWN0aW9uc0NvbXBvbmVudCxcbiAgICAgICAgVmlld2VyVG9vbGJhckFjdGlvbnNDb21wb25lbnRcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIFZpZXdlck1vZHVsZSB7XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBVc2VyUmVwcmVzZW50YXRpb24gfSBmcm9tICdhbGZyZXNjby1qcy1hcGknO1xuXG5leHBvcnQgY2xhc3MgQnBtVXNlck1vZGVsIGltcGxlbWVudHMgVXNlclJlcHJlc2VudGF0aW9uIHtcbiAgICBhcHBzOiBhbnk7XG4gICAgY2FwYWJpbGl0aWVzOiBzdHJpbmdbXTtcbiAgICBjb21wYW55OiBzdHJpbmc7XG4gICAgY3JlYXRlZDogRGF0ZTtcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIGV4dGVybmFsSWQ6IHN0cmluZztcbiAgICBmaXJzdE5hbWU6IHN0cmluZztcbiAgICBsYXN0TmFtZTogc3RyaW5nO1xuICAgIGZ1bGxuYW1lOiBzdHJpbmc7XG4gICAgZnVsbE5hbWVEaXNwbGF5OiBzdHJpbmc7XG4gICAgZ3JvdXBzOiBhbnk7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBsYXN0VXBkYXRlOiBEYXRlO1xuICAgIGxhdGVzdFN5bmNUaW1lU3RhbXA6IERhdGU7XG4gICAgcGFzc3dvcmQ6IHN0cmluZztcbiAgICBwaWN0dXJlSWQ6IG51bWJlcjtcbiAgICBzdGF0dXM6IHN0cmluZztcbiAgICB0ZW5hbnRJZDogbnVtYmVyO1xuICAgIHRlbmFudE5hbWU6IHN0cmluZztcbiAgICB0ZW5hbnRQaWN0dXJlSWQ6IG51bWJlcjtcbiAgICB0eXBlOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihvYmo/OiBhbnkpIHtcbiAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgdGhpcy5hcHBzID0gb2JqLmFwcHM7XG4gICAgICAgICAgICB0aGlzLmNhcGFiaWxpdGllcyA9IG9iai5jYXBhYmlsaXRpZXM7XG4gICAgICAgICAgICB0aGlzLmNvbXBhbnkgPSBvYmouY29tcGFueTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZCA9IG9iai5jcmVhdGVkO1xuICAgICAgICAgICAgdGhpcy5lbWFpbCA9IG9iai5lbWFpbDtcbiAgICAgICAgICAgIHRoaXMuZXh0ZXJuYWxJZCA9IG9iai5leHRlcm5hbElkO1xuICAgICAgICAgICAgdGhpcy5maXJzdE5hbWUgPSBvYmouZmlyc3ROYW1lO1xuICAgICAgICAgICAgdGhpcy5sYXN0TmFtZSA9IG9iai5sYXN0TmFtZTtcbiAgICAgICAgICAgIHRoaXMuZnVsbG5hbWUgPSBvYmouZnVsbG5hbWU7XG4gICAgICAgICAgICB0aGlzLmZ1bGxOYW1lRGlzcGxheSA9IG9iaiA/IHRoaXMuZm9ybWF0VmFsdWUob2JqLmZpcnN0TmFtZSkudHJpbSgpICsgJyAnICsgdGhpcy5mb3JtYXRWYWx1ZShvYmoubGFzdE5hbWUpLnRyaW0oKSA6IG51bGw7XG4gICAgICAgICAgICB0aGlzLmdyb3VwcyA9IG9iai5ncm91cHM7XG4gICAgICAgICAgICB0aGlzLmlkID0gb2JqLmlkO1xuICAgICAgICAgICAgdGhpcy5sYXN0VXBkYXRlID0gb2JqLmxhc3RVcGRhdGU7XG4gICAgICAgICAgICB0aGlzLmxhdGVzdFN5bmNUaW1lU3RhbXAgPSBvYmoubGF0ZXN0U3luY1RpbWVTdGFtcDtcbiAgICAgICAgICAgIHRoaXMucGFzc3dvcmQgPSBvYmoucGFzc3dvcmQ7XG4gICAgICAgICAgICB0aGlzLnBpY3R1cmVJZCA9IG9iai5waWN0dXJlSWQ7XG4gICAgICAgICAgICB0aGlzLnN0YXR1cyA9IG9iai5zdGF0dXM7XG4gICAgICAgICAgICB0aGlzLnRlbmFudElkID0gb2JqLnRlbmFudElkO1xuICAgICAgICAgICAgdGhpcy50ZW5hbnROYW1lID0gb2JqLnRlbmFudE5hbWU7XG4gICAgICAgICAgICB0aGlzLnRlbmFudFBpY3R1cmVJZCA9IG9iai50ZW5hbnRQaWN0dXJlSWQ7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBvYmoudHlwZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZm9ybWF0VmFsdWUodmFsdWU6IHN0cmluZyk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB2YWx1ZSAmJiB2YWx1ZSAhPT0gJ251bGwnID8gdmFsdWUgOiAnJztcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBQZXJzb24gfSBmcm9tICdhbGZyZXNjby1qcy1hcGknO1xuaW1wb3J0IHsgRWNtQ29tcGFueU1vZGVsIH0gZnJvbSAnLi4vLi4vbW9kZWxzL2VjbS1jb21wYW55Lm1vZGVsJztcblxuZXhwb3J0IGNsYXNzIEVjbVVzZXJNb2RlbCBpbXBsZW1lbnRzIFBlcnNvbiB7XG4gICAgaWQ6IHN0cmluZztcbiAgICBmaXJzdE5hbWU6IHN0cmluZztcbiAgICBsYXN0TmFtZTogc3RyaW5nO1xuICAgIGZ1bGxOYW1lRGlzcGxheTogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgYXZhdGFySWQ6IHN0cmluZztcbiAgICBlbWFpbDogc3RyaW5nO1xuICAgIHNreXBlSWQ6IHN0cmluZztcbiAgICBnb29nbGVJZDogc3RyaW5nO1xuICAgIGluc3RhbnRNZXNzYWdlSWQ6IHN0cmluZztcbiAgICBqb2JUaXRsZTogc3RyaW5nO1xuICAgIGxvY2F0aW9uOiBzdHJpbmc7XG4gICAgY29tcGFueTogRWNtQ29tcGFueU1vZGVsO1xuICAgIG1vYmlsZTogc3RyaW5nO1xuICAgIHRlbGVwaG9uZTogc3RyaW5nO1xuICAgIHN0YXR1c1VwZGF0ZWRBdDogRGF0ZTtcbiAgICB1c2VyU3RhdHVzOiBzdHJpbmc7XG4gICAgZW5hYmxlZDogYm9vbGVhbjtcbiAgICBlbWFpbE5vdGlmaWNhdGlvbnNFbmFibGVkOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3Iob2JqPzogYW55KSB7XG4gICAgICAgIHRoaXMuaWQgPSBvYmogJiYgb2JqLmlkIHx8IG51bGw7XG4gICAgICAgIHRoaXMuZmlyc3ROYW1lID0gb2JqICYmIG9iai5maXJzdE5hbWU7XG4gICAgICAgIHRoaXMubGFzdE5hbWUgPSBvYmogJiYgb2JqLmxhc3ROYW1lO1xuICAgICAgICB0aGlzLmZ1bGxOYW1lRGlzcGxheSA9IG9iaiA/IHRoaXMuZm9ybWF0VmFsdWUob2JqLmZpcnN0TmFtZSkudHJpbSgpICsgJyAnICsgdGhpcy5mb3JtYXRWYWx1ZShvYmoubGFzdE5hbWUpLnRyaW0oKSA6IG51bGw7XG4gICAgICAgIHRoaXMuZGVzY3JpcHRpb24gPSBvYmogJiYgb2JqLmRlc2NyaXB0aW9uIHx8IG51bGw7XG4gICAgICAgIHRoaXMuYXZhdGFySWQgPSBvYmogJiYgb2JqLmF2YXRhcklkIHx8IG51bGw7XG4gICAgICAgIHRoaXMuZW1haWwgPSBvYmogJiYgb2JqLmVtYWlsIHx8IG51bGw7XG4gICAgICAgIHRoaXMuc2t5cGVJZCA9IG9iaiAmJiBvYmouc2t5cGVJZDtcbiAgICAgICAgdGhpcy5nb29nbGVJZCA9IG9iaiAmJiBvYmouZ29vZ2xlSWQ7XG4gICAgICAgIHRoaXMuaW5zdGFudE1lc3NhZ2VJZCA9IG9iaiAmJiBvYmouaW5zdGFudE1lc3NhZ2VJZDtcbiAgICAgICAgdGhpcy5qb2JUaXRsZSA9IG9iaiAmJiBvYmouam9iVGl0bGUgfHwgbnVsbDtcbiAgICAgICAgdGhpcy5sb2NhdGlvbiA9IG9iaiAmJiBvYmoubG9jYXRpb24gfHwgbnVsbDtcbiAgICAgICAgdGhpcy5jb21wYW55ID0gb2JqICYmIG9iai5jb21wYW55O1xuICAgICAgICB0aGlzLm1vYmlsZSA9IG9iaiAmJiBvYmoubW9iaWxlO1xuICAgICAgICB0aGlzLnRlbGVwaG9uZSA9IG9iaiAmJiBvYmoudGVsZXBob25lO1xuICAgICAgICB0aGlzLnN0YXR1c1VwZGF0ZWRBdCA9IG9iaiAmJiBvYmouc3RhdHVzVXBkYXRlZEF0O1xuICAgICAgICB0aGlzLnVzZXJTdGF0dXMgPSBvYmogJiYgb2JqLnVzZXJTdGF0dXM7XG4gICAgICAgIHRoaXMuZW5hYmxlZCA9IG9iaiAmJiBvYmouZW5hYmxlZDtcbiAgICAgICAgdGhpcy5lbWFpbE5vdGlmaWNhdGlvbnNFbmFibGVkID0gb2JqICYmIG9iai5lbWFpbE5vdGlmaWNhdGlvbnNFbmFibGVkO1xuICAgIH1cblxuICAgIHByaXZhdGUgZm9ybWF0VmFsdWUodmFsdWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gdmFsdWUgJiYgdmFsdWUgIT09ICdudWxsJyA/IHZhbHVlIDogJyc7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUmVzcG9uc2UgfSBmcm9tICdAYW5ndWxhci9odHRwJztcbmltcG9ydCB7IE9ic2VydmFibGUsIGZyb20sIHRocm93RXJyb3IgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEFsZnJlc2NvQXBpU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2FsZnJlc2NvLWFwaS5zZXJ2aWNlJztcbmltcG9ydCB7IExvZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9sb2cuc2VydmljZSc7XG5pbXBvcnQgeyBCcG1Vc2VyTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvYnBtLXVzZXIubW9kZWwnO1xuaW1wb3J0IHsgbWFwLCBjYXRjaEVycm9yIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG4vKipcbiAqXG4gKiBCUE1Vc2VyU2VydmljZSByZXRyaWV2ZSBhbGwgdGhlIGluZm9ybWF0aW9uIG9mIGFuIEVjbSB1c2VyLlxuICpcbiAqL1xuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEJwbVVzZXJTZXJ2aWNlIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgbG9nU2VydmljZTogTG9nU2VydmljZSkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGN1cnJlbnQgdXNlci5cbiAgICAgKiBAcmV0dXJucyBVc2VyIGluZm9ybWF0aW9uIG9iamVjdFxuICAgICAqL1xuICAgIGdldEN1cnJlbnRVc2VySW5mbygpOiBPYnNlcnZhYmxlPEJwbVVzZXJNb2RlbD4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5hY3Rpdml0aS5wcm9maWxlQXBpLmdldFByb2ZpbGUoKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCgoZGF0YSkgPT4gPEJwbVVzZXJNb2RlbD4gZGF0YSksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50IHVzZXIncyBwcm9maWxlIGltYWdlIGFzIGEgVVJMLlxuICAgICAqIEByZXR1cm5zIFVSTCBzdHJpbmdcbiAgICAgKi9cbiAgICBnZXRDdXJyZW50VXNlclByb2ZpbGVJbWFnZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuYWN0aXZpdGkucHJvZmlsZUFwaS5nZXRQcm9maWxlUGljdHVyZVVybCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRocm93IHRoZSBlcnJvclxuICAgICAqIEBwYXJhbSBlcnJvclxuICAgICAqL1xuICAgIHByaXZhdGUgaGFuZGxlRXJyb3IoZXJyb3I6IFJlc3BvbnNlKSB7XG4gICAgICAgIC8vIGluIGEgcmVhbCB3b3JsZCBhcHAsIHdlIG1heSBzZW5kIHRoZSBlcnJvciB0byBzb21lIHJlbW90ZSBsb2dnaW5nIGluZnJhc3RydWN0dXJlXG4gICAgICAgIC8vIGluc3RlYWQgb2YganVzdCBsb2dnaW5nIGl0IHRvIHRoZSBjb25zb2xlXG4gICAgICAgIHRoaXMubG9nU2VydmljZS5lcnJvcihlcnJvcik7XG4gICAgICAgIHJldHVybiB0aHJvd0Vycm9yKGVycm9yIHx8ICdTZXJ2ZXIgZXJyb3InKTtcbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBmcm9tLCB0aHJvd0Vycm9yIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBtYXAsIGNhdGNoRXJyb3IgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5pbXBvcnQgeyBDb250ZW50U2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2NvbnRlbnQuc2VydmljZSc7XG5pbXBvcnQgeyBBbGZyZXNjb0FwaVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9hbGZyZXNjby1hcGkuc2VydmljZSc7XG5pbXBvcnQgeyBMb2dTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgRWNtVXNlck1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL2VjbS11c2VyLm1vZGVsJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEVjbVVzZXJTZXJ2aWNlIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgY29udGVudFNlcnZpY2U6IENvbnRlbnRTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgbG9nU2VydmljZTogTG9nU2VydmljZSkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgaW5mb3JtYXRpb24gYWJvdXQgYSB1c2VyIGlkZW50aWZpZWQgYnkgdGhlaXIgdXNlcm5hbWUuXG4gICAgICogQHBhcmFtIHVzZXJOYW1lIFRhcmdldCB1c2VybmFtZVxuICAgICAqIEByZXR1cm5zIFVzZXIgaW5mb3JtYXRpb25cbiAgICAgKi9cbiAgICBnZXRVc2VySW5mbyh1c2VyTmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxFY21Vc2VyTW9kZWw+IHtcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuY29yZS5wZW9wbGVBcGkuZ2V0UGVyc29uKHVzZXJOYW1lKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcChkYXRhID0+IDxFY21Vc2VyTW9kZWw+IGRhdGFbJ2VudHJ5J10pLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgdXNlciB3aG8gaXMgY3VycmVudGx5IGxvZ2dlZC1pbi5cbiAgICAgKiBAcmV0dXJucyBVc2VyIGluZm9ybWF0aW9uIGFzIGZvciBnZXRVc2VySW5mb1xuICAgICAqL1xuICAgIGdldEN1cnJlbnRVc2VySW5mbygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VXNlckluZm8oJy1tZS0nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgcHJvZmlsZSBpbWFnZSBhcyBhIFVSTC5cbiAgICAgKiBAcGFyYW0gYXZhdGFySWQgVGFyZ2V0IGF2YXRhclxuICAgICAqIEByZXR1cm5zIEltYWdlIFVSTFxuICAgICAqL1xuICAgIGdldFVzZXJQcm9maWxlSW1hZ2UoYXZhdGFySWQ6IHN0cmluZykge1xuICAgICAgICBpZiAoYXZhdGFySWQpIHtcbiAgICAgICAgICAgIGxldCBub2RlT2JqID0ge2VudHJ5OiB7aWQ6IGF2YXRhcklkfX07XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50U2VydmljZS5nZXRDb250ZW50VXJsKG5vZGVPYmopO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhyb3cgdGhlIGVycm9yXG4gICAgICogQHBhcmFtIGVycm9yXG4gICAgICovXG4gICAgcHJpdmF0ZSBoYW5kbGVFcnJvcihlcnJvcjogUmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmVycm9yKGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoZXJyb3IgfHwgJ1NlcnZlciBlcnJvcicpO1xuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQXV0aGVudGljYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYXV0aGVudGljYXRpb24uc2VydmljZSc7XG5pbXBvcnQgeyBCcG1Vc2VyTW9kZWwgfSBmcm9tICcuLy4uL21vZGVscy9icG0tdXNlci5tb2RlbCc7XG5pbXBvcnQgeyBFY21Vc2VyTW9kZWwgfSBmcm9tICcuLy4uL21vZGVscy9lY20tdXNlci5tb2RlbCc7XG5pbXBvcnQgeyBCcG1Vc2VyU2VydmljZSB9IGZyb20gJy4vLi4vc2VydmljZXMvYnBtLXVzZXIuc2VydmljZSc7XG5pbXBvcnQgeyBFY21Vc2VyU2VydmljZSB9IGZyb20gJy4vLi4vc2VydmljZXMvZWNtLXVzZXIuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLXVzZXJpbmZvJyxcbiAgICBzdHlsZVVybHM6IFsnLi91c2VyLWluZm8uY29tcG9uZW50LnNjc3MnXSxcbiAgICB0ZW1wbGF0ZVVybDogJy4vdXNlci1pbmZvLmNvbXBvbmVudC5odG1sJyxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIFVzZXJJbmZvQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICAgIC8qKiBDdXN0b20gcGF0aCBmb3IgdGhlIGJhY2tncm91bmQgYmFubmVyIGltYWdlIGZvciBBQ1MgdXNlcnMuICovXG4gICAgQElucHV0KClcbiAgICBlY21CYWNrZ3JvdW5kSW1hZ2U6IHN0cmluZyA9ICcuL2Fzc2V0cy9pbWFnZXMvZWNtLWJhY2tncm91bmQucG5nJztcblxuICAgIC8qKiBDdXN0b20gcGF0aCBmb3IgdGhlIGJhY2tncm91bmQgYmFubmVyIGltYWdlIGZvciBBUFMgdXNlcnMuICovXG4gICAgQElucHV0KClcbiAgICBicG1CYWNrZ3JvdW5kSW1hZ2U6IHN0cmluZyA9ICcuL2Fzc2V0cy9pbWFnZXMvYnBtLWJhY2tncm91bmQucG5nJztcblxuICAgIC8qKiBDdXN0b20gY2hvaWNlIGZvciBvcGVuaW5nIHRoZSBtZW51IGF0IHRoZSBib3R0b20uIENhbiBiZSBgYmVmb3JlYCBvciBgYWZ0ZXJgLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgbWVudVBvc2l0aW9uWDogc3RyaW5nID0gJ2FmdGVyJztcblxuICAgIC8qKiBDdXN0b20gY2hvaWNlIGZvciBvcGVuaW5nIHRoZSBtZW51IGF0IHRoZSBib3R0b20uIENhbiBiZSBgYWJvdmVgIG9yIGBiZWxvd2AuICovXG4gICAgQElucHV0KClcbiAgICBtZW51UG9zaXRpb25ZOiBzdHJpbmcgPSAnYmVsb3cnO1xuXG4gICAgLyoqIFNob3dzL2hpZGVzIHRoZSB1c2VybmFtZSBuZXh0IHRvIHRoZSB1c2VyIGluZm8gYnV0dG9uLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2hvd05hbWU6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLyoqIFdoZW4gdGhlIHVzZXJuYW1lIGlzIHNob3duLCB0aGlzIGRlZmluZXMgaXRzIHBvc2l0aW9uIHJlbGF0aXZlIHRvIHRoZSB1c2VyIGluZm8gYnV0dG9uLlxuICAgICAqIENhbiBiZSBgcmlnaHRgIG9yIGBsZWZ0YC5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIG5hbWVQb3NpdGlvbjogc3RyaW5nID0gJ3JpZ2h0JztcblxuICAgIGVjbVVzZXI6IEVjbVVzZXJNb2RlbDtcbiAgICBicG1Vc2VyOiBCcG1Vc2VyTW9kZWw7XG4gICAgYnBtVXNlckltYWdlOiBhbnk7XG4gICAgZWNtVXNlckltYWdlOiBhbnk7XG4gICAgc2VsZWN0ZWRJbmRleDogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBlY21Vc2VyU2VydmljZTogRWNtVXNlclNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBicG1Vc2VyU2VydmljZTogQnBtVXNlclNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBhdXRoU2VydmljZTogQXV0aGVudGljYXRpb25TZXJ2aWNlKSB7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMuZ2V0VXNlckluZm8oKTtcbiAgICB9XG5cbiAgICBnZXRVc2VySW5mbygpIHtcbiAgICAgICAgdGhpcy5sb2FkRWNtVXNlckluZm8oKTtcbiAgICAgICAgdGhpcy5sb2FkQnBtVXNlckluZm8oKTtcbiAgICB9XG5cbiAgICBpc0xvZ2dlZEluKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdXRoU2VydmljZS5pc0xvZ2dlZEluKCk7XG4gICAgfVxuXG4gICAgbG9hZEVjbVVzZXJJbmZvKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5hdXRoU2VydmljZS5pc0VjbUxvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgIHRoaXMuZWNtVXNlclNlcnZpY2UuZ2V0Q3VycmVudFVzZXJJbmZvKClcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lY21Vc2VyID0gbmV3IEVjbVVzZXJNb2RlbChyZXMpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEVjbUF2YXRhcigpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5lY21Vc2VyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZWNtVXNlckltYWdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRCcG1Vc2VySW5mbygpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuYXV0aFNlcnZpY2UuaXNCcG1Mb2dnZWRJbigpKSB7XG4gICAgICAgICAgICB0aGlzLmJwbVVzZXJTZXJ2aWNlLmdldEN1cnJlbnRVc2VySW5mbygpXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZSgocmVzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYnBtVXNlciA9IG5ldyBCcG1Vc2VyTW9kZWwocmVzKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRoaXMuYnBtVXNlckltYWdlID0gdGhpcy5icG1Vc2VyU2VydmljZS5nZXRDdXJyZW50VXNlclByb2ZpbGVJbWFnZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5icG1Vc2VyID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMuYnBtVXNlckltYWdlID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0b3BDbG9zaW5nKGV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RWNtQXZhdGFyKCkge1xuICAgICAgICB0aGlzLmVjbVVzZXJJbWFnZSA9IHRoaXMuZWNtVXNlclNlcnZpY2UuZ2V0VXNlclByb2ZpbGVJbWFnZSh0aGlzLmVjbVVzZXIuYXZhdGFySWQpO1xuICAgIH1cblxuICAgIHNob3dPblJpZ2h0KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5uYW1lUG9zaXRpb24gPT09ICdyaWdodCc7XG4gICAgfVxuXG4gICAgaGFzQnBtVXNlclBpY3R1cmVJZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5icG1Vc2VyLnBpY3R1cmVJZDtcbiAgICB9XG5cbiAgICBoYXNFY21Vc2VyQXZhdGFySWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuZWNtVXNlci5hdmF0YXJJZDtcbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVHJhbnNsYXRlTW9kdWxlIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XG5cbmltcG9ydCB7IE1hdGVyaWFsTW9kdWxlIH0gZnJvbSAnLi4vbWF0ZXJpYWwubW9kdWxlJztcbmltcG9ydCB7IFBpcGVNb2R1bGUgfSBmcm9tICcuLi9waXBlcy9waXBlLm1vZHVsZSc7XG5pbXBvcnQgeyBVc2VySW5mb0NvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy91c2VyLWluZm8uY29tcG9uZW50JztcblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgTWF0ZXJpYWxNb2R1bGUsXG4gICAgICAgIFRyYW5zbGF0ZU1vZHVsZS5mb3JDaGlsZCgpLFxuICAgICAgICBQaXBlTW9kdWxlXG4gICAgXSxcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgVXNlckluZm9Db21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgVXNlckluZm9Db21wb25lbnRcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIFVzZXJJbmZvTW9kdWxlIHtcbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBPdXRwdXQsIFZpZXdFbmNhcHN1bGF0aW9uLCBPbkluaXQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBWYWxpZGF0b3JzLCBGb3JtR3JvdXAsIEZvcm1CdWlsZGVyLCBBYnN0cmFjdENvbnRyb2wsIEZvcm1Db250cm9sIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgQXBwQ29uZmlnU2VydmljZSwgQXBwQ29uZmlnVmFsdWVzIH0gZnJvbSAnLi4vYXBwLWNvbmZpZy9hcHAtY29uZmlnLnNlcnZpY2UnO1xuaW1wb3J0IHsgU3RvcmFnZVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9zdG9yYWdlLnNlcnZpY2UnO1xuaW1wb3J0IHsgQWxmcmVzY29BcGlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvYWxmcmVzY28tYXBpLnNlcnZpY2UnO1xuaW1wb3J0IHsgT2F1dGhDb25maWdNb2RlbCB9IGZyb20gJy4uL21vZGVscy9vYXV0aC1jb25maWcubW9kZWwnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1ob3N0LXNldHRpbmdzJyxcbiAgICB0ZW1wbGF0ZVVybDogJ2hvc3Qtc2V0dGluZ3MuY29tcG9uZW50Lmh0bWwnLFxuICAgIGhvc3Q6IHtcbiAgICAgICAgJ2NsYXNzJzogJ2FkZi1ob3N0LXNldHRpbmdzJ1xuICAgIH0sXG4gICAgc3R5bGVVcmxzOiBbJ2hvc3Qtc2V0dGluZ3MuY29tcG9uZW50LnNjc3MnXSxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIEhvc3RTZXR0aW5nc0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBIT1NUX1JFR0VYOiBzdHJpbmcgPSAnXihodHRwfGh0dHBzKTpcXC9cXC8uKlteL10kJztcblxuICAgIC8qKlxuICAgICAqIFRlbGxzIHRoZSBjb21wb25lbnQgd2hpY2ggcHJvdmlkZXIgb3B0aW9ucyBhcmUgYXZhaWxhYmxlLiBQb3NzaWJsZSB2YWxpZCB2YWx1ZXNcbiAgICAgKiBhcmUgXCJFQ01cIiAoQ29udGVudCksIFwiQlBNXCIgKFByb2Nlc3MpICwgXCJBTExcIiAoQ29udGVudCBhbmQgUHJvY2VzcyksICdPQVVUSDInIFNTTy5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHByb3ZpZGVyczogc3RyaW5nW10gPSBbJ0JQTScsICdFQ00nLCAnQUxMJ107XG5cbiAgICBzaG93U2VsZWN0UHJvdmlkZXJzID0gdHJ1ZTtcblxuICAgIGZvcm06IEZvcm1Hcm91cDtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIFVSTCBpcyBpbnZhbGlkLiAqL1xuICAgIEBPdXRwdXQoKVxuICAgIGVycm9yID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmc+KCk7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIHRoZSBlY20gaG9zdCBVUkwgaXMgY2hhbmdlZC5cbiAgICAgKiBAZGVwcmVjYXRlZCBpbiAyLjQuMFxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIGVjbUhvc3RDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZz4oKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIHVzZXIgY2FuY2VscyB0aGUgY2hhbmdlcy4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBjYW5jZWwgPSBuZXcgRXZlbnRFbWl0dGVyPGJvb2xlYW4+KCk7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIHRoZSBjaGFuZ2VzIGFyZSBzdWNjZXNzZnVsbHkgYXBwbGllZC4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBzdWNjZXNzID0gbmV3IEV2ZW50RW1pdHRlcjxib29sZWFuPigpO1xuXG4gICAgLyoqIEVtaXR0ZWQgd2hlbiB0aGUgYnBtIGhvc3QgVVJMIGlzIGNoYW5nZWQuXG4gICAgICogQGRlcHJlY2F0ZWQgaW4gMi40LjBcbiAgICAgKi9cbiAgICBAT3V0cHV0KClcbiAgICBicG1Ib3N0Q2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjxzdHJpbmc+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGZvcm1CdWlsZGVyOiBGb3JtQnVpbGRlcixcbiAgICAgICAgICAgICAgICBwcml2YXRlIHN0b3JhZ2VTZXJ2aWNlOiBTdG9yYWdlU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGFsZnJlc2NvQXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgYXBwQ29uZmlnOiBBcHBDb25maWdTZXJ2aWNlKSB7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLnByb3ZpZGVycy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvd1NlbGVjdFByb3ZpZGVycyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHByb3ZpZGVyU2VsZWN0ZWQgPSB0aGlzLmFwcENvbmZpZy5nZXQ8c3RyaW5nPihBcHBDb25maWdWYWx1ZXMuUFJPVklERVJTKTtcblxuICAgICAgICBjb25zdCBhdXRoVHlwZSA9IHRoaXMuYXBwQ29uZmlnLmdldDxzdHJpbmc+KEFwcENvbmZpZ1ZhbHVlcy5BVVRIVFlQRSwgJ0JBU0lDJyk7XG5cbiAgICAgICAgdGhpcy5mb3JtID0gdGhpcy5mb3JtQnVpbGRlci5ncm91cCh7XG4gICAgICAgICAgICBwcm92aWRlcnNDb250cm9sOiBbcHJvdmlkZXJTZWxlY3RlZCwgVmFsaWRhdG9ycy5yZXF1aXJlZF0sXG4gICAgICAgICAgICBhdXRoVHlwZTogYXV0aFR5cGVcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRGb3JtR3JvdXBzKCk7XG5cbiAgICAgICAgaWYgKGF1dGhUeXBlID09PSAnT0FVVEgnKSB7XG4gICAgICAgICAgICB0aGlzLmFkZE9BdXRoRm9ybUdyb3VwKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmZvcm0uZ2V0KCdhdXRoVHlwZScpLnZhbHVlQ2hhbmdlcy5zdWJzY3JpYmUoKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09ICdCQVNJQycpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm0ucmVtb3ZlQ29udHJvbCgnb2F1dGhDb25maWcnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5hZGRPQXV0aEZvcm1Hcm91cCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnByb3ZpZGVyc0NvbnRyb2wudmFsdWVDaGFuZ2VzLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnJlbW92ZUZvcm1Hcm91cHMoKTtcbiAgICAgICAgICAgIHRoaXMuYWRkRm9ybUdyb3VwcygpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZUZvcm1Hcm91cHMoKSB7XG4gICAgICAgIHRoaXMuZm9ybS5yZW1vdmVDb250cm9sKCdicG1Ib3N0Jyk7XG4gICAgICAgIHRoaXMuZm9ybS5yZW1vdmVDb250cm9sKCdlY21Ib3N0Jyk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRGb3JtR3JvdXBzKCkge1xuICAgICAgICB0aGlzLmFkZEJQTUZvcm1Db250cm9sKCk7XG4gICAgICAgIHRoaXMuYWRkRUNNRm9ybUNvbnRyb2woKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZE9BdXRoRm9ybUdyb3VwKCkge1xuICAgICAgICBjb25zdCBvYXV0aEZvcm1Hcm91cCA9IHRoaXMuY3JlYXRlT0F1dGhGb3JtR3JvdXAoKTtcbiAgICAgICAgdGhpcy5mb3JtLmFkZENvbnRyb2woJ29hdXRoQ29uZmlnJywgb2F1dGhGb3JtR3JvdXApO1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkQlBNRm9ybUNvbnRyb2woKSB7XG4gICAgICAgIGlmICgodGhpcy5pc0JQTSgpIHx8IHRoaXMuaXNBTEwoKSB8fCB0aGlzLmlzT0FVVEgoKSkgJiYgIXRoaXMuYnBtSG9zdCkge1xuICAgICAgICAgICAgY29uc3QgYnBtRm9ybUNvbnRyb2wgPSB0aGlzLmNyZWF0ZUJQTUZvcm1Db250cm9sKCk7XG4gICAgICAgICAgICB0aGlzLmZvcm0uYWRkQ29udHJvbCgnYnBtSG9zdCcsIGJwbUZvcm1Db250cm9sKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYWRkRUNNRm9ybUNvbnRyb2woKSB7XG4gICAgICAgIGlmICgodGhpcy5pc0VDTSgpIHx8IHRoaXMuaXNBTEwoKSkgJiYgIXRoaXMuZWNtSG9zdCkge1xuICAgICAgICAgICAgY29uc3QgZWNtRm9ybUNvbnRyb2wgPSB0aGlzLmNyZWF0ZUVDTUZvcm1Db250cm9sKCk7XG4gICAgICAgICAgICB0aGlzLmZvcm0uYWRkQ29udHJvbCgnZWNtSG9zdCcsIGVjbUZvcm1Db250cm9sKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlT0F1dGhGb3JtR3JvdXAoKTogQWJzdHJhY3RDb250cm9sIHtcbiAgICAgICAgbGV0IG9hdXRoID0gPE9hdXRoQ29uZmlnTW9kZWw+IHRoaXMuYXBwQ29uZmlnLmdldChBcHBDb25maWdWYWx1ZXMuT0FVVEhDT05GSUcsIHt9KTtcblxuICAgICAgICByZXR1cm4gdGhpcy5mb3JtQnVpbGRlci5ncm91cCh7XG4gICAgICAgICAgICBob3N0OiBbb2F1dGguaG9zdCwgW1ZhbGlkYXRvcnMucmVxdWlyZWQsIFZhbGlkYXRvcnMucGF0dGVybih0aGlzLkhPU1RfUkVHRVgpXV0sXG4gICAgICAgICAgICBjbGllbnRJZDogW29hdXRoLmNsaWVudElkLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgICAgICAgIHJlZGlyZWN0VXJpOiBbb2F1dGgucmVkaXJlY3RVcmksIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxuICAgICAgICAgICAgcmVkaXJlY3RVcmlMb2dvdXQ6IFtvYXV0aC5yZWRpcmVjdFVyaUxvZ291dF0sXG4gICAgICAgICAgICBzY29wZTogW29hdXRoLnNjb3BlLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgICAgICAgIHNlY3JldDogb2F1dGguc2VjcmV0LFxuICAgICAgICAgICAgc2lsZW50TG9naW46IG9hdXRoLnNpbGVudExvZ2luLFxuICAgICAgICAgICAgaW1wbGljaXRGbG93OiBvYXV0aC5pbXBsaWNpdEZsb3dcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVCUE1Gb3JtQ29udHJvbCgpOiBBYnN0cmFjdENvbnRyb2wge1xuICAgICAgICByZXR1cm4gbmV3IEZvcm1Db250cm9sKHRoaXMuYXBwQ29uZmlnLmdldDxzdHJpbmc+KEFwcENvbmZpZ1ZhbHVlcy5CUE1IT1NUKSwgW1ZhbGlkYXRvcnMucmVxdWlyZWQsIFZhbGlkYXRvcnMucGF0dGVybih0aGlzLkhPU1RfUkVHRVgpXSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVFQ01Gb3JtQ29udHJvbCgpOiBBYnN0cmFjdENvbnRyb2wge1xuICAgICAgICByZXR1cm4gbmV3IEZvcm1Db250cm9sKHRoaXMuYXBwQ29uZmlnLmdldDxzdHJpbmc+KEFwcENvbmZpZ1ZhbHVlcy5FQ01IT1NUKSwgW1ZhbGlkYXRvcnMucmVxdWlyZWQsIFZhbGlkYXRvcnMucGF0dGVybih0aGlzLkhPU1RfUkVHRVgpXSk7XG4gICAgfVxuXG4gICAgb25DYW5jZWwoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsLmVtaXQodHJ1ZSk7XG4gICAgfVxuXG4gICAgb25TdWJtaXQodmFsdWVzOiBhbnkpIHtcbiAgICAgICAgdGhpcy5zdG9yYWdlU2VydmljZS5zZXRJdGVtKEFwcENvbmZpZ1ZhbHVlcy5QUk9WSURFUlMsIHZhbHVlcy5wcm92aWRlcnNDb250cm9sKTtcblxuICAgICAgICBpZiAodGhpcy5pc0JQTSgpKSB7XG4gICAgICAgICAgICB0aGlzLnNhdmVCUE1WYWx1ZXModmFsdWVzKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmlzRUNNKCkpIHtcbiAgICAgICAgICAgIHRoaXMuc2F2ZUVDTVZhbHVlcyh2YWx1ZXMpO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuaXNBTEwoKSkge1xuICAgICAgICAgICAgdGhpcy5zYXZlRUNNVmFsdWVzKHZhbHVlcyk7XG4gICAgICAgICAgICB0aGlzLnNhdmVCUE1WYWx1ZXModmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmlzT0FVVEgoKSkge1xuICAgICAgICAgICAgdGhpcy5zYXZlT0F1dGhWYWx1ZXModmFsdWVzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuc3RvcmFnZVNlcnZpY2Uuc2V0SXRlbShBcHBDb25maWdWYWx1ZXMuQVVUSFRZUEUsIHZhbHVlcy5hdXRoVHlwZSk7XG5cbiAgICAgICAgdGhpcy5hbGZyZXNjb0FwaVNlcnZpY2UucmVzZXQoKTtcbiAgICAgICAgdGhpcy5hbGZyZXNjb0FwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5pbnZhbGlkYXRlU2Vzc2lvbigpO1xuICAgICAgICB0aGlzLnN1Y2Nlc3MuZW1pdCh0cnVlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNhdmVPQXV0aFZhbHVlcyh2YWx1ZXM6IGFueSkge1xuICAgICAgICB0aGlzLnN0b3JhZ2VTZXJ2aWNlLnNldEl0ZW0oQXBwQ29uZmlnVmFsdWVzLk9BVVRIQ09ORklHLCBKU09OLnN0cmluZ2lmeSh2YWx1ZXMub2F1dGhDb25maWcpKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNhdmVCUE1WYWx1ZXModmFsdWVzOiBhbnkpIHtcbiAgICAgICAgdGhpcy5zdG9yYWdlU2VydmljZS5zZXRJdGVtKEFwcENvbmZpZ1ZhbHVlcy5CUE1IT1NULCB2YWx1ZXMuYnBtSG9zdCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzYXZlRUNNVmFsdWVzKHZhbHVlczogYW55KSB7XG4gICAgICAgIHRoaXMuc3RvcmFnZVNlcnZpY2Uuc2V0SXRlbShBcHBDb25maWdWYWx1ZXMuRUNNSE9TVCwgdmFsdWVzLmVjbUhvc3QpO1xuICAgIH1cblxuICAgIGlzQlBNKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm92aWRlcnNDb250cm9sLnZhbHVlID09PSAnQlBNJztcbiAgICB9XG5cbiAgICBpc0VDTSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzQ29udHJvbC52YWx1ZSA9PT0gJ0VDTSc7XG4gICAgfVxuXG4gICAgaXNBTEwoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3ZpZGVyc0NvbnRyb2wudmFsdWUgPT09ICdBTEwnO1xuICAgIH1cblxuICAgIGlzT0FVVEgoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcm0uZ2V0KCdhdXRoVHlwZScpLnZhbHVlID09PSAnT0FVVEgnO1xuICAgIH1cblxuICAgIGdldCBwcm92aWRlcnNDb250cm9sKCk6IEFic3RyYWN0Q29udHJvbCB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcm0uZ2V0KCdwcm92aWRlcnNDb250cm9sJyk7XG4gICAgfVxuXG4gICAgZ2V0IGJwbUhvc3QoKTogQWJzdHJhY3RDb250cm9sIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybS5nZXQoJ2JwbUhvc3QnKTtcbiAgICB9XG5cbiAgICBnZXQgZWNtSG9zdCgpOiBBYnN0cmFjdENvbnRyb2wge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JtLmdldCgnZWNtSG9zdCcpO1xuICAgIH1cblxuICAgIGdldCBob3N0KCk6IEFic3RyYWN0Q29udHJvbCB7XG4gICAgICAgIHJldHVybiB0aGlzLm9hdXRoQ29uZmlnLmdldCgnaG9zdCcpO1xuICAgIH1cblxuICAgIGdldCBjbGllbnRJZCgpOiBBYnN0cmFjdENvbnRyb2wge1xuICAgICAgICByZXR1cm4gdGhpcy5vYXV0aENvbmZpZy5nZXQoJ2NsaWVudElkJyk7XG4gICAgfVxuXG4gICAgZ2V0IHNjb3BlKCk6IEFic3RyYWN0Q29udHJvbCB7XG4gICAgICAgIHJldHVybiB0aGlzLm9hdXRoQ29uZmlnLmdldCgnc2NvcGUnKTtcbiAgICB9XG5cbiAgICBnZXQgc2VjcmV0SWQoKTogQWJzdHJhY3RDb250cm9sIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2F1dGhDb25maWcuZ2V0KCdzZWNyZXRJZCcpO1xuICAgIH1cblxuICAgIGdldCBpbXBsaWNpdEZsb3coKTogQWJzdHJhY3RDb250cm9sIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2F1dGhDb25maWcuZ2V0KCdpbXBsaWNpdEZsb3cnKTtcbiAgICB9XG5cbiAgICBnZXQgc2lsZW50TG9naW4oKTogQWJzdHJhY3RDb250cm9sIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub2F1dGhDb25maWcuZ2V0KCdzaWxlbnRMb2dpbicpO1xuICAgIH1cblxuICAgIGdldCByZWRpcmVjdFVyaSgpOiBBYnN0cmFjdENvbnRyb2wge1xuICAgICAgICByZXR1cm4gdGhpcy5vYXV0aENvbmZpZy5nZXQoJ3JlZGlyZWN0VXJpJyk7XG4gICAgfVxuXG4gICAgZ2V0IHJlZGlyZWN0VXJpTG9nb3V0KCk6IEFic3RyYWN0Q29udHJvbCB7XG4gICAgICAgIHJldHVybiB0aGlzLm9hdXRoQ29uZmlnLmdldCgncmVkaXJlY3RVcmlMb2dvdXQnKTtcbiAgICB9XG5cbiAgICBnZXQgb2F1dGhDb25maWcoKTogQWJzdHJhY3RDb250cm9sIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZm9ybS5nZXQoJ29hdXRoQ29uZmlnJyk7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1zTW9kdWxlLCBSZWFjdGl2ZUZvcm1zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgVHJhbnNsYXRlTW9kdWxlIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XG5pbXBvcnQgeyBNYXRlcmlhbE1vZHVsZSB9IGZyb20gJy4uL21hdGVyaWFsLm1vZHVsZSc7XG5cbmltcG9ydCB7IEhvc3RTZXR0aW5nc0NvbXBvbmVudCB9IGZyb20gJy4vaG9zdC1zZXR0aW5ncy5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBNYXRlcmlhbE1vZHVsZSxcbiAgICAgICAgVHJhbnNsYXRlTW9kdWxlLmZvckNoaWxkKCksXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlXG4gICAgXSxcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgSG9zdFNldHRpbmdzQ29tcG9uZW50XG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIEhvc3RTZXR0aW5nc0NvbXBvbmVudFxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgSG9zdFNldHRpbmdzTW9kdWxlIHtcbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25Jbml0LCBPdXRwdXQsIFZpZXdFbmNhcHN1bGF0aW9uLFxuICAgIENoYW5nZURldGVjdG9yUmVmLCBPbkRlc3Ryb3ksIEhvc3RCaW5kaW5nXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBQYWdpbmF0aW9uIH0gZnJvbSAnYWxmcmVzY28tanMtYXBpJztcbmltcG9ydCB7IFBhZ2luYXRlZENvbXBvbmVudCB9IGZyb20gJy4vcGFnaW5hdGVkLWNvbXBvbmVudC5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgUGFnaW5hdGlvbkNvbXBvbmVudEludGVyZmFjZSB9IGZyb20gJy4vcGFnaW5hdGlvbi1jb21wb25lbnQuaW50ZXJmYWNlJztcbmltcG9ydCB7IFN1YnNjcmlwdGlvbiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgUGFnaW5hdGlvbk1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL3BhZ2luYXRpb24ubW9kZWwnO1xuaW1wb3J0IHsgVXNlclByZWZlcmVuY2VzU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL3VzZXItcHJlZmVyZW5jZXMuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLXBhZ2luYXRpb24nLFxuICAgIGhvc3Q6IHsgJ2NsYXNzJzogJ2FkZi1wYWdpbmF0aW9uJyB9LFxuICAgIHRlbXBsYXRlVXJsOiAnLi9wYWdpbmF0aW9uLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9wYWdpbmF0aW9uLmNvbXBvbmVudC5zY3NzJ10sXG4gICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBQYWdpbmF0aW9uQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3ksIFBhZ2luYXRpb25Db21wb25lbnRJbnRlcmZhY2Uge1xuXG4gICAgc3RhdGljIERFRkFVTFRfUEFHSU5BVElPTjogUGFnaW5hdGlvbiA9IHtcbiAgICAgICAgc2tpcENvdW50OiAwLFxuICAgICAgICBtYXhJdGVtczogMjUsXG4gICAgICAgIHRvdGFsSXRlbXM6IDBcbiAgICB9O1xuXG4gICAgc3RhdGljIEFDVElPTlMgPSB7XG4gICAgICAgIE5FWFRfUEFHRTogJ05FWFRfUEFHRScsXG4gICAgICAgIFBSRVZfUEFHRTogJ1BSRVZfUEFHRScsXG4gICAgICAgIENIQU5HRV9QQUdFX1NJWkU6ICdDSEFOR0VfUEFHRV9TSVpFJyxcbiAgICAgICAgQ0hBTkdFX1BBR0VfTlVNQkVSOiAnQ0hBTkdFX1BBR0VfTlVNQkVSJ1xuICAgIH07XG5cbiAgICAvKiogQ29tcG9uZW50IHRoYXQgcHJvdmlkZXMgY3VzdG9tIHBhZ2luYXRpb24gc3VwcG9ydC4gKi9cbiAgICBASW5wdXQoKVxuICAgIHRhcmdldDogUGFnaW5hdGVkQ29tcG9uZW50O1xuXG4gICAgLyoqIEFuIGFycmF5IG9mIHBhZ2Ugc2l6ZXMuICovXG4gICAgQElucHV0KClcbiAgICBzdXBwb3J0ZWRQYWdlU2l6ZXM6IG51bWJlcltdO1xuXG4gICAgLyoqIFBhZ2luYXRpb24gb2JqZWN0LiAqL1xuICAgIEBJbnB1dCgpXG4gICAgcGFnaW5hdGlvbjogUGFnaW5hdGlvbk1vZGVsO1xuXG4gICAgLyoqIEVtaXR0ZWQgd2hlbiBwYWdpbmF0aW9uIGNoYW5nZXMgaW4gYW55IHdheS4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBjaGFuZ2U6IEV2ZW50RW1pdHRlcjxQYWdpbmF0aW9uTW9kZWw+ID0gbmV3IEV2ZW50RW1pdHRlcjxQYWdpbmF0aW9uTW9kZWw+KCk7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIHRoZSBwYWdlIG51bWJlciBjaGFuZ2VzLiAqL1xuICAgIEBPdXRwdXQoKVxuICAgIGNoYW5nZVBhZ2VOdW1iZXI6IEV2ZW50RW1pdHRlcjxQYWdpbmF0aW9uTW9kZWw+ID0gbmV3IEV2ZW50RW1pdHRlcjxQYWdpbmF0aW9uTW9kZWw+KCk7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIHRoZSBwYWdlIHNpemUgY2hhbmdlcy4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBjaGFuZ2VQYWdlU2l6ZTogRXZlbnRFbWl0dGVyPFBhZ2luYXRpb25Nb2RlbD4gPSBuZXcgRXZlbnRFbWl0dGVyPFBhZ2luYXRpb25Nb2RlbD4oKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIG5leHQgcGFnZSBpcyByZXF1ZXN0ZWQuICovXG4gICAgQE91dHB1dCgpXG4gICAgbmV4dFBhZ2U6IEV2ZW50RW1pdHRlcjxQYWdpbmF0aW9uTW9kZWw+ID0gbmV3IEV2ZW50RW1pdHRlcjxQYWdpbmF0aW9uTW9kZWw+KCk7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIHRoZSBwcmV2aW91cyBwYWdlIGlzIHJlcXVlc3RlZC4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBwcmV2UGFnZTogRXZlbnRFbWl0dGVyPFBhZ2luYXRpb25Nb2RlbD4gPSBuZXcgRXZlbnRFbWl0dGVyPFBhZ2luYXRpb25Nb2RlbD4oKTtcblxuICAgIHByaXZhdGUgcGFnaW5hdGlvblN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjZHI6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIHVzZXJQcmVmZXJlbmNlc1NlcnZpY2U6IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgIGxldCBkZWZhdWx0UGFnaW5hdGlvbiA9IFBhZ2luYXRpb25Db21wb25lbnQuREVGQVVMVF9QQUdJTkFUSU9OO1xuICAgICAgICAgICAgZGVmYXVsdFBhZ2luYXRpb24ubWF4SXRlbXMgPSB0aGlzLnVzZXJQcmVmZXJlbmNlc1NlcnZpY2UucGFnaW5hdGlvblNpemU7XG4gICAgICAgICAgICB0aGlzLnBhZ2luYXRpb24gPSBkZWZhdWx0UGFnaW5hdGlvbjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy5zdXBwb3J0ZWRQYWdlU2l6ZXMpIHtcbiAgICAgICAgICAgIHRoaXMuc3VwcG9ydGVkUGFnZVNpemVzID0gIHRoaXMudXNlclByZWZlcmVuY2VzU2VydmljZS5nZXREZWZhdWx0UGFnZVNpemVzKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy50YXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvblN1YnNjcmlwdGlvbiA9IHRoaXMudGFyZ2V0LnBhZ2luYXRpb24uc3Vic2NyaWJlKChwYWdpbmF0aW9uOiBQYWdpbmF0aW9uTW9kZWwpID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChwYWdpbmF0aW9uLmNvdW50ID09PSAwICYmICF0aGlzLmlzRmlyc3RQYWdlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ29QcmV2aW91cygpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbiA9IHBhZ2luYXRpb247XG4gICAgICAgICAgICAgICAgdGhpcy5jZHIuZGV0ZWN0Q2hhbmdlcygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMucGFnaW5hdGlvbikge1xuICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uID0gUGFnaW5hdGlvbkNvbXBvbmVudC5ERUZBVUxUX1BBR0lOQVRJT047XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXQgbGFzdFBhZ2UoKTogbnVtYmVyIHtcbiAgICAgICAgY29uc3QgeyBtYXhJdGVtcywgdG90YWxJdGVtcyB9ID0gdGhpcy5wYWdpbmF0aW9uO1xuXG4gICAgICAgIHJldHVybiAodG90YWxJdGVtcyAmJiBtYXhJdGVtcylcbiAgICAgICAgICAgID8gTWF0aC5jZWlsKHRvdGFsSXRlbXMgLyBtYXhJdGVtcylcbiAgICAgICAgICAgIDogMTtcbiAgICB9XG5cbiAgICBnZXQgY3VycmVudCgpOiBudW1iZXIge1xuICAgICAgICBjb25zdCB7IG1heEl0ZW1zLCBza2lwQ291bnQgfSA9IHRoaXMucGFnaW5hdGlvbjtcblxuICAgICAgICByZXR1cm4gKHNraXBDb3VudCAmJiBtYXhJdGVtcylcbiAgICAgICAgICAgID8gTWF0aC5mbG9vcihza2lwQ291bnQgLyBtYXhJdGVtcykgKyAxXG4gICAgICAgICAgICA6IDE7XG4gICAgfVxuXG4gICAgZ2V0IGlzTGFzdFBhZ2UoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmN1cnJlbnQgPT09IHRoaXMubGFzdFBhZ2U7XG4gICAgfVxuXG4gICAgZ2V0IGlzRmlyc3RQYWdlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXJyZW50ID09PSAxO1xuICAgIH1cblxuICAgIGdldCBuZXh0KCk6IG51bWJlciB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzTGFzdFBhZ2UgPyB0aGlzLmN1cnJlbnQgOiB0aGlzLmN1cnJlbnQgKyAxO1xuICAgIH1cblxuICAgIGdldCBwcmV2aW91cygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0ZpcnN0UGFnZSA/IDEgOiB0aGlzLmN1cnJlbnQgLSAxO1xuICAgIH1cblxuICAgIGdldCBoYXNJdGVtcygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFnaW5hdGlvbiAmJiB0aGlzLnBhZ2luYXRpb24uY291bnQgPiAwO1xuICAgIH1cblxuICAgIEBIb3N0QmluZGluZygnY2xhc3MuYWRmLXBhZ2luYXRpb25fX2VtcHR5JylcbiAgICBnZXQgaXNFbXB0eSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLmhhc0l0ZW1zO1xuICAgIH1cblxuICAgIGdldCByYW5nZSgpOiBudW1iZXJbXSB7XG4gICAgICAgIGNvbnN0IHsgc2tpcENvdW50LCBtYXhJdGVtcywgdG90YWxJdGVtcyB9ID0gdGhpcy5wYWdpbmF0aW9uO1xuICAgICAgICBjb25zdCB7IGlzTGFzdFBhZ2UgfSA9IHRoaXM7XG5cbiAgICAgICAgY29uc3Qgc3RhcnQgPSB0b3RhbEl0ZW1zID8gc2tpcENvdW50ICsgMSA6IDA7XG4gICAgICAgIGNvbnN0IGVuZCA9IGlzTGFzdFBhZ2UgPyB0b3RhbEl0ZW1zIDogc2tpcENvdW50ICsgbWF4SXRlbXM7XG5cbiAgICAgICAgcmV0dXJuIFtzdGFydCwgZW5kXTtcbiAgICB9XG5cbiAgICBnZXQgcGFnZXMoKTogbnVtYmVyW10ge1xuICAgICAgICByZXR1cm4gQXJyYXkodGhpcy5sYXN0UGFnZSlcbiAgICAgICAgICAgIC5maWxsKCduJylcbiAgICAgICAgICAgIC5tYXAoKGl0ZW0sIGluZGV4KSA9PiAoaW5kZXggKyAxKSk7XG4gICAgfVxuXG4gICAgZ29OZXh0KCkge1xuICAgICAgICBpZiAodGhpcy5oYXNJdGVtcykge1xuICAgICAgICAgICAgY29uc3QgbWF4SXRlbXMgPSB0aGlzLnBhZ2luYXRpb24ubWF4SXRlbXM7XG4gICAgICAgICAgICBjb25zdCBza2lwQ291bnQgPSAodGhpcy5uZXh0IC0gMSkgKiBtYXhJdGVtcztcbiAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbi5za2lwQ291bnQgPSBza2lwQ291bnQ7XG5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUGFnaW5hdGlvbkV2ZW50KFBhZ2luYXRpb25Db21wb25lbnQuQUNUSU9OUy5ORVhUX1BBR0UsIHtcbiAgICAgICAgICAgICAgICBza2lwQ291bnQsXG4gICAgICAgICAgICAgICAgbWF4SXRlbXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ29QcmV2aW91cygpIHtcbiAgICAgICAgaWYgKHRoaXMuaGFzSXRlbXMpIHtcbiAgICAgICAgICAgIGNvbnN0IG1heEl0ZW1zID0gdGhpcy5wYWdpbmF0aW9uLm1heEl0ZW1zO1xuICAgICAgICAgICAgY29uc3Qgc2tpcENvdW50ID0gKHRoaXMucHJldmlvdXMgLSAxKSAqIG1heEl0ZW1zO1xuICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uLnNraXBDb3VudCA9IHNraXBDb3VudDtcblxuICAgICAgICAgICAgdGhpcy5oYW5kbGVQYWdpbmF0aW9uRXZlbnQoUGFnaW5hdGlvbkNvbXBvbmVudC5BQ1RJT05TLlBSRVZfUEFHRSwge1xuICAgICAgICAgICAgICAgIHNraXBDb3VudCxcbiAgICAgICAgICAgICAgICBtYXhJdGVtc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkNoYW5nZVBhZ2VOdW1iZXIocGFnZU51bWJlcjogbnVtYmVyKSB7XG4gICAgICAgIGlmICh0aGlzLmhhc0l0ZW1zKSB7XG4gICAgICAgICAgICBjb25zdCBtYXhJdGVtcyA9IHRoaXMucGFnaW5hdGlvbi5tYXhJdGVtcztcbiAgICAgICAgICAgIGNvbnN0IHNraXBDb3VudCA9IChwYWdlTnVtYmVyIC0gMSkgKiBtYXhJdGVtcztcbiAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbi5za2lwQ291bnQgPSBza2lwQ291bnQ7XG5cbiAgICAgICAgICAgIHRoaXMuaGFuZGxlUGFnaW5hdGlvbkV2ZW50KFBhZ2luYXRpb25Db21wb25lbnQuQUNUSU9OUy5DSEFOR0VfUEFHRV9OVU1CRVIsIHtcbiAgICAgICAgICAgICAgICBza2lwQ291bnQsXG4gICAgICAgICAgICAgICAgbWF4SXRlbXNcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25DaGFuZ2VQYWdlU2l6ZShtYXhJdGVtczogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMucGFnaW5hdGlvbi5za2lwQ291bnQgPSAwO1xuICAgICAgICB0aGlzLnBhZ2luYXRpb24ubWF4SXRlbXMgPSBtYXhJdGVtcztcbiAgICAgICAgdGhpcy5oYW5kbGVQYWdpbmF0aW9uRXZlbnQoUGFnaW5hdGlvbkNvbXBvbmVudC5BQ1RJT05TLkNIQU5HRV9QQUdFX1NJWkUsIHtcbiAgICAgICAgICAgIHNraXBDb3VudDogMCxcbiAgICAgICAgICAgIG1heEl0ZW1zXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGhhbmRsZVBhZ2luYXRpb25FdmVudChhY3Rpb246IHN0cmluZywgcGFyYW1zOiBQYWdpbmF0aW9uTW9kZWwpIHtcbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgTkVYVF9QQUdFLFxuICAgICAgICAgICAgUFJFVl9QQUdFLFxuICAgICAgICAgICAgQ0hBTkdFX1BBR0VfTlVNQkVSLFxuICAgICAgICAgICAgQ0hBTkdFX1BBR0VfU0laRVxuICAgICAgICB9ID0gUGFnaW5hdGlvbkNvbXBvbmVudC5BQ1RJT05TO1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIGNoYW5nZSxcbiAgICAgICAgICAgIGNoYW5nZVBhZ2VOdW1iZXIsXG4gICAgICAgICAgICBjaGFuZ2VQYWdlU2l6ZSxcbiAgICAgICAgICAgIG5leHRQYWdlLFxuICAgICAgICAgICAgcHJldlBhZ2UsXG4gICAgICAgICAgICBwYWdpbmF0aW9uXG4gICAgICAgIH0gPSB0aGlzO1xuXG4gICAgICAgIGNvbnN0IGRhdGEgPSBPYmplY3QuYXNzaWduKHt9LCBwYWdpbmF0aW9uLCBwYXJhbXMpO1xuXG4gICAgICAgIGlmIChhY3Rpb24gPT09IE5FWFRfUEFHRSkge1xuICAgICAgICAgICAgbmV4dFBhZ2UuZW1pdChkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhY3Rpb24gPT09IFBSRVZfUEFHRSkge1xuICAgICAgICAgICAgcHJldlBhZ2UuZW1pdChkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhY3Rpb24gPT09IENIQU5HRV9QQUdFX05VTUJFUikge1xuICAgICAgICAgICAgY2hhbmdlUGFnZU51bWJlci5lbWl0KGRhdGEpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGFjdGlvbiA9PT0gQ0hBTkdFX1BBR0VfU0laRSkge1xuICAgICAgICAgICAgY2hhbmdlUGFnZVNpemUuZW1pdChkYXRhKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNoYW5nZS5lbWl0KHBhcmFtcyk7XG5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC51cGRhdGVQYWdpbmF0aW9uKHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpIHtcbiAgICAgICAgaWYgKHRoaXMucGFnaW5hdGlvblN1YnNjcmlwdGlvbikge1xuICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uU3Vic2NyaXB0aW9uLnVuc3Vic2NyaWJlKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpuby1pbnB1dC1yZW5hbWUgICovXG5cbmltcG9ydCB7XG4gICAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksIENoYW5nZURldGVjdG9yUmVmLCBDb21wb25lbnQsIEV2ZW50RW1pdHRlcixcbiAgICBJbnB1dCwgT25Jbml0LCBPdXRwdXQsIE9uRGVzdHJveSwgVmlld0VuY2Fwc3VsYXRpb25cbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IFBhZ2luYXRlZENvbXBvbmVudCB9IGZyb20gJy4vcGFnaW5hdGVkLWNvbXBvbmVudC5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgUGFnaW5hdGlvbiB9IGZyb20gJ2FsZnJlc2NvLWpzLWFwaSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFBhZ2luYXRpb25Db21wb25lbnRJbnRlcmZhY2UgfSBmcm9tICcuL3BhZ2luYXRpb24tY29tcG9uZW50LmludGVyZmFjZSc7XG5pbXBvcnQgeyBQYWdpbmF0aW9uTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvcGFnaW5hdGlvbi5tb2RlbCc7XG5pbXBvcnQgeyBVc2VyUHJlZmVyZW5jZXNTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvdXNlci1wcmVmZXJlbmNlcy5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtaW5maW5pdGUtcGFnaW5hdGlvbicsXG4gICAgaG9zdDogeyAnY2xhc3MnOiAnaW5maW5pdGUtYWRmLXBhZ2luYXRpb24nIH0sXG4gICAgdGVtcGxhdGVVcmw6ICcuL2luZmluaXRlLXBhZ2luYXRpb24uY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2luZmluaXRlLXBhZ2luYXRpb24uY29tcG9uZW50LnNjc3MnXSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIEluZmluaXRlUGFnaW5hdGlvbkNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95LCBQYWdpbmF0aW9uQ29tcG9uZW50SW50ZXJmYWNlIHtcblxuICAgIHN0YXRpYyBERUZBVUxUX1BBR0VfU0laRTogbnVtYmVyID0gMjU7XG5cbiAgICBzdGF0aWMgREVGQVVMVF9QQUdJTkFUSU9OOiBQYWdpbmF0aW9uTW9kZWwgPSB7XG4gICAgICAgIHNraXBDb3VudDogMCxcbiAgICAgICAgaGFzTW9yZUl0ZW1zOiBmYWxzZSxcbiAgICAgICAgbWVyZ2U6IHRydWVcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGFnaW5hdGlvbiBvYmplY3QuXG4gICAgICogQGRlcHJlY2F0ZWQgMi4zLjBcbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHBhZ2luYXRpb246IFBhZ2luYXRpb25Nb2RlbDtcblxuICAgIC8qKiBDb21wb25lbnQgdGhhdCBwcm92aWRlcyBjdXN0b20gcGFnaW5hdGlvbiBzdXBwb3J0LiAqL1xuICAgIEBJbnB1dCgpXG4gICAgdGFyZ2V0OiBQYWdpbmF0ZWRDb21wb25lbnQ7XG5cbiAgICAvKiogTnVtYmVyIG9mIGl0ZW1zIHRoYXQgYXJlIGFkZGVkIHdpdGggZWFjaCBcImxvYWQgbW9yZVwiIGV2ZW50LiAqL1xuICAgIEBJbnB1dCgpXG4gICAgcGFnZVNpemU6IG51bWJlciA9IEluZmluaXRlUGFnaW5hdGlvbkNvbXBvbmVudC5ERUZBVUxUX1BBR0VfU0laRTtcblxuICAgIC8qKiBJcyBhIG5ldyBwYWdlIGxvYWRpbmc/ICovXG4gICAgQElucHV0KCdsb2FkaW5nJylcbiAgICBpc0xvYWRpbmc6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIFwiTG9hZCBNb3JlXCIgYnV0dG9uIGlzIGNsaWNrZWQuICovXG4gICAgQE91dHB1dCgpXG4gICAgbG9hZE1vcmU6IEV2ZW50RW1pdHRlcjxQYWdpbmF0aW9uPiA9IG5ldyBFdmVudEVtaXR0ZXI8UGFnaW5hdGlvbj4oKTtcblxuICAgIHByaXZhdGUgcGFnaW5hdGlvblN1YnNjcmlwdGlvbjogU3Vic2NyaXB0aW9uO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjZHI6IENoYW5nZURldGVjdG9yUmVmLCBwcml2YXRlIHVzZXJQcmVmZXJlbmNlc1NlcnZpY2U6IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLnBhZ2luYXRpb25TdWJzY3JpcHRpb24gPSB0aGlzLnRhcmdldC5wYWdpbmF0aW9uLnN1YnNjcmliZShwYWdpbmF0aW9uID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbiA9IHBhZ2luYXRpb247XG4gICAgICAgICAgICAgICAgdGhpcy5wYWdlU2l6ZSA9IHRoaXMudXNlclByZWZlcmVuY2VzU2VydmljZS5wYWdpbmF0aW9uU2l6ZSB8fCB0aGlzLnBhZ2VTaXplO1xuICAgICAgICAgICAgICAgIHRoaXMuY2RyLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLnBhZ2luYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvbiA9IEluZmluaXRlUGFnaW5hdGlvbkNvbXBvbmVudC5ERUZBVUxUX1BBR0lOQVRJT047XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkxvYWRNb3JlKCkge1xuICAgICAgICB0aGlzLnBhZ2luYXRpb24uc2tpcENvdW50ID0gMDtcbiAgICAgICAgdGhpcy5wYWdpbmF0aW9uLm1heEl0ZW1zID0gdGhpcy5wYWdpbmF0aW9uLm1heEl0ZW1zICsgdGhpcy5wYWdlU2l6ZTtcbiAgICAgICAgdGhpcy5wYWdpbmF0aW9uLm1lcmdlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sb2FkTW9yZS5uZXh0KHRoaXMucGFnaW5hdGlvbik7XG5cbiAgICAgICAgaWYgKHRoaXMucGFnaW5hdGlvbi5tYXhJdGVtcyA+PSB0aGlzLnBhZ2luYXRpb24udG90YWxJdGVtcykge1xuICAgICAgICAgICAgdGhpcy5wYWdpbmF0aW9uLmhhc01vcmVJdGVtcyA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0KSB7XG4gICAgICAgICAgICB0aGlzLnRhcmdldC5wYWdpbmF0aW9uLnZhbHVlLm1lcmdlID0gdGhpcy5wYWdpbmF0aW9uLm1lcmdlO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQucGFnaW5hdGlvbi52YWx1ZS5za2lwQ291bnQgPSB0aGlzLnBhZ2luYXRpb24uc2tpcENvdW50O1xuICAgICAgICAgICAgdGhpcy5pc0xvYWRpbmcgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy50YXJnZXQudXBkYXRlUGFnaW5hdGlvbig8UGFnaW5hdGlvbk1vZGVsPiB0aGlzLnBhZ2luYXRpb24pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXQoKSB7XG4gICAgICAgIHRoaXMucGFnaW5hdGlvbi5za2lwQ291bnQgPSAwO1xuICAgICAgICB0aGlzLnRhcmdldC51cGRhdGVQYWdpbmF0aW9uKHRoaXMucGFnaW5hdGlvbik7XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLnBhZ2luYXRpb25TdWJzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMucGFnaW5hdGlvblN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBUcmFuc2xhdGVNb2R1bGUgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJztcbmltcG9ydCB7IE1hdGVyaWFsTW9kdWxlIH0gZnJvbSAnLi4vbWF0ZXJpYWwubW9kdWxlJztcbmltcG9ydCB7IEluZmluaXRlUGFnaW5hdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vaW5maW5pdGUtcGFnaW5hdGlvbi5jb21wb25lbnQnO1xuaW1wb3J0IHsgUGFnaW5hdGlvbkNvbXBvbmVudCB9IGZyb20gJy4vcGFnaW5hdGlvbi5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBNYXRlcmlhbE1vZHVsZSxcbiAgICAgICAgVHJhbnNsYXRlTW9kdWxlLmZvckNoaWxkKClcbiAgICBdLFxuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBJbmZpbml0ZVBhZ2luYXRpb25Db21wb25lbnQsXG4gICAgICAgIFBhZ2luYXRpb25Db21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgSW5maW5pdGVQYWdpbmF0aW9uQ29tcG9uZW50LFxuICAgICAgICBQYWdpbmF0aW9uQ29tcG9uZW50XG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBQYWdpbmF0aW9uTW9kdWxlIHt9XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBcHBDb25maWdTZXJ2aWNlLCBBcHBDb25maWdWYWx1ZXMgfSBmcm9tICcuLi9hcHAtY29uZmlnL2FwcC1jb25maWcuc2VydmljZSc7XG5pbXBvcnQgeyBMb2dTZXJ2aWNlIH0gZnJvbSAnLi9sb2cuc2VydmljZSc7XG5pbXBvcnQgeyBTdG9yYWdlU2VydmljZSB9IGZyb20gJy4vc3RvcmFnZS5zZXJ2aWNlJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFNldHRpbmdzU2VydmljZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwcENvbmZpZzogQXBwQ29uZmlnU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGxvZ1NlcnZpY2U6IExvZ1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBzdG9yYWdlOiBTdG9yYWdlU2VydmljZSkge1xuICAgIH1cblxuICAgIC8qKiBAZGVwcmVjYXRlZCBpbiAxLjYuMCAqL1xuICAgIHB1YmxpYyBnZXQgZWNtSG9zdCgpOiBzdHJpbmcge1xuICAgICAgICB0aGlzLmxvZ1NlcnZpY2UubG9nKCdTZXR0aW5nc1NlcnZpY2UuZWNtSG9zdCBpcyBkZXByZWNhdGVkLiBVc2UgQXBwQ29uZmlnU2VydmljZSBpbnN0ZWFkLicpO1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBDb25maWcuZ2V0PHN0cmluZz4oQXBwQ29uZmlnVmFsdWVzLkVDTUhPU1QpO1xuICAgIH1cblxuICAgIC8qKiBAZGVwcmVjYXRlZCBpbiAxLjcuMCAqL1xuICAgIHB1YmxpYyBzZXQgY3NyZkRpc2FibGVkKGNzcmZEaXNhYmxlZDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmxvZ1NlcnZpY2UubG9nKGBTZXR0aW5nc1NlcnZpY2UuY3NyZkRpc2FibGVkIGlzIGRlcHJlY2F0ZWQuIFVzZSBVc2VyUHJlZmVyZW5jZXNTZXJ2aWNlLmRpc2FibGVDU1JGIGluc3RlYWQuYCk7XG4gICAgICAgIGlmIChjc3JmRGlzYWJsZWQgIT09IG51bGwgJiYgY3NyZkRpc2FibGVkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKEFwcENvbmZpZ1ZhbHVlcy5ESVNBQkxFQ1NSRiwgY3NyZkRpc2FibGVkLnRvU3RyaW5nKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqIEBkZXByZWNhdGVkIGluIDEuNi4wICovXG4gICAgcHVibGljIHNldCBlY21Ib3N0KGVjbUhvc3RVcmw6IHN0cmluZykge1xuICAgICAgICB0aGlzLmxvZ1NlcnZpY2UubG9nKCdTZXR0aW5nc1NlcnZpY2UuZWNtSG9zdCBpcyBkZXByZWNhdGVkLiBVc2UgQXBwQ29uZmlnU2VydmljZSBpbnN0ZWFkLicpO1xuICAgIH1cblxuICAgIC8qKiBAZGVwcmVjYXRlZCBpbiAxLjYuMCAqL1xuICAgIHB1YmxpYyBnZXQgYnBtSG9zdCgpOiBzdHJpbmcge1xuICAgICAgICB0aGlzLmxvZ1NlcnZpY2UubG9nKCdTZXR0aW5nc1NlcnZpY2UuYnBtSG9zdCBpcyBkZXByZWNhdGVkLiBVc2UgQXBwQ29uZmlnU2VydmljZSBpbnN0ZWFkLicpO1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBDb25maWcuZ2V0PHN0cmluZz4oQXBwQ29uZmlnVmFsdWVzLkJQTUhPU1QpO1xuICAgIH1cblxuICAgIC8qKiBAZGVwcmVjYXRlZCBpbiAxLjYuMCAqL1xuICAgIHB1YmxpYyBzZXQgYnBtSG9zdChicG1Ib3N0VXJsOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmxvZygnU2V0dGluZ3NTZXJ2aWNlLmJwbUhvc3QgaXMgZGVwcmVjYXRlZC4gVXNlIEFwcENvbmZpZ1NlcnZpY2UgaW5zdGVhZC4nKTtcbiAgICB9XG5cbiAgICAvKiogQGRlcHJlY2F0ZWQgaW4gMS42LjAgKi9cbiAgICBwdWJsaWMgZ2V0QlBNQXBpQmFzZVVybCgpOiBzdHJpbmcge1xuICAgICAgICB0aGlzLmxvZ1NlcnZpY2UubG9nKCdTZXR0aW5nc1NlcnZpY2UuZ2V0QlBNQXBpQmFzZVVybCBpcyBkZXByZWNhdGVkLicpO1xuICAgICAgICByZXR1cm4gdGhpcy5icG1Ib3N0ICsgJy9hY3Rpdml0aS1hcHAnO1xuICAgIH1cblxuICAgIC8qKiBAZGVwcmVjYXRlZCBpbiAxLjcuMCAqL1xuICAgIHB1YmxpYyBnZXRQcm92aWRlcnMoKTogc3RyaW5nIHtcbiAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmxvZyhgU2V0dGluZ3NTZXJ2aWNlLmdldFByb3ZpZGVycyBpcyBkZXByZWNhdGVkLiBVc2UgVXNlclByZWZlcmVuY2VzU2VydmljZS5hdXRoVHlwZSBpbnN0ZWFkLmApO1xuICAgICAgICByZXR1cm4gdGhpcy5zdG9yYWdlLmdldEl0ZW0oQXBwQ29uZmlnVmFsdWVzLlBST1ZJREVSUykgfHwgdGhpcy5hcHBDb25maWcuZ2V0PHN0cmluZz4oQXBwQ29uZmlnVmFsdWVzLlBST1ZJREVSUyk7XG4gICAgfVxuXG4gICAgLyoqIEBkZXByZWNhdGVkIGluIDEuNy4wICovXG4gICAgcHVibGljIHNldFByb3ZpZGVycyhwcm92aWRlcnM6IHN0cmluZykge1xuICAgICAgICB0aGlzLmxvZ1NlcnZpY2UubG9nKGBTZXR0aW5nc1NlcnZpY2Uuc2V0UHJvdmlkZXJzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgYXBwLWNvbmZpZy5qc29uYCk7XG4gICAgICAgIGlmIChwcm92aWRlcnMpIHtcbiAgICAgICAgICAgIHRoaXMuc3RvcmFnZS5zZXRJdGVtKEFwcENvbmZpZ1ZhbHVlcy5QUk9WSURFUlMsIHByb3ZpZGVycyk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgY2xhc3MgTG9naW5FcnJvckV2ZW50IHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZXJyOiBhbnkpIHt9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgY2xhc3MgTG9naW5TdWJtaXRFdmVudCB7XG5cbiAgICBwcml2YXRlIF92YWx1ZXM6IGFueTtcbiAgICBwcml2YXRlIF9kZWZhdWx0UHJldmVudGVkOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBnZXQgdmFsdWVzKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLl92YWx1ZXM7XG4gICAgfVxuXG4gICAgZ2V0IGRlZmF1bHRQcmV2ZW50ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWZhdWx0UHJldmVudGVkO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKF92YWx1ZXM6IGFueSkge1xuICAgICAgICB0aGlzLl92YWx1ZXMgPSBfdmFsdWVzO1xuICAgIH1cblxuICAgIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBjbGFzcyBMb2dpblN1Y2Nlc3NFdmVudCB7XG4gICAgY29uc3RydWN0b3IoXG4gICAgICAgIHB1YmxpYyB0b2tlbjogYW55LFxuICAgICAgICBwdWJsaWMgdXNlcm5hbWU6IHN0cmluZyxcbiAgICAgICAgcHVibGljIHBhc3N3b3JkOiBzdHJpbmcpIHtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlcixcbiAgICBJbnB1dCwgT25Jbml0LCBPdXRwdXQsIFRlbXBsYXRlUmVmLCBWaWV3RW5jYXBzdWxhdGlvblxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFic3RyYWN0Q29udHJvbCwgRm9ybUJ1aWxkZXIsIEZvcm1Hcm91cCwgVmFsaWRhdG9ycyB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IFJvdXRlciB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5cbmltcG9ydCB7IEF1dGhlbnRpY2F0aW9uU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2F1dGhlbnRpY2F0aW9uLnNlcnZpY2UnO1xuaW1wb3J0IHsgTG9nU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2xvZy5zZXJ2aWNlJztcbmltcG9ydCB7IFRyYW5zbGF0aW9uU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3RyYW5zbGF0aW9uLnNlcnZpY2UnO1xuaW1wb3J0IHsgVXNlclByZWZlcmVuY2VzU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3VzZXItcHJlZmVyZW5jZXMuc2VydmljZSc7XG5pbXBvcnQgeyBTZXR0aW5nc1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9zZXR0aW5ncy5zZXJ2aWNlJztcblxuaW1wb3J0IHsgTG9naW5FcnJvckV2ZW50IH0gZnJvbSAnLi4vbW9kZWxzL2xvZ2luLWVycm9yLmV2ZW50JztcbmltcG9ydCB7IExvZ2luU3VibWl0RXZlbnQgfSBmcm9tICcuLi9tb2RlbHMvbG9naW4tc3VibWl0LmV2ZW50JztcbmltcG9ydCB7IExvZ2luU3VjY2Vzc0V2ZW50IH0gZnJvbSAnLi4vbW9kZWxzL2xvZ2luLXN1Y2Nlc3MuZXZlbnQnO1xuaW1wb3J0IHtcbiAgICBBcHBDb25maWdTZXJ2aWNlLFxuICAgIEFwcENvbmZpZ1ZhbHVlc1xufSBmcm9tICcuLi8uLi9hcHAtY29uZmlnL2FwcC1jb25maWcuc2VydmljZSc7XG5pbXBvcnQgeyBPYXV0aENvbmZpZ01vZGVsIH0gZnJvbSAnLi4vLi4vbW9kZWxzL29hdXRoLWNvbmZpZy5tb2RlbCc7XG5cbmVudW0gTG9naW5TdGVwcyB7XG4gICAgTGFuZGluZyA9IDAsXG4gICAgQ2hlY2tpbmcgPSAxLFxuICAgIFdlbGNvbWUgPSAyXG59XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLWxvZ2luJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vbG9naW4uY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2xvZ2luLmNvbXBvbmVudC5zY3NzJ10sXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICBob3N0OiB7XG4gICAgICAgIGNsYXNzOiAnYWRmLWxvZ2luJ1xuICAgIH1cbn0pXG5leHBvcnQgY2xhc3MgTG9naW5Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICAgIGlzUGFzc3dvcmRTaG93OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBTaG91bGQgdGhlIGBSZW1lbWJlciBtZWAgY2hlY2tib3ggYmUgc2hvd24/IFdoZW4gc2VsZWN0ZWQsIHRoaXNcbiAgICAgKiBvcHRpb24gd2lsbCByZW1lbWJlciB0aGUgbG9nZ2VkLWluIHVzZXIgYWZ0ZXIgdGhlIGJyb3dzZXIgaXMgY2xvc2VkXG4gICAgICogdG8gYXZvaWQgbG9nZ2luZyBpbiByZXBlYXRlZGx5LlxuICAgICAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2hvd1JlbWVtYmVyTWU6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLyoqIFNob3VsZCB0aGUgZXh0cmEgYWN0aW9ucyAoYE5lZWQgSGVscGAsIGBSZWdpc3RlcmAsIGV0YykgYmUgc2hvd24/ICovXG4gICAgQElucHV0KClcbiAgICBzaG93TG9naW5BY3Rpb25zOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKiBTZXRzIHRoZSBVUkwgb2YgdGhlIE5FRUQgSEVMUCBsaW5rIGluIHRoZSBmb290ZXIuICovXG4gICAgQElucHV0KClcbiAgICBuZWVkSGVscExpbms6IHN0cmluZyA9ICcnO1xuXG4gICAgLyoqIFNldHMgdGhlIFVSTCBvZiB0aGUgUkVHSVNURVIgbGluayBpbiB0aGUgZm9vdGVyLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgcmVnaXN0ZXJMaW5rOiBzdHJpbmcgPSAnJztcblxuICAgIC8qKiBQYXRoIHRvIGEgY3VzdG9tIGxvZ28gaW1hZ2UuICovXG4gICAgQElucHV0KClcbiAgICBsb2dvSW1hZ2VVcmw6IHN0cmluZyA9ICcuL2Fzc2V0cy9pbWFnZXMvYWxmcmVzY28tbG9nby5zdmcnO1xuXG4gICAgLyoqIFBhdGggdG8gYSBjdXN0b20gYmFja2dyb3VuZCBpbWFnZS4gKi9cbiAgICBASW5wdXQoKVxuICAgIGJhY2tncm91bmRJbWFnZVVybDogc3RyaW5nID0gJy4vYXNzZXRzL2ltYWdlcy9iYWNrZ3JvdW5kLnN2Zyc7XG5cbiAgICAvKiogVGhlIGNvcHlyaWdodCB0ZXh0IGJlbG93IHRoZSBsb2dpbiBib3guICovXG4gICAgQElucHV0KClcbiAgICBjb3B5cmlnaHRUZXh0OiBzdHJpbmcgPSAnXFx1MDBBOSAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBJbmMuIEFsbCBSaWdodHMgUmVzZXJ2ZWQuJztcblxuICAgIC8qKlxuICAgICAqIFBvc3NpYmxlIHZhbGlkIHZhbHVlcyBhcmUgRUNNLCBCUE0gb3IgQUxMLlxuICAgICAqIEBkZXByZWNhdGVkIDMuMC4wIC0gdXNlIHRoZSBwcm92aWRlcnMgcHJvcGVydHkgaW4gdGhlIHRoZSBhcHAuY29uZmlnLmpzb25cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIHByb3ZpZGVyczogc3RyaW5nO1xuXG4gICAgLyoqIEN1c3RvbSB2YWxpZGF0aW9uIHJ1bGVzIGZvciB0aGUgbG9naW4gZm9ybS4gKi9cbiAgICBASW5wdXQoKVxuICAgIGZpZWxkc1ZhbGlkYXRpb246IGFueTtcblxuICAgIC8qKlxuICAgICAqIFByZXZlbnRzIHRoZSBDU1JGIFRva2VuIGZyb20gYmVpbmcgc3VibWl0dGVkLiBPbmx5IHZhbGlkIGZvciBBbGZyZXNjbyBQcm9jZXNzIFNlcnZpY2VzLlxuICAgICAqIEBkZXByZWNhdGVkIDMuMC4wXG4gICAgICovXG4gICAgQElucHV0KClcbiAgICBkaXNhYmxlQ3NyZjogYm9vbGVhbjtcblxuICAgIC8qKiBSb3V0ZSB0byByZWRpcmVjdCB0byBvbiBzdWNjZXNzZnVsIGxvZ2luLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgc3VjY2Vzc1JvdXRlOiBzdHJpbmcgPSBudWxsO1xuXG4gICAgLyoqIEVtaXR0ZWQgd2hlbiB0aGUgbG9naW4gaXMgc3VjY2Vzc2Z1bC4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBzdWNjZXNzID0gbmV3IEV2ZW50RW1pdHRlcjxMb2dpblN1Y2Nlc3NFdmVudD4oKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIGxvZ2luIGZhaWxzLiAqL1xuICAgIEBPdXRwdXQoKVxuICAgIGVycm9yID0gbmV3IEV2ZW50RW1pdHRlcjxMb2dpbkVycm9yRXZlbnQ+KCk7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIHRoZSBsb2dpbiBmb3JtIGlzIHN1Ym1pdHRlZC4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBleGVjdXRlU3VibWl0ID0gbmV3IEV2ZW50RW1pdHRlcjxMb2dpblN1Ym1pdEV2ZW50PigpO1xuXG4gICAgaW1wbGljaXRGbG93OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICBmb3JtOiBGb3JtR3JvdXA7XG4gICAgaXNFcnJvcjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGVycm9yTXNnOiBzdHJpbmc7XG4gICAgYWN0dWFsTG9naW5TdGVwOiBhbnkgPSBMb2dpblN0ZXBzLkxhbmRpbmc7XG4gICAgTG9naW5TdGVwczogYW55ID0gTG9naW5TdGVwcztcbiAgICByZW1lbWJlck1lOiBib29sZWFuID0gdHJ1ZTtcbiAgICBmb3JtRXJyb3I6IHsgW2lkOiBzdHJpbmddOiBzdHJpbmcgfTtcbiAgICBtaW5MZW5ndGg6IG51bWJlciA9IDI7XG4gICAgZm9vdGVyVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XG4gICAgaGVhZGVyVGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XG4gICAgZGF0YTogYW55O1xuXG4gICAgcHJpdmF0ZSBfbWVzc2FnZTogeyBbaWQ6IHN0cmluZ106IHsgW2lkOiBzdHJpbmddOiBzdHJpbmcgfSB9O1xuXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0gX2ZiXG4gICAgICogQHBhcmFtIGF1dGhTZXJ2aWNlXG4gICAgICogQHBhcmFtIHRyYW5zbGF0ZVxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIF9mYjogRm9ybUJ1aWxkZXIsXG4gICAgICAgIHByaXZhdGUgYXV0aFNlcnZpY2U6IEF1dGhlbnRpY2F0aW9uU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSB0cmFuc2xhdGVTZXJ2aWNlOiBUcmFuc2xhdGlvblNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgbG9nU2VydmljZTogTG9nU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBlbGVtZW50UmVmOiBFbGVtZW50UmVmLFxuICAgICAgICBwcml2YXRlIHJvdXRlcjogUm91dGVyLFxuICAgICAgICBwcml2YXRlIGFwcENvbmZpZzogQXBwQ29uZmlnU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSB1c2VyUHJlZmVyZW5jZXM6IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgc2V0dGluZ3NTZXJ2aWNlOiBTZXR0aW5nc1NlcnZpY2VcbiAgICApIHtcbiAgICAgICAgdGhpcy5pbml0Rm9ybUVycm9yKCk7XG4gICAgICAgIHRoaXMuaW5pdEZvcm1GaWVsZHNNZXNzYWdlcygpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAodGhpcy5hdXRoU2VydmljZS5pc09hdXRoKCkpIHtcbiAgICAgICAgICAgIGxldCBvYXV0aDogT2F1dGhDb25maWdNb2RlbCA9IHRoaXMuYXBwQ29uZmlnLmdldDxPYXV0aENvbmZpZ01vZGVsPihBcHBDb25maWdWYWx1ZXMuT0FVVEhDT05GSUcsIG51bGwpO1xuICAgICAgICAgICAgaWYgKG9hdXRoICYmIG9hdXRoLmltcGxpY2l0Rmxvdykge1xuICAgICAgICAgICAgICAgIHRoaXMuaW1wbGljaXRGbG93ID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmhhc0N1c3RvbUZpZWxkc1ZhbGlkYXRpb24oKSkge1xuICAgICAgICAgICAgdGhpcy5mb3JtID0gdGhpcy5fZmIuZ3JvdXAodGhpcy5maWVsZHNWYWxpZGF0aW9uKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEZvcm1GaWVsZHNEZWZhdWx0KCk7XG4gICAgICAgICAgICB0aGlzLmluaXRGb3JtRmllbGRzTWVzc2FnZXNEZWZhdWx0KCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5mb3JtLnZhbHVlQ2hhbmdlcy5zdWJzY3JpYmUoZGF0YSA9PiB0aGlzLm9uVmFsdWVDaGFuZ2VkKGRhdGEpKTtcbiAgICB9XG5cbiAgICBzdWJtaXQoKSB7XG4gICAgICAgIHRoaXMub25TdWJtaXQodGhpcy5mb3JtLnZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXRob2QgY2FsbGVkIG9uIHN1Ym1pdCBmb3JtXG4gICAgICogQHBhcmFtIHZhbHVlc1xuICAgICAqIEBwYXJhbSBldmVudFxuICAgICAqL1xuICAgIG9uU3VibWl0KHZhbHVlczogYW55KSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3NTZXJ2aWNlLnNldFByb3ZpZGVycyh0aGlzLnByb3ZpZGVycyk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3NTZXJ2aWNlLmNzcmZEaXNhYmxlZCA9IHRoaXMuZGlzYWJsZUNzcmY7XG5cbiAgICAgICAgdGhpcy5kaXNhYmxlRXJyb3IoKTtcbiAgICAgICAgY29uc3QgYXJncyA9IG5ldyBMb2dpblN1Ym1pdEV2ZW50KHtcbiAgICAgICAgICAgIGNvbnRyb2xzOiB7IHVzZXJuYW1lOiB0aGlzLmZvcm0uY29udHJvbHMudXNlcm5hbWUgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5leGVjdXRlU3VibWl0LmVtaXQoYXJncyk7XG5cbiAgICAgICAgaWYgKGFyZ3MuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5wZXJmb3JtTG9naW4odmFsdWVzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGltcGxpY2l0TG9naW4oKSB7XG4gICAgICAgIHRoaXMuYXV0aFNlcnZpY2Uuc3NvSW1wbGljaXRMb2dpbigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBtZXRob2QgY2hlY2sgdGhlIGVycm9yIGluIHRoZSBmb3JtIGFuZCBwdXNoIHRoZSBlcnJvciBpbiB0aGUgZm9ybUVycm9yIG9iamVjdFxuICAgICAqIEBwYXJhbSBkYXRhXG4gICAgICovXG4gICAgb25WYWx1ZUNoYW5nZWQoZGF0YTogYW55KSB7XG4gICAgICAgIHRoaXMuZGlzYWJsZUVycm9yKCk7XG4gICAgICAgIGZvciAobGV0IGZpZWxkIGluIHRoaXMuZm9ybUVycm9yKSB7XG4gICAgICAgICAgICBpZiAoZmllbGQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm1FcnJvcltmaWVsZF0gPSAnJztcbiAgICAgICAgICAgICAgICBsZXQgaGFzRXJyb3IgPVxuICAgICAgICAgICAgICAgICAgICAodGhpcy5mb3JtLmNvbnRyb2xzW2ZpZWxkXS5lcnJvcnMgJiYgZGF0YVtmaWVsZF0gIT09ICcnKSB8fFxuICAgICAgICAgICAgICAgICAgICAodGhpcy5mb3JtLmNvbnRyb2xzW2ZpZWxkXS5kaXJ0eSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgIXRoaXMuZm9ybS5jb250cm9sc1tmaWVsZF0udmFsaWQpO1xuICAgICAgICAgICAgICAgIGlmIChoYXNFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBrZXkgaW4gdGhpcy5mb3JtLmNvbnRyb2xzW2ZpZWxkXS5lcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1FcnJvcltmaWVsZF0gKz1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWVzc2FnZVtmaWVsZF1ba2V5XSArICcnO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybWUgdGhlIGxvZ2luIHNlcnZpY2VcbiAgICAgKiBAcGFyYW0gdmFsdWVzXG4gICAgICovXG4gICAgcHJpdmF0ZSBwZXJmb3JtTG9naW4odmFsdWVzOiBhbnkpIHtcbiAgICAgICAgdGhpcy5hY3R1YWxMb2dpblN0ZXAgPSBMb2dpblN0ZXBzLkNoZWNraW5nO1xuICAgICAgICB0aGlzLmF1dGhTZXJ2aWNlXG4gICAgICAgICAgICAubG9naW4odmFsdWVzLnVzZXJuYW1lLCB2YWx1ZXMucGFzc3dvcmQsIHRoaXMucmVtZW1iZXJNZSlcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgKHRva2VuOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVkaXJlY3RVcmwgPSB0aGlzLmF1dGhTZXJ2aWNlLmdldFJlZGlyZWN0KFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm92aWRlcnNcbiAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFjdHVhbExvZ2luU3RlcCA9IExvZ2luU3RlcHMuV2VsY29tZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51c2VyUHJlZmVyZW5jZXMuc2V0U3RvcmFnZVByZWZpeCh2YWx1ZXMudXNlcm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZXMucGFzc3dvcmQgPSBudWxsO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1Y2Nlc3MuZW1pdChcbiAgICAgICAgICAgICAgICAgICAgICAgIG5ldyBMb2dpblN1Y2Nlc3NFdmVudCh0b2tlbiwgdmFsdWVzLnVzZXJuYW1lLCBudWxsKVxuICAgICAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZWRpcmVjdFVybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hdXRoU2VydmljZS5zZXRSZWRpcmVjdChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlQnlVcmwocmVkaXJlY3RVcmwpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuc3VjY2Vzc1JvdXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbdGhpcy5zdWNjZXNzUm91dGVdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKGVycjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWN0dWFsTG9naW5TdGVwID0gTG9naW5TdGVwcy5MYW5kaW5nO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlFcnJvck1lc3NhZ2UoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbmFibGVFcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yLmVtaXQobmV3IExvZ2luRXJyb3JFdmVudChlcnIpKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICgpID0+IHRoaXMubG9nU2VydmljZS5pbmZvKCdMb2dpbiBkb25lJylcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgYW5kIGRpc3BsYXkgdGhlIHJpZ2h0IGVycm9yIG1lc3NhZ2UgaW4gdGhlIFVJXG4gICAgICovXG4gICAgcHJpdmF0ZSBkaXNwbGF5RXJyb3JNZXNzYWdlKGVycjogYW55KTogdm9pZCB7XG4gICAgICAgIGlmIChcbiAgICAgICAgICAgIGVyci5lcnJvciAmJlxuICAgICAgICAgICAgZXJyLmVycm9yLmNyb3NzRG9tYWluICYmXG4gICAgICAgICAgICBlcnIuZXJyb3IubWVzc2FnZS5pbmRleE9mKCdBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW4nKSAhPT0gLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yTXNnID0gZXJyLmVycm9yLm1lc3NhZ2U7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBlcnIuc3RhdHVzID09PSA0MDMgJiZcbiAgICAgICAgICAgIGVyci5tZXNzYWdlLmluZGV4T2YoJ0ludmFsaWQgQ1NSRi10b2tlbicpICE9PSAtMVxuICAgICAgICApIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSAnTE9HSU4uTUVTU0FHRVMuTE9HSU4tRVJST1ItQ1NSRic7XG4gICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICBlcnIuc3RhdHVzID09PSA0MDMgJiZcbiAgICAgICAgICAgIGVyci5tZXNzYWdlLmluZGV4T2YoJ1RoZSBzeXN0ZW0gaXMgY3VycmVudGx5IGluIHJlYWQtb25seSBtb2RlJykgIT09XG4gICAgICAgICAgICAgICAgLTFcbiAgICAgICAgKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yTXNnID0gJ0xPR0lOLk1FU1NBR0VTLkxPR0lOLUVDTS1MSUNFTlNFJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JNc2cgPSAnTE9HSU4uTUVTU0FHRVMuTE9HSU4tRVJST1ItQ1JFREVOVElBTFMnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkIGEgY3VzdG9tIGZvcm0gZXJyb3IgZm9yIGEgZmllbGRcbiAgICAgKiBAcGFyYW0gZmllbGRcbiAgICAgKiBAcGFyYW0gbXNnXG4gICAgICovXG4gICAgcHVibGljIGFkZEN1c3RvbUZvcm1FcnJvcihmaWVsZDogc3RyaW5nLCBtc2c6IHN0cmluZykge1xuICAgICAgICB0aGlzLmZvcm1FcnJvcltmaWVsZF0gKz0gbXNnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBhIGN1c3RvbSB2YWxpZGF0aW9uIHJ1bGUgZXJyb3IgZm9yIGEgZmllbGRcbiAgICAgKiBAcGFyYW0gZmllbGRcbiAgICAgKiBAcGFyYW0gcnVsZUlkIC0gaS5lLiByZXF1aXJlZCB8IG1pbmxlbmd0aCB8IG1heGxlbmd0aFxuICAgICAqIEBwYXJhbSBtc2dcbiAgICAgKi9cbiAgICBhZGRDdXN0b21WYWxpZGF0aW9uRXJyb3IoXG4gICAgICAgIGZpZWxkOiBzdHJpbmcsXG4gICAgICAgIHJ1bGVJZDogc3RyaW5nLFxuICAgICAgICBtc2c6IHN0cmluZyxcbiAgICAgICAgcGFyYW1zPzogYW55XG4gICAgKSB7XG4gICAgICAgIGlmIChwYXJhbXMpIHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNsYXRlU2VydmljZS5nZXQobXNnLCBwYXJhbXMpLnN1YnNjcmliZSgocmVzOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXNzYWdlW2ZpZWxkXVtydWxlSWRdID0gcmVzO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9tZXNzYWdlW2ZpZWxkXVtydWxlSWRdID0gbXNnO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzcGxheSBhbmQgaGlkZSB0aGUgcGFzc3dvcmQgdmFsdWUuXG4gICAgICovXG4gICAgdG9nZ2xlU2hvd1Bhc3N3b3JkKCkge1xuICAgICAgICB0aGlzLmlzUGFzc3dvcmRTaG93ID0gIXRoaXMuaXNQYXNzd29yZFNob3c7XG4gICAgICAgIHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwYXNzd29yZCcpLnR5cGUgPSB0aGlzXG4gICAgICAgICAgICAuaXNQYXNzd29yZFNob3dcbiAgICAgICAgICAgID8gJ3RleHQnXG4gICAgICAgICAgICA6ICdwYXNzd29yZCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIG1ldGhvZCByZXR1cm4gaWYgYSBmaWVsZCBpcyB2YWxpZCBvciBub3RcbiAgICAgKiBAcGFyYW0gZmllbGRcbiAgICAgKi9cbiAgICBpc0Vycm9yU3R5bGUoZmllbGQ6IEFic3RyYWN0Q29udHJvbCkge1xuICAgICAgICByZXR1cm4gIWZpZWxkLnZhbGlkICYmIGZpZWxkLmRpcnR5ICYmICFmaWVsZC5wcmlzdGluZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmltIHVzZXJuYW1lXG4gICAgICovXG4gICAgdHJpbVVzZXJuYW1lKGV2ZW50OiBhbnkpIHtcbiAgICAgICAgZXZlbnQudGFyZ2V0LnZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlLnRyaW0oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWZhdWx0IGZvcm1FcnJvciB2YWx1ZXNcbiAgICAgKi9cbiAgICBwcml2YXRlIGluaXRGb3JtRXJyb3IoKSB7XG4gICAgICAgIHRoaXMuZm9ybUVycm9yID0ge1xuICAgICAgICAgICAgdXNlcm5hbWU6ICcnLFxuICAgICAgICAgICAgcGFzc3dvcmQ6ICcnXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdCBmb3JtIGZpZWxkcyBtZXNzYWdlc1xuICAgICAqL1xuICAgIHByaXZhdGUgaW5pdEZvcm1GaWVsZHNNZXNzYWdlcygpIHtcbiAgICAgICAgdGhpcy5fbWVzc2FnZSA9IHtcbiAgICAgICAgICAgIHVzZXJuYW1lOiB7fSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiB7fVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlZmF1bHQgZm9ybSBmaWVsZHMgbWVzc2FnZXNcbiAgICAgKi9cbiAgICBwcml2YXRlIGluaXRGb3JtRmllbGRzTWVzc2FnZXNEZWZhdWx0KCkge1xuICAgICAgICB0aGlzLl9tZXNzYWdlID0ge1xuICAgICAgICAgICAgdXNlcm5hbWU6IHtcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogJ0xPR0lOLk1FU1NBR0VTLlVTRVJOQU1FLVJFUVVJUkVEJ1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiB7XG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6ICdMT0dJTi5NRVNTQUdFUy5QQVNTV09SRC1SRVFVSVJFRCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcblxuICAgICAgICB0aGlzLnRyYW5zbGF0ZVNlcnZpY2VcbiAgICAgICAgICAgIC5nZXQoJ0xPR0lOLk1FU1NBR0VTLlVTRVJOQU1FLU1JTicsIHsgbWluTGVuZ3RoOiB0aGlzLm1pbkxlbmd0aCB9KVxuICAgICAgICAgICAgLnN1YnNjcmliZSgocmVzOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9tZXNzYWdlWyd1c2VybmFtZSddWydtaW5sZW5ndGgnXSA9IHJlcztcbiAgICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgaW5pdEZvcm1GaWVsZHNEZWZhdWx0KCkge1xuICAgICAgICB0aGlzLmZvcm0gPSB0aGlzLl9mYi5ncm91cCh7XG4gICAgICAgICAgICB1c2VybmFtZTogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgICAgICAgIHBhc3N3b3JkOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERpc2FibGUgdGhlIGVycm9yIGZsYWdcbiAgICAgKi9cbiAgICBwcml2YXRlIGRpc2FibGVFcnJvcigpIHtcbiAgICAgICAgdGhpcy5pc0Vycm9yID0gZmFsc2U7XG4gICAgICAgIHRoaXMuaW5pdEZvcm1FcnJvcigpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZSB0aGUgZXJyb3IgZmxhZ1xuICAgICAqL1xuICAgIHByaXZhdGUgZW5hYmxlRXJyb3IoKSB7XG4gICAgICAgIHRoaXMuaXNFcnJvciA9IHRydWU7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYXNDdXN0b21GaWVsZHNWYWxpZGF0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5maWVsZHNWYWxpZGF0aW9uICE9PSB1bmRlZmluZWQ7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgICBBZnRlckNvbnRlbnRJbml0LFxuICAgIENvbnRlbnRDaGlsZCxcbiAgICBEaXJlY3RpdmUsXG4gICAgVGVtcGxhdGVSZWZcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBMb2dpbkNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvbG9naW4uY29tcG9uZW50JztcblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdsb2dpbi1oZWFkZXInXG59KVxuZXhwb3J0IGNsYXNzIExvZ2luSGVhZGVyRGlyZWN0aXZlIGltcGxlbWVudHMgQWZ0ZXJDb250ZW50SW5pdCB7XG5cbiAgICBAQ29udGVudENoaWxkKFRlbXBsYXRlUmVmKVxuICAgIHRlbXBsYXRlOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhbGZyZXNjb0xvZ2luQ29tcG9uZW50OiBMb2dpbkNvbXBvbmVudCkge1xuICAgIH1cblxuICAgIG5nQWZ0ZXJDb250ZW50SW5pdCgpIHtcbiAgICAgICAgdGhpcy5hbGZyZXNjb0xvZ2luQ29tcG9uZW50LmhlYWRlclRlbXBsYXRlID0gdGhpcy50ZW1wbGF0ZTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICAgIEFmdGVyQ29udGVudEluaXQsXG4gICAgQ29udGVudENoaWxkLFxuICAgIERpcmVjdGl2ZSxcbiAgICBUZW1wbGF0ZVJlZlxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IExvZ2luQ29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9uZW50cy9sb2dpbi5jb21wb25lbnQnO1xuXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogJ2xvZ2luLWZvb3Rlcidcbn0pXG5leHBvcnQgY2xhc3MgTG9naW5Gb290ZXJEaXJlY3RpdmUgaW1wbGVtZW50cyBBZnRlckNvbnRlbnRJbml0IHtcblxuICAgIEBDb250ZW50Q2hpbGQoVGVtcGxhdGVSZWYpXG4gICAgdGVtcGxhdGU6IGFueTtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFsZnJlc2NvTG9naW5Db21wb25lbnQ6IExvZ2luQ29tcG9uZW50KSB7XG4gICAgfVxuXG4gICAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICAgICAgICB0aGlzLmFsZnJlc2NvTG9naW5Db21wb25lbnQuZm9vdGVyVGVtcGxhdGUgPSB0aGlzLnRlbXBsYXRlO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgSW5qZWN0LCBWaWV3RW5jYXBzdWxhdGlvbiwgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNQVRfRElBTE9HX0RBVEEgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5pbXBvcnQgeyBMb2dpbkRpYWxvZ0NvbXBvbmVudERhdGEgfSBmcm9tICcuL2xvZ2luLWRpYWxvZy1jb21wb25lbnQtZGF0YS5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgTG9naW5EaWFsb2dQYW5lbENvbXBvbmVudCB9IGZyb20gJy4vbG9naW4tZGlhbG9nLXBhbmVsLmNvbXBvbmVudCc7XG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1sb2dpbi1kaWFsb2cnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9sb2dpbi1kaWFsb2cuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2xvZ2luLWRpYWxvZy5jb21wb25lbnQuc2NzcyddLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgTG9naW5EaWFsb2dDb21wb25lbnQge1xuXG4gICAgQFZpZXdDaGlsZCgnYWRmTG9naW5QYW5lbCcpXG4gICAgbG9naW5QYW5lbDogTG9naW5EaWFsb2dQYW5lbENvbXBvbmVudDtcblxuICAgIGJ1dHRvbkFjdGlvbk5hbWUgPSAnJztcblxuICAgIGNvbnN0cnVjdG9yKEBJbmplY3QoTUFUX0RJQUxPR19EQVRBKSBwdWJsaWMgZGF0YTogTG9naW5EaWFsb2dDb21wb25lbnREYXRhKSB7XG4gICAgICAgIHRoaXMuYnV0dG9uQWN0aW9uTmFtZSA9IGRhdGEuYWN0aW9uTmFtZSA/IGBMT0dJTi5ESUFMT0cuJHtkYXRhLmFjdGlvbk5hbWUudG9VcHBlckNhc2UoKX1gIDogJ0xPR0lOLkRJQUxPRy5DSE9PU0UnO1xuICAgIH1cblxuICAgIGNsb3NlKCkge1xuICAgICAgICB0aGlzLmRhdGEubG9nZ2VkLmNvbXBsZXRlKCk7XG4gICAgfVxuXG4gICAgc3VibWl0Rm9ybSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5sb2dpblBhbmVsLnN1Ym1pdEZvcm0oKTtcbiAgICB9XG5cbiAgICBvbkxvZ2luU3VjY2VzcyhldmVudDogYW55KSB7XG4gICAgICAgIHRoaXMuZGF0YS5sb2dnZWQubmV4dChldmVudCk7XG4gICAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG5cbiAgICBpc0Zvcm1WYWxpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9naW5QYW5lbCA/IHRoaXMubG9naW5QYW5lbC5pc1ZhbGlkKCkgOiBmYWxzZTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIFZpZXdFbmNhcHN1bGF0aW9uLCBWaWV3Q2hpbGQsIE91dHB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBMb2dpbkNvbXBvbmVudCB9IGZyb20gJy4vbG9naW4uY29tcG9uZW50JztcbmltcG9ydCB7IExvZ2luU3VjY2Vzc0V2ZW50IH0gZnJvbSAnLi4vbW9kZWxzL2xvZ2luLXN1Y2Nlc3MuZXZlbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1sb2dpbi1kaWFsb2ctcGFuZWwnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9sb2dpbi1kaWFsb2ctcGFuZWwuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2xvZ2luLWRpYWxvZy1wYW5lbC5jb21wb25lbnQuc2NzcyddLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgTG9naW5EaWFsb2dQYW5lbENvbXBvbmVudCB7XG5cbiAgICBAT3V0cHV0KClcbiAgICBzdWNjZXNzID0gbmV3IEV2ZW50RW1pdHRlcjxMb2dpblN1Y2Nlc3NFdmVudD4oKTtcblxuICAgIEBWaWV3Q2hpbGQoJ2FkZkxvZ2luJylcbiAgICBsb2dpbjogTG9naW5Db21wb25lbnQ7XG5cbiAgICBzdWJtaXRGb3JtKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxvZ2luLnN1Ym1pdCgpO1xuICAgIH1cblxuICAgIG9uTG9naW5TdWNjZXNzKGV2ZW50OiBMb2dpblN1Y2Nlc3NFdmVudCkge1xuICAgICAgICB0aGlzLnN1Y2Nlc3MuZW1pdChldmVudCk7XG4gICAgfVxuXG4gICAgaXNWYWxpZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubG9naW4gJiYgdGhpcy5sb2dpbi5mb3JtID8gdGhpcy5sb2dpbi5mb3JtLnZhbGlkIDogZmFsc2U7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IFJvdXRlck1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL3JvdXRlcic7XG5pbXBvcnQgeyBUcmFuc2xhdGVNb2R1bGUgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJztcbmltcG9ydCB7IE1hdGVyaWFsTW9kdWxlIH0gZnJvbSAnLi4vbWF0ZXJpYWwubW9kdWxlJztcblxuaW1wb3J0IHsgTG9naW5Db21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvbG9naW4uY29tcG9uZW50JztcbmltcG9ydCB7IExvZ2luRm9vdGVyRGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmVzL2xvZ2luLWZvb3Rlci5kaXJlY3RpdmUnO1xuaW1wb3J0IHsgTG9naW5IZWFkZXJEaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZXMvbG9naW4taGVhZGVyLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBMb2dpbkRpYWxvZ0NvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9sb2dpbi1kaWFsb2cuY29tcG9uZW50JztcbmltcG9ydCB7IExvZ2luRGlhbG9nUGFuZWxDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvbG9naW4tZGlhbG9nLXBhbmVsLmNvbXBvbmVudCc7XG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW1xuICAgICAgICBSb3V0ZXJNb2R1bGUsXG4gICAgICAgIE1hdGVyaWFsTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZSxcbiAgICAgICAgUmVhY3RpdmVGb3Jtc01vZHVsZSxcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBUcmFuc2xhdGVNb2R1bGUuZm9yQ2hpbGQoKVxuICAgIF0sXG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIExvZ2luQ29tcG9uZW50LFxuICAgICAgICBMb2dpbkZvb3RlckRpcmVjdGl2ZSxcbiAgICAgICAgTG9naW5IZWFkZXJEaXJlY3RpdmUsXG4gICAgICAgIExvZ2luRGlhbG9nQ29tcG9uZW50LFxuICAgICAgICBMb2dpbkRpYWxvZ1BhbmVsQ29tcG9uZW50XG4gICAgXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtMb2dpbkRpYWxvZ0NvbXBvbmVudCwgTG9naW5EaWFsb2dQYW5lbENvbXBvbmVudF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBMb2dpbkNvbXBvbmVudCxcbiAgICAgICAgTG9naW5Gb290ZXJEaXJlY3RpdmUsXG4gICAgICAgIExvZ2luSGVhZGVyRGlyZWN0aXZlLFxuICAgICAgICBMb2dpbkRpYWxvZ0NvbXBvbmVudCxcbiAgICAgICAgTG9naW5EaWFsb2dQYW5lbENvbXBvbmVudFxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgTG9naW5Nb2R1bGUge1xufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFwcENvbmZpZ1NlcnZpY2UsIEFwcENvbmZpZ1ZhbHVlcyB9IGZyb20gJy4uL2FwcC1jb25maWcvYXBwLWNvbmZpZy5zZXJ2aWNlJztcbmltcG9ydCB7IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy91c2VyLXByZWZlcmVuY2VzLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1sYW5ndWFnZS1tZW51JyxcbiAgICB0ZW1wbGF0ZVVybDogJ2xhbmd1YWdlLW1lbnUuY29tcG9uZW50Lmh0bWwnXG59KVxuZXhwb3J0IGNsYXNzIExhbmd1YWdlTWVudUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBsYW5ndWFnZXM6IEFycmF5PGFueT4gPSBbXG4gICAgICAgIHsga2V5OiAnZW4nLCBsYWJlbDogJ0VuZ2xpc2gnfVxuICAgIF07XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcHBDb25maWc6IEFwcENvbmZpZ1NlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgdXNlclByZWZlcmVuY2U6IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgY29uc3QgbGFuZ3VhZ2VzQ29uZ2lmQXBwID0gdGhpcy5hcHBDb25maWcuZ2V0PEFycmF5PGFueT4+KEFwcENvbmZpZ1ZhbHVlcy5BUFBfQ09ORklHX0xBTkdVQUdFU19LRVkpO1xuICAgICAgICBpZiAobGFuZ3VhZ2VzQ29uZ2lmQXBwKSB7XG4gICAgICAgICAgICB0aGlzLmxhbmd1YWdlcyA9IGxhbmd1YWdlc0NvbmdpZkFwcDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoYW5nZUxhbmd1YWdlKGxhbmc6IHN0cmluZykge1xuICAgICAgICB0aGlzLnVzZXJQcmVmZXJlbmNlLmxvY2FsZSA9IGxhbmc7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdGVyaWFsTW9kdWxlIH0gZnJvbSAnLi4vbWF0ZXJpYWwubW9kdWxlJztcblxuaW1wb3J0IHsgTGFuZ3VhZ2VNZW51Q29tcG9uZW50IH0gZnJvbSAnLi9sYW5ndWFnZS1tZW51LmNvbXBvbmVudCc7XG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGUsXG4gICAgICAgIE1hdGVyaWFsTW9kdWxlXG4gICAgXSxcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgTGFuZ3VhZ2VNZW51Q29tcG9uZW50XG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIExhbmd1YWdlTWVudUNvbXBvbmVudFxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgTGFuZ3VhZ2VNZW51TW9kdWxlIHt9XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIERpcmVjdGl2ZSwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtaW5mby1kcmF3ZXItbGF5b3V0JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vaW5mby1kcmF3ZXItbGF5b3V0LmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9pbmZvLWRyYXdlci1sYXlvdXQuY29tcG9uZW50LnNjc3MnXSxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgIGhvc3Q6IHsgJ2NsYXNzJzogJ2FkZi1pbmZvLWRyYXdlci1sYXlvdXQnIH1cbn0pXG5leHBvcnQgY2xhc3MgSW5mb0RyYXdlckxheW91dENvbXBvbmVudCB7fVxuXG5ARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbaW5mby1kcmF3ZXItdGl0bGVdJyB9KSBleHBvcnQgY2xhc3MgSW5mb0RyYXdlclRpdGxlRGlyZWN0aXZlIHt9XG5ARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbaW5mby1kcmF3ZXItYnV0dG9uc10nIH0pIGV4cG9ydCBjbGFzcyBJbmZvRHJhd2VyQnV0dG9uc0RpcmVjdGl2ZSB7fVxuQERpcmVjdGl2ZSh7IHNlbGVjdG9yOiAnW2luZm8tZHJhd2VyLWNvbnRlbnRdJyB9KSBleHBvcnQgY2xhc3MgSW5mb0RyYXdlckNvbnRlbnREaXJlY3RpdmUge31cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgQ29udGVudENoaWxkcmVuLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIFF1ZXJ5TGlzdCwgVGVtcGxhdGVSZWYsIFZpZXdDaGlsZCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdFRhYkNoYW5nZUV2ZW50IH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtaW5mby1kcmF3ZXItdGFiJyxcbiAgICB0ZW1wbGF0ZTogJzxuZy10ZW1wbGF0ZT48bmctY29udGVudD48L25nLWNvbnRlbnQ+PC9uZy10ZW1wbGF0ZT4nXG59KVxuZXhwb3J0IGNsYXNzIEluZm9EcmF3ZXJUYWJDb21wb25lbnQge1xuICAgIC8qKiBUaGUgdGl0bGUgb2YgdGhlIHRhYi4gKi9cbiAgICBASW5wdXQoKVxuICAgIGxhYmVsOiBzdHJpbmcgPSAnJztcblxuICAgIC8qKiBJY29uIHRvIHJlbmRlciBmb3IgdGhlIHRhYi4gKi9cbiAgICBASW5wdXQoKVxuICAgIGljb246IHN0cmluZyA9IG51bGw7XG5cbiAgICBAVmlld0NoaWxkKFRlbXBsYXRlUmVmKVxuICAgIGNvbnRlbnQ6IFRlbXBsYXRlUmVmPGFueT47XG59XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLWluZm8tZHJhd2VyJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vaW5mby1kcmF3ZXIuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2luZm8tZHJhd2VyLmNvbXBvbmVudC5zY3NzJ10sXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICBob3N0OiB7ICdjbGFzcyc6ICdhZGYtaW5mby1kcmF3ZXInIH1cbn0pXG5leHBvcnQgY2xhc3MgSW5mb0RyYXdlckNvbXBvbmVudCB7XG4gICAgLyoqIFRoZSB0aXRsZSBvZiB0aGUgaW5mbyBkcmF3ZXIuICovXG4gICAgQElucHV0KClcbiAgICB0aXRsZTogc3RyaW5nfG51bGwgPSBudWxsO1xuXG4gICAgLyoqIFRoZSBzZWxlY3RlZCBpbmRleCB0YWIuICovXG4gICAgQElucHV0KClcbiAgICBzZWxlY3RlZEluZGV4OiBudW1iZXIgPSAwO1xuXG4gICAgLyoqIEVtaXR0ZWQgd2hlbiB0aGUgY3VycmVudGx5IGFjdGl2ZSB0YWIgY2hhbmdlcy4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBjdXJyZW50VGFiOiBFdmVudEVtaXR0ZXI8bnVtYmVyPiA9IG5ldyBFdmVudEVtaXR0ZXI8bnVtYmVyPigpO1xuXG4gICAgQENvbnRlbnRDaGlsZHJlbihJbmZvRHJhd2VyVGFiQ29tcG9uZW50KVxuICAgIGNvbnRlbnRCbG9ja3M6IFF1ZXJ5TGlzdDxJbmZvRHJhd2VyVGFiQ29tcG9uZW50PjtcblxuICAgIHNob3dUYWJMYXlvdXQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRCbG9ja3MubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICBvblRhYkNoYW5nZShldmVudDogTWF0VGFiQ2hhbmdlRXZlbnQpIHtcbiAgICAgICAgdGhpcy5jdXJyZW50VGFiLmVtaXQoZXZlbnQuaW5kZXgpO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0ZXJpYWxNb2R1bGUgfSBmcm9tICcuLi9tYXRlcmlhbC5tb2R1bGUnO1xuXG5pbXBvcnQgeyBJbmZvRHJhd2VyTGF5b3V0Q29tcG9uZW50LCBJbmZvRHJhd2VyVGl0bGVEaXJlY3RpdmUsIEluZm9EcmF3ZXJCdXR0b25zRGlyZWN0aXZlLCBJbmZvRHJhd2VyQ29udGVudERpcmVjdGl2ZSB9IGZyb20gJy4vaW5mby1kcmF3ZXItbGF5b3V0LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBJbmZvRHJhd2VyQ29tcG9uZW50LCBJbmZvRHJhd2VyVGFiQ29tcG9uZW50IH0gZnJvbSAnLi9pbmZvLWRyYXdlci5jb21wb25lbnQnO1xuXG5leHBvcnQgZnVuY3Rpb24gZGVjbGFyYXRpb25zKCkge1xuICAgIHJldHVybiBbXG4gICAgICAgIEluZm9EcmF3ZXJMYXlvdXRDb21wb25lbnQsXG4gICAgICAgIEluZm9EcmF3ZXJUYWJDb21wb25lbnQsXG4gICAgICAgIEluZm9EcmF3ZXJDb21wb25lbnQsXG4gICAgICAgIEluZm9EcmF3ZXJUaXRsZURpcmVjdGl2ZSxcbiAgICAgICAgSW5mb0RyYXdlckJ1dHRvbnNEaXJlY3RpdmUsXG4gICAgICAgIEluZm9EcmF3ZXJDb250ZW50RGlyZWN0aXZlXG4gICAgXTtcbn1cblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgTWF0ZXJpYWxNb2R1bGVcbiAgICBdLFxuICAgIGRlY2xhcmF0aW9uczogZGVjbGFyYXRpb25zKCksXG4gICAgZXhwb3J0czogZGVjbGFyYXRpb25zKClcbn0pXG5leHBvcnQgY2xhc3MgSW5mb0RyYXdlck1vZHVsZSB7fVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29udGVudENoaWxkLCBJbnB1dCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQXBwQ29uZmlnU2VydmljZSB9IGZyb20gJy4uLy4uL2FwcC1jb25maWcvYXBwLWNvbmZpZy5zZXJ2aWNlJztcbmltcG9ydCB7IERhdGFDb2x1bW5MaXN0Q29tcG9uZW50IH0gZnJvbSAnLi4vLi4vZGF0YS1jb2x1bW4vZGF0YS1jb2x1bW4tbGlzdC5jb21wb25lbnQnO1xuaW1wb3J0IHsgRGF0YUNvbHVtbiB9IGZyb20gJy4vZGF0YS1jb2x1bW4ubW9kZWwnO1xuaW1wb3J0IHsgT2JqZWN0RGF0YUNvbHVtbiB9IGZyb20gJy4vb2JqZWN0LWRhdGFjb2x1bW4ubW9kZWwnO1xuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRGF0YVRhYmxlU2NoZW1hIHtcblxuICAgIEBDb250ZW50Q2hpbGQoRGF0YUNvbHVtbkxpc3RDb21wb25lbnQpIGNvbHVtbkxpc3Q6IERhdGFDb2x1bW5MaXN0Q29tcG9uZW50O1xuXG4gICAgLyoqIEN1c3RvbSBwcmVzZXQgY29sdW1uIHNjaGVtYSBpbiBKU09OIGZvcm1hdC4gKi9cbiAgICBASW5wdXQoKVxuICAgIHByZXNldENvbHVtbjogc3RyaW5nO1xuXG4gICAgY29sdW1uczogYW55O1xuXG4gICAgcHJpdmF0ZSBsYXlvdXRQcmVzZXRzID0ge307XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwcENvbmZpZ1NlcnZpY2U6IEFwcENvbmZpZ1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIHByZXNldEtleTogc3RyaW5nLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBwcmVzZXRzTW9kZWw6IGFueSkgeyB9XG5cbiAgICBwdWJsaWMgY3JlYXRlRGF0YXRhYmxlU2NoZW1hKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmxvYWRMYXlvdXRQcmVzZXRzKCk7XG4gICAgICAgIGlmICghdGhpcy5jb2x1bW5zIHx8IHRoaXMuY29sdW1ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuY29sdW1ucyA9IHRoaXMubWVyZ2VKc29uQW5kSHRtbFNjaGVtYSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHVibGljIGxvYWRMYXlvdXRQcmVzZXRzKCk6IHZvaWQge1xuICAgICAgICBjb25zdCBleHRlcm5hbFNldHRpbmdzID0gdGhpcy5hcHBDb25maWdTZXJ2aWNlLmdldCh0aGlzLnByZXNldEtleSwgbnVsbCk7XG4gICAgICAgIGlmIChleHRlcm5hbFNldHRpbmdzKSB7XG4gICAgICAgICAgICB0aGlzLmxheW91dFByZXNldHMgPSBPYmplY3QuYXNzaWduKHt9LCB0aGlzLnByZXNldHNNb2RlbCwgZXh0ZXJuYWxTZXR0aW5ncyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxheW91dFByZXNldHMgPSB0aGlzLnByZXNldHNNb2RlbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHB1YmxpYyBtZXJnZUpzb25BbmRIdG1sU2NoZW1hKCk6IGFueSB7XG4gICAgICAgIGxldCBjdXN0b21TY2hlbWFDb2x1bW5zID0gW107XG4gICAgICAgIGN1c3RvbVNjaGVtYUNvbHVtbnMgPSB0aGlzLmdldFNjaGVtYUZyb21Db25maWcodGhpcy5wcmVzZXRDb2x1bW4pLmNvbmNhdCh0aGlzLmdldFNjaGVtYUZyb21IdG1sKHRoaXMuY29sdW1uTGlzdCkpO1xuICAgICAgICBpZiAoY3VzdG9tU2NoZW1hQ29sdW1ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGN1c3RvbVNjaGVtYUNvbHVtbnMgPSB0aGlzLmdldERlZmF1bHRMYXlvdXRQcmVzZXQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VzdG9tU2NoZW1hQ29sdW1ucztcbiAgICB9XG5cbiAgICBwdWJsaWMgZ2V0U2NoZW1hRnJvbUh0bWwoY29sdW1uTGlzdDogRGF0YUNvbHVtbkxpc3RDb21wb25lbnQpOiBhbnkge1xuICAgICAgICBsZXQgc2NoZW1hID0gW107XG4gICAgICAgIGlmIChjb2x1bW5MaXN0ICYmIGNvbHVtbkxpc3QuY29sdW1ucyAmJiBjb2x1bW5MaXN0LmNvbHVtbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgc2NoZW1hID0gY29sdW1uTGlzdC5jb2x1bW5zLm1hcChjID0+IDxEYXRhQ29sdW1uPiBjKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cblxuICAgcHVibGljIGdldFNjaGVtYUZyb21Db25maWcocHJlc2V0Q29sb3Vtbjogc3RyaW5nKTogRGF0YUNvbHVtbltdIHtcbiAgICAgICAgcmV0dXJuIHByZXNldENvbG91bW4gPyAodGhpcy5sYXlvdXRQcmVzZXRzW3ByZXNldENvbG91bW5dKS5tYXAoY29sID0+IG5ldyBPYmplY3REYXRhQ29sdW1uKGNvbCkpIDogW107XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXREZWZhdWx0TGF5b3V0UHJlc2V0KCk6IERhdGFDb2x1bW5bXSB7XG4gICAgICAgIHJldHVybiAodGhpcy5sYXlvdXRQcmVzZXRzWydkZWZhdWx0J10pLm1hcChjb2wgPT4gbmV3IE9iamVjdERhdGFDb2x1bW4oY29sKSk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQWZ0ZXJWaWV3SW5pdCAsIENvbXBvbmVudCwgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBWaWV3Q2hpbGQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNYXRFeHBhbnNpb25QYW5lbCB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtYWNjb3JkaW9uLWdyb3VwJyxcbiAgICB0ZW1wbGF0ZVVybDogJ2FjY29yZGlvbi1ncm91cC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vYWNjb3JkaW9uLWdyb3VwLmNvbXBvbmVudC5zY3NzJ10sXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBBY2NvcmRpb25Hcm91cENvbXBvbmVudCBpbXBsZW1lbnRzIEFmdGVyVmlld0luaXQge1xuICAgIHByaXZhdGUgX2lzT3BlbjogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHByaXZhdGUgX2lzU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIEBWaWV3Q2hpbGQoJ2NvbnRlbnRXcmFwcGVyJylcbiAgICBjb250ZW50V3JhcHBlcjogRWxlbWVudFJlZjtcblxuICAgIEBWaWV3Q2hpbGQoJ2V4cGFuc2lvblBhbmVsJykgZXhwYW5zaW9uUGFuZWw6IE1hdEV4cGFuc2lvblBhbmVsO1xuXG4gICAgLyoqIFRpdGxlIGhlYWRpbmcgZm9yIHRoZSBncm91cC4gKi9cbiAgICBASW5wdXQoKVxuICAgIGhlYWRpbmc6IHN0cmluZztcblxuICAgIC8qKiBUaGUgbWF0ZXJpYWwgZGVzaWduIGljb24uICovXG4gICAgQElucHV0KClcbiAgICBoZWFkaW5nSWNvbjogc3RyaW5nO1xuXG4gICAgLyoqIFRvb2x0aXAgbWVzc2FnZSB0byBiZSBzaG93biBmb3IgaGVhZGluZ0ljb24gKi9cbiAgICBASW5wdXQoKVxuICAgIGhlYWRpbmdJY29uVG9vbHRpcDogc3RyaW5nO1xuXG4gICAvKiogU2hvdWxkIHRoZSAoZXhwYW5kZWQpIGFjY29yZGlvbiBpY29uIGJlIHNob3duPyAqL1xuICAgIEBJbnB1dCgpXG4gICAgaGFzQWNjb3JkaW9uSWNvbjogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIHRoZSBoZWFkaW5nIGlzIGNsaWNrZWQuICovXG4gICAgQE91dHB1dCgpXG4gICAgaGVhZGluZ0NsaWNrOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgLyoqIElzIHRoaXMgZ3JvdXAgY3VycmVudGx5IG9wZW4/ICovXG4gICAgQElucHV0KClcbiAgICBzZXQgaXNPcGVuKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX2lzT3BlbiA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBpc09wZW4oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc09wZW47XG4gICAgfVxuXG4gICAgLyoqIElzIHRoaXMgZ3JvdXAgY3VycmVudGx5IHNlbGVjdGVkPyAqL1xuICAgIEBJbnB1dCgpXG4gICAgc2V0IGlzU2VsZWN0ZWQodmFsdWU6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5faXNTZWxlY3RlZCA9IHZhbHVlO1xuICAgIH1cblxuICAgIGdldCBpc1NlbGVjdGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNTZWxlY3RlZDtcbiAgICB9XG5cbiAgICBoYXNDb250ZW50OiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IoKSB7IH1cblxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgdGhpcy5oYXNDb250ZW50ID0gdGhpcy5jb250ZW50V3JhcHBlci5uYXRpdmVFbGVtZW50ICYmIHRoaXMuY29udGVudFdyYXBwZXIubmF0aXZlRWxlbWVudC5jaGlsZHJlbi5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGhhc0hlYWRpbmdJY29uKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLmhlYWRpbmdJY29uO1xuICAgIH1cblxuICAgIG9uSGVhZGVyQ2xpY2soKTogdm9pZCB7XG4gICAgICAgIHRoaXMuaGVhZGluZ0NsaWNrLmVtaXQodGhpcy5oZWFkaW5nKTtcbiAgICB9XG5cbiAgICBpc0V4cGFuZGFibGUoKSB7XG4gICAgICAgIGlmICghdGhpcy5oYXNDb250ZW50IHx8ICF0aGlzLmlzT3Blbikge1xuICAgICAgICAgICAgdGhpcy5leHBhbmRQYW5lbCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXhwYW5kUGFuZWwoKSB7XG4gICAgICAgIHRoaXMuZXhwYW5zaW9uUGFuZWwuZXhwYW5kZWQgPSAhdGhpcy5leHBhbnNpb25QYW5lbC5leHBhbmRlZDtcbiAgICB9XG5cbiAgICB0b2dnbGVFeHBhbnNpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzT3BlbiAmJiB0aGlzLmlzU2VsZWN0ZWQ7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1hY2NvcmRpb24nLFxuICAgIHRlbXBsYXRlOiBgXG4gICAgICAgIDxuZy1jb250ZW50PjwvbmctY29udGVudD5cbiAgICBgLFxuICAgIGhvc3Q6IHtcbiAgICAgICAgJ2NsYXNzJzogJ3BhbmVsLWdyb3VwJ1xuICAgIH0sXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBBY2NvcmRpb25Db21wb25lbnQge31cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0ZXJpYWxNb2R1bGUgfSBmcm9tICcuLi9tYXRlcmlhbC5tb2R1bGUnO1xuXG5pbXBvcnQgeyBBY2NvcmRpb25Hcm91cENvbXBvbmVudCB9IGZyb20gJy4vYWNjb3JkaW9uLWdyb3VwLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBBY2NvcmRpb25Db21wb25lbnQgfSBmcm9tICcuL2FjY29yZGlvbi5jb21wb25lbnQnO1xuXG4vLyBAZGVwcmVjYXRlZCAyLjMuMCB1c2UgdGhlIG1hdGVyaWFsIGFjY29kcmRpb25cblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIE1hdGVyaWFsTW9kdWxlLFxuICAgICAgICBDb21tb25Nb2R1bGVcbiAgICBdLFxuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBBY2NvcmRpb25Db21wb25lbnQsXG4gICAgICAgIEFjY29yZGlvbkdyb3VwQ29tcG9uZW50XG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIEFjY29yZGlvbkNvbXBvbmVudCxcbiAgICAgICAgQWNjb3JkaW9uR3JvdXBDb21wb25lbnRcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIENvbGxhcHNhYmxlTW9kdWxlIHt9XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDYXJkVmlld0l0ZW0gfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2NhcmQtdmlldy1pdGVtLmludGVyZmFjZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLWNhcmQtdmlldycsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2NhcmQtdmlldy5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vY2FyZC12aWV3LmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgQ2FyZFZpZXdDb21wb25lbnQge1xuICAgIC8qKiAoKipyZXF1aXJlZCoqKSBJdGVtcyB0byBzaG93IGluIHRoZSBjYXJkIHZpZXcuICovXG4gICAgQElucHV0KClcbiAgICBwcm9wZXJ0aWVzOiBDYXJkVmlld0l0ZW0gW107XG5cbiAgICAvKiogVG9nZ2xlcyB3aGV0aGVyIG9yIG5vdCB0aGUgaXRlbXMgY2FuIGJlIGVkaXRlZC4gKi9cbiAgICBASW5wdXQoKVxuICAgIGVkaXRhYmxlOiBib29sZWFuO1xuXG4gICAgLyoqIFRvZ2dsZXMgd2hldGhlciBvciBub3QgdG8gc2hvdyBlbXB0eSBpdGVtcyBpbiBub24tZWRpdGFibGUgbW9kZS4gKi9cbiAgICBASW5wdXQoKVxuICAgIGRpc3BsYXlFbXB0eTogYm9vbGVhbiA9IHRydWU7XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJqZWN0IH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBDYXJkVmlld0Jhc2VJdGVtTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvY2FyZC12aWV3LWJhc2VpdGVtLm1vZGVsJztcblxuZXhwb3J0IGludGVyZmFjZSBVcGRhdGVOb3RpZmljYXRpb24ge1xuICAgIHRhcmdldDogYW55O1xuICAgIGNoYW5nZWQ6IGFueTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDbGlja05vdGlmaWNhdGlvbiB7XG4gICAgdGFyZ2V0OiBhbnk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0cmFuc2Zvcm1LZXlUb09iamVjdChrZXk6IHN0cmluZywgdmFsdWUpOiBPYmplY3Qge1xuICAgIGNvbnN0IG9iamVjdExldmVsczogc3RyaW5nW10gPSBrZXkuc3BsaXQoJy4nKS5yZXZlcnNlKCk7XG5cbiAgICByZXR1cm4gb2JqZWN0TGV2ZWxzLnJlZHVjZTx7fT4oKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRWYWx1ZSkgPT4ge1xuICAgICAgICByZXR1cm4geyBbY3VycmVudFZhbHVlXTogcHJldmlvdXNWYWx1ZX07XG4gICAgfSwgdmFsdWUpO1xufVxuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQ2FyZFZpZXdVcGRhdGVTZXJ2aWNlIHtcblxuICAgIC8vIE9ic2VydmFibGUgc291cmNlc1xuICAgIHByaXZhdGUgaXRlbVVwZGF0ZWRTb3VyY2UgPSBuZXcgU3ViamVjdDxVcGRhdGVOb3RpZmljYXRpb24+KCk7XG4gICAgcHJpdmF0ZSBpdGVtQ2xpY2tlZFNvdXJjZSA9IG5ldyBTdWJqZWN0PENsaWNrTm90aWZpY2F0aW9uPigpO1xuXG4gICAgLy8gT2JzZXJ2YWJsZSBzdHJlYW1zXG4gICAgcHVibGljIGl0ZW1VcGRhdGVkJCA9IDxPYnNlcnZhYmxlPFVwZGF0ZU5vdGlmaWNhdGlvbj4+IHRoaXMuaXRlbVVwZGF0ZWRTb3VyY2UuYXNPYnNlcnZhYmxlKCk7XG4gICAgcHVibGljIGl0ZW1DbGlja2VkJCA9IDxPYnNlcnZhYmxlPENsaWNrTm90aWZpY2F0aW9uPj4gdGhpcy5pdGVtQ2xpY2tlZFNvdXJjZS5hc09ic2VydmFibGUoKTtcblxuICAgIHVwZGF0ZShwcm9wZXJ0eTogQ2FyZFZpZXdCYXNlSXRlbU1vZGVsLCBuZXdWYWx1ZTogYW55KSB7XG4gICAgICAgIHRoaXMuaXRlbVVwZGF0ZWRTb3VyY2UubmV4dCh7XG4gICAgICAgICAgICB0YXJnZXQ6IHByb3BlcnR5LFxuICAgICAgICAgICAgY2hhbmdlZDogdHJhbnNmb3JtS2V5VG9PYmplY3QocHJvcGVydHkua2V5LCBuZXdWYWx1ZSlcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgY2xpY2tlZChwcm9wZXJ0eTogQ2FyZFZpZXdCYXNlSXRlbU1vZGVsKSB7XG4gICAgICAgIHRoaXMuaXRlbUNsaWNrZWRTb3VyY2UubmV4dCh7XG4gICAgICAgICAgICB0YXJnZXQ6IHByb3BlcnR5XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdENoZWNrYm94Q2hhbmdlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgQ2FyZFZpZXdCb29sSXRlbU1vZGVsIH0gZnJvbSAnLi4vLi4vbW9kZWxzL2NhcmQtdmlldy1ib29saXRlbS5tb2RlbCc7XG5pbXBvcnQgeyBDYXJkVmlld1VwZGF0ZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9jYXJkLXZpZXctdXBkYXRlLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1jYXJkLXZpZXctYm9vbGl0ZW0nLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9jYXJkLXZpZXctYm9vbGl0ZW0uY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2NhcmQtdmlldy1ib29saXRlbS5jb21wb25lbnQuc2NzcyddXG59KVxuXG5leHBvcnQgY2xhc3MgQ2FyZFZpZXdCb29sSXRlbUNvbXBvbmVudCB7XG5cbiAgICBASW5wdXQoKVxuICAgIHByb3BlcnR5OiBDYXJkVmlld0Jvb2xJdGVtTW9kZWw7XG5cbiAgICBASW5wdXQoKVxuICAgIGVkaXRhYmxlOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjYXJkVmlld1VwZGF0ZVNlcnZpY2U6IENhcmRWaWV3VXBkYXRlU2VydmljZSkge31cblxuICAgIGlzRWRpdGFibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVkaXRhYmxlICYmIHRoaXMucHJvcGVydHkuZWRpdGFibGU7XG4gICAgfVxuXG4gICAgY2hhbmdlZChjaGFuZ2U6IE1hdENoZWNrYm94Q2hhbmdlKSB7XG4gICAgICAgIHRoaXMuY2FyZFZpZXdVcGRhdGVTZXJ2aWNlLnVwZGF0ZSh0aGlzLnByb3BlcnR5LCBjaGFuZ2UuY2hlY2tlZCApO1xuICAgICAgICB0aGlzLnByb3BlcnR5LnZhbHVlID0gY2hhbmdlLmNoZWNrZWQ7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0LCBWaWV3Q2hpbGQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IERhdGVBZGFwdGVyLCBNQVRfREFURV9GT1JNQVRTIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgTWF0RGF0ZXRpbWVwaWNrZXIsIERhdGV0aW1lQWRhcHRlciwgTUFUX0RBVEVUSU1FX0ZPUk1BVFMgfSBmcm9tICdAbWF0LWRhdGV0aW1lcGlja2VyL2NvcmUnO1xuaW1wb3J0IHsgTW9tZW50RGF0ZXRpbWVBZGFwdGVyLCBNQVRfTU9NRU5UX0RBVEVUSU1FX0ZPUk1BVFMgfSBmcm9tICdAbWF0LWRhdGV0aW1lcGlja2VyL21vbWVudCc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudC1lczYnO1xuaW1wb3J0IHsgTW9tZW50IH0gZnJvbSAnbW9tZW50JztcbmltcG9ydCB7IENhcmRWaWV3RGF0ZUl0ZW1Nb2RlbCB9IGZyb20gJy4uLy4uL21vZGVscy9jYXJkLXZpZXctZGF0ZWl0ZW0ubW9kZWwnO1xuaW1wb3J0IHsgQ2FyZFZpZXdVcGRhdGVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY2FyZC12aWV3LXVwZGF0ZS5zZXJ2aWNlJztcbmltcG9ydCB7IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlcy91c2VyLXByZWZlcmVuY2VzLnNlcnZpY2UnO1xuaW1wb3J0IHsgTW9tZW50RGF0ZUFkYXB0ZXIgfSBmcm9tICcuLi8uLi8uLi91dGlscy9tb21lbnREYXRlQWRhcHRlcic7XG5pbXBvcnQgeyBNT01FTlRfREFURV9GT1JNQVRTIH0gZnJvbSAnLi4vLi4vLi4vdXRpbHMvbW9tZW50LWRhdGUtZm9ybWF0cy5tb2RlbCc7XG5cbkBDb21wb25lbnQoe1xuICAgIHByb3ZpZGVyczogW1xuICAgICAgICB7IHByb3ZpZGU6IERhdGVBZGFwdGVyLCB1c2VDbGFzczogTW9tZW50RGF0ZUFkYXB0ZXIgfSxcbiAgICAgICAgeyBwcm92aWRlOiBNQVRfREFURV9GT1JNQVRTLCB1c2VWYWx1ZTogTU9NRU5UX0RBVEVfRk9STUFUUyB9LFxuICAgICAgICB7IHByb3ZpZGU6IERhdGV0aW1lQWRhcHRlciwgdXNlQ2xhc3M6IE1vbWVudERhdGV0aW1lQWRhcHRlciB9LFxuICAgICAgICB7IHByb3ZpZGU6IE1BVF9EQVRFVElNRV9GT1JNQVRTLCB1c2VWYWx1ZTogTUFUX01PTUVOVF9EQVRFVElNRV9GT1JNQVRTIH1cbiAgICBdLFxuICAgIHNlbGVjdG9yOiAnYWRmLWNhcmQtdmlldy1kYXRlaXRlbScsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2NhcmQtdmlldy1kYXRlaXRlbS5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vY2FyZC12aWV3LWRhdGVpdGVtLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgQ2FyZFZpZXdEYXRlSXRlbUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBwdWJsaWMgU0hPV19GT1JNQVQ6IHN0cmluZyA9ICdNTU0gREQgWVknO1xuXG4gICAgQElucHV0KClcbiAgICBwcm9wZXJ0eTogQ2FyZFZpZXdEYXRlSXRlbU1vZGVsO1xuXG4gICAgQElucHV0KClcbiAgICBlZGl0YWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQElucHV0KClcbiAgICBkaXNwbGF5RW1wdHk6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgQFZpZXdDaGlsZCgnZGF0ZXRpbWVQaWNrZXInKVxuICAgIHB1YmxpYyBkYXRlcGlja2VyOiBNYXREYXRldGltZXBpY2tlcjxhbnk+O1xuXG4gICAgdmFsdWVEYXRlOiBNb21lbnQ7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNhcmRWaWV3VXBkYXRlU2VydmljZTogQ2FyZFZpZXdVcGRhdGVTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgZGF0ZUFkYXB0ZXI6IERhdGVBZGFwdGVyPE1vbWVudD4sXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBwcmVmZXJlbmNlczogVXNlclByZWZlcmVuY2VzU2VydmljZSkge1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnByZWZlcmVuY2VzLmxvY2FsZSQuc3Vic2NyaWJlKChsb2NhbGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGF0ZUFkYXB0ZXIuc2V0TG9jYWxlKGxvY2FsZSk7XG4gICAgICAgIH0pO1xuICAgICAgICAoPE1vbWVudERhdGVBZGFwdGVyPiB0aGlzLmRhdGVBZGFwdGVyKS5vdmVycmlkZURpc3BseWFGb3JtYXQgPSB0aGlzLlNIT1dfRk9STUFUO1xuXG4gICAgICAgIGlmICh0aGlzLnByb3BlcnR5LnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlRGF0ZSA9IG1vbWVudCh0aGlzLnByb3BlcnR5LnZhbHVlLCB0aGlzLlNIT1dfRk9STUFUKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNob3dQcm9wZXJ0eSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheUVtcHR5IHx8ICF0aGlzLnByb3BlcnR5LmlzRW1wdHkoKTtcbiAgICB9XG5cbiAgICBpc0VkaXRhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lZGl0YWJsZSAmJiB0aGlzLnByb3BlcnR5LmVkaXRhYmxlO1xuICAgIH1cblxuICAgIHNob3dEYXRlUGlja2VyKCkge1xuICAgICAgICB0aGlzLmRhdGVwaWNrZXIub3BlbigpO1xuICAgIH1cblxuICAgIG9uRGF0ZUNoYW5nZWQobmV3RGF0ZVZhbHVlKSB7XG4gICAgICAgIGlmIChuZXdEYXRlVmFsdWUpIHtcbiAgICAgICAgICAgIGxldCBtb21lbnREYXRlID0gbW9tZW50KG5ld0RhdGVWYWx1ZS52YWx1ZSwgdGhpcy5TSE9XX0ZPUk1BVCwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAobW9tZW50RGF0ZS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhbHVlRGF0ZSA9IG1vbWVudERhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5jYXJkVmlld1VwZGF0ZVNlcnZpY2UudXBkYXRlKHRoaXMucHJvcGVydHksIG1vbWVudERhdGUudG9EYXRlKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMucHJvcGVydHkudmFsdWUgPSBtb21lbnREYXRlLnRvRGF0ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDYXJkVmlld01hcEl0ZW1Nb2RlbCB9IGZyb20gJy4uLy4uL21vZGVscy9jYXJkLXZpZXctbWFwaXRlbS5tb2RlbCc7XG5pbXBvcnQgeyBDYXJkVmlld1VwZGF0ZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9jYXJkLXZpZXctdXBkYXRlLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1jYXJkLXZpZXctbWFwaXRlbScsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2NhcmQtdmlldy1tYXBpdGVtLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9jYXJkLXZpZXctbWFwaXRlbS5jb21wb25lbnQuc2NzcyddXG59KVxuXG5leHBvcnQgY2xhc3MgQ2FyZFZpZXdNYXBJdGVtQ29tcG9uZW50IHtcbiAgICBASW5wdXQoKVxuICAgIHByb3BlcnR5OiBDYXJkVmlld01hcEl0ZW1Nb2RlbDtcblxuICAgIEBJbnB1dCgpXG4gICAgZGlzcGxheUVtcHR5OiBib29sZWFuID0gdHJ1ZTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgY2FyZFZpZXdVcGRhdGVTZXJ2aWNlOiBDYXJkVmlld1VwZGF0ZVNlcnZpY2UpIHt9XG5cbiAgICBzaG93UHJvcGVydHkoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpc3BsYXlFbXB0eSB8fCAhdGhpcy5wcm9wZXJ0eS5pc0VtcHR5KCk7XG4gICAgfVxuXG4gICAgaXNDbGlja2FibGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnByb3BlcnR5LmNsaWNrYWJsZTtcbiAgICB9XG5cbiAgICBjbGlja2VkKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNhcmRWaWV3VXBkYXRlU2VydmljZS5jbGlja2VkKHRoaXMucHJvcGVydHkpO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uQ2hhbmdlcywgVmlld0NoaWxkIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDYXJkVmlld1RleHRJdGVtTW9kZWwgfSBmcm9tICcuLi8uLi9tb2RlbHMvY2FyZC12aWV3LXRleHRpdGVtLm1vZGVsJztcbmltcG9ydCB7IENhcmRWaWV3VXBkYXRlU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2NhcmQtdmlldy11cGRhdGUuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLWNhcmQtdmlldy10ZXh0aXRlbScsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2NhcmQtdmlldy10ZXh0aXRlbS5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vY2FyZC12aWV3LXRleHRpdGVtLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgQ2FyZFZpZXdUZXh0SXRlbUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcyB7XG4gICAgQElucHV0KClcbiAgICBwcm9wZXJ0eTogQ2FyZFZpZXdUZXh0SXRlbU1vZGVsO1xuXG4gICAgQElucHV0KClcbiAgICBlZGl0YWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQElucHV0KClcbiAgICBkaXNwbGF5RW1wdHk6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgQFZpZXdDaGlsZCgnZWRpdG9ySW5wdXQnKVxuICAgIHByaXZhdGUgZWRpdG9ySW5wdXQ6IGFueTtcblxuICAgIGluRWRpdDogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGVkaXRlZFZhbHVlOiBzdHJpbmc7XG4gICAgZXJyb3JNZXNzYWdlczogc3RyaW5nW107XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNhcmRWaWV3VXBkYXRlU2VydmljZTogQ2FyZFZpZXdVcGRhdGVTZXJ2aWNlKSB7XG4gICAgfVxuXG4gICAgbmdPbkNoYW5nZXMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZWRpdGVkVmFsdWUgPSB0aGlzLnByb3BlcnR5LnZhbHVlO1xuICAgIH1cblxuICAgIHNob3dQcm9wZXJ0eSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGlzcGxheUVtcHR5IHx8ICF0aGlzLnByb3BlcnR5LmlzRW1wdHkoKTtcbiAgICB9XG5cbiAgICBpc0VkaXRhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lZGl0YWJsZSAmJiB0aGlzLnByb3BlcnR5LmVkaXRhYmxlO1xuICAgIH1cblxuICAgIGlzQ2xpY2thYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9wZXJ0eS5jbGlja2FibGU7XG4gICAgfVxuXG4gICAgaGFzSWNvbigpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5wcm9wZXJ0eS5pY29uO1xuICAgIH1cblxuICAgIGhhc0Vycm9ycygpOiBudW1iZXIge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvck1lc3NhZ2VzICYmIHRoaXMuZXJyb3JNZXNzYWdlcy5sZW5ndGg7XG4gICAgfVxuXG4gICAgc2V0RWRpdE1vZGUoZWRpdFN0YXR1czogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICB0aGlzLmluRWRpdCA9IGVkaXRTdGF0dXM7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuZWRpdG9ySW5wdXQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVkaXRvcklucHV0Lm5hdGl2ZUVsZW1lbnQuY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMCk7XG4gICAgfVxuXG4gICAgcmVzZXQoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuZWRpdGVkVmFsdWUgPSB0aGlzLnByb3BlcnR5LnZhbHVlO1xuICAgICAgICB0aGlzLnNldEVkaXRNb2RlKGZhbHNlKTtcbiAgICB9XG5cbiAgICB1cGRhdGUoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLnByb3BlcnR5LmlzVmFsaWQodGhpcy5lZGl0ZWRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHRoaXMuY2FyZFZpZXdVcGRhdGVTZXJ2aWNlLnVwZGF0ZSh0aGlzLnByb3BlcnR5LCB0aGlzLmVkaXRlZFZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMucHJvcGVydHkudmFsdWUgPSB0aGlzLmVkaXRlZFZhbHVlO1xuICAgICAgICAgICAgdGhpcy5zZXRFZGl0TW9kZShmYWxzZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yTWVzc2FnZXMgPSB0aGlzLnByb3BlcnR5LmdldFZhbGlkYXRpb25FcnJvcnModGhpcy5lZGl0ZWRWYWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjbGlja2VkKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNhcmRWaWV3VXBkYXRlU2VydmljZS5jbGlja2VkKHRoaXMucHJvcGVydHkpO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uQ2hhbmdlcyB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ2FyZFZpZXdTZWxlY3RJdGVtTW9kZWwgfSBmcm9tICcuLi8uLi9tb2RlbHMvY2FyZC12aWV3LXNlbGVjdGl0ZW0ubW9kZWwnO1xuaW1wb3J0IHsgQ2FyZFZpZXdVcGRhdGVTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY2FyZC12aWV3LXVwZGF0ZS5zZXJ2aWNlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENhcmRWaWV3U2VsZWN0SXRlbU9wdGlvbiB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvY2FyZC12aWV3LmludGVyZmFjZXMnO1xuaW1wb3J0IHsgTWF0U2VsZWN0Q2hhbmdlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1jYXJkLXZpZXctc2VsZWN0aXRlbScsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2NhcmQtdmlldy1zZWxlY3RpdGVtLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9jYXJkLXZpZXctc2VsZWN0aXRlbS5jb21wb25lbnQuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIENhcmRWaWV3U2VsZWN0SXRlbUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcyB7XG4gICAgQElucHV0KCkgcHJvcGVydHk6IENhcmRWaWV3U2VsZWN0SXRlbU1vZGVsPHN0cmluZz47XG5cbiAgICBASW5wdXQoKSBlZGl0YWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQElucHV0KCkgb3B0aW9ucyQ6IE9ic2VydmFibGU8Q2FyZFZpZXdTZWxlY3RJdGVtT3B0aW9uPHN0cmluZz5bXT47XG5cbiAgICB2YWx1ZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjYXJkVmlld1VwZGF0ZVNlcnZpY2U6IENhcmRWaWV3VXBkYXRlU2VydmljZSkge31cblxuICAgIG5nT25DaGFuZ2VzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy5wcm9wZXJ0eS52YWx1ZTtcbiAgICB9XG5cbiAgICBpc0VkaXRhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lZGl0YWJsZSAmJiB0aGlzLnByb3BlcnR5LmVkaXRhYmxlO1xuICAgIH1cblxuICAgIGdldE9wdGlvbnMoKTogT2JzZXJ2YWJsZTxDYXJkVmlld1NlbGVjdEl0ZW1PcHRpb248c3RyaW5nPltdPiB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMkIHx8IHRoaXMucHJvcGVydHkub3B0aW9ucyQ7XG4gICAgfVxuXG4gICAgb25DaGFuZ2UoZXZlbnQ6IE1hdFNlbGVjdENoYW5nZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmNhcmRWaWV3VXBkYXRlU2VydmljZS51cGRhdGUodGhpcy5wcm9wZXJ0eSwgZXZlbnQudmFsdWUpO1xuICAgICAgICB0aGlzLnByb3BlcnR5LnZhbHVlID0gZXZlbnQudmFsdWU7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25DaGFuZ2VzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDYXJkVmlld1VwZGF0ZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9jYXJkLXZpZXctdXBkYXRlLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ2FyZFZpZXdLZXlWYWx1ZVBhaXJzSXRlbU1vZGVsIH0gZnJvbSAnLi4vLi4vbW9kZWxzL2NhcmQtdmlldy5tb2RlbHMnO1xuaW1wb3J0IHsgQ2FyZFZpZXdLZXlWYWx1ZVBhaXJzSXRlbVR5cGUgfSBmcm9tICcuLi8uLi9pbnRlcmZhY2VzL2NhcmQtdmlldy5pbnRlcmZhY2VzJztcbmltcG9ydCB7IE1hdFRhYmxlRGF0YVNvdXJjZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtY2FyZC12aWV3LWJvb2xpdGVtJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vY2FyZC12aWV3LWtleXZhbHVlcGFpcnNpdGVtLmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9jYXJkLXZpZXcta2V5dmFsdWVwYWlyc2l0ZW0uY29tcG9uZW50LnNjc3MnXVxufSlcblxuZXhwb3J0IGNsYXNzIENhcmRWaWV3S2V5VmFsdWVQYWlyc0l0ZW1Db21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xuXG4gICAgQElucHV0KClcbiAgICBwcm9wZXJ0eTogQ2FyZFZpZXdLZXlWYWx1ZVBhaXJzSXRlbU1vZGVsO1xuXG4gICAgQElucHV0KClcbiAgICBlZGl0YWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgdmFsdWVzOiBDYXJkVmlld0tleVZhbHVlUGFpcnNJdGVtVHlwZVtdO1xuICAgIG1hdFRhYmxlVmFsdWVzOiBNYXRUYWJsZURhdGFTb3VyY2U8Q2FyZFZpZXdLZXlWYWx1ZVBhaXJzSXRlbVR5cGU+O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjYXJkVmlld1VwZGF0ZVNlcnZpY2U6IENhcmRWaWV3VXBkYXRlU2VydmljZSkge31cblxuICAgIG5nT25DaGFuZ2VzKCkge1xuICAgICAgICB0aGlzLnZhbHVlcyA9IHRoaXMucHJvcGVydHkudmFsdWUgfHwgW107XG4gICAgICAgIHRoaXMubWF0VGFibGVWYWx1ZXMgPSBuZXcgTWF0VGFibGVEYXRhU291cmNlKHRoaXMudmFsdWVzKTtcbiAgICB9XG5cbiAgICBpc0VkaXRhYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5lZGl0YWJsZSAmJiB0aGlzLnByb3BlcnR5LmVkaXRhYmxlO1xuICAgIH1cblxuICAgIGFkZCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy52YWx1ZXMucHVzaCh7IG5hbWU6ICcnLCB2YWx1ZTogJycgfSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlKGluZGV4OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy52YWx1ZXMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICAgICAgdGhpcy5zYXZlKHRydWUpO1xuICAgIH1cblxuICAgIG9uQmx1cih2YWx1ZSk6IHZvaWQge1xuICAgICAgICBpZiAodmFsdWUubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLnNhdmUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNhdmUocmVtb3ZlPzogYm9vbGVhbik6IHZvaWQge1xuICAgICAgICBjb25zdCB2YWxpZFZhbHVlcyA9IHRoaXMudmFsdWVzLmZpbHRlcihpID0+IGkubmFtZS5sZW5ndGggJiYgaS52YWx1ZS5sZW5ndGgpO1xuXG4gICAgICAgIGlmIChyZW1vdmUgfHwgdmFsaWRWYWx1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICB0aGlzLmNhcmRWaWV3VXBkYXRlU2VydmljZS51cGRhdGUodGhpcy5wcm9wZXJ0eSwgdmFsaWRWYWx1ZXMpO1xuICAgICAgICAgICAgdGhpcy5wcm9wZXJ0eS52YWx1ZSA9IHZhbGlkVmFsdWVzO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGZ1bmN0aW9uIGdldFR5cGUodHlwZTogYW55KTogYW55IHtcbiAgICByZXR1cm4gKCkgPT4gdHlwZTtcbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFR5cGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGdldFR5cGUgfSBmcm9tICcuL2dldC10eXBlJztcblxuZXhwb3J0IGludGVyZmFjZSBEeW5hbWljQ29tcG9uZW50TW9kZWwgeyB0eXBlOiBzdHJpbmc7IH1cbmV4cG9ydCB0eXBlIER5bmFtaWNDb21wb25lbnRSZXNvbHZlRnVuY3Rpb24gPSAobW9kZWw6IER5bmFtaWNDb21wb25lbnRNb2RlbCkgPT4gVHlwZTx7fT47XG5leHBvcnQgY2xhc3MgRHluYW1pY0NvbXBvbmVudFJlc29sdmVyIHtcbiAgICBzdGF0aWMgZnJvbVR5cGUodHlwZTogVHlwZTx7fT4pOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZUZ1bmN0aW9uIHtcbiAgICAgICAgcmV0dXJuIGdldFR5cGUodHlwZSk7XG4gICAgfVxufVxuXG5leHBvcnQgYWJzdHJhY3QgY2xhc3MgRHluYW1pY0NvbXBvbmVudE1hcHBlciB7XG5cbiAgICBwcm90ZWN0ZWQgZGVmYXVsdFZhbHVlOiBUeXBlPHt9PiA9IHVuZGVmaW5lZDtcbiAgICBwcm90ZWN0ZWQgdHlwZXM6IHsgW2tleTogc3RyaW5nXTogRHluYW1pY0NvbXBvbmVudFJlc29sdmVGdW5jdGlvbiB9ID0ge307XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBjdXJyZW50bHkgYWN0aXZlIENvbXBvbmVudFR5cGVSZXNvbHZlciBmdW5jdGlvbiBmb3IgYSBmaWVsZCB0eXBlLlxuICAgICAqIEBwYXJhbSB0eXBlIFRoZSB0eXBlIHdob3NlIHJlc29sdmVyIHlvdSB3YW50XG4gICAgICogQHBhcmFtIGRlZmF1bHRWYWx1ZSBEZWZhdWx0IHR5cGUgcmV0dXJuZWQgZm9yIHR5cGVzIHRoYXQgYXJlIG5vdCB5ZXQgbWFwcGVkXG4gICAgICogQHJldHVybnMgUmVzb2x2ZXIgZnVuY3Rpb25cbiAgICAgKi9cbiAgICBnZXRDb21wb25lbnRUeXBlUmVzb2x2ZXIodHlwZTogc3RyaW5nLCBkZWZhdWx0VmFsdWU6IFR5cGU8e30+ID0gdGhpcy5kZWZhdWx0VmFsdWUpOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZUZ1bmN0aW9uIHtcbiAgICAgICAgaWYgKHR5cGUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnR5cGVzW3R5cGVdIHx8IER5bmFtaWNDb21wb25lbnRSZXNvbHZlci5mcm9tVHlwZShkZWZhdWx0VmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZXIuZnJvbVR5cGUoZGVmYXVsdFZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIG9yIG9wdGlvbmFsbHkgcmVwbGFjZXMgYSBDb21wb25lbnRUeXBlUmVzb2x2ZXIgZnVuY3Rpb24gZm9yIGEgZmllbGQgdHlwZS5cbiAgICAgKiBAcGFyYW0gdHlwZSBUaGUgdHlwZSB3aG9zZSByZXNvbHZlciB5b3Ugd2FudCB0byBzZXRcbiAgICAgKiBAcGFyYW0gcmVzb2x2ZXIgVGhlIG5ldyByZXNvbHZlciBmdW5jdGlvblxuICAgICAqIEBwYXJhbSBvdmVycmlkZSBUaGUgbmV3IHJlc29sdmVyIHdpbGwgb25seSByZXBsYWNlIGFuIGV4aXN0aW5nIG9uZSBpZiB0aGlzIHBhcmFtZXRlciBpcyB0cnVlXG4gICAgICovXG4gICAgc2V0Q29tcG9uZW50VHlwZVJlc29sdmVyKHR5cGU6IHN0cmluZywgcmVzb2x2ZXI6IER5bmFtaWNDb21wb25lbnRSZXNvbHZlRnVuY3Rpb24sIG92ZXJyaWRlOiBib29sZWFuID0gdHJ1ZSkge1xuICAgICAgICBpZiAoIXR5cGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgdHlwZSBpcyBudWxsIG9yIG5vdCBkZWZpbmVkYCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXJlc29sdmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHJlc29sdmVyIGlzIG51bGwgb3Igbm90IGRlZmluZWRgKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBleGlzdGluZyA9IHRoaXMudHlwZXNbdHlwZV07XG4gICAgICAgIGlmIChleGlzdGluZyAmJiAhb3ZlcnJpZGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgYWxyZWFkeSBtYXBwZWQsIHVzZSBvdmVycmlkZSBvcHRpb24gaWYgeW91IGludGVuZCByZXBsYWNpbmcgZXhpc3RpbmcgbWFwcGluZy5gKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudHlwZXNbdHlwZV0gPSByZXNvbHZlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGaW5kcyB0aGUgY29tcG9uZW50IHR5cGUgdGhhdCBpcyBuZWVkZWQgdG8gcmVuZGVyIGEgZm9ybSBmaWVsZC5cbiAgICAgKiBAcGFyYW0gbW9kZWwgRm9ybSBmaWVsZCBtb2RlbCBmb3IgdGhlIGZpZWxkIHRvIHJlbmRlclxuICAgICAqIEBwYXJhbSBkZWZhdWx0VmFsdWUgRGVmYXVsdCB0eXBlIHJldHVybmVkIGZvciBmaWVsZCB0eXBlcyB0aGF0IGFyZSBub3QgeWV0IG1hcHBlZC5cbiAgICAgKiBAcmV0dXJucyBDb21wb25lbnQgdHlwZVxuICAgICAqL1xuICAgIHJlc29sdmVDb21wb25lbnRUeXBlKG1vZGVsOiBEeW5hbWljQ29tcG9uZW50TW9kZWwsIGRlZmF1bHRWYWx1ZTogVHlwZTx7fT4gPSB0aGlzLmRlZmF1bHRWYWx1ZSk6IFR5cGU8e30+IHtcbiAgICAgICAgaWYgKG1vZGVsKSB7XG4gICAgICAgICAgICBsZXQgcmVzb2x2ZXIgPSB0aGlzLmdldENvbXBvbmVudFR5cGVSZXNvbHZlcihtb2RlbC50eXBlLCBkZWZhdWx0VmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmVyKG1vZGVsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmYXVsdFZhbHVlO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEluamVjdGFibGUsIFR5cGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENhcmRWaWV3RGF0ZUl0ZW1Db21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL2NhcmQtdmlldy1kYXRlaXRlbS9jYXJkLXZpZXctZGF0ZWl0ZW0uY29tcG9uZW50JztcbmltcG9ydCB7IENhcmRWaWV3TWFwSXRlbUNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvY2FyZC12aWV3LW1hcGl0ZW0vY2FyZC12aWV3LW1hcGl0ZW0uY29tcG9uZW50JztcbmltcG9ydCB7IENhcmRWaWV3VGV4dEl0ZW1Db21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL2NhcmQtdmlldy10ZXh0aXRlbS9jYXJkLXZpZXctdGV4dGl0ZW0uY29tcG9uZW50JztcbmltcG9ydCB7IENhcmRWaWV3U2VsZWN0SXRlbUNvbXBvbmVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvY2FyZC12aWV3LXNlbGVjdGl0ZW0vY2FyZC12aWV3LXNlbGVjdGl0ZW0uY29tcG9uZW50JztcbmltcG9ydCB7IENhcmRWaWV3Qm9vbEl0ZW1Db21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL2NhcmQtdmlldy1ib29saXRlbS9jYXJkLXZpZXctYm9vbGl0ZW0uY29tcG9uZW50JztcbmltcG9ydCB7IENhcmRWaWV3S2V5VmFsdWVQYWlyc0l0ZW1Db21wb25lbnQgfSBmcm9tICcuLi9jb21wb25lbnRzL2NhcmQtdmlldy1rZXl2YWx1ZXBhaXJzaXRlbS9jYXJkLXZpZXcta2V5dmFsdWVwYWlyc2l0ZW0uY29tcG9uZW50JztcbmltcG9ydCB7IER5bmFtaWNDb21wb25lbnRNYXBwZXIsIER5bmFtaWNDb21wb25lbnRSZXNvbHZlRnVuY3Rpb24sIER5bmFtaWNDb21wb25lbnRSZXNvbHZlciB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2R5bmFtaWMtY29tcG9uZW50LW1hcHBlci5zZXJ2aWNlJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIENhcmRJdGVtVHlwZVNlcnZpY2UgZXh0ZW5kcyBEeW5hbWljQ29tcG9uZW50TWFwcGVyIHtcblxuICAgIHByb3RlY3RlZCBkZWZhdWx0VmFsdWU6IFR5cGU8e30+ID0gQ2FyZFZpZXdUZXh0SXRlbUNvbXBvbmVudDtcblxuICAgIHByb3RlY3RlZCB0eXBlczogeyBba2V5OiBzdHJpbmddOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZUZ1bmN0aW9uIH0gPSB7XG4gICAgICAgICd0ZXh0JzogRHluYW1pY0NvbXBvbmVudFJlc29sdmVyLmZyb21UeXBlKENhcmRWaWV3VGV4dEl0ZW1Db21wb25lbnQpLFxuICAgICAgICAnc2VsZWN0JzogRHluYW1pY0NvbXBvbmVudFJlc29sdmVyLmZyb21UeXBlKENhcmRWaWV3U2VsZWN0SXRlbUNvbXBvbmVudCksXG4gICAgICAgICdpbnQnOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZXIuZnJvbVR5cGUoQ2FyZFZpZXdUZXh0SXRlbUNvbXBvbmVudCksXG4gICAgICAgICdmbG9hdCc6IER5bmFtaWNDb21wb25lbnRSZXNvbHZlci5mcm9tVHlwZShDYXJkVmlld1RleHRJdGVtQ29tcG9uZW50KSxcbiAgICAgICAgJ2RhdGUnOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZXIuZnJvbVR5cGUoQ2FyZFZpZXdEYXRlSXRlbUNvbXBvbmVudCksXG4gICAgICAgICdkYXRldGltZSc6IER5bmFtaWNDb21wb25lbnRSZXNvbHZlci5mcm9tVHlwZShDYXJkVmlld0RhdGVJdGVtQ29tcG9uZW50KSxcbiAgICAgICAgJ2Jvb2wnOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZXIuZnJvbVR5cGUoQ2FyZFZpZXdCb29sSXRlbUNvbXBvbmVudCksXG4gICAgICAgICdtYXAnOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZXIuZnJvbVR5cGUoQ2FyZFZpZXdNYXBJdGVtQ29tcG9uZW50KSxcbiAgICAgICAgJ2tleXZhbHVlcGFpcnMnOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZXIuZnJvbVR5cGUoQ2FyZFZpZXdLZXlWYWx1ZVBhaXJzSXRlbUNvbXBvbmVudClcbiAgICB9O1xufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRGlyZWN0aXZlLCBWaWV3Q29udGFpbmVyUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnW2FkZi1jYXJkLXZpZXctY29udGVudC1wcm94eV0nXG59KVxuZXhwb3J0IGNsYXNzIENhcmRWaWV3Q29udGVudFByb3h5RGlyZWN0aXZlIHtcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgdmlld0NvbnRhaW5lclJlZjogVmlld0NvbnRhaW5lclJlZikgeyB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICAgIENvbXBvbmVudCxcbiAgICBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgSW5wdXQsXG4gICAgT25DaGFuZ2VzLFxuICAgIFNpbXBsZUNoYW5nZSxcbiAgICBTaW1wbGVDaGFuZ2VzLFxuICAgIFZpZXdDaGlsZFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENhcmRWaWV3SXRlbSB9IGZyb20gJy4uLy4uL2ludGVyZmFjZXMvY2FyZC12aWV3LWl0ZW0uaW50ZXJmYWNlJztcbmltcG9ydCB7IENhcmRJdGVtVHlwZVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9jYXJkLWl0ZW0tdHlwZXMuc2VydmljZSc7XG5pbXBvcnQgeyBDYXJkVmlld0NvbnRlbnRQcm94eURpcmVjdGl2ZSB9IGZyb20gJy4uLy4uL2RpcmVjdGl2ZXMvY2FyZC12aWV3LWNvbnRlbnQtcHJveHkuZGlyZWN0aXZlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtY2FyZC12aWV3LWl0ZW0tZGlzcGF0Y2hlcicsXG4gICAgdGVtcGxhdGU6ICc8bmctdGVtcGxhdGUgYWRmLWNhcmQtdmlldy1jb250ZW50LXByb3h5PjwvbmctdGVtcGxhdGU+J1xufSlcbmV4cG9ydCBjbGFzcyBDYXJkVmlld0l0ZW1EaXNwYXRjaGVyQ29tcG9uZW50IGltcGxlbWVudHMgT25DaGFuZ2VzIHtcbiAgICBASW5wdXQoKVxuICAgIHByb3BlcnR5OiBDYXJkVmlld0l0ZW07XG5cbiAgICBASW5wdXQoKVxuICAgIGVkaXRhYmxlOiBib29sZWFuO1xuXG4gICAgQElucHV0KClcbiAgICBkaXNwbGF5RW1wdHk6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgQFZpZXdDaGlsZChDYXJkVmlld0NvbnRlbnRQcm94eURpcmVjdGl2ZSlcbiAgICBwcml2YXRlIGNvbnRlbnQ6IENhcmRWaWV3Q29udGVudFByb3h5RGlyZWN0aXZlO1xuXG4gICAgcHJpdmF0ZSBsb2FkZWQ6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIGNvbXBvbmVudFJlZmVyZW5jZTogYW55ID0gbnVsbDtcblxuICAgIHB1YmxpYyBuZ09uSW5pdDtcbiAgICBwdWJsaWMgbmdEb0NoZWNrO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjYXJkSXRlbVR5cGVTZXJ2aWNlOiBDYXJkSXRlbVR5cGVTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgcmVzb2x2ZXI6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcikge1xuICAgICAgICBjb25zdCBkeW5hbWljTGlmZWN5Y2xlTWV0aG9kcyA9IFtcbiAgICAgICAgICAgICduZ09uSW5pdCcsXG4gICAgICAgICAgICAnbmdEb0NoZWNrJyxcbiAgICAgICAgICAgICduZ0FmdGVyQ29udGVudEluaXQnLFxuICAgICAgICAgICAgJ25nQWZ0ZXJDb250ZW50Q2hlY2tlZCcsXG4gICAgICAgICAgICAnbmdBZnRlclZpZXdJbml0JyxcbiAgICAgICAgICAgICduZ0FmdGVyVmlld0NoZWNrZWQnLFxuICAgICAgICAgICAgJ25nT25EZXN0cm95J1xuICAgICAgICBdO1xuXG4gICAgICAgIGR5bmFtaWNMaWZlY3ljbGVNZXRob2RzLmZvckVhY2goKGR5bmFtaWNMaWZlY3ljbGVNZXRob2QpID0+IHtcbiAgICAgICAgICAgIHRoaXNbZHluYW1pY0xpZmVjeWNsZU1ldGhvZF0gPSB0aGlzLnByb3h5LmJpbmQodGhpcywgZHluYW1pY0xpZmVjeWNsZU1ldGhvZCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxvYWRlZCkge1xuICAgICAgICAgICAgdGhpcy5sb2FkQ29tcG9uZW50KCk7XG4gICAgICAgICAgICB0aGlzLmxvYWRlZCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBPYmplY3Qua2V5cyhjaGFuZ2VzKVxuICAgICAgICAgICAgLm1hcChjaGFuZ2VOYW1lID0+IFtjaGFuZ2VOYW1lLCBjaGFuZ2VzW2NoYW5nZU5hbWVdXSlcbiAgICAgICAgICAgIC5mb3JFYWNoKChbaW5wdXRQYXJhbU5hbWUsIHNpbXBsZUNoYW5nZV06IFtzdHJpbmcsIFNpbXBsZUNoYW5nZV0pID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBvbmVudFJlZmVyZW5jZS5pbnN0YW5jZVtpbnB1dFBhcmFtTmFtZV0gPSBzaW1wbGVDaGFuZ2UuY3VycmVudFZhbHVlO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5wcm94eSgnbmdPbkNoYW5nZXMnLCBjaGFuZ2VzKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWRDb21wb25lbnQoKSB7XG4gICAgICAgIGNvbnN0IGZhY3RvcnlDbGFzcyA9IHRoaXMuY2FyZEl0ZW1UeXBlU2VydmljZS5yZXNvbHZlQ29tcG9uZW50VHlwZSh0aGlzLnByb3BlcnR5KTtcblxuICAgICAgICBjb25zdCBmYWN0b3J5ID0gdGhpcy5yZXNvbHZlci5yZXNvbHZlQ29tcG9uZW50RmFjdG9yeShmYWN0b3J5Q2xhc3MpO1xuICAgICAgICB0aGlzLmNvbXBvbmVudFJlZmVyZW5jZSA9IHRoaXMuY29udGVudC52aWV3Q29udGFpbmVyUmVmLmNyZWF0ZUNvbXBvbmVudChmYWN0b3J5KTtcblxuICAgICAgICB0aGlzLmNvbXBvbmVudFJlZmVyZW5jZS5pbnN0YW5jZS5lZGl0YWJsZSA9IHRoaXMuZWRpdGFibGU7XG4gICAgICAgIHRoaXMuY29tcG9uZW50UmVmZXJlbmNlLmluc3RhbmNlLnByb3BlcnR5ID0gdGhpcy5wcm9wZXJ0eTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRSZWZlcmVuY2UuaW5zdGFuY2UuZGlzcGxheUVtcHR5ID0gdGhpcy5kaXNwbGF5RW1wdHk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBwcm94eShtZXRob2ROYW1lLCAuLi5hcmdzKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXBvbmVudFJlZmVyZW5jZS5pbnN0YW5jZVttZXRob2ROYW1lXSkge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRSZWZlcmVuY2UuaW5zdGFuY2VbbWV0aG9kTmFtZV0uYXBwbHkodGhpcy5jb21wb25lbnRSZWZlcmVuY2UuaW5zdGFuY2UsIGFyZ3MpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ2FyZFZpZXdJdGVtVmFsaWRhdG9yIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9jYXJkLXZpZXcuaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBDYXJkVmlld0l0ZW1JbnRWYWxpZGF0b3IgaW1wbGVtZW50cyBDYXJkVmlld0l0ZW1WYWxpZGF0b3Ige1xuXG4gICAgbWVzc2FnZSA9ICdDT1JFLkNBUkRWSUVXLlZBTElEQVRPUlMuSU5UX1ZBTElEQVRJT05fRVJST1InO1xuXG4gICAgaXNWYWxpZCh2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhaXNOYU4odmFsdWUpICYmIChmdW5jdGlvbih4KSB7IHJldHVybiAoeCB8IDApID09PSB4OyB9KShwYXJzZUZsb2F0KHZhbHVlKSk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ2FyZFZpZXdJdGVtVmFsaWRhdG9yIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9jYXJkLXZpZXcuaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBDYXJkVmlld0l0ZW1GbG9hdFZhbGlkYXRvciBpbXBsZW1lbnRzIENhcmRWaWV3SXRlbVZhbGlkYXRvciB7XG5cbiAgICBtZXNzYWdlID0gJ0NPUkUuQ0FSRFZJRVcuVkFMSURBVE9SUy5GTE9BVF9WQUxJREFUSU9OX0VSUk9SJztcblxuICAgIGlzVmFsaWQodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gIWlzTmFOKHBhcnNlRmxvYXQodmFsdWUpKSAmJiBpc0Zpbml0ZSh2YWx1ZSk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ2FyZFZpZXdJdGVtUHJvcGVydGllcywgQ2FyZFZpZXdJdGVtVmFsaWRhdG9yIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9jYXJkLXZpZXcuaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBhYnN0cmFjdCBjbGFzcyBDYXJkVmlld0Jhc2VJdGVtTW9kZWwge1xuICAgIGxhYmVsOiBzdHJpbmc7XG4gICAgdmFsdWU6IGFueTtcbiAgICBrZXk6IGFueTtcbiAgICBkZWZhdWx0OiBhbnk7XG4gICAgZWRpdGFibGU6IGJvb2xlYW47XG4gICAgY2xpY2thYmxlOiBib29sZWFuO1xuICAgIGljb24/OiBzdHJpbmc7XG4gICAgdmFsaWRhdG9ycz86IENhcmRWaWV3SXRlbVZhbGlkYXRvcltdO1xuICAgIGRhdGE/OiBhbnk7XG5cbiAgICBjb25zdHJ1Y3RvcihvYmo6IENhcmRWaWV3SXRlbVByb3BlcnRpZXMpIHtcbiAgICAgICAgdGhpcy5sYWJlbCA9IG9iai5sYWJlbCB8fCAnJztcbiAgICAgICAgdGhpcy52YWx1ZSA9IG9iai52YWx1ZTtcbiAgICAgICAgdGhpcy5rZXkgPSBvYmoua2V5O1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSBvYmouZGVmYXVsdDtcbiAgICAgICAgdGhpcy5lZGl0YWJsZSA9ICEhb2JqLmVkaXRhYmxlO1xuICAgICAgICB0aGlzLmNsaWNrYWJsZSA9ICEhb2JqLmNsaWNrYWJsZTtcbiAgICAgICAgdGhpcy5pY29uID0gb2JqLmljb24gfHwgJyc7XG4gICAgICAgIHRoaXMudmFsaWRhdG9ycyA9IG9iai52YWxpZGF0b3JzIHx8IFtdO1xuICAgICAgICB0aGlzLmRhdGEgPSBvYmouZGF0YSB8fCBudWxsO1xuICAgIH1cblxuICAgIGlzRW1wdHkoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSB1bmRlZmluZWQgfHwgdGhpcy52YWx1ZSA9PT0gbnVsbCB8fCB0aGlzLnZhbHVlID09PSAnJztcbiAgICB9XG5cbiAgICBpc1ZhbGlkKG5ld1ZhbHVlOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKCF0aGlzLnZhbGlkYXRvcnMubGVuZ3RoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRvcnNcbiAgICAgICAgICAgIC5tYXAodmFsaWRhdG9yID0+IHZhbGlkYXRvci5pc1ZhbGlkKG5ld1ZhbHVlKSlcbiAgICAgICAgICAgIC5yZWR1Y2UoKGlzVmFsaWRVbnRpbE5vdywgaXNWYWxpZCkgPT4gaXNWYWxpZFVudGlsTm93ICYmIGlzVmFsaWQsIHRydWUpO1xuICAgIH1cblxuICAgIGdldFZhbGlkYXRpb25FcnJvcnModmFsdWUpOiBzdHJpbmdbXSB7XG4gICAgICAgIGlmICghdGhpcy52YWxpZGF0b3JzLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudmFsaWRhdG9ycy5maWx0ZXIodmFsaWRhdG9yID0+ICF2YWxpZGF0b3IuaXNWYWxpZCh2YWx1ZSkpLm1hcCh2YWxpZGF0b3IgPT4gdmFsaWRhdG9yLm1lc3NhZ2UpO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENhcmRWaWV3SXRlbSB9IGZyb20gJy4uL2ludGVyZmFjZXMvY2FyZC12aWV3LWl0ZW0uaW50ZXJmYWNlJztcbmltcG9ydCB7IER5bmFtaWNDb21wb25lbnRNb2RlbCB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2R5bmFtaWMtY29tcG9uZW50LW1hcHBlci5zZXJ2aWNlJztcbmltcG9ydCB7IENhcmRWaWV3QmFzZUl0ZW1Nb2RlbCB9IGZyb20gJy4vY2FyZC12aWV3LWJhc2VpdGVtLm1vZGVsJztcbmltcG9ydCB7IENhcmRWaWV3Qm9vbEl0ZW1Qcm9wZXJ0aWVzIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9jYXJkLXZpZXcuaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBDYXJkVmlld0Jvb2xJdGVtTW9kZWwgZXh0ZW5kcyBDYXJkVmlld0Jhc2VJdGVtTW9kZWwgaW1wbGVtZW50cyBDYXJkVmlld0l0ZW0sIER5bmFtaWNDb21wb25lbnRNb2RlbCB7XG4gICAgdHlwZTogc3RyaW5nID0gJ2Jvb2wnO1xuICAgIHZhbHVlOiBib29sZWFuID0gZmFsc2U7XG4gICAgZGVmYXVsdDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKG9iajogQ2FyZFZpZXdCb29sSXRlbVByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIob2JqKTtcblxuICAgICAgICBpZiAob2JqLnZhbHVlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSAhIUpTT04ucGFyc2Uob2JqLnZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBkaXNwbGF5VmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQtZXM2JztcbmltcG9ydCB7IENhcmRWaWV3SXRlbSB9IGZyb20gJy4uL2ludGVyZmFjZXMvY2FyZC12aWV3LWl0ZW0uaW50ZXJmYWNlJztcbmltcG9ydCB7IER5bmFtaWNDb21wb25lbnRNb2RlbCB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2R5bmFtaWMtY29tcG9uZW50LW1hcHBlci5zZXJ2aWNlJztcbmltcG9ydCB7IENhcmRWaWV3QmFzZUl0ZW1Nb2RlbCB9IGZyb20gJy4vY2FyZC12aWV3LWJhc2VpdGVtLm1vZGVsJztcbmltcG9ydCB7IENhcmRWaWV3RGF0ZUl0ZW1Qcm9wZXJ0aWVzIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9jYXJkLXZpZXcuaW50ZXJmYWNlcyc7XG5cbmV4cG9ydCBjbGFzcyBDYXJkVmlld0RhdGVJdGVtTW9kZWwgZXh0ZW5kcyBDYXJkVmlld0Jhc2VJdGVtTW9kZWwgaW1wbGVtZW50cyBDYXJkVmlld0l0ZW0sIER5bmFtaWNDb21wb25lbnRNb2RlbCB7XG4gICAgdHlwZTogc3RyaW5nID0gJ2RhdGUnO1xuICAgIGZvcm1hdDogc3RyaW5nID0gJ01NTSBERCBZWVlZJztcblxuICAgIGNvbnN0cnVjdG9yKG9iajogQ2FyZFZpZXdEYXRlSXRlbVByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIob2JqKTtcblxuICAgICAgICBpZiAob2JqLmZvcm1hdCkge1xuICAgICAgICAgICAgdGhpcy5mb3JtYXQgPSBvYmouZm9ybWF0O1xuICAgICAgICB9XG5cbiAgICB9XG5cbiAgICBnZXQgZGlzcGxheVZhbHVlKCkge1xuICAgICAgICBpZiAoIXRoaXMudmFsdWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRlZmF1bHQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gbW9tZW50KHRoaXMudmFsdWUpLmZvcm1hdCh0aGlzLmZvcm1hdCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDYXJkVmlld0l0ZW0gfSBmcm9tICcuLi9pbnRlcmZhY2VzL2NhcmQtdmlldy1pdGVtLmludGVyZmFjZSc7XG5pbXBvcnQgeyBEeW5hbWljQ29tcG9uZW50TW9kZWwgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9keW5hbWljLWNvbXBvbmVudC1tYXBwZXIuc2VydmljZSc7XG5pbXBvcnQgeyBDYXJkVmlld0RhdGVJdGVtTW9kZWwgfSBmcm9tICcuL2NhcmQtdmlldy1kYXRlaXRlbS5tb2RlbCc7XG5cbmV4cG9ydCBjbGFzcyBDYXJkVmlld0RhdGV0aW1lSXRlbU1vZGVsIGV4dGVuZHMgQ2FyZFZpZXdEYXRlSXRlbU1vZGVsIGltcGxlbWVudHMgQ2FyZFZpZXdJdGVtLCBEeW5hbWljQ29tcG9uZW50TW9kZWwge1xuICAgIHR5cGU6IHN0cmluZyA9ICdkYXRldGltZSc7XG4gICAgZm9ybWF0OiBzdHJpbmcgPSAnTU1NIEREIFlZWVkgSEg6bW0nO1xufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ2FyZFZpZXdJdGVtIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9jYXJkLXZpZXctaXRlbS5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgRHluYW1pY0NvbXBvbmVudE1vZGVsIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZHluYW1pYy1jb21wb25lbnQtbWFwcGVyLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ2FyZFZpZXdCYXNlSXRlbU1vZGVsIH0gZnJvbSAnLi9jYXJkLXZpZXctYmFzZWl0ZW0ubW9kZWwnO1xuaW1wb3J0IHsgQ2FyZFZpZXdUZXh0SXRlbVBpcGVQcm9wZXJ0eSwgQ2FyZFZpZXdUZXh0SXRlbVByb3BlcnRpZXMgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2NhcmQtdmlldy5pbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIENhcmRWaWV3VGV4dEl0ZW1Nb2RlbCBleHRlbmRzIENhcmRWaWV3QmFzZUl0ZW1Nb2RlbCBpbXBsZW1lbnRzIENhcmRWaWV3SXRlbSwgRHluYW1pY0NvbXBvbmVudE1vZGVsIHtcbiAgICB0eXBlOiBzdHJpbmcgPSAndGV4dCc7XG4gICAgbXVsdGlsaW5lPzogYm9vbGVhbjtcbiAgICBwaXBlcz86IENhcmRWaWV3VGV4dEl0ZW1QaXBlUHJvcGVydHlbXTtcblxuICAgIGNvbnN0cnVjdG9yKG9iajogQ2FyZFZpZXdUZXh0SXRlbVByb3BlcnRpZXMpIHtcbiAgICAgICAgc3VwZXIob2JqKTtcbiAgICAgICAgdGhpcy5tdWx0aWxpbmUgPSAhIW9iai5tdWx0aWxpbmUgO1xuICAgICAgICB0aGlzLnBpcGVzID0gb2JqLnBpcGVzIHx8IFtdO1xuICAgIH1cblxuICAgIGdldCBkaXNwbGF5VmFsdWUoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzRW1wdHkoKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZGVmYXVsdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmFwcGx5UGlwZXModGhpcy52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFwcGx5UGlwZXMoZGlzcGxheVZhbHVlKSB7XG4gICAgICAgIGlmICh0aGlzLnBpcGVzLmxlbmd0aCkge1xuICAgICAgICAgICAgZGlzcGxheVZhbHVlID0gdGhpcy5waXBlcy5yZWR1Y2UoKGFjY3VtdWxhdG9yLCB7IHBpcGUsIHBhcmFtcyA9IFtdIH0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGlwZS50cmFuc2Zvcm0oYWNjdW11bGF0b3IsIC4uLnBhcmFtcyk7XG4gICAgICAgICAgICB9LCBkaXNwbGF5VmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGRpc3BsYXlWYWx1ZTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDYXJkVmlld0l0ZW0gfSBmcm9tICcuLi9pbnRlcmZhY2VzL2NhcmQtdmlldy1pdGVtLmludGVyZmFjZSc7XG5pbXBvcnQgeyBEeW5hbWljQ29tcG9uZW50TW9kZWwgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9keW5hbWljLWNvbXBvbmVudC1tYXBwZXIuc2VydmljZSc7XG5pbXBvcnQgeyBDYXJkVmlld1RleHRJdGVtTW9kZWwgfSBmcm9tICcuL2NhcmQtdmlldy10ZXh0aXRlbS5tb2RlbCc7XG5pbXBvcnQgeyBDYXJkVmlld1RleHRJdGVtUHJvcGVydGllcyB9IGZyb20gJy4uL2ludGVyZmFjZXMvY2FyZC12aWV3LmludGVyZmFjZXMnO1xuaW1wb3J0IHsgQ2FyZFZpZXdJdGVtRmxvYXRWYWxpZGF0b3IgfSBmcm9tICcuLi8vdmFsaWRhdG9ycy9jYXJkLXZpZXcudmFsaWRhdG9ycyc7XG5cbmV4cG9ydCBjbGFzcyBDYXJkVmlld0Zsb2F0SXRlbU1vZGVsIGV4dGVuZHMgQ2FyZFZpZXdUZXh0SXRlbU1vZGVsIGltcGxlbWVudHMgQ2FyZFZpZXdJdGVtLCBEeW5hbWljQ29tcG9uZW50TW9kZWwge1xuICAgIHR5cGU6IHN0cmluZyA9ICdmbG9hdCc7XG5cbiAgICBjb25zdHJ1Y3RvcihvYmo6IENhcmRWaWV3VGV4dEl0ZW1Qcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyKG9iaik7XG5cbiAgICAgICAgdGhpcy52YWxpZGF0b3JzLnB1c2gobmV3IENhcmRWaWV3SXRlbUZsb2F0VmFsaWRhdG9yKCkpO1xuICAgICAgICBpZiAob2JqLnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gcGFyc2VGbG9hdChvYmoudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ2FyZFZpZXdJdGVtIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9jYXJkLXZpZXctaXRlbS5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgRHluYW1pY0NvbXBvbmVudE1vZGVsIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZHluYW1pYy1jb21wb25lbnQtbWFwcGVyLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ2FyZFZpZXdUZXh0SXRlbU1vZGVsIH0gZnJvbSAnLi9jYXJkLXZpZXctdGV4dGl0ZW0ubW9kZWwnO1xuaW1wb3J0IHsgQ2FyZFZpZXdUZXh0SXRlbVByb3BlcnRpZXMgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2NhcmQtdmlldy5pbnRlcmZhY2VzJztcbmltcG9ydCB7IENhcmRWaWV3SXRlbUludFZhbGlkYXRvciB9IGZyb20gJy4uL3ZhbGlkYXRvcnMvY2FyZC12aWV3LnZhbGlkYXRvcnMnO1xuXG5leHBvcnQgY2xhc3MgQ2FyZFZpZXdJbnRJdGVtTW9kZWwgZXh0ZW5kcyBDYXJkVmlld1RleHRJdGVtTW9kZWwgaW1wbGVtZW50cyBDYXJkVmlld0l0ZW0sIER5bmFtaWNDb21wb25lbnRNb2RlbCB7XG4gICAgdHlwZTogc3RyaW5nID0gJ2ludCc7XG5cbiAgICBjb25zdHJ1Y3RvcihvYmo6IENhcmRWaWV3VGV4dEl0ZW1Qcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyKG9iaik7XG5cbiAgICAgICAgdGhpcy52YWxpZGF0b3JzLnB1c2gobmV3IENhcmRWaWV3SXRlbUludFZhbGlkYXRvcigpKTtcbiAgICAgICAgaWYgKG9iai52YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHBhcnNlSW50KG9iai52YWx1ZSwgMTApO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ2FyZFZpZXdJdGVtIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9jYXJkLXZpZXctaXRlbS5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgRHluYW1pY0NvbXBvbmVudE1vZGVsIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZHluYW1pYy1jb21wb25lbnQtbWFwcGVyLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ2FyZFZpZXdCYXNlSXRlbU1vZGVsIH0gZnJvbSAnLi9jYXJkLXZpZXctYmFzZWl0ZW0ubW9kZWwnO1xuXG5leHBvcnQgY2xhc3MgQ2FyZFZpZXdNYXBJdGVtTW9kZWwgZXh0ZW5kcyBDYXJkVmlld0Jhc2VJdGVtTW9kZWwgaW1wbGVtZW50cyBDYXJkVmlld0l0ZW0sIER5bmFtaWNDb21wb25lbnRNb2RlbCB7XG4gICAgdHlwZTogc3RyaW5nID0gJ21hcCc7XG4gICAgdmFsdWU6IE1hcDxzdHJpbmcsIHN0cmluZz47XG5cbiAgICBnZXQgZGlzcGxheVZhbHVlKCkge1xuICAgICAgICBpZiAodGhpcy52YWx1ZSAmJiB0aGlzLnZhbHVlLnNpemUgPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS52YWx1ZXMoKS5uZXh0KCkudmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5kZWZhdWx0O1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ2FyZFZpZXdJdGVtIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9jYXJkLXZpZXctaXRlbS5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgRHluYW1pY0NvbXBvbmVudE1vZGVsIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZHluYW1pYy1jb21wb25lbnQtbWFwcGVyLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ2FyZFZpZXdCYXNlSXRlbU1vZGVsIH0gZnJvbSAnLi9jYXJkLXZpZXctYmFzZWl0ZW0ubW9kZWwnO1xuaW1wb3J0IHsgQ2FyZFZpZXdLZXlWYWx1ZVBhaXJzSXRlbVByb3BlcnRpZXMgfSBmcm9tICcuLi9pbnRlcmZhY2VzL2NhcmQtdmlldy5pbnRlcmZhY2VzJztcblxuZXhwb3J0IGNsYXNzIENhcmRWaWV3S2V5VmFsdWVQYWlyc0l0ZW1Nb2RlbCBleHRlbmRzIENhcmRWaWV3QmFzZUl0ZW1Nb2RlbCBpbXBsZW1lbnRzIENhcmRWaWV3SXRlbSwgRHluYW1pY0NvbXBvbmVudE1vZGVsIHtcbiAgICB0eXBlOiBzdHJpbmcgPSAna2V5dmFsdWVwYWlycyc7XG5cbiAgICBjb25zdHJ1Y3RvcihvYmo6IENhcmRWaWV3S2V5VmFsdWVQYWlyc0l0ZW1Qcm9wZXJ0aWVzKSB7XG4gICAgICAgIHN1cGVyKG9iaik7XG4gICAgfVxuXG4gICAgZ2V0IGRpc3BsYXlWYWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWU7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ2FyZFZpZXdJdGVtIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9jYXJkLXZpZXctaXRlbS5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgRHluYW1pY0NvbXBvbmVudE1vZGVsIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvZHluYW1pYy1jb21wb25lbnQtbWFwcGVyLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ2FyZFZpZXdCYXNlSXRlbU1vZGVsIH0gZnJvbSAnLi9jYXJkLXZpZXctYmFzZWl0ZW0ubW9kZWwnO1xuaW1wb3J0IHsgQ2FyZFZpZXdTZWxlY3RJdGVtUHJvcGVydGllcywgQ2FyZFZpZXdTZWxlY3RJdGVtT3B0aW9uIH0gZnJvbSAnLi4vaW50ZXJmYWNlcy9jYXJkLXZpZXcuaW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgc3dpdGNoTWFwIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5leHBvcnQgY2xhc3MgQ2FyZFZpZXdTZWxlY3RJdGVtTW9kZWw8VD4gZXh0ZW5kcyBDYXJkVmlld0Jhc2VJdGVtTW9kZWwgaW1wbGVtZW50cyBDYXJkVmlld0l0ZW0sIER5bmFtaWNDb21wb25lbnRNb2RlbCB7XG4gICAgdHlwZTogc3RyaW5nID0gJ3NlbGVjdCc7XG4gICAgb3B0aW9ucyQ6IE9ic2VydmFibGU8Q2FyZFZpZXdTZWxlY3RJdGVtT3B0aW9uPFQ+W10+O1xuXG4gICAgY29uc3RydWN0b3Iob2JqOiBDYXJkVmlld1NlbGVjdEl0ZW1Qcm9wZXJ0aWVzPFQ+KSB7XG4gICAgICAgIHN1cGVyKG9iaik7XG5cbiAgICAgICAgdGhpcy5vcHRpb25zJCA9IG9iai5vcHRpb25zJDtcbiAgICB9XG5cbiAgICBnZXQgZGlzcGxheVZhbHVlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5vcHRpb25zJC5waXBlKFxuICAgICAgICAgICAgc3dpdGNoTWFwKG9wdGlvbnMgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IG9wdGlvbnMuZmluZChvID0+IG8ua2V5ID09PSB0aGlzLnZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2Yob3B0aW9uID8gb3B0aW9uLmxhYmVsIDogJycpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHtcbiAgICBNYXRCdXR0b25Nb2R1bGUsXG4gICAgTWF0RGF0ZXBpY2tlck1vZHVsZSxcbiAgICBNYXRUYWJsZU1vZHVsZSxcbiAgICBNYXRJY29uTW9kdWxlLFxuICAgIE1hdElucHV0TW9kdWxlLFxuICAgIE1hdENoZWNrYm94TW9kdWxlLFxuICAgIE1hdE5hdGl2ZURhdGVNb2R1bGUsXG4gICAgTWF0U2VsZWN0TW9kdWxlXG59IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcbmltcG9ydCB7IE1hdERhdGV0aW1lcGlja2VyTW9kdWxlLCBNYXROYXRpdmVEYXRldGltZU1vZHVsZSB9IGZyb20gJ0BtYXQtZGF0ZXRpbWVwaWNrZXIvY29yZSc7XG5pbXBvcnQgeyBGbGV4TGF5b3V0TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZmxleC1sYXlvdXQnO1xuaW1wb3J0IHsgVHJhbnNsYXRlTW9kdWxlIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XG5cbmltcG9ydCB7IENhcmRWaWV3Q29udGVudFByb3h5RGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmVzL2NhcmQtdmlldy1jb250ZW50LXByb3h5LmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBDYXJkVmlld0NvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9jYXJkLXZpZXcvY2FyZC12aWV3LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDYXJkVmlld0Jvb2xJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2NhcmQtdmlldy1ib29saXRlbS9jYXJkLXZpZXctYm9vbGl0ZW0uY29tcG9uZW50JztcbmltcG9ydCB7IENhcmRWaWV3RGF0ZUl0ZW1Db21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvY2FyZC12aWV3LWRhdGVpdGVtL2NhcmQtdmlldy1kYXRlaXRlbS5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ2FyZFZpZXdJdGVtRGlzcGF0Y2hlckNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9jYXJkLXZpZXctaXRlbS1kaXNwYXRjaGVyL2NhcmQtdmlldy1pdGVtLWRpc3BhdGNoZXIuY29tcG9uZW50JztcbmltcG9ydCB7IENhcmRWaWV3TWFwSXRlbUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9jYXJkLXZpZXctbWFwaXRlbS9jYXJkLXZpZXctbWFwaXRlbS5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ2FyZFZpZXdUZXh0SXRlbUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9jYXJkLXZpZXctdGV4dGl0ZW0vY2FyZC12aWV3LXRleHRpdGVtLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDYXJkVmlld0tleVZhbHVlUGFpcnNJdGVtQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL2NhcmQtdmlldy1rZXl2YWx1ZXBhaXJzaXRlbS9jYXJkLXZpZXcta2V5dmFsdWVwYWlyc2l0ZW0uY29tcG9uZW50JztcbmltcG9ydCB7IENhcmRWaWV3U2VsZWN0SXRlbUNvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9jYXJkLXZpZXctc2VsZWN0aXRlbS9jYXJkLXZpZXctc2VsZWN0aXRlbS5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBGb3Jtc01vZHVsZSxcbiAgICAgICAgRmxleExheW91dE1vZHVsZSxcbiAgICAgICAgVHJhbnNsYXRlTW9kdWxlLmZvckNoaWxkKCksXG4gICAgICAgIE1hdERhdGVwaWNrZXJNb2R1bGUsXG4gICAgICAgIE1hdE5hdGl2ZURhdGVNb2R1bGUsXG4gICAgICAgIE1hdENoZWNrYm94TW9kdWxlLFxuICAgICAgICBNYXRJbnB1dE1vZHVsZSxcbiAgICAgICAgTWF0VGFibGVNb2R1bGUsXG4gICAgICAgIE1hdEljb25Nb2R1bGUsXG4gICAgICAgIE1hdFNlbGVjdE1vZHVsZSxcbiAgICAgICAgTWF0QnV0dG9uTW9kdWxlLFxuICAgICAgICBNYXREYXRldGltZXBpY2tlck1vZHVsZSxcbiAgICAgICAgTWF0TmF0aXZlRGF0ZXRpbWVNb2R1bGVcbiAgICBdLFxuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBDYXJkVmlld0NvbXBvbmVudCxcbiAgICAgICAgQ2FyZFZpZXdCb29sSXRlbUNvbXBvbmVudCxcbiAgICAgICAgQ2FyZFZpZXdEYXRlSXRlbUNvbXBvbmVudCxcbiAgICAgICAgQ2FyZFZpZXdNYXBJdGVtQ29tcG9uZW50LFxuICAgICAgICBDYXJkVmlld1RleHRJdGVtQ29tcG9uZW50LFxuICAgICAgICBDYXJkVmlld0tleVZhbHVlUGFpcnNJdGVtQ29tcG9uZW50LFxuICAgICAgICBDYXJkVmlld1NlbGVjdEl0ZW1Db21wb25lbnQsXG4gICAgICAgIENhcmRWaWV3SXRlbURpc3BhdGNoZXJDb21wb25lbnQsXG4gICAgICAgIENhcmRWaWV3Q29udGVudFByb3h5RGlyZWN0aXZlXG4gICAgXSxcbiAgICBlbnRyeUNvbXBvbmVudHM6IFtcbiAgICAgICAgQ2FyZFZpZXdCb29sSXRlbUNvbXBvbmVudCxcbiAgICAgICAgQ2FyZFZpZXdEYXRlSXRlbUNvbXBvbmVudCxcbiAgICAgICAgQ2FyZFZpZXdNYXBJdGVtQ29tcG9uZW50LFxuICAgICAgICBDYXJkVmlld1RleHRJdGVtQ29tcG9uZW50LFxuICAgICAgICBDYXJkVmlld1NlbGVjdEl0ZW1Db21wb25lbnQsXG4gICAgICAgIENhcmRWaWV3S2V5VmFsdWVQYWlyc0l0ZW1Db21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgQ2FyZFZpZXdDb21wb25lbnQsXG4gICAgICAgIENhcmRWaWV3Qm9vbEl0ZW1Db21wb25lbnQsXG4gICAgICAgIENhcmRWaWV3RGF0ZUl0ZW1Db21wb25lbnQsXG4gICAgICAgIENhcmRWaWV3TWFwSXRlbUNvbXBvbmVudCxcbiAgICAgICAgQ2FyZFZpZXdUZXh0SXRlbUNvbXBvbmVudCxcbiAgICAgICAgQ2FyZFZpZXdTZWxlY3RJdGVtQ29tcG9uZW50LFxuICAgICAgICBDYXJkVmlld0tleVZhbHVlUGFpcnNJdGVtQ29tcG9uZW50XG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBDYXJkVmlld01vZHVsZSB7fVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IFN0b3JhZ2VTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvc3RvcmFnZS5zZXJ2aWNlJztcbmltcG9ydCB7IEFwcENvbmZpZ1NlcnZpY2UsIEFwcENvbmZpZ1ZhbHVlcyB9IGZyb20gJy4uL2FwcC1jb25maWcvYXBwLWNvbmZpZy5zZXJ2aWNlJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIERlYnVnQXBwQ29uZmlnU2VydmljZSBleHRlbmRzIEFwcENvbmZpZ1NlcnZpY2Uge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgc3RvcmFnZTogU3RvcmFnZVNlcnZpY2UsIGh0dHA6IEh0dHBDbGllbnQpIHtcbiAgICAgICAgc3VwZXIoaHR0cCk7XG4gICAgfVxuXG4gICAgLyoqIEBvdmVycmlkZSAqL1xuICAgIGdldDxUPihrZXk6IHN0cmluZywgZGVmYXVsdFZhbHVlPzogVCk6IFQge1xuICAgICAgICBpZiAoa2V5ID09PSBBcHBDb25maWdWYWx1ZXMuT0FVVEhDT05GSUcpIHtcbiAgICAgICAgICAgIHJldHVybiA8VD4gKEpTT04ucGFyc2UodGhpcy5zdG9yYWdlLmdldEl0ZW0oa2V5KSkgfHwgc3VwZXIuZ2V0PFQ+KGtleSwgZGVmYXVsdFZhbHVlKSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gPFQ+ICg8YW55PiB0aGlzLnN0b3JhZ2UuZ2V0SXRlbShrZXkpIHx8IHN1cGVyLmdldDxUPihrZXksIGRlZmF1bHRWYWx1ZSkpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgUGlwZSwgUGlwZVRyYW5zZm9ybSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQXBwQ29uZmlnU2VydmljZSB9IGZyb20gJy4vYXBwLWNvbmZpZy5zZXJ2aWNlJztcblxuQFBpcGUoe1xuICAgIG5hbWU6ICdhZGZBcHBDb25maWcnXG59KVxuZXhwb3J0IGNsYXNzIEFwcENvbmZpZ1BpcGUgaW1wbGVtZW50cyBQaXBlVHJhbnNmb3JtIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGNvbmZpZzogQXBwQ29uZmlnU2VydmljZSkge31cblxuICAgIHRyYW5zZm9ybSh2YWx1ZTogc3RyaW5nLCBmYWxsYmFjazogYW55KTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uZmlnLmdldCh2YWx1ZSwgZmFsbGJhY2spO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEh0dHBDbGllbnRNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQXBwQ29uZmlnUGlwZSB9IGZyb20gJy4vYXBwLWNvbmZpZy5waXBlJztcblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIEh0dHBDbGllbnRNb2R1bGVcbiAgICBdLFxuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBBcHBDb25maWdQaXBlXG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIEFwcENvbmZpZ1BpcGVcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIEFwcENvbmZpZ01vZHVsZSB7XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBGb3JtTW9kZWwgfSBmcm9tICcuLy4uL2NvbXBvbmVudHMvd2lkZ2V0cy9jb3JlL2luZGV4JztcblxuZXhwb3J0IGNsYXNzIEZvcm1FdmVudCB7XG5cbiAgICBwcml2YXRlIGlzRGVmYXVsdFByZXZlbnRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcmVhZG9ubHkgZm9ybTogRm9ybU1vZGVsO1xuXG4gICAgY29uc3RydWN0b3IoZm9ybTogRm9ybU1vZGVsKSB7XG4gICAgICAgIHRoaXMuZm9ybSA9IGZvcm07XG4gICAgfVxuXG4gICAgZ2V0IGRlZmF1bHRQcmV2ZW50ZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmlzRGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG5cbiAgICBwcmV2ZW50RGVmYXVsdCgpIHtcbiAgICAgICAgdGhpcy5pc0RlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEZvcm1Nb2RlbCB9IGZyb20gJy4vLi4vY29tcG9uZW50cy93aWRnZXRzL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgRm9ybUV2ZW50IH0gZnJvbSAnLi9mb3JtLmV2ZW50JztcblxuZXhwb3J0IGNsYXNzIEZvcm1FcnJvckV2ZW50IGV4dGVuZHMgRm9ybUV2ZW50IHtcblxuICAgIHJlYWRvbmx5IGVycm9yOiBhbnk7XG5cbiAgICBjb25zdHJ1Y3Rvcihmb3JtOiBGb3JtTW9kZWwsIGVycm9yOiBhbnkpIHtcbiAgICAgICAgc3VwZXIoZm9ybSk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEZvcm1GaWVsZE1vZGVsLCBGb3JtTW9kZWwgfSBmcm9tICcuLy4uL2NvbXBvbmVudHMvd2lkZ2V0cy9jb3JlL2luZGV4JztcbmltcG9ydCB7IEZvcm1FdmVudCB9IGZyb20gJy4vZm9ybS5ldmVudCc7XG5cbmV4cG9ydCBjbGFzcyBGb3JtRmllbGRFdmVudCBleHRlbmRzIEZvcm1FdmVudCB7XG5cbiAgICByZWFkb25seSBmaWVsZDogRm9ybUZpZWxkTW9kZWw7XG5cbiAgICBjb25zdHJ1Y3Rvcihmb3JtOiBGb3JtTW9kZWwsIGZpZWxkOiBGb3JtRmllbGRNb2RlbCkge1xuICAgICAgICBzdXBlcihmb3JtKTtcbiAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkO1xuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRm9ybUZpZWxkTW9kZWwsIEZvcm1Nb2RlbCB9IGZyb20gJy4vLi4vY29tcG9uZW50cy93aWRnZXRzL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgRm9ybUZpZWxkRXZlbnQgfSBmcm9tICcuL2Zvcm0tZmllbGQuZXZlbnQnO1xuXG5leHBvcnQgY2xhc3MgVmFsaWRhdGVGb3JtRmllbGRFdmVudCBleHRlbmRzIEZvcm1GaWVsZEV2ZW50IHtcblxuICAgIGlzVmFsaWQgPSB0cnVlO1xuXG4gICAgY29uc3RydWN0b3IoZm9ybTogRm9ybU1vZGVsLCBmaWVsZDogRm9ybUZpZWxkTW9kZWwpIHtcbiAgICAgICAgc3VwZXIoZm9ybSwgZmllbGQpO1xuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRm9ybU1vZGVsIH0gZnJvbSAnLi8uLi9jb21wb25lbnRzL3dpZGdldHMvY29yZS9pbmRleCc7XG5pbXBvcnQgeyBGb3JtRXZlbnQgfSBmcm9tICcuL2Zvcm0uZXZlbnQnO1xuaW1wb3J0IHsgRm9ybUZpZWxkTW9kZWwgfSBmcm9tICcuLi9jb21wb25lbnRzL3dpZGdldHMvY29yZS9mb3JtLWZpZWxkLm1vZGVsJztcblxuZXhwb3J0IGNsYXNzIFZhbGlkYXRlRm9ybUV2ZW50IGV4dGVuZHMgRm9ybUV2ZW50IHtcblxuICAgIGlzVmFsaWQgPSB0cnVlO1xuICAgIGVycm9yc0ZpZWxkOiBGb3JtRmllbGRNb2RlbFtdID0gW107XG5cbiAgICBjb25zdHJ1Y3Rvcihmb3JtOiBGb3JtTW9kZWwpIHtcbiAgICAgICAgc3VwZXIoZm9ybSk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRHluYW1pY1Jvd1ZhbGlkYXRpb25TdW1tYXJ5IH0gZnJvbSAnLi4vY29tcG9uZW50cy93aWRnZXRzL2R5bmFtaWMtdGFibGUvZHluYW1pYy1yb3ctdmFsaWRhdGlvbi1zdW1tYXJ5Lm1vZGVsJztcbmltcG9ydCB7IER5bmFtaWNUYWJsZVJvdyB9IGZyb20gJy4uL2NvbXBvbmVudHMvd2lkZ2V0cy9keW5hbWljLXRhYmxlL2R5bmFtaWMtdGFibGUtcm93Lm1vZGVsJztcblxuaW1wb3J0IHsgRm9ybUZpZWxkTW9kZWwsIEZvcm1Nb2RlbCB9IGZyb20gJy4vLi4vY29tcG9uZW50cy93aWRnZXRzL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgRm9ybUZpZWxkRXZlbnQgfSBmcm9tICcuL2Zvcm0tZmllbGQuZXZlbnQnO1xuXG5leHBvcnQgY2xhc3MgVmFsaWRhdGVEeW5hbWljVGFibGVSb3dFdmVudCBleHRlbmRzIEZvcm1GaWVsZEV2ZW50IHtcblxuICAgIGlzVmFsaWQgPSB0cnVlO1xuXG4gICAgY29uc3RydWN0b3IoZm9ybTogRm9ybU1vZGVsLFxuICAgICAgICAgICAgICAgIGZpZWxkOiBGb3JtRmllbGRNb2RlbCxcbiAgICAgICAgICAgICAgICBwdWJsaWMgcm93OiBEeW5hbWljVGFibGVSb3csXG4gICAgICAgICAgICAgICAgcHVibGljIHN1bW1hcnk6IER5bmFtaWNSb3dWYWxpZGF0aW9uU3VtbWFyeSkge1xuICAgICAgICBzdXBlcihmb3JtLCBmaWVsZCk7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBMb2dTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgQWxmcmVzY29BcGlTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYWxmcmVzY28tYXBpLnNlcnZpY2UnO1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgZnJvbSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgRm9ybU1vZGVsIH0gZnJvbSAnLi4vY29tcG9uZW50cy93aWRnZXRzL2NvcmUvZm9ybS5tb2RlbCc7XG5pbXBvcnQgeyBtYXAsIGNhdGNoRXJyb3IgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBFY21Nb2RlbFNlcnZpY2Uge1xuXG4gICAgcHVibGljIHN0YXRpYyBNT0RFTF9OQU1FU1BBQ0U6IHN0cmluZyA9ICdhY3Rpdml0aUZvcm1zJztcbiAgICBwdWJsaWMgc3RhdGljIE1PREVMX05BTUU6IHN0cmluZyA9ICdhY3Rpdml0aUZvcm1zTW9kZWwnO1xuICAgIHB1YmxpYyBzdGF0aWMgVFlQRV9NT0RFTDogc3RyaW5nID0gJ2NtOmZvbGRlcic7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwaVNlcnZpY2U6IEFsZnJlc2NvQXBpU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGxvZ1NlcnZpY2U6IExvZ1NlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlRWNtVHlwZUZvckFjdGl2aXRpRm9ybShmb3JtTmFtZTogc3RyaW5nLCBmb3JtOiBGb3JtTW9kZWwpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZS5jcmVhdGUob2JzZXJ2ZXIgPT4ge1xuICAgICAgICAgICAgdGhpcy5zZWFyY2hBY3Rpdml0aUVjbU1vZGVsKCkuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgIG1vZGVsID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFtb2RlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVBY3Rpdml0aUVjbU1vZGVsKGZvcm1OYW1lLCBmb3JtKS5zdWJzY3JpYmUodHlwZUZvcm0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodHlwZUZvcm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2F2ZUZvbVR5cGUoZm9ybU5hbWUsIGZvcm0pLnN1YnNjcmliZSh0eXBlRm9ybSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh0eXBlRm9ybSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpXG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcblxuICAgIH1cblxuICAgIHNlYXJjaEFjdGl2aXRpRWNtTW9kZWwoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEVjbU1vZGVscygpLnBpcGUobWFwKGZ1bmN0aW9uIChlY21Nb2RlbHM6IGFueSkge1xuICAgICAgICAgICAgcmV0dXJuIGVjbU1vZGVscy5saXN0LmVudHJpZXMuZmluZChtb2RlbCA9PiBtb2RlbC5lbnRyeS5uYW1lID09PSBFY21Nb2RlbFNlcnZpY2UuTU9ERUxfTkFNRSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBjcmVhdGVBY3Rpdml0aUVjbU1vZGVsKGZvcm1OYW1lOiBzdHJpbmcsIGZvcm06IEZvcm1Nb2RlbCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiBPYnNlcnZhYmxlLmNyZWF0ZShvYnNlcnZlciA9PiB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUVjbU1vZGVsKEVjbU1vZGVsU2VydmljZS5NT0RFTF9OQU1FLCBFY21Nb2RlbFNlcnZpY2UuTU9ERUxfTkFNRVNQQUNFKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgbW9kZWwgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuaW5mbygnbW9kZWwgY3JlYXRlZCcsIG1vZGVsKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVFY21Nb2RlbChFY21Nb2RlbFNlcnZpY2UuTU9ERUxfTkFNRSkuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgICAgICAgICAgbW9kZWxBY3RpdmUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9nU2VydmljZS5pbmZvKCdtb2RlbCBhY3RpdmUnLCBtb2RlbEFjdGl2ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jcmVhdGVFY21UeXBlV2l0aFByb3BlcnRpZXMoZm9ybU5hbWUsIGZvcm0pLnN1YnNjcmliZSh0eXBlQ3JlYXRlZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodHlwZUNyZWF0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycilcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycilcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHNhdmVGb21UeXBlKGZvcm1OYW1lOiBzdHJpbmcsIGZvcm06IEZvcm1Nb2RlbCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiBPYnNlcnZhYmxlLmNyZWF0ZShvYnNlcnZlciA9PiB7XG4gICAgICAgICAgICB0aGlzLnNlYXJjaEVjbVR5cGUoZm9ybU5hbWUsIEVjbU1vZGVsU2VydmljZS5NT0RFTF9OQU1FKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgZWNtVHlwZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nU2VydmljZS5pbmZvKCdjdXN0b20gdHlwZXMnLCBlY21UeXBlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFlY21UeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNyZWF0ZUVjbVR5cGVXaXRoUHJvcGVydGllcyhmb3JtTmFtZSwgZm9ybSkuc3Vic2NyaWJlKHR5cGVDcmVhdGVkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHR5cGVDcmVhdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KGVjbVR5cGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIGNyZWF0ZUVjbVR5cGVXaXRoUHJvcGVydGllcyhmb3JtTmFtZTogc3RyaW5nLCBmb3JtOiBGb3JtTW9kZWwpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gT2JzZXJ2YWJsZS5jcmVhdGUob2JzZXJ2ZXIgPT4ge1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVFY21UeXBlKGZvcm1OYW1lLCBFY21Nb2RlbFNlcnZpY2UuTU9ERUxfTkFNRSwgRWNtTW9kZWxTZXJ2aWNlLlRZUEVfTU9ERUwpLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICB0eXBlQ3JlYXRlZCA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubG9nU2VydmljZS5pbmZvKCd0eXBlIENyZWF0ZWQnLCB0eXBlQ3JlYXRlZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkUHJvcGVydHlUb0FUeXBlKEVjbU1vZGVsU2VydmljZS5NT0RFTF9OQU1FLCBmb3JtTmFtZSwgZm9ybSkuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgICAgICAgICAgcHJvcGVyeUFkZGVkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuaW5mbygncHJvcGVydHkgQWRkZWQnLCBwcm9wZXJ5QWRkZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQodHlwZUNyZWF0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHVibGljIHNlYXJjaEVjbVR5cGUodHlwZU5hbWU6IHN0cmluZywgbW9kZWxOYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRFY21UeXBlKG1vZGVsTmFtZSkucGlwZShtYXAoZnVuY3Rpb24gKGN1c3RvbVR5cGVzOiBhbnkpIHtcbiAgICAgICAgICAgIHJldHVybiBjdXN0b21UeXBlcy5saXN0LmVudHJpZXMuZmluZCh0eXBlID0+IHR5cGUuZW50cnkucHJlZml4ZWROYW1lID09PSB0eXBlTmFtZSB8fCB0eXBlLmVudHJ5LnRpdGxlID09PSB0eXBlTmFtZSk7XG4gICAgICAgIH0pKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYWN0aXZlRWNtTW9kZWwobW9kZWxOYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5jb3JlLmN1c3RvbU1vZGVsQXBpLmFjdGl2YXRlQ3VzdG9tTW9kZWwobW9kZWxOYW1lKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCh0aGlzLnRvSnNvbiksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlRWNtTW9kZWwobW9kZWxOYW1lOiBzdHJpbmcsIG5hbWVTcGFjZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuY29yZS5jdXN0b21Nb2RlbEFwaS5jcmVhdGVDdXN0b21Nb2RlbCgnRFJBRlQnLCAnJywgbW9kZWxOYW1lLCBtb2RlbE5hbWUsIG5hbWVTcGFjZSkpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAodGhpcy50b0pzb24pLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVjbU1vZGVscygpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5jb3JlLmN1c3RvbU1vZGVsQXBpLmdldEFsbEN1c3RvbU1vZGVsKCkpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAodGhpcy50b0pzb24pLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGdldEVjbVR5cGUobW9kZWxOYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5jb3JlLmN1c3RvbU1vZGVsQXBpLmdldEFsbEN1c3RvbVR5cGUobW9kZWxOYW1lKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCh0aGlzLnRvSnNvbiksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgY3JlYXRlRWNtVHlwZSh0eXBlTmFtZTogc3RyaW5nLCBtb2RlbE5hbWU6IHN0cmluZywgcGFyZW50VHlwZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgbGV0IG5hbWUgPSB0aGlzLmNsZWFuTmFtZVR5cGUodHlwZU5hbWUpO1xuXG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmNvcmUuY3VzdG9tTW9kZWxBcGkuY3JlYXRlQ3VzdG9tVHlwZShtb2RlbE5hbWUsIG5hbWUsIHBhcmVudFR5cGUsIHR5cGVOYW1lLCAnJykpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAodGhpcy50b0pzb24pLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgcHVibGljIGFkZFByb3BlcnR5VG9BVHlwZShtb2RlbE5hbWU6IHN0cmluZywgdHlwZU5hbWU6IHN0cmluZywgZm9ybUZpZWxkczogYW55KSB7XG4gICAgICAgIGxldCBuYW1lID0gdGhpcy5jbGVhbk5hbWVUeXBlKHR5cGVOYW1lKTtcblxuICAgICAgICBsZXQgcHJvcGVydGllcyA9IFtdO1xuICAgICAgICBpZiAoZm9ybUZpZWxkcyAmJiBmb3JtRmllbGRzLnZhbHVlcykge1xuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGZvcm1GaWVsZHMudmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGtleSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZToga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGtleSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhVHlwZTogJ2Q6dGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aVZhbHVlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYW5kYXRvcnk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWFuZGF0b3J5RW5mb3JjZWQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmNvcmUuY3VzdG9tTW9kZWxBcGkuYWRkUHJvcGVydHlUb1R5cGUobW9kZWxOYW1lLCBuYW1lLCBwcm9wZXJ0aWVzKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCh0aGlzLnRvSnNvbiksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcblxuICAgIH1cblxuICAgIGNsZWFuTmFtZVR5cGUobmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IGNsZWFuTmFtZSA9IG5hbWU7XG4gICAgICAgIGlmIChuYW1lLmluZGV4T2YoJzonKSAhPT0gLTEpIHtcbiAgICAgICAgICAgIGNsZWFuTmFtZSA9IG5hbWUuc3BsaXQoJzonKVsxXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xlYW5OYW1lLnJlcGxhY2UoL1teYS16QS1aIF0vZywgJycpO1xuICAgIH1cblxuICAgIHRvSnNvbihyZXM6IGFueSkge1xuICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzIHx8IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICBoYW5kbGVFcnJvcihlcnI6IGFueSk6IGFueSB7XG4gICAgICAgIHRoaXMubG9nU2VydmljZS5lcnJvcihlcnIpO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBjbGFzcyBGb3JtRGVmaW5pdGlvbk1vZGVsIHtcbiAgICByZXVzYWJsZTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIG5ld1ZlcnNpb246IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBmb3JtUmVwcmVzZW50YXRpb246IGFueTtcbiAgICBmb3JtSW1hZ2VCYXNlNjQ6IHN0cmluZyA9ICcnO1xuXG4gICAgY29uc3RydWN0b3IoaWQ6IHN0cmluZywgbmFtZTogYW55LCBsYXN0VXBkYXRlZEJ5RnVsbE5hbWU6IHN0cmluZywgbGFzdFVwZGF0ZWQ6IHN0cmluZywgbWV0YWRhdGE6IGFueSkge1xuXG4gICAgICAgIHRoaXMuZm9ybVJlcHJlc2VudGF0aW9uID0ge1xuICAgICAgICAgICAgaWQ6IGlkLFxuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICAgICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgICAgICBsYXN0VXBkYXRlZEJ5OiAxLFxuICAgICAgICAgICAgbGFzdFVwZGF0ZWRCeUZ1bGxOYW1lOiBsYXN0VXBkYXRlZEJ5RnVsbE5hbWUsXG4gICAgICAgICAgICBsYXN0VXBkYXRlZDogbGFzdFVwZGF0ZWQsXG4gICAgICAgICAgICBzdGVuY2lsU2V0SWQ6IDAsXG4gICAgICAgICAgICByZWZlcmVuY2VJZDogbnVsbCxcbiAgICAgICAgICAgIGZvcm1EZWZpbml0aW9uOiB7XG4gICAgICAgICAgICAgICAgZmllbGRzOiBbe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTGFiZWwnLFxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY29udGFpbmVyJyxcbiAgICAgICAgICAgICAgICAgICAgZmllbGRUeXBlOiAnQ29udGFpbmVyUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICBudW1iZXJPZkNvbHVtbnM6IDIsXG4gICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBzaXplWDogMixcbiAgICAgICAgICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICAgICAgICAgIGZpZWxkczogeycxJzogdGhpcy5tZXRhZGF0YVRvRmllbGRzKG1ldGFkYXRhKX1cbiAgICAgICAgICAgICAgICB9XSxcbiAgICAgICAgICAgICAgICBncmlkc3RlckZvcm06IGZhbHNlLFxuICAgICAgICAgICAgICAgIGphdmFzY3JpcHRFdmVudHM6IFtdLFxuICAgICAgICAgICAgICAgIG1ldGFkYXRhOiB7fSxcbiAgICAgICAgICAgICAgICBvdXRjb21lczogW10sXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnJyxcbiAgICAgICAgICAgICAgICBzdHlsZTogJycsXG4gICAgICAgICAgICAgICAgdGFiczogW10sXG4gICAgICAgICAgICAgICAgdmFyaWFibGVzOiBbXVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgbWV0YWRhdGFUb0ZpZWxkcyhtZXRhZGF0YTogYW55KTogYW55W10ge1xuICAgICAgICBsZXQgZmllbGRzID0gW107XG4gICAgICAgIGlmIChtZXRhZGF0YSkge1xuICAgICAgICAgICAgbWV0YWRhdGEuZm9yRWFjaChmdW5jdGlvbihwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgIGlmIChwcm9wZXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgZmllbGQgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogcHJvcGVydHkubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IHByb3BlcnR5Lm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heENvbHNwYW46IDJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAtMVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBmaWVsZHMucHVzaChmaWVsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmllbGRzO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbiAvKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmV4cG9ydCBjbGFzcyBGb3JtRmllbGRUeXBlcyB7XG4gICAgc3RhdGljIENPTlRBSU5FUjogc3RyaW5nID0gJ2NvbnRhaW5lcic7XG4gICAgc3RhdGljIEdST1VQOiBzdHJpbmcgPSAnZ3JvdXAnO1xuICAgIHN0YXRpYyBEWU5BTUlDX1RBQkxFOiBzdHJpbmcgPSAnZHluYW1pYy10YWJsZSc7XG4gICAgc3RhdGljIFRFWFQ6IHN0cmluZyA9ICd0ZXh0JztcbiAgICBzdGF0aWMgTVVMVElMSU5FX1RFWFQ6IHN0cmluZyA9ICdtdWx0aS1saW5lLXRleHQnO1xuICAgIHN0YXRpYyBEUk9QRE9XTjogc3RyaW5nID0gJ2Ryb3Bkb3duJztcbiAgICBzdGF0aWMgSFlQRVJMSU5LOiBzdHJpbmcgPSAnaHlwZXJsaW5rJztcbiAgICBzdGF0aWMgUkFESU9fQlVUVE9OUzogc3RyaW5nID0gJ3JhZGlvLWJ1dHRvbnMnO1xuICAgIHN0YXRpYyBESVNQTEFZX1ZBTFVFOiBzdHJpbmcgPSAncmVhZG9ubHknO1xuICAgIHN0YXRpYyBSRUFET05MWV9URVhUOiBzdHJpbmcgPSAncmVhZG9ubHktdGV4dCc7XG4gICAgc3RhdGljIFVQTE9BRDogc3RyaW5nID0gJ3VwbG9hZCc7XG4gICAgc3RhdGljIFRZUEVBSEVBRDogc3RyaW5nID0gJ3R5cGVhaGVhZCc7XG4gICAgc3RhdGljIEZVTkNUSU9OQUxfR1JPVVA6IHN0cmluZyA9ICdmdW5jdGlvbmFsLWdyb3VwJztcbiAgICBzdGF0aWMgUEVPUExFOiBzdHJpbmcgPSAncGVvcGxlJztcbiAgICBzdGF0aWMgQk9PTEVBTjogc3RyaW5nID0gJ2Jvb2xlYW4nO1xuICAgIHN0YXRpYyBOVU1CRVI6IHN0cmluZyA9ICdpbnRlZ2VyJztcbiAgICBzdGF0aWMgREFURTogc3RyaW5nID0gJ2RhdGUnO1xuICAgIHN0YXRpYyBBTU9VTlQ6IHN0cmluZyA9ICdhbW91bnQnO1xuICAgIHN0YXRpYyBET0NVTUVOVDogc3RyaW5nID0gJ2RvY3VtZW50JztcbiAgICBzdGF0aWMgREFURVRJTUU6IHN0cmluZyA9ICdkYXRldGltZSc7XG5cbiAgICBzdGF0aWMgUkVBRE9OTFlfVFlQRVM6IHN0cmluZ1tdID0gW1xuICAgICAgICBGb3JtRmllbGRUeXBlcy5IWVBFUkxJTkssXG4gICAgICAgIEZvcm1GaWVsZFR5cGVzLkRJU1BMQVlfVkFMVUUsXG4gICAgICAgIEZvcm1GaWVsZFR5cGVzLlJFQURPTkxZX1RFWFRcbiAgICBdO1xuXG4gICAgc3RhdGljIGlzUmVhZE9ubHlUeXBlKHR5cGU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gRm9ybUZpZWxkVHlwZXMuUkVBRE9OTFlfVFlQRVMuaW5kZXhPZih0eXBlKSA+IC0xO1xuICAgIH1cblxuICAgIHN0YXRpYyBpc0NvbnRhaW5lclR5cGUodHlwZTogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiB0eXBlID09PSBGb3JtRmllbGRUeXBlcy5DT05UQUlORVIgfHwgdHlwZSA9PT0gRm9ybUZpZWxkVHlwZXMuR1JPVVA7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuIC8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuaW1wb3J0IHsgRm9ybU1vZGVsIH0gZnJvbSAnLi9mb3JtLm1vZGVsJztcblxuZXhwb3J0IGFic3RyYWN0IGNsYXNzIEZvcm1XaWRnZXRNb2RlbCB7XG5cbiAgICByZWFkb25seSBmaWVsZFR5cGU6IHN0cmluZztcbiAgICByZWFkb25seSBpZDogc3RyaW5nO1xuICAgIHJlYWRvbmx5IG5hbWU6IHN0cmluZztcbiAgICByZWFkb25seSB0eXBlOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgdGFiOiBzdHJpbmc7XG5cbiAgICByZWFkb25seSBmb3JtOiBGb3JtTW9kZWw7XG4gICAgcmVhZG9ubHkganNvbjogYW55O1xuXG4gICAgY29uc3RydWN0b3IoZm9ybTogRm9ybU1vZGVsLCBqc29uOiBhbnkpIHtcbiAgICAgICAgdGhpcy5mb3JtID0gZm9ybTtcbiAgICAgICAgdGhpcy5qc29uID0ganNvbjtcblxuICAgICAgICBpZiAoanNvbikge1xuICAgICAgICAgICAgdGhpcy5maWVsZFR5cGUgPSBqc29uLmZpZWxkVHlwZTtcbiAgICAgICAgICAgIHRoaXMuaWQgPSBqc29uLmlkO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0ganNvbi5uYW1lO1xuICAgICAgICAgICAgdGhpcy50eXBlID0ganNvbi50eXBlO1xuICAgICAgICAgICAgdGhpcy50YWIgPSBqc29uLnRhYjtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGludGVyZmFjZSBGb3JtV2lkZ2V0TW9kZWxDYWNoZTxUIGV4dGVuZHMgRm9ybVdpZGdldE1vZGVsPiB7XG4gICAgW2tleTogc3RyaW5nXTogVDtcbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuaW1wb3J0IHsgRm9ybUZpZWxkTW9kZWwgfSBmcm9tICcuL2Zvcm0tZmllbGQubW9kZWwnO1xuXG5leHBvcnQgY2xhc3MgQ29udGFpbmVyQ29sdW1uTW9kZWwge1xuXG4gICAgc2l6ZTogbnVtYmVyID0gMTI7XG4gICAgZmllbGRzOiBGb3JtRmllbGRNb2RlbFtdID0gW107XG4gICAgY29sc3BhbjogbnVtYmVyID0gMTtcbiAgICByb3dzcGFuOiBudW1iZXIgPSAxO1xuXG4gICAgaGFzRmllbGRzKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5maWVsZHMgJiYgdGhpcy5maWVsZHMubGVuZ3RoID4gMDtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmV4cG9ydCBjbGFzcyBFcnJvck1lc3NhZ2VNb2RlbCB7XG5cbiAgICBtZXNzYWdlOiBzdHJpbmcgPSAnJztcbiAgICBhdHRyaWJ1dGVzOiBNYXA8c3RyaW5nLCBzdHJpbmc+ID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKG9iaj86IGFueSkge1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSBvYmogJiYgb2JqLm1lc3NhZ2UgPyBvYmoubWVzc2FnZSA6ICcnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBuZXcgTWFwKCk7XG4gICAgfVxuXG4gICAgaXNBY3RpdmUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lc3NhZ2UgPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuXG4gICAgZ2V0QXR0cmlidXRlc0FzSnNvbk9iaigpIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IHt9O1xuICAgICAgICBpZiAodGhpcy5hdHRyaWJ1dGVzLnNpemUgPiAwKSB7XG4gICAgICAgICAgICBsZXQgb2JqID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICAgIHRoaXMuYXR0cmlidXRlcy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgb2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmVzdWx0ID0gSlNPTi5zdHJpbmdpZnkob2JqKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbiAvKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50LWVzNic7XG5pbXBvcnQgeyBGb3JtRmllbGRUeXBlcyB9IGZyb20gJy4vZm9ybS1maWVsZC10eXBlcyc7XG5pbXBvcnQgeyBGb3JtRmllbGRNb2RlbCB9IGZyb20gJy4vZm9ybS1maWVsZC5tb2RlbCc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgRm9ybUZpZWxkVmFsaWRhdG9yIHtcblxuICAgIGlzU3VwcG9ydGVkKGZpZWxkOiBGb3JtRmllbGRNb2RlbCk6IGJvb2xlYW47XG4gICAgdmFsaWRhdGUoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKTogYm9vbGVhbjtcblxufVxuXG5leHBvcnQgY2xhc3MgUmVxdWlyZWRGaWVsZFZhbGlkYXRvciBpbXBsZW1lbnRzIEZvcm1GaWVsZFZhbGlkYXRvciB7XG5cbiAgICBwcml2YXRlIHN1cHBvcnRlZFR5cGVzID0gW1xuICAgICAgICBGb3JtRmllbGRUeXBlcy5URVhULFxuICAgICAgICBGb3JtRmllbGRUeXBlcy5NVUxUSUxJTkVfVEVYVCxcbiAgICAgICAgRm9ybUZpZWxkVHlwZXMuTlVNQkVSLFxuICAgICAgICBGb3JtRmllbGRUeXBlcy5CT09MRUFOLFxuICAgICAgICBGb3JtRmllbGRUeXBlcy5UWVBFQUhFQUQsXG4gICAgICAgIEZvcm1GaWVsZFR5cGVzLkRST1BET1dOLFxuICAgICAgICBGb3JtRmllbGRUeXBlcy5QRU9QTEUsXG4gICAgICAgIEZvcm1GaWVsZFR5cGVzLkZVTkNUSU9OQUxfR1JPVVAsXG4gICAgICAgIEZvcm1GaWVsZFR5cGVzLlJBRElPX0JVVFRPTlMsXG4gICAgICAgIEZvcm1GaWVsZFR5cGVzLlVQTE9BRCxcbiAgICAgICAgRm9ybUZpZWxkVHlwZXMuQU1PVU5ULFxuICAgICAgICBGb3JtRmllbGRUeXBlcy5EWU5BTUlDX1RBQkxFLFxuICAgICAgICBGb3JtRmllbGRUeXBlcy5EQVRFLFxuICAgICAgICBGb3JtRmllbGRUeXBlcy5EQVRFVElNRVxuICAgIF07XG5cbiAgICBpc1N1cHBvcnRlZChmaWVsZDogRm9ybUZpZWxkTW9kZWwpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkICYmXG4gICAgICAgICAgICB0aGlzLnN1cHBvcnRlZFR5cGVzLmluZGV4T2YoZmllbGQudHlwZSkgPiAtMSAmJlxuICAgICAgICAgICAgZmllbGQucmVxdWlyZWQ7XG4gICAgfVxuXG4gICAgdmFsaWRhdGUoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkKGZpZWxkKSAmJiBmaWVsZC5pc1Zpc2libGUpIHtcblxuICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09IEZvcm1GaWVsZFR5cGVzLkRST1BET1dOKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZpZWxkLmhhc0VtcHR5VmFsdWUgJiYgZmllbGQuZW1wdHlPcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLnZhbHVlID09PSBmaWVsZC5lbXB0eU9wdGlvbi5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gRm9ybUZpZWxkVHlwZXMuUkFESU9fQlVUVE9OUykge1xuICAgICAgICAgICAgICAgIGxldCBvcHRpb24gPSBmaWVsZC5vcHRpb25zLmZpbmQob3B0ID0+IG9wdC5pZCA9PT0gZmllbGQudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiAhIW9wdGlvbjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09IEZvcm1GaWVsZFR5cGVzLlVQTE9BRCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWVsZC52YWx1ZSAmJiBmaWVsZC52YWx1ZS5sZW5ndGggPiAwO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gRm9ybUZpZWxkVHlwZXMuRFlOQU1JQ19UQUJMRSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmaWVsZC52YWx1ZSAmJiBmaWVsZC52YWx1ZSBpbnN0YW5jZW9mIEFycmF5ICYmIGZpZWxkLnZhbHVlLmxlbmd0aCA+IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSBGb3JtRmllbGRUeXBlcy5CT09MRUFOKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZpZWxkLnZhbHVlID8gdHJ1ZSA6IGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoZmllbGQudmFsdWUgPT09IG51bGwgfHwgZmllbGQudmFsdWUgPT09IHVuZGVmaW5lZCB8fCBmaWVsZC52YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG59XG5cbmV4cG9ydCBjbGFzcyBOdW1iZXJGaWVsZFZhbGlkYXRvciBpbXBsZW1lbnRzIEZvcm1GaWVsZFZhbGlkYXRvciB7XG5cbiAgICBwcml2YXRlIHN1cHBvcnRlZFR5cGVzID0gW1xuICAgICAgICBGb3JtRmllbGRUeXBlcy5OVU1CRVIsXG4gICAgICAgIEZvcm1GaWVsZFR5cGVzLkFNT1VOVFxuICAgIF07XG5cbiAgICBzdGF0aWMgaXNOdW1iZXIodmFsdWU6IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodmFsdWUgPT09IG51bGwgfHwgdmFsdWUgPT09IHVuZGVmaW5lZCB8fCB2YWx1ZSA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAhaXNOYU4oK3ZhbHVlKTtcbiAgICB9XG5cbiAgICBpc1N1cHBvcnRlZChmaWVsZDogRm9ybUZpZWxkTW9kZWwpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkICYmIHRoaXMuc3VwcG9ydGVkVHlwZXMuaW5kZXhPZihmaWVsZC50eXBlKSA+IC0xO1xuICAgIH1cblxuICAgIHZhbGlkYXRlKGZpZWxkOiBGb3JtRmllbGRNb2RlbCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5pc1N1cHBvcnRlZChmaWVsZCkgJiYgZmllbGQuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICBpZiAoZmllbGQudmFsdWUgPT09IG51bGwgfHxcbiAgICAgICAgICAgICAgICBmaWVsZC52YWx1ZSA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICAgICAgICAgICAgZmllbGQudmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdmFsdWVTdHIgPSAnJyArIGZpZWxkLnZhbHVlO1xuICAgICAgICAgICAgbGV0IHBhdHRlcm4gPSBuZXcgUmVnRXhwKC9eLT9cXGQrJC8pO1xuICAgICAgICAgICAgaWYgKGZpZWxkLmVuYWJsZUZyYWN0aW9ucykge1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gPSBuZXcgUmVnRXhwKC9eLT9bMC05XSsoXFwuWzAtOV17MSwyfSk/JC8pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlU3RyLm1hdGNoKHBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWVsZC52YWxpZGF0aW9uU3VtbWFyeS5tZXNzYWdlID0gJ0ZPUk0uRklFTEQuVkFMSURBVE9SLklOVkFMSURfTlVNQkVSJztcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBEYXRlRmllbGRWYWxpZGF0b3IgaW1wbGVtZW50cyBGb3JtRmllbGRWYWxpZGF0b3Ige1xuXG4gICAgcHJpdmF0ZSBzdXBwb3J0ZWRUeXBlcyA9IFtcbiAgICAgICAgRm9ybUZpZWxkVHlwZXMuREFURVxuICAgIF07XG5cbiAgICAvLyBWYWxpZGF0ZXMgdGhhdCB0aGUgaW5wdXQgc3RyaW5nIGlzIGEgdmFsaWQgZGF0ZSBmb3JtYXR0ZWQgYXMgPGRhdGVGb3JtYXQ+IChkZWZhdWx0IEQtTS1ZWVlZKVxuICAgIHN0YXRpYyBpc1ZhbGlkRGF0ZShpbnB1dERhdGU6IHN0cmluZywgZGF0ZUZvcm1hdDogc3RyaW5nID0gJ0QtTS1ZWVlZJyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAoaW5wdXREYXRlKSB7XG4gICAgICAgICAgICBsZXQgZCA9IG1vbWVudChpbnB1dERhdGUsIGRhdGVGb3JtYXQsIHRydWUpO1xuICAgICAgICAgICAgcmV0dXJuIGQuaXNWYWxpZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlzU3VwcG9ydGVkKGZpZWxkOiBGb3JtRmllbGRNb2RlbCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmllbGQgJiYgdGhpcy5zdXBwb3J0ZWRUeXBlcy5pbmRleE9mKGZpZWxkLnR5cGUpID4gLTE7XG4gICAgfVxuXG4gICAgdmFsaWRhdGUoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkKGZpZWxkKSAmJiBmaWVsZC52YWx1ZSAmJiBmaWVsZC5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIGlmIChEYXRlRmllbGRWYWxpZGF0b3IuaXNWYWxpZERhdGUoZmllbGQudmFsdWUsIGZpZWxkLmRhdGVEaXNwbGF5Rm9ybWF0KSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmllbGQudmFsaWRhdGlvblN1bW1hcnkubWVzc2FnZSA9IGZpZWxkLmRhdGVEaXNwbGF5Rm9ybWF0O1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1pbkRhdGVGaWVsZFZhbGlkYXRvciBpbXBsZW1lbnRzIEZvcm1GaWVsZFZhbGlkYXRvciB7XG5cbiAgICBwcml2YXRlIHN1cHBvcnRlZFR5cGVzID0gW1xuICAgICAgICBGb3JtRmllbGRUeXBlcy5EQVRFXG4gICAgXTtcblxuICAgIGlzU3VwcG9ydGVkKGZpZWxkOiBGb3JtRmllbGRNb2RlbCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmllbGQgJiZcbiAgICAgICAgICAgIHRoaXMuc3VwcG9ydGVkVHlwZXMuaW5kZXhPZihmaWVsZC50eXBlKSA+IC0xICYmICEhZmllbGQubWluVmFsdWU7XG4gICAgfVxuXG4gICAgdmFsaWRhdGUoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBpc1ZhbGlkID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMuaXNTdXBwb3J0ZWQoZmllbGQpICYmIGZpZWxkLnZhbHVlICYmIGZpZWxkLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgY29uc3QgZGF0ZUZvcm1hdCA9IGZpZWxkLmRhdGVEaXNwbGF5Rm9ybWF0O1xuXG4gICAgICAgICAgICBpZiAoIURhdGVGaWVsZFZhbGlkYXRvci5pc1ZhbGlkRGF0ZShmaWVsZC52YWx1ZSwgZGF0ZUZvcm1hdCkpIHtcbiAgICAgICAgICAgICAgICBmaWVsZC52YWxpZGF0aW9uU3VtbWFyeS5tZXNzYWdlID0gJ0ZPUk0uRklFTEQuVkFMSURBVE9SLklOVkFMSURfREFURSc7XG4gICAgICAgICAgICAgICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpc1ZhbGlkID0gdGhpcy5jaGVja0RhdGUoZmllbGQsIGRhdGVGb3JtYXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc1ZhbGlkO1xuICAgIH1cblxuICAgIHByaXZhdGUgY2hlY2tEYXRlKGZpZWxkOiBGb3JtRmllbGRNb2RlbCwgZGF0ZUZvcm1hdDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IE1JTl9EQVRFX0ZPUk1BVCA9ICdERC1NTS1ZWVlZJztcbiAgICAgICAgbGV0IGlzVmFsaWQgPSB0cnVlO1xuICAgICAgICAvLyByZW1vdmUgdGltZSBhbmQgdGltZXpvbmUgaW5mb1xuICAgICAgICBsZXQgZmllbGRWYWx1ZURhdGE7XG4gICAgICAgIGlmICh0eXBlb2YgZmllbGQudmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBmaWVsZFZhbHVlRGF0YSA9IG1vbWVudChmaWVsZC52YWx1ZS5zcGxpdCgnVCcpWzBdLCBkYXRlRm9ybWF0KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpZWxkVmFsdWVEYXRhID0gZmllbGQudmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IG1pbiA9IG1vbWVudChmaWVsZC5taW5WYWx1ZSwgTUlOX0RBVEVfRk9STUFUKTtcblxuICAgICAgICBpZiAoZmllbGRWYWx1ZURhdGEuaXNCZWZvcmUobWluKSkge1xuICAgICAgICAgICAgZmllbGQudmFsaWRhdGlvblN1bW1hcnkubWVzc2FnZSA9IGBGT1JNLkZJRUxELlZBTElEQVRPUi5OT1RfTEVTU19USEFOYDtcbiAgICAgICAgICAgIGZpZWxkLnZhbGlkYXRpb25TdW1tYXJ5LmF0dHJpYnV0ZXMuc2V0KCdtaW5WYWx1ZScsIG1pbi5mb3JtYXQoZmllbGQuZGF0ZURpc3BsYXlGb3JtYXQpLnRvTG9jYWxlVXBwZXJDYXNlKCkpO1xuICAgICAgICAgICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc1ZhbGlkO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1heERhdGVGaWVsZFZhbGlkYXRvciBpbXBsZW1lbnRzIEZvcm1GaWVsZFZhbGlkYXRvciB7XG5cbiAgICBNQVhfREFURV9GT1JNQVQgPSAnREQtTU0tWVlZWSc7XG5cbiAgICBwcml2YXRlIHN1cHBvcnRlZFR5cGVzID0gW1xuICAgICAgICBGb3JtRmllbGRUeXBlcy5EQVRFXG4gICAgXTtcblxuICAgIGlzU3VwcG9ydGVkKGZpZWxkOiBGb3JtRmllbGRNb2RlbCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmllbGQgJiZcbiAgICAgICAgICAgIHRoaXMuc3VwcG9ydGVkVHlwZXMuaW5kZXhPZihmaWVsZC50eXBlKSA+IC0xICYmICEhZmllbGQubWF4VmFsdWU7XG4gICAgfVxuXG4gICAgdmFsaWRhdGUoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkKGZpZWxkKSAmJiBmaWVsZC52YWx1ZSAmJiBmaWVsZC5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGVGb3JtYXQgPSBmaWVsZC5kYXRlRGlzcGxheUZvcm1hdDtcblxuICAgICAgICAgICAgaWYgKCFEYXRlRmllbGRWYWxpZGF0b3IuaXNWYWxpZERhdGUoZmllbGQudmFsdWUsIGRhdGVGb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgZmllbGQudmFsaWRhdGlvblN1bW1hcnkubWVzc2FnZSA9ICdGT1JNLkZJRUxELlZBTElEQVRPUi5JTlZBTElEX0RBVEUnO1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gcmVtb3ZlIHRpbWUgYW5kIHRpbWV6b25lIGluZm9cbiAgICAgICAgICAgIGxldCBkO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBmaWVsZC52YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgICAgICBkID0gbW9tZW50KGZpZWxkLnZhbHVlLnNwbGl0KCdUJylbMF0sIGRhdGVGb3JtYXQpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBkID0gZmllbGQudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgbWF4ID0gbW9tZW50KGZpZWxkLm1heFZhbHVlLCB0aGlzLk1BWF9EQVRFX0ZPUk1BVCk7XG5cbiAgICAgICAgICAgIGlmIChkLmlzQWZ0ZXIobWF4KSkge1xuICAgICAgICAgICAgICAgIGZpZWxkLnZhbGlkYXRpb25TdW1tYXJ5Lm1lc3NhZ2UgPSBgRk9STS5GSUVMRC5WQUxJREFUT1IuTk9UX0dSRUFURVJfVEhBTmA7XG4gICAgICAgICAgICAgICAgZmllbGQudmFsaWRhdGlvblN1bW1hcnkuYXR0cmlidXRlcy5zZXQoJ21heFZhbHVlJywgbWF4LmZvcm1hdChmaWVsZC5kYXRlRGlzcGxheUZvcm1hdCkudG9Mb2NhbGVVcHBlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1pbkRhdGVUaW1lRmllbGRWYWxpZGF0b3IgaW1wbGVtZW50cyBGb3JtRmllbGRWYWxpZGF0b3Ige1xuXG4gICAgcHJpdmF0ZSBzdXBwb3J0ZWRUeXBlcyA9IFtcbiAgICAgICAgRm9ybUZpZWxkVHlwZXMuREFURVRJTUVcbiAgICBdO1xuICAgIE1JTl9EQVRFVElNRV9GT1JNQVQgPSAnWVlZWS1NTS1ERCBoaDptbSBBWic7XG5cbiAgICBpc1N1cHBvcnRlZChmaWVsZDogRm9ybUZpZWxkTW9kZWwpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkICYmXG4gICAgICAgICAgICB0aGlzLnN1cHBvcnRlZFR5cGVzLmluZGV4T2YoZmllbGQudHlwZSkgPiAtMSAmJiAhIWZpZWxkLm1pblZhbHVlO1xuICAgIH1cblxuICAgIHZhbGlkYXRlKGZpZWxkOiBGb3JtRmllbGRNb2RlbCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgaXNWYWxpZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkKGZpZWxkKSAmJiBmaWVsZC52YWx1ZSAmJiBmaWVsZC5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGVGb3JtYXQgPSBmaWVsZC5kYXRlRGlzcGxheUZvcm1hdDtcblxuICAgICAgICAgICAgaWYgKCFEYXRlRmllbGRWYWxpZGF0b3IuaXNWYWxpZERhdGUoZmllbGQudmFsdWUsIGRhdGVGb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgZmllbGQudmFsaWRhdGlvblN1bW1hcnkubWVzc2FnZSA9ICdGT1JNLkZJRUxELlZBTElEQVRPUi5JTlZBTElEX0RBVEUnO1xuICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNWYWxpZCA9IHRoaXMuY2hlY2tEYXRlVGltZShmaWVsZCwgZGF0ZUZvcm1hdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjaGVja0RhdGVUaW1lKGZpZWxkOiBGb3JtRmllbGRNb2RlbCwgZGF0ZUZvcm1hdDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBpc1ZhbGlkID0gdHJ1ZTtcbiAgICAgICAgbGV0IGZpZWxkVmFsdWVEYXRlO1xuICAgICAgICBpZiAodHlwZW9mIGZpZWxkLnZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgZmllbGRWYWx1ZURhdGUgPSBtb21lbnQoZmllbGQudmFsdWUsIGRhdGVGb3JtYXQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmllbGRWYWx1ZURhdGUgPSBmaWVsZC52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgbWluID0gbW9tZW50KGZpZWxkLm1pblZhbHVlLCB0aGlzLk1JTl9EQVRFVElNRV9GT1JNQVQpO1xuXG4gICAgICAgIGlmIChmaWVsZFZhbHVlRGF0ZS5pc0JlZm9yZShtaW4pKSB7XG4gICAgICAgICAgICBmaWVsZC52YWxpZGF0aW9uU3VtbWFyeS5tZXNzYWdlID0gYEZPUk0uRklFTEQuVkFMSURBVE9SLk5PVF9MRVNTX1RIQU5gO1xuICAgICAgICAgICAgZmllbGQudmFsaWRhdGlvblN1bW1hcnkuYXR0cmlidXRlcy5zZXQoJ21pblZhbHVlJywgbWluLmZvcm1hdChmaWVsZC5kYXRlRGlzcGxheUZvcm1hdCkucmVwbGFjZSgnOicsICctJykpO1xuICAgICAgICAgICAgaXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpc1ZhbGlkO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1heERhdGVUaW1lRmllbGRWYWxpZGF0b3IgaW1wbGVtZW50cyBGb3JtRmllbGRWYWxpZGF0b3Ige1xuXG4gICAgcHJpdmF0ZSBzdXBwb3J0ZWRUeXBlcyA9IFtcbiAgICAgICAgRm9ybUZpZWxkVHlwZXMuREFURVRJTUVcbiAgICBdO1xuICAgIE1BWF9EQVRFVElNRV9GT1JNQVQgPSAnWVlZWS1NTS1ERCBoaDptbSBBWic7XG5cbiAgICBpc1N1cHBvcnRlZChmaWVsZDogRm9ybUZpZWxkTW9kZWwpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkICYmXG4gICAgICAgICAgICB0aGlzLnN1cHBvcnRlZFR5cGVzLmluZGV4T2YoZmllbGQudHlwZSkgPiAtMSAmJiAhIWZpZWxkLm1heFZhbHVlO1xuICAgIH1cblxuICAgIHZhbGlkYXRlKGZpZWxkOiBGb3JtRmllbGRNb2RlbCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgaXNWYWxpZCA9IHRydWU7XG4gICAgICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkKGZpZWxkKSAmJiBmaWVsZC52YWx1ZSAmJiBmaWVsZC5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGRhdGVGb3JtYXQgPSBmaWVsZC5kYXRlRGlzcGxheUZvcm1hdDtcblxuICAgICAgICAgICAgaWYgKCFEYXRlRmllbGRWYWxpZGF0b3IuaXNWYWxpZERhdGUoZmllbGQudmFsdWUsIGRhdGVGb3JtYXQpKSB7XG4gICAgICAgICAgICAgICAgZmllbGQudmFsaWRhdGlvblN1bW1hcnkubWVzc2FnZSA9ICdGT1JNLkZJRUxELlZBTElEQVRPUi5JTlZBTElEX0RBVEUnO1xuICAgICAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaXNWYWxpZCA9IHRoaXMuY2hlY2tEYXRlVGltZShmaWVsZCwgZGF0ZUZvcm1hdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGlzVmFsaWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjaGVja0RhdGVUaW1lKGZpZWxkOiBGb3JtRmllbGRNb2RlbCwgZGF0ZUZvcm1hdDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBpc1ZhbGlkID0gdHJ1ZTtcbiAgICAgICAgbGV0IGZpZWxkVmFsdWVEYXRlO1xuXG4gICAgICAgIGlmICh0eXBlb2YgZmllbGQudmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBmaWVsZFZhbHVlRGF0ZSA9IG1vbWVudChmaWVsZC52YWx1ZSwgZGF0ZUZvcm1hdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWVsZFZhbHVlRGF0ZSA9IGZpZWxkLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBtYXggPSBtb21lbnQoZmllbGQubWF4VmFsdWUsIHRoaXMuTUFYX0RBVEVUSU1FX0ZPUk1BVCk7XG5cbiAgICAgICAgaWYgKGZpZWxkVmFsdWVEYXRlLmlzQWZ0ZXIobWF4KSkge1xuICAgICAgICAgICAgZmllbGQudmFsaWRhdGlvblN1bW1hcnkubWVzc2FnZSA9IGBGT1JNLkZJRUxELlZBTElEQVRPUi5OT1RfR1JFQVRFUl9USEFOYDtcbiAgICAgICAgICAgIGZpZWxkLnZhbGlkYXRpb25TdW1tYXJ5LmF0dHJpYnV0ZXMuc2V0KCdtYXhWYWx1ZScsIG1heC5mb3JtYXQoZmllbGQuZGF0ZURpc3BsYXlGb3JtYXQpLnJlcGxhY2UoJzonLCAnLScpKTtcbiAgICAgICAgICAgIGlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNWYWxpZDtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNaW5MZW5ndGhGaWVsZFZhbGlkYXRvciBpbXBsZW1lbnRzIEZvcm1GaWVsZFZhbGlkYXRvciB7XG5cbiAgICBwcml2YXRlIHN1cHBvcnRlZFR5cGVzID0gW1xuICAgICAgICBGb3JtRmllbGRUeXBlcy5URVhULFxuICAgICAgICBGb3JtRmllbGRUeXBlcy5NVUxUSUxJTkVfVEVYVFxuICAgIF07XG5cbiAgICBpc1N1cHBvcnRlZChmaWVsZDogRm9ybUZpZWxkTW9kZWwpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkICYmXG4gICAgICAgICAgICB0aGlzLnN1cHBvcnRlZFR5cGVzLmluZGV4T2YoZmllbGQudHlwZSkgPiAtMSAmJlxuICAgICAgICAgICAgZmllbGQubWluTGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZShmaWVsZDogRm9ybUZpZWxkTW9kZWwpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdXBwb3J0ZWQoZmllbGQpICYmIGZpZWxkLnZhbHVlICYmIGZpZWxkLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgaWYgKGZpZWxkLnZhbHVlLmxlbmd0aCA+PSBmaWVsZC5taW5MZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpZWxkLnZhbGlkYXRpb25TdW1tYXJ5Lm1lc3NhZ2UgPSBgRk9STS5GSUVMRC5WQUxJREFUT1IuQVRfTEVBU1RfTE9OR2A7XG4gICAgICAgICAgICBmaWVsZC52YWxpZGF0aW9uU3VtbWFyeS5hdHRyaWJ1dGVzLnNldCgnbWluTGVuZ3RoJywgZmllbGQubWluTGVuZ3RoLnRvTG9jYWxlU3RyaW5nKCkpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1heExlbmd0aEZpZWxkVmFsaWRhdG9yIGltcGxlbWVudHMgRm9ybUZpZWxkVmFsaWRhdG9yIHtcblxuICAgIHByaXZhdGUgc3VwcG9ydGVkVHlwZXMgPSBbXG4gICAgICAgIEZvcm1GaWVsZFR5cGVzLlRFWFQsXG4gICAgICAgIEZvcm1GaWVsZFR5cGVzLk1VTFRJTElORV9URVhUXG4gICAgXTtcblxuICAgIGlzU3VwcG9ydGVkKGZpZWxkOiBGb3JtRmllbGRNb2RlbCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmllbGQgJiZcbiAgICAgICAgICAgIHRoaXMuc3VwcG9ydGVkVHlwZXMuaW5kZXhPZihmaWVsZC50eXBlKSA+IC0xICYmXG4gICAgICAgICAgICBmaWVsZC5tYXhMZW5ndGggPiAwO1xuICAgIH1cblxuICAgIHZhbGlkYXRlKGZpZWxkOiBGb3JtRmllbGRNb2RlbCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5pc1N1cHBvcnRlZChmaWVsZCkgJiYgZmllbGQudmFsdWUgJiYgZmllbGQuaXNWaXNpYmxlKSB7XG4gICAgICAgICAgICBpZiAoZmllbGQudmFsdWUubGVuZ3RoIDw9IGZpZWxkLm1heExlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmllbGQudmFsaWRhdGlvblN1bW1hcnkubWVzc2FnZSA9IGBGT1JNLkZJRUxELlZBTElEQVRPUi5OT19MT05HRVJfVEhBTmA7XG4gICAgICAgICAgICBmaWVsZC52YWxpZGF0aW9uU3VtbWFyeS5hdHRyaWJ1dGVzLnNldCgnbWF4TGVuZ3RoJywgZmllbGQubWF4TGVuZ3RoLnRvTG9jYWxlU3RyaW5nKCkpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1pblZhbHVlRmllbGRWYWxpZGF0b3IgaW1wbGVtZW50cyBGb3JtRmllbGRWYWxpZGF0b3Ige1xuXG4gICAgcHJpdmF0ZSBzdXBwb3J0ZWRUeXBlcyA9IFtcbiAgICAgICAgRm9ybUZpZWxkVHlwZXMuTlVNQkVSLFxuICAgICAgICBGb3JtRmllbGRUeXBlcy5BTU9VTlRcbiAgICBdO1xuXG4gICAgaXNTdXBwb3J0ZWQoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmaWVsZCAmJlxuICAgICAgICAgICAgdGhpcy5zdXBwb3J0ZWRUeXBlcy5pbmRleE9mKGZpZWxkLnR5cGUpID4gLTEgJiZcbiAgICAgICAgICAgIE51bWJlckZpZWxkVmFsaWRhdG9yLmlzTnVtYmVyKGZpZWxkLm1pblZhbHVlKTtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZShmaWVsZDogRm9ybUZpZWxkTW9kZWwpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdXBwb3J0ZWQoZmllbGQpICYmIGZpZWxkLnZhbHVlICYmIGZpZWxkLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgbGV0IHZhbHVlOiBudW1iZXIgPSArZmllbGQudmFsdWU7XG4gICAgICAgICAgICBsZXQgbWluVmFsdWU6IG51bWJlciA9ICtmaWVsZC5taW5WYWx1ZTtcblxuICAgICAgICAgICAgaWYgKHZhbHVlID49IG1pblZhbHVlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmaWVsZC52YWxpZGF0aW9uU3VtbWFyeS5tZXNzYWdlID0gYEZPUk0uRklFTEQuVkFMSURBVE9SLk5PVF9MRVNTX1RIQU5gO1xuICAgICAgICAgICAgZmllbGQudmFsaWRhdGlvblN1bW1hcnkuYXR0cmlidXRlcy5zZXQoJ21pblZhbHVlJywgZmllbGQubWluVmFsdWUudG9Mb2NhbGVTdHJpbmcoKSk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG5cbmV4cG9ydCBjbGFzcyBNYXhWYWx1ZUZpZWxkVmFsaWRhdG9yIGltcGxlbWVudHMgRm9ybUZpZWxkVmFsaWRhdG9yIHtcblxuICAgIHByaXZhdGUgc3VwcG9ydGVkVHlwZXMgPSBbXG4gICAgICAgIEZvcm1GaWVsZFR5cGVzLk5VTUJFUixcbiAgICAgICAgRm9ybUZpZWxkVHlwZXMuQU1PVU5UXG4gICAgXTtcblxuICAgIGlzU3VwcG9ydGVkKGZpZWxkOiBGb3JtRmllbGRNb2RlbCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gZmllbGQgJiZcbiAgICAgICAgICAgIHRoaXMuc3VwcG9ydGVkVHlwZXMuaW5kZXhPZihmaWVsZC50eXBlKSA+IC0xICYmXG4gICAgICAgICAgICBOdW1iZXJGaWVsZFZhbGlkYXRvci5pc051bWJlcihmaWVsZC5tYXhWYWx1ZSk7XG4gICAgfVxuXG4gICAgdmFsaWRhdGUoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkKGZpZWxkKSAmJiBmaWVsZC52YWx1ZSAmJiBmaWVsZC5pc1Zpc2libGUpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZTogbnVtYmVyID0gK2ZpZWxkLnZhbHVlO1xuICAgICAgICAgICAgbGV0IG1heFZhbHVlOiBudW1iZXIgPSArZmllbGQubWF4VmFsdWU7XG5cbiAgICAgICAgICAgIGlmICh2YWx1ZSA8PSBtYXhWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmllbGQudmFsaWRhdGlvblN1bW1hcnkubWVzc2FnZSA9IGBGT1JNLkZJRUxELlZBTElEQVRPUi5OT1RfR1JFQVRFUl9USEFOYDtcbiAgICAgICAgICAgIGZpZWxkLnZhbGlkYXRpb25TdW1tYXJ5LmF0dHJpYnV0ZXMuc2V0KCdtYXhWYWx1ZScsIGZpZWxkLm1heFZhbHVlLnRvTG9jYWxlU3RyaW5nKCkpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgUmVnRXhGaWVsZFZhbGlkYXRvciBpbXBsZW1lbnRzIEZvcm1GaWVsZFZhbGlkYXRvciB7XG5cbiAgICBwcml2YXRlIHN1cHBvcnRlZFR5cGVzID0gW1xuICAgICAgICBGb3JtRmllbGRUeXBlcy5URVhULFxuICAgICAgICBGb3JtRmllbGRUeXBlcy5NVUxUSUxJTkVfVEVYVFxuICAgIF07XG5cbiAgICBpc1N1cHBvcnRlZChmaWVsZDogRm9ybUZpZWxkTW9kZWwpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkICYmXG4gICAgICAgICAgICB0aGlzLnN1cHBvcnRlZFR5cGVzLmluZGV4T2YoZmllbGQudHlwZSkgPiAtMSAmJiAhIWZpZWxkLnJlZ2V4UGF0dGVybjtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZShmaWVsZDogRm9ybUZpZWxkTW9kZWwpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdXBwb3J0ZWQoZmllbGQpICYmIGZpZWxkLnZhbHVlICYmIGZpZWxkLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgaWYgKGZpZWxkLnZhbHVlLmxlbmd0aCA+IDAgJiYgZmllbGQudmFsdWUubWF0Y2gobmV3IFJlZ0V4cCgnXicgKyBmaWVsZC5yZWdleFBhdHRlcm4gKyAnJCcpKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmllbGQudmFsaWRhdGlvblN1bW1hcnkubWVzc2FnZSA9ICdGT1JNLkZJRUxELlZBTElEQVRPUi5JTlZBTElEX1ZBTFVFJztcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbn1cblxuZXhwb3J0IGNsYXNzIEZpeGVkVmFsdWVGaWVsZFZhbGlkYXRvciBpbXBsZW1lbnRzIEZvcm1GaWVsZFZhbGlkYXRvciB7XG5cbiAgICBwcml2YXRlIHN1cHBvcnRlZFR5cGVzID0gW1xuICAgICAgICBGb3JtRmllbGRUeXBlcy5UWVBFQUhFQURcbiAgICBdO1xuXG4gICAgaXNTdXBwb3J0ZWQoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBmaWVsZCAmJiB0aGlzLnN1cHBvcnRlZFR5cGVzLmluZGV4T2YoZmllbGQudHlwZSkgPiAtMTtcbiAgICB9XG5cbiAgICBoYXNWYWxpZE5hbWVPclZhbGlkSWQoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmhhc1ZhbGlkTmFtZShmaWVsZCkgfHwgdGhpcy5oYXNWYWxpZElkKGZpZWxkKTtcbiAgICB9XG5cbiAgICBoYXNWYWxpZE5hbWUoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKSB7XG4gICAgICAgIHJldHVybiBmaWVsZC5vcHRpb25zLmZpbmQoaXRlbSA9PiBpdGVtLm5hbWUgJiYgaXRlbS5uYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IGZpZWxkLnZhbHVlLnRvTG9jYWxlTG93ZXJDYXNlKCkpID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cblxuICAgIGhhc1ZhbGlkSWQoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKSB7XG4gICAgICAgIHJldHVybiBmaWVsZC5vcHRpb25zW2ZpZWxkLnZhbHVlIC0gMV0gPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuXG4gICAgaGFzU3RyaW5nVmFsdWUoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKSB7XG4gICAgICAgIHJldHVybiBmaWVsZC52YWx1ZSAmJiB0eXBlb2YgZmllbGQudmFsdWUgPT09ICdzdHJpbmcnO1xuICAgIH1cblxuICAgIGhhc09wdGlvbnMoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKSB7XG4gICAgICAgIHJldHVybiBmaWVsZC5vcHRpb25zICYmIGZpZWxkLm9wdGlvbnMubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICB2YWxpZGF0ZShmaWVsZDogRm9ybUZpZWxkTW9kZWwpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTdXBwb3J0ZWQoZmllbGQpICYmIGZpZWxkLmlzVmlzaWJsZSkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaGFzU3RyaW5nVmFsdWUoZmllbGQpICYmIHRoaXMuaGFzT3B0aW9ucyhmaWVsZCkgJiYgIXRoaXMuaGFzVmFsaWROYW1lT3JWYWxpZElkKGZpZWxkKSkge1xuICAgICAgICAgICAgICAgIGZpZWxkLnZhbGlkYXRpb25TdW1tYXJ5Lm1lc3NhZ2UgPSAnRk9STS5GSUVMRC5WQUxJREFUT1IuSU5WQUxJRF9WQUxVRSc7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cblxuZXhwb3J0IGNvbnN0IEZPUk1fRklFTERfVkFMSURBVE9SUyA9IFtcbiAgICBuZXcgUmVxdWlyZWRGaWVsZFZhbGlkYXRvcigpLFxuICAgIG5ldyBOdW1iZXJGaWVsZFZhbGlkYXRvcigpLFxuICAgIG5ldyBNaW5MZW5ndGhGaWVsZFZhbGlkYXRvcigpLFxuICAgIG5ldyBNYXhMZW5ndGhGaWVsZFZhbGlkYXRvcigpLFxuICAgIG5ldyBNaW5WYWx1ZUZpZWxkVmFsaWRhdG9yKCksXG4gICAgbmV3IE1heFZhbHVlRmllbGRWYWxpZGF0b3IoKSxcbiAgICBuZXcgUmVnRXhGaWVsZFZhbGlkYXRvcigpLFxuICAgIG5ldyBEYXRlRmllbGRWYWxpZGF0b3IoKSxcbiAgICBuZXcgTWluRGF0ZUZpZWxkVmFsaWRhdG9yKCksXG4gICAgbmV3IE1heERhdGVGaWVsZFZhbGlkYXRvcigpLFxuICAgIG5ldyBGaXhlZFZhbHVlRmllbGRWYWxpZGF0b3IoKSxcbiAgICBuZXcgTWluRGF0ZVRpbWVGaWVsZFZhbGlkYXRvcigpLFxuICAgIG5ldyBNYXhEYXRlVGltZUZpZWxkVmFsaWRhdG9yKClcbl07XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudC1lczYnO1xuaW1wb3J0IHsgV2lkZ2V0VmlzaWJpbGl0eU1vZGVsIH0gZnJvbSAnLi4vLi4vLi4vbW9kZWxzL3dpZGdldC12aXNpYmlsaXR5Lm1vZGVsJztcbmltcG9ydCB7IENvbnRhaW5lckNvbHVtbk1vZGVsIH0gZnJvbSAnLi9jb250YWluZXItY29sdW1uLm1vZGVsJztcbmltcG9ydCB7IEVycm9yTWVzc2FnZU1vZGVsIH0gZnJvbSAnLi9lcnJvci1tZXNzYWdlLm1vZGVsJztcbmltcG9ydCB7IEZvcm1GaWVsZE1ldGFkYXRhIH0gZnJvbSAnLi9mb3JtLWZpZWxkLW1ldGFkYXRhJztcbmltcG9ydCB7IEZvcm1GaWVsZE9wdGlvbiB9IGZyb20gJy4vZm9ybS1maWVsZC1vcHRpb24nO1xuaW1wb3J0IHsgRm9ybUZpZWxkVHlwZXMgfSBmcm9tICcuL2Zvcm0tZmllbGQtdHlwZXMnO1xuaW1wb3J0IHsgTnVtYmVyRmllbGRWYWxpZGF0b3IgfSBmcm9tICcuL2Zvcm0tZmllbGQtdmFsaWRhdG9yJztcbmltcG9ydCB7IEZvcm1XaWRnZXRNb2RlbCB9IGZyb20gJy4vZm9ybS13aWRnZXQubW9kZWwnO1xuaW1wb3J0IHsgRm9ybU1vZGVsIH0gZnJvbSAnLi9mb3JtLm1vZGVsJztcblxuLy8gTWFwcyB0byBGb3JtRmllbGRSZXByZXNlbnRhdGlvblxuZXhwb3J0IGNsYXNzIEZvcm1GaWVsZE1vZGVsIGV4dGVuZHMgRm9ybVdpZGdldE1vZGVsIHtcblxuICAgIHByaXZhdGUgX3ZhbHVlOiBzdHJpbmc7XG4gICAgcHJpdmF0ZSBfcmVhZE9ubHk6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBwcml2YXRlIF9pc1ZhbGlkOiBib29sZWFuID0gdHJ1ZTtcbiAgICBwcml2YXRlIF9yZXF1aXJlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgcmVhZG9ubHkgZGVmYXVsdERhdGVGb3JtYXQ6IHN0cmluZyA9ICdELU0tWVlZWSc7XG4gICAgcmVhZG9ubHkgZGVhZnVsdERhdGVUaW1lRm9ybWF0OiBzdHJpbmcgPSAnRC1NLVlZWVkgaGg6bW0gQSc7XG5cbiAgICAvLyBtb2RlbCBtZW1iZXJzXG4gICAgZmllbGRUeXBlOiBzdHJpbmc7XG4gICAgaWQ6IHN0cmluZztcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgdHlwZTogc3RyaW5nO1xuICAgIG92ZXJyaWRlSWQ6IGJvb2xlYW47XG4gICAgdGFiOiBzdHJpbmc7XG4gICAgcm93c3BhbjogbnVtYmVyID0gMTtcbiAgICBjb2xzcGFuOiBudW1iZXIgPSAxO1xuICAgIHBsYWNlaG9sZGVyOiBzdHJpbmcgPSBudWxsO1xuICAgIG1pbkxlbmd0aDogbnVtYmVyID0gMDtcbiAgICBtYXhMZW5ndGg6IG51bWJlciA9IDA7XG4gICAgbWluVmFsdWU6IHN0cmluZztcbiAgICBtYXhWYWx1ZTogc3RyaW5nO1xuICAgIHJlZ2V4UGF0dGVybjogc3RyaW5nO1xuICAgIG9wdGlvbnM6IEZvcm1GaWVsZE9wdGlvbltdID0gW107XG4gICAgcmVzdFVybDogc3RyaW5nO1xuICAgIHJlc3RSZXNwb25zZVBhdGg6IHN0cmluZztcbiAgICByZXN0SWRQcm9wZXJ0eTogc3RyaW5nO1xuICAgIHJlc3RMYWJlbFByb3BlcnR5OiBzdHJpbmc7XG4gICAgaGFzRW1wdHlWYWx1ZTogYm9vbGVhbjtcbiAgICBjbGFzc05hbWU6IHN0cmluZztcbiAgICBvcHRpb25UeXBlOiBzdHJpbmc7XG4gICAgcGFyYW1zOiBGb3JtRmllbGRNZXRhZGF0YSA9IHt9O1xuICAgIGh5cGVybGlua1VybDogc3RyaW5nO1xuICAgIGRpc3BsYXlUZXh0OiBzdHJpbmc7XG4gICAgaXNWaXNpYmxlOiBib29sZWFuID0gdHJ1ZTtcbiAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBXaWRnZXRWaXNpYmlsaXR5TW9kZWwgPSBudWxsO1xuICAgIGVuYWJsZUZyYWN0aW9uczogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGN1cnJlbmN5OiBzdHJpbmcgPSBudWxsO1xuICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBzdHJpbmcgPSB0aGlzLmRhdGVEaXNwbGF5Rm9ybWF0IHx8IHRoaXMuZGVmYXVsdERhdGVGb3JtYXQ7XG5cbiAgICAvLyBjb250YWluZXIgbW9kZWwgbWVtYmVyc1xuICAgIG51bWJlck9mQ29sdW1uczogbnVtYmVyID0gMTtcbiAgICBmaWVsZHM6IEZvcm1GaWVsZE1vZGVsW10gPSBbXTtcbiAgICBjb2x1bW5zOiBDb250YWluZXJDb2x1bW5Nb2RlbFtdID0gW107XG5cbiAgICAvLyB1dGlsIG1lbWJlcnNcbiAgICBlbXB0eU9wdGlvbjogRm9ybUZpZWxkT3B0aW9uO1xuICAgIHZhbGlkYXRpb25TdW1tYXJ5OiBFcnJvck1lc3NhZ2VNb2RlbDtcblxuICAgIGdldCB2YWx1ZSgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdmFsdWU7XG4gICAgfVxuXG4gICAgc2V0IHZhbHVlKHY6IGFueSkge1xuICAgICAgICB0aGlzLl92YWx1ZSA9IHY7XG4gICAgICAgIHRoaXMudXBkYXRlRm9ybSgpO1xuICAgIH1cblxuICAgIGdldCByZWFkT25seSgpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuZm9ybSAmJiB0aGlzLmZvcm0ucmVhZE9ubHkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9yZWFkT25seTtcbiAgICB9XG5cbiAgICBzZXQgcmVhZE9ubHkocmVhZE9ubHk6IGJvb2xlYW4pIHtcbiAgICAgICAgdGhpcy5fcmVhZE9ubHkgPSByZWFkT25seTtcbiAgICAgICAgdGhpcy51cGRhdGVGb3JtKCk7XG4gICAgfVxuXG4gICAgZ2V0IHJlcXVpcmVkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVxdWlyZWQ7XG4gICAgfVxuXG4gICAgc2V0IHJlcXVpcmVkKHZhbHVlOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuX3JlcXVpcmVkID0gdmFsdWU7XG4gICAgICAgIHRoaXMudXBkYXRlRm9ybSgpO1xuICAgIH1cblxuICAgIGdldCBpc1ZhbGlkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNWYWxpZDtcbiAgICB9XG5cbiAgICBtYXJrQXNJbnZhbGlkKCkge1xuICAgICAgICB0aGlzLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgdmFsaWRhdGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHRoaXMudmFsaWRhdGlvblN1bW1hcnkgPSBuZXcgRXJyb3JNZXNzYWdlTW9kZWwoKTtcblxuICAgICAgICBpZiAoIXRoaXMucmVhZE9ubHkpIHtcbiAgICAgICAgICAgIGxldCB2YWxpZGF0b3JzID0gdGhpcy5mb3JtLmZpZWxkVmFsaWRhdG9ycyB8fCBbXTtcbiAgICAgICAgICAgIGZvciAobGV0IHZhbGlkYXRvciBvZiB2YWxpZGF0b3JzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0b3IudmFsaWRhdGUodGhpcykpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5faXNWYWxpZDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9pc1ZhbGlkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzVmFsaWQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoZm9ybTogRm9ybU1vZGVsLCBqc29uPzogYW55KSB7XG4gICAgICAgIHN1cGVyKGZvcm0sIGpzb24pO1xuXG4gICAgICAgIGlmIChqc29uKSB7XG4gICAgICAgICAgICB0aGlzLmZpZWxkVHlwZSA9IGpzb24uZmllbGRUeXBlO1xuICAgICAgICAgICAgdGhpcy5pZCA9IGpzb24uaWQ7XG4gICAgICAgICAgICB0aGlzLm5hbWUgPSBqc29uLm5hbWU7XG4gICAgICAgICAgICB0aGlzLnR5cGUgPSBqc29uLnR5cGU7XG4gICAgICAgICAgICB0aGlzLl9yZXF1aXJlZCA9IDxib29sZWFuPiBqc29uLnJlcXVpcmVkO1xuICAgICAgICAgICAgdGhpcy5fcmVhZE9ubHkgPSA8Ym9vbGVhbj4ganNvbi5yZWFkT25seSB8fCBqc29uLnR5cGUgPT09ICdyZWFkb25seSc7XG4gICAgICAgICAgICB0aGlzLm92ZXJyaWRlSWQgPSA8Ym9vbGVhbj4ganNvbi5vdmVycmlkZUlkO1xuICAgICAgICAgICAgdGhpcy50YWIgPSBqc29uLnRhYjtcbiAgICAgICAgICAgIHRoaXMucmVzdFVybCA9IGpzb24ucmVzdFVybDtcbiAgICAgICAgICAgIHRoaXMucmVzdFJlc3BvbnNlUGF0aCA9IGpzb24ucmVzdFJlc3BvbnNlUGF0aDtcbiAgICAgICAgICAgIHRoaXMucmVzdElkUHJvcGVydHkgPSBqc29uLnJlc3RJZFByb3BlcnR5O1xuICAgICAgICAgICAgdGhpcy5yZXN0TGFiZWxQcm9wZXJ0eSA9IGpzb24ucmVzdExhYmVsUHJvcGVydHk7XG4gICAgICAgICAgICB0aGlzLmNvbHNwYW4gPSA8bnVtYmVyPiBqc29uLmNvbHNwYW47XG4gICAgICAgICAgICB0aGlzLm1pbkxlbmd0aCA9IDxudW1iZXI+IGpzb24ubWluTGVuZ3RoIHx8IDA7XG4gICAgICAgICAgICB0aGlzLm1heExlbmd0aCA9IDxudW1iZXI+IGpzb24ubWF4TGVuZ3RoIHx8IDA7XG4gICAgICAgICAgICB0aGlzLm1pblZhbHVlID0ganNvbi5taW5WYWx1ZTtcbiAgICAgICAgICAgIHRoaXMubWF4VmFsdWUgPSBqc29uLm1heFZhbHVlO1xuICAgICAgICAgICAgdGhpcy5yZWdleFBhdHRlcm4gPSBqc29uLnJlZ2V4UGF0dGVybjtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IDxGb3JtRmllbGRPcHRpb25bXT4ganNvbi5vcHRpb25zIHx8IFtdO1xuICAgICAgICAgICAgdGhpcy5oYXNFbXB0eVZhbHVlID0gPGJvb2xlYW4+IGpzb24uaGFzRW1wdHlWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuY2xhc3NOYW1lID0ganNvbi5jbGFzc05hbWU7XG4gICAgICAgICAgICB0aGlzLm9wdGlvblR5cGUgPSBqc29uLm9wdGlvblR5cGU7XG4gICAgICAgICAgICB0aGlzLnBhcmFtcyA9IDxGb3JtRmllbGRNZXRhZGF0YT4ganNvbi5wYXJhbXMgfHwge307XG4gICAgICAgICAgICB0aGlzLmh5cGVybGlua1VybCA9IGpzb24uaHlwZXJsaW5rVXJsO1xuICAgICAgICAgICAgdGhpcy5kaXNwbGF5VGV4dCA9IGpzb24uZGlzcGxheVRleHQ7XG4gICAgICAgICAgICB0aGlzLnZpc2liaWxpdHlDb25kaXRpb24gPSA8V2lkZ2V0VmlzaWJpbGl0eU1vZGVsPiBqc29uLnZpc2liaWxpdHlDb25kaXRpb247XG4gICAgICAgICAgICB0aGlzLmVuYWJsZUZyYWN0aW9ucyA9IDxib29sZWFuPiBqc29uLmVuYWJsZUZyYWN0aW9ucztcbiAgICAgICAgICAgIHRoaXMuY3VycmVuY3kgPSBqc29uLmN1cnJlbmN5O1xuICAgICAgICAgICAgdGhpcy5kYXRlRGlzcGxheUZvcm1hdCA9IGpzb24uZGF0ZURpc3BsYXlGb3JtYXQgfHwgdGhpcy5nZXREZWZhdWx0RGF0ZUZvcm1hdChqc29uKTtcbiAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy5wYXJzZVZhbHVlKGpzb24pO1xuICAgICAgICAgICAgdGhpcy52YWxpZGF0aW9uU3VtbWFyeSA9IG5ldyBFcnJvck1lc3NhZ2VNb2RlbCgpO1xuXG4gICAgICAgICAgICBpZiAoanNvbi5wbGFjZWhvbGRlciAmJiBqc29uLnBsYWNlaG9sZGVyICE9PSAnJyAmJiBqc29uLnBsYWNlaG9sZGVyICE9PSAnbnVsbCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYWNlaG9sZGVyID0ganNvbi5wbGFjZWhvbGRlcjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKEZvcm1GaWVsZFR5cGVzLmlzUmVhZE9ubHlUeXBlKGpzb24udHlwZSkpIHtcbiAgICAgICAgICAgICAgICBpZiAoanNvbi5wYXJhbXMgJiYganNvbi5wYXJhbXMuZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm0ucHJvY2Vzc1ZhcmlhYmxlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcHJvY2Vzc1ZhcmlhYmxlID0gdGhpcy5nZXRQcm9jZXNzVmFyaWFibGVWYWx1ZShqc29uLnBhcmFtcy5maWVsZCwgZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHJvY2Vzc1ZhcmlhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHByb2Nlc3NWYXJpYWJsZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChqc29uLnBhcmFtcy5maWVsZC5yZXNwb25zZVZhcmlhYmxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBmb3JtVmFyaWFibGUgPSB0aGlzLmdldFZhcmlhYmxlc1ZhbHVlKGpzb24ucGFyYW1zLmZpZWxkLm5hbWUsIGZvcm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm1WYXJpYWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBmb3JtVmFyaWFibGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChGb3JtRmllbGRUeXBlcy5pc0NvbnRhaW5lclR5cGUoanNvbi50eXBlKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRmFjdG9yeShqc29uLCBmb3JtKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmhhc0VtcHR5VmFsdWUgJiYgdGhpcy5vcHRpb25zICYmIHRoaXMub3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmVtcHR5T3B0aW9uID0gdGhpcy5vcHRpb25zWzBdO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVGb3JtKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXREZWZhdWx0RGF0ZUZvcm1hdChqc29uRmllbGQ6IGFueSk6IHN0cmluZyB7XG4gICAgICAgIGxldCBvcmlnaW5hbFR5cGUgPSBqc29uRmllbGQudHlwZTtcbiAgICAgICAgaWYgKEZvcm1GaWVsZFR5cGVzLmlzUmVhZE9ubHlUeXBlKGpzb25GaWVsZC50eXBlKSAmJlxuICAgICAgICAgICAganNvbkZpZWxkLnBhcmFtcyAmJlxuICAgICAgICAgICAganNvbkZpZWxkLnBhcmFtcy5maWVsZCkge1xuICAgICAgICAgICAgb3JpZ2luYWxUeXBlID0ganNvbkZpZWxkLnBhcmFtcy5maWVsZC50eXBlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcmlnaW5hbFR5cGUgPT09IEZvcm1GaWVsZFR5cGVzLkRBVEVUSU1FID8gdGhpcy5kZWFmdWx0RGF0ZVRpbWVGb3JtYXQgOiB0aGlzLmRlZmF1bHREYXRlRm9ybWF0O1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNUeXBlYUhlYWRGaWVsZFR5cGUodHlwZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0eXBlID09PSAndHlwZWFoZWFkJyA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEZpZWxkTmFtZVdpdGhMYWJlbChuYW1lOiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gbmFtZSArPSAnX0xBQkVMJztcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFByb2Nlc3NWYXJpYWJsZVZhbHVlKGZpZWxkOiBhbnksIGZvcm06IEZvcm1Nb2RlbCkge1xuICAgICAgICBsZXQgZmllbGROYW1lID0gZmllbGQubmFtZTtcbiAgICAgICAgaWYgKHRoaXMuaXNUeXBlYUhlYWRGaWVsZFR5cGUoZmllbGQudHlwZSkpIHtcbiAgICAgICAgICAgIGZpZWxkTmFtZSA9IHRoaXMuZ2V0RmllbGROYW1lV2l0aExhYmVsKGZpZWxkLmlkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5maW5kUHJvY2Vzc1ZhcmlhYmxlVmFsdWUoZmllbGROYW1lLCBmb3JtKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFZhcmlhYmxlc1ZhbHVlKHZhcmlhYmxlTmFtZTogc3RyaW5nLCBmb3JtOiBGb3JtTW9kZWwpIHtcbiAgICAgICAgbGV0IHZhcmlhYmxlID0gZm9ybS5qc29uLnZhcmlhYmxlcy5maW5kKChjdXJyZW50VmFyaWFibGUpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBjdXJyZW50VmFyaWFibGUubmFtZSA9PT0gdmFyaWFibGVOYW1lO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodmFyaWFibGUpIHtcbiAgICAgICAgICAgIGlmICh2YXJpYWJsZS50eXBlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZSh2YXJpYWJsZS52YWx1ZSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB2YXJpYWJsZS52YWx1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIHByaXZhdGUgZmluZFByb2Nlc3NWYXJpYWJsZVZhbHVlKHZhcmlhYmxlTmFtZTogc3RyaW5nLCBmb3JtOiBGb3JtTW9kZWwpIHtcbiAgICAgICAgaWYgKGZvcm0ucHJvY2Vzc1ZhcmlhYmxlcykge1xuICAgICAgICAgICAgY29uc3QgdmFyaWFibGUgPSBmb3JtLnByb2Nlc3NWYXJpYWJsZXMuZmluZCgoY3VycmVudFZhcmlhYmxlKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGN1cnJlbnRWYXJpYWJsZS5uYW1lID09PSB2YXJpYWJsZU5hbWU7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgaWYgKHZhcmlhYmxlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHZhcmlhYmxlLnR5cGUgPT09ICdib29sZWFuJyA/IEpTT04ucGFyc2UodmFyaWFibGUudmFsdWUpIDogdmFyaWFibGUudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIHByaXZhdGUgY29udGFpbmVyRmFjdG9yeShqc29uOiBhbnksIGZvcm06IEZvcm1Nb2RlbCk6IHZvaWQge1xuICAgICAgICB0aGlzLm51bWJlck9mQ29sdW1ucyA9IDxudW1iZXI+IGpzb24ubnVtYmVyT2ZDb2x1bW5zIHx8IDE7XG5cbiAgICAgICAgdGhpcy5maWVsZHMgPSBqc29uLmZpZWxkcztcblxuICAgICAgICB0aGlzLnJvd3NwYW4gPSAxO1xuICAgICAgICB0aGlzLmNvbHNwYW4gPSAxO1xuXG4gICAgICAgIGlmIChqc29uLmZpZWxkcykge1xuICAgICAgICAgICAgZm9yIChsZXQgY3VycmVudEZpZWxkIGluIGpzb24uZmllbGRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGpzb24uZmllbGRzLmhhc093blByb3BlcnR5KGN1cnJlbnRGaWVsZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGNvbCA9IG5ldyBDb250YWluZXJDb2x1bW5Nb2RlbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBmaWVsZHM6IEZvcm1GaWVsZE1vZGVsW10gPSAoanNvbi5maWVsZHNbY3VycmVudEZpZWxkXSB8fCBbXSkubWFwKGYgPT4gbmV3IEZvcm1GaWVsZE1vZGVsKGZvcm0sIGYpKTtcbiAgICAgICAgICAgICAgICAgICAgY29sLmZpZWxkcyA9IGZpZWxkcztcbiAgICAgICAgICAgICAgICAgICAgY29sLnJvd3NwYW4gPSBqc29uLmZpZWxkc1tjdXJyZW50RmllbGRdLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgICAgICBjb2wuZmllbGRzLmZvckVhY2goKGNvbEZpZWxkczogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHNwYW4gPSBjb2xGaWVsZHMuY29sc3BhbiA+IHRoaXMuY29sc3BhbiA/IGNvbEZpZWxkcy5jb2xzcGFuIDogdGhpcy5jb2xzcGFuO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJvd3NwYW4gPSB0aGlzLnJvd3NwYW4gPCBjb2wucm93c3BhbiA/IGNvbC5yb3dzcGFuIDogdGhpcy5yb3dzcGFuO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbnMucHVzaChjb2wpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHBhcnNlVmFsdWUoanNvbjogYW55KTogYW55IHtcbiAgICAgICAgbGV0IHZhbHVlID0ganNvbi52YWx1ZTtcblxuICAgICAgICAvKlxuICAgICAgICAgVGhpcyBpcyBuZWVkZWQgZHVlIHRvIEFjdGl2aXRpIGlzc3VlIHJlbGF0ZWQgdG8gcmVhZGluZyBkcm9wZG93biB2YWx1ZXMgYXMgdmFsdWUgc3RyaW5nXG4gICAgICAgICBidXQgc2F2aW5nIGJhY2sgYXMgb2JqZWN0OiB7IGlkOiA8aWQ+LCBuYW1lOiA8bmFtZT4gfVxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGpzb24udHlwZSA9PT0gRm9ybUZpZWxkVHlwZXMuRFJPUERPV04pIHtcbiAgICAgICAgICAgIGlmIChqc29uLmhhc0VtcHR5VmFsdWUgJiYganNvbi5vcHRpb25zKSB7XG4gICAgICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSA8Rm9ybUZpZWxkT3B0aW9uW10+IGpzb24ub3B0aW9ucyB8fCBbXTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBlbXB0eU9wdGlvbiA9IGpzb24ub3B0aW9uc1swXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSAnJyB8fCB2YWx1ZSA9PT0gZW1wdHlPcHRpb24uaWQgfHwgdmFsdWUgPT09IGVtcHR5T3B0aW9uLm5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZW1wdHlPcHRpb24uaWQ7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodmFsdWUuaWQgJiYgdmFsdWUubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5pZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8qXG4gICAgICAgICBUaGlzIGlzIG5lZWRlZCBkdWUgdG8gQWN0aXZpdGkgaXNzdWUgcmVsYXRlZCB0byByZWFkaW5nIHJhZGlvIGJ1dHRvbiB2YWx1ZXMgYXMgdmFsdWUgc3RyaW5nXG4gICAgICAgICBidXQgc2F2aW5nIGJhY2sgYXMgb2JqZWN0OiB7IGlkOiA8aWQ+LCBuYW1lOiA8bmFtZT4gfVxuICAgICAgICAgKi9cbiAgICAgICAgaWYgKGpzb24udHlwZSA9PT0gRm9ybUZpZWxkVHlwZXMuUkFESU9fQlVUVE9OUykge1xuICAgICAgICAgICAgLy8gQWN0aXZpdGkgaGFzIGEgYnVnIHdpdGggZGVmYXVsdCByYWRpbyBidXR0b24gdmFsdWUgd2hlcmUgaW5pdGlhbCBzZWxlY3Rpb24gcGFzc2VkIGFzIGBuYW1lYCB2YWx1ZVxuICAgICAgICAgICAgLy8gc28gdHJ5IHJlc29sdmluZyBjdXJyZW50IG9uZSB3aXRoIGEgZmFsbGJhY2sgdG8gZmlyc3QgZW50cnkgdmlhIG5hbWUgb3IgaWRcbiAgICAgICAgICAgIC8vIFRPRE86IG5lZWRzIHRvIGJlIHJlcG9ydGVkIGFuZCBmaXhlZCBhdCBBY3Rpdml0aSBzaWRlXG4gICAgICAgICAgICBsZXQgZW50cnk6IEZvcm1GaWVsZE9wdGlvbltdID0gdGhpcy5vcHRpb25zLmZpbHRlcihvcHQgPT5cbiAgICAgICAgICAgICAgICBvcHQuaWQgPT09IHZhbHVlIHx8IG9wdC5uYW1lID09PSB2YWx1ZSB8fCAodmFsdWUgJiYgKG9wdC5pZCA9PT0gdmFsdWUuaWQgfHwgb3B0Lm5hbWUgPT09IHZhbHVlLm5hbWUpKSk7XG4gICAgICAgICAgICBpZiAoZW50cnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZW50cnlbMF0uaWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvKlxuICAgICAgICAgVGhpcyBpcyBuZWVkZWQgZHVlIHRvIEFjdGl2aXRpIGRpc3BsYXlpbmcvZWRpdGluZyBkYXRlcyBpbiBkLU0tWVlZWSBmb3JtYXRcbiAgICAgICAgIGJ1dCBzdG9yaW5nIG9uIHNlcnZlciBpbiBJU084NjAxIGZvcm1hdCAoaS5lLiAyMDEzLTAyLTA0VDIyOjQ0OjMwLjY1MlopXG4gICAgICAgICAqL1xuICAgICAgICBpZiAodGhpcy5pc0RhdGVGaWVsZChqc29uKSB8fCB0aGlzLmlzRGF0ZVRpbWVGaWVsZChqc29uKSkge1xuICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgbGV0IGRhdGVWYWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoTnVtYmVyRmllbGRWYWxpZGF0b3IuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGVWYWx1ZSA9IG1vbWVudCh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0ZVZhbHVlID0gdGhpcy5pc0RhdGVUaW1lRmllbGQoanNvbikgPyBtb21lbnQodmFsdWUsICdZWVlZLU1NLUREIGhoOm1tIEEnKSA6IG1vbWVudCh2YWx1ZS5zcGxpdCgnVCcpWzBdLCAnWVlZWS1NLUQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGRhdGVWYWx1ZSAmJiBkYXRlVmFsdWUuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gZGF0ZVZhbHVlLmZvcm1hdCh0aGlzLmRhdGVEaXNwbGF5Rm9ybWF0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgdXBkYXRlRm9ybSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLmZvcm0pIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHN3aXRjaCAodGhpcy50eXBlKSB7XG4gICAgICAgICAgICBjYXNlIEZvcm1GaWVsZFR5cGVzLkRST1BET1dOOlxuICAgICAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgICAgIFRoaXMgaXMgbmVlZGVkIGR1ZSB0byBBY3Rpdml0aSByZWFkaW5nIGRyb3Bkb3duIHZhbHVlcyBhcyBzdHJpbmdcbiAgICAgICAgICAgICAgICAgYnV0IHNhdmluZyBiYWNrIGFzIG9iamVjdDogeyBpZDogPGlkPiwgbmFtZTogPG5hbWU+IH1cbiAgICAgICAgICAgICAgICAgKi9cbiAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZSA9PT0gJ2VtcHR5JyB8fCB0aGlzLnZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0udmFsdWVzW3RoaXMuaWRdID0ge307XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGVudHJ5OiBGb3JtRmllbGRPcHRpb25bXSA9IHRoaXMub3B0aW9ucy5maWx0ZXIob3B0ID0+IG9wdC5pZCA9PT0gdGhpcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlbnRyeS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0udmFsdWVzW3RoaXMuaWRdID0gZW50cnlbMF07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEZvcm1GaWVsZFR5cGVzLlJBRElPX0JVVFRPTlM6XG4gICAgICAgICAgICAgICAgLypcbiAgICAgICAgICAgICAgICAgVGhpcyBpcyBuZWVkZWQgZHVlIHRvIEFjdGl2aXRpIGlzc3VlIHJlbGF0ZWQgdG8gcmVhZGluZyByYWRpbyBidXR0b24gdmFsdWVzIGFzIHZhbHVlIHN0cmluZ1xuICAgICAgICAgICAgICAgICBidXQgc2F2aW5nIGJhY2sgYXMgb2JqZWN0OiB7IGlkOiA8aWQ+LCBuYW1lOiA8bmFtZT4gfVxuICAgICAgICAgICAgICAgICAqL1xuICAgICAgICAgICAgICAgIGxldCByYkVudHJ5OiBGb3JtRmllbGRPcHRpb25bXSA9IHRoaXMub3B0aW9ucy5maWx0ZXIob3B0ID0+IG9wdC5pZCA9PT0gdGhpcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHJiRW50cnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0udmFsdWVzW3RoaXMuaWRdID0gcmJFbnRyeVswXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEZvcm1GaWVsZFR5cGVzLlVQTE9BRDpcbiAgICAgICAgICAgICAgICBpZiAodGhpcy52YWx1ZSAmJiB0aGlzLnZhbHVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLnZhbHVlc1t0aGlzLmlkXSA9IHRoaXMudmFsdWUubWFwKGVsZW0gPT4gZWxlbS5pZCkuam9pbignLCcpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS52YWx1ZXNbdGhpcy5pZF0gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRm9ybUZpZWxkVHlwZXMuVFlQRUFIRUFEOlxuICAgICAgICAgICAgICAgIGxldCB0YUVudHJ5OiBGb3JtRmllbGRPcHRpb25bXSA9IHRoaXMub3B0aW9ucy5maWx0ZXIob3B0ID0+IG9wdC5pZCA9PT0gdGhpcy52YWx1ZSB8fCBvcHQubmFtZSA9PT0gdGhpcy52YWx1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKHRhRW50cnkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0udmFsdWVzW3RoaXMuaWRdID0gdGFFbnRyeVswXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMub3B0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS52YWx1ZXNbdGhpcy5pZF0gPSBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRm9ybUZpZWxkVHlwZXMuREFURTpcbiAgICAgICAgICAgICAgICBsZXQgZGF0ZVZhbHVlID0gbW9tZW50KHRoaXMudmFsdWUsIHRoaXMuZGF0ZURpc3BsYXlGb3JtYXQsIHRydWUpO1xuICAgICAgICAgICAgICAgIGlmIChkYXRlVmFsdWUgJiYgZGF0ZVZhbHVlLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0udmFsdWVzW3RoaXMuaWRdID0gYCR7ZGF0ZVZhbHVlLmZvcm1hdCgnWVlZWS1NTS1ERCcpfVQwMDowMDowMC4wMDBaYDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0udmFsdWVzW3RoaXMuaWRdID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdmFsdWUgPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgRm9ybUZpZWxkVHlwZXMuREFURVRJTUU6XG4gICAgICAgICAgICAgICAgY29uc3QgZGF0ZVRpbWVWYWx1ZSA9IG1vbWVudCh0aGlzLnZhbHVlLCB0aGlzLmRhdGVEaXNwbGF5Rm9ybWF0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICBpZiAoZGF0ZVRpbWVWYWx1ZSAmJiBkYXRlVGltZVZhbHVlLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0udmFsdWVzW3RoaXMuaWRdID0gZGF0ZVRpbWVWYWx1ZS5mb3JtYXQoJ1lZWVktTU0tRERUSEg6bW06c3NaJyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLnZhbHVlc1t0aGlzLmlkXSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3ZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIEZvcm1GaWVsZFR5cGVzLk5VTUJFUjpcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm0udmFsdWVzW3RoaXMuaWRdID0gcGFyc2VJbnQodGhpcy52YWx1ZSwgMTApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBGb3JtRmllbGRUeXBlcy5BTU9VTlQ6XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JtLnZhbHVlc1t0aGlzLmlkXSA9IHRoaXMuZW5hYmxlRnJhY3Rpb25zID8gcGFyc2VGbG9hdCh0aGlzLnZhbHVlKSA6IHBhcnNlSW50KHRoaXMudmFsdWUsIDEwKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgaWYgKCFGb3JtRmllbGRUeXBlcy5pc1JlYWRPbmx5VHlwZSh0aGlzLnR5cGUpICYmICF0aGlzLmlzSW52YWxpZEZpZWxkVHlwZSh0aGlzLnR5cGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS52YWx1ZXNbdGhpcy5pZF0gPSB0aGlzLnZhbHVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZm9ybS5vbkZvcm1GaWVsZENoYW5nZWQodGhpcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2tpcCB0aGUgaW52YWxpZCBmaWVsZCB0eXBlXG4gICAgICogQHBhcmFtIHR5cGVcbiAgICAgKi9cbiAgICBpc0ludmFsaWRGaWVsZFR5cGUodHlwZTogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0eXBlID09PSAnY29udGFpbmVyJykge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRPcHRpb25OYW1lKCk6IHN0cmluZyB7XG4gICAgICAgIGxldCBvcHRpb246IEZvcm1GaWVsZE9wdGlvbiA9IHRoaXMub3B0aW9ucy5maW5kKG9wdCA9PiBvcHQuaWQgPT09IHRoaXMudmFsdWUpO1xuICAgICAgICByZXR1cm4gb3B0aW9uID8gb3B0aW9uLm5hbWUgOiBudWxsO1xuICAgIH1cblxuICAgIGhhc09wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9wdGlvbnMgJiYgdGhpcy5vcHRpb25zLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0RhdGVGaWVsZChqc29uOiBhbnkpIHtcbiAgICAgICAgcmV0dXJuIChqc29uLnBhcmFtcyAmJlxuICAgICAgICAgICAgICAgIGpzb24ucGFyYW1zLmZpZWxkICYmXG4gICAgICAgICAgICAgICAganNvbi5wYXJhbXMuZmllbGQudHlwZSA9PT0gRm9ybUZpZWxkVHlwZXMuREFURSApIHx8XG4gICAgICAgICAgICAgICAganNvbi50eXBlID09PSBGb3JtRmllbGRUeXBlcy5EQVRFO1xuICAgIH1cblxuICAgIHByaXZhdGUgaXNEYXRlVGltZUZpZWxkKGpzb246IGFueSk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gKGpzb24ucGFyYW1zICYmXG4gICAgICAgICAgICAgICAganNvbi5wYXJhbXMuZmllbGQgJiZcbiAgICAgICAgICAgICAgICBqc29uLnBhcmFtcy5maWVsZC50eXBlID09PSBGb3JtRmllbGRUeXBlcy5EQVRFVElNRSkgfHxcbiAgICAgICAgICAgICAgICBqc29uLnR5cGUgPT09IEZvcm1GaWVsZFR5cGVzLkRBVEVUSU1FO1xuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuIC8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuaW1wb3J0IHsgRm9ybUZpZWxkTW9kZWwgfSBmcm9tICcuL2Zvcm0tZmllbGQubW9kZWwnO1xuaW1wb3J0IHsgRm9ybVdpZGdldE1vZGVsIH0gZnJvbSAnLi9mb3JtLXdpZGdldC5tb2RlbCc7XG5cbmV4cG9ydCBjbGFzcyBDb250YWluZXJNb2RlbCBleHRlbmRzIEZvcm1XaWRnZXRNb2RlbCB7XG5cbiAgICBmaWVsZDogRm9ybUZpZWxkTW9kZWw7XG5cbiAgICBnZXQgaXNWaXNpYmxlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5pc1Zpc2libGU7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkLmZvcm0sIGZpZWxkLmpzb24pO1xuXG4gICAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkO1xuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4gLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yICAqL1xuXG5pbXBvcnQgeyBGb3JtV2lkZ2V0TW9kZWwgfSBmcm9tICcuL2Zvcm0td2lkZ2V0Lm1vZGVsJztcbmltcG9ydCB7IEZvcm1Nb2RlbCB9IGZyb20gJy4vZm9ybS5tb2RlbCc7XG5cbmV4cG9ydCBjbGFzcyBGb3JtT3V0Y29tZU1vZGVsIGV4dGVuZHMgRm9ybVdpZGdldE1vZGVsIHtcblxuICAgIHN0YXRpYyBTQVZFX0FDVElPTjogc3RyaW5nID0gJ1NhdmUnOyAgICAgICAgICAgIC8vIEFjdGl2aXRpICdTYXZlJyBhY3Rpb24gbmFtZVxuICAgIHN0YXRpYyBDT01QTEVURV9BQ1RJT046IHN0cmluZyA9ICdDb21wbGV0ZSc7ICAgIC8vIEFjdGl2aXRpICdDb21wbGV0ZScgYWN0aW9uIG5hbWVcbiAgICBzdGF0aWMgU1RBUlRfUFJPQ0VTU19BQ1RJT046IHN0cmluZyA9ICdTdGFydCBQcm9jZXNzJzsgICAgLy8gQWN0aXZpdGkgJ1N0YXJ0IFByb2Nlc3MnIGFjdGlvbiBuYW1lXG5cbiAgICBpc1N5c3RlbTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGlzU2VsZWN0ZWQ6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKGZvcm06IEZvcm1Nb2RlbCwganNvbj86IGFueSkge1xuICAgICAgICBzdXBlcihmb3JtLCBqc29uKTtcblxuICAgICAgICBpZiAoanNvbikge1xuICAgICAgICAgICAgdGhpcy5pc1N5c3RlbSA9IGpzb24uaXNTeXN0ZW0gPyB0cnVlIDogZmFsc2U7XG4gICAgICAgICAgICB0aGlzLmlzU2VsZWN0ZWQgPSBmb3JtICYmIGpzb24ubmFtZSA9PT0gZm9ybS5zZWxlY3RlZE91dGNvbWUgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4gLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yICAqL1xuXG5pbXBvcnQgeyBXaWRnZXRWaXNpYmlsaXR5TW9kZWwgfSBmcm9tICcuLi8uLi8uLi9tb2RlbHMvd2lkZ2V0LXZpc2liaWxpdHkubW9kZWwnO1xuaW1wb3J0IHsgRm9ybVdpZGdldE1vZGVsIH0gZnJvbSAnLi9mb3JtLXdpZGdldC5tb2RlbCc7XG5pbXBvcnQgeyBGb3JtTW9kZWwgfSBmcm9tICcuL2Zvcm0ubW9kZWwnO1xuXG5leHBvcnQgY2xhc3MgVGFiTW9kZWwgZXh0ZW5kcyBGb3JtV2lkZ2V0TW9kZWwge1xuXG4gICAgdGl0bGU6IHN0cmluZztcbiAgICBpc1Zpc2libGU6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHZpc2liaWxpdHlDb25kaXRpb246IFdpZGdldFZpc2liaWxpdHlNb2RlbDtcblxuICAgIGZpZWxkczogRm9ybVdpZGdldE1vZGVsW10gPSBbXTtcblxuICAgIGhhc0NvbnRlbnQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkcyAmJiB0aGlzLmZpZWxkcy5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGZvcm06IEZvcm1Nb2RlbCwganNvbj86IGFueSkge1xuICAgICAgICBzdXBlcihmb3JtLCBqc29uKTtcblxuICAgICAgICBpZiAoanNvbikge1xuICAgICAgICAgICAgdGhpcy50aXRsZSA9IGpzb24udGl0bGU7XG4gICAgICAgICAgICB0aGlzLnZpc2liaWxpdHlDb25kaXRpb24gPSA8V2lkZ2V0VmlzaWJpbGl0eU1vZGVsPiBqc29uLnZpc2liaWxpdHlDb25kaXRpb247XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmltcG9ydCB7IEZvcm1GaWVsZEV2ZW50IH0gZnJvbSAnLi8uLi8uLi8uLi9ldmVudHMvZm9ybS1maWVsZC5ldmVudCc7XG5pbXBvcnQgeyBWYWxpZGF0ZUZvcm1GaWVsZEV2ZW50IH0gZnJvbSAnLi8uLi8uLi8uLi9ldmVudHMvdmFsaWRhdGUtZm9ybS1maWVsZC5ldmVudCc7XG5pbXBvcnQgeyBWYWxpZGF0ZUZvcm1FdmVudCB9IGZyb20gJy4vLi4vLi4vLi4vZXZlbnRzL3ZhbGlkYXRlLWZvcm0uZXZlbnQnO1xuaW1wb3J0IHsgRm9ybVNlcnZpY2UgfSBmcm9tICcuLy4uLy4uLy4uL3NlcnZpY2VzL2Zvcm0uc2VydmljZSc7XG5pbXBvcnQgeyBDb250YWluZXJNb2RlbCB9IGZyb20gJy4vY29udGFpbmVyLm1vZGVsJztcbmltcG9ydCB7IEZvcm1GaWVsZFRlbXBsYXRlcyB9IGZyb20gJy4vZm9ybS1maWVsZC10ZW1wbGF0ZXMnO1xuaW1wb3J0IHsgRm9ybUZpZWxkVHlwZXMgfSBmcm9tICcuL2Zvcm0tZmllbGQtdHlwZXMnO1xuaW1wb3J0IHsgRm9ybUZpZWxkTW9kZWwgfSBmcm9tICcuL2Zvcm0tZmllbGQubW9kZWwnO1xuaW1wb3J0IHsgRm9ybU91dGNvbWVNb2RlbCB9IGZyb20gJy4vZm9ybS1vdXRjb21lLm1vZGVsJztcbmltcG9ydCB7IEZvcm1WYWx1ZXMgfSBmcm9tICcuL2Zvcm0tdmFsdWVzJztcbmltcG9ydCB7IEZvcm1XaWRnZXRNb2RlbCwgRm9ybVdpZGdldE1vZGVsQ2FjaGUgfSBmcm9tICcuL2Zvcm0td2lkZ2V0Lm1vZGVsJztcbmltcG9ydCB7IFRhYk1vZGVsIH0gZnJvbSAnLi90YWIubW9kZWwnO1xuXG5pbXBvcnQge1xuICAgIEZPUk1fRklFTERfVkFMSURBVE9SUyxcbiAgICBGb3JtRmllbGRWYWxpZGF0b3Jcbn0gZnJvbSAnLi9mb3JtLWZpZWxkLXZhbGlkYXRvcic7XG5cbmV4cG9ydCBjbGFzcyBGb3JtTW9kZWwge1xuXG4gICAgc3RhdGljIFVOU0VUX1RBU0tfTkFNRTogc3RyaW5nID0gJ05hbWVsZXNzIHRhc2snO1xuICAgIHN0YXRpYyBTQVZFX09VVENPTUU6IHN0cmluZyA9ICckc2F2ZSc7XG4gICAgc3RhdGljIENPTVBMRVRFX09VVENPTUU6IHN0cmluZyA9ICckY29tcGxldGUnO1xuICAgIHN0YXRpYyBTVEFSVF9QUk9DRVNTX09VVENPTUU6IHN0cmluZyA9ICckc3RhcnRQcm9jZXNzJztcblxuICAgIHJlYWRvbmx5IGlkOiBzdHJpbmc7XG4gICAgcmVhZG9ubHkgbmFtZTogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHRhc2tJZDogc3RyaW5nO1xuICAgIHJlYWRvbmx5IHRhc2tOYW1lOiBzdHJpbmcgPSBGb3JtTW9kZWwuVU5TRVRfVEFTS19OQU1FO1xuICAgIHByb2Nlc3NEZWZpbml0aW9uSWQ6IHN0cmluZztcbiAgICBwcml2YXRlIF9pc1ZhbGlkOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIGdldCBpc1ZhbGlkKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNWYWxpZDtcbiAgICB9XG5cbiAgICBjbGFzc05hbWU6IHN0cmluZztcbiAgICByZWFkT25seTogYm9vbGVhbiA9IGZhbHNlO1xuICAgIHRhYnM6IFRhYk1vZGVsW10gPSBbXTtcbiAgICAvKiogU3RvcmVzIHJvb3QgY29udGFpbmVycyAqL1xuICAgIGZpZWxkczogRm9ybVdpZGdldE1vZGVsW10gPSBbXTtcbiAgICBvdXRjb21lczogRm9ybU91dGNvbWVNb2RlbFtdID0gW107XG4gICAgY3VzdG9tRmllbGRUZW1wbGF0ZXM6IEZvcm1GaWVsZFRlbXBsYXRlcyA9IHt9O1xuICAgIGZpZWxkVmFsaWRhdG9yczogRm9ybUZpZWxkVmFsaWRhdG9yW10gPSBbLi4uRk9STV9GSUVMRF9WQUxJREFUT1JTXTtcbiAgICByZWFkb25seSBzZWxlY3RlZE91dGNvbWU6IHN0cmluZztcblxuICAgIHZhbHVlczogRm9ybVZhbHVlcyA9IHt9O1xuICAgIHByb2Nlc3NWYXJpYWJsZXM6IGFueTtcblxuICAgIHJlYWRvbmx5IGpzb246IGFueTtcblxuICAgIGhhc1RhYnMoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhYnMgJiYgdGhpcy50YWJzLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgaGFzRmllbGRzKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5maWVsZHMgJiYgdGhpcy5maWVsZHMubGVuZ3RoID4gMDtcbiAgICB9XG5cbiAgICBoYXNPdXRjb21lcygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3V0Y29tZXMgJiYgdGhpcy5vdXRjb21lcy5sZW5ndGggPiAwO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGpzb24/OiBhbnksIGRhdGE/OiBGb3JtVmFsdWVzLCByZWFkT25seTogYm9vbGVhbiA9IGZhbHNlLCBwcm90ZWN0ZWQgZm9ybVNlcnZpY2U/OiBGb3JtU2VydmljZSkge1xuICAgICAgICB0aGlzLnJlYWRPbmx5ID0gcmVhZE9ubHk7XG5cbiAgICAgICAgaWYgKGpzb24pIHtcbiAgICAgICAgICAgIHRoaXMuanNvbiA9IGpzb247XG5cbiAgICAgICAgICAgIHRoaXMuaWQgPSBqc29uLmlkO1xuICAgICAgICAgICAgdGhpcy5uYW1lID0ganNvbi5uYW1lO1xuICAgICAgICAgICAgdGhpcy50YXNrSWQgPSBqc29uLnRhc2tJZDtcbiAgICAgICAgICAgIHRoaXMudGFza05hbWUgPSBqc29uLnRhc2tOYW1lIHx8IGpzb24ubmFtZSB8fCBGb3JtTW9kZWwuVU5TRVRfVEFTS19OQU1FO1xuICAgICAgICAgICAgdGhpcy5wcm9jZXNzRGVmaW5pdGlvbklkID0ganNvbi5wcm9jZXNzRGVmaW5pdGlvbklkO1xuICAgICAgICAgICAgdGhpcy5jdXN0b21GaWVsZFRlbXBsYXRlcyA9IGpzb24uY3VzdG9tRmllbGRUZW1wbGF0ZXMgfHwge307XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkT3V0Y29tZSA9IGpzb24uc2VsZWN0ZWRPdXRjb21lIHx8IHt9O1xuICAgICAgICAgICAgdGhpcy5jbGFzc05hbWUgPSBqc29uLmNsYXNzTmFtZSB8fCAnJztcblxuICAgICAgICAgICAgbGV0IHRhYkNhY2hlOiBGb3JtV2lkZ2V0TW9kZWxDYWNoZTxUYWJNb2RlbD4gPSB7fTtcblxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzVmFyaWFibGVzID0ganNvbi5wcm9jZXNzVmFyaWFibGVzO1xuXG4gICAgICAgICAgICB0aGlzLnRhYnMgPSAoanNvbi50YWJzIHx8IFtdKS5tYXAodCA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG1vZGVsID0gbmV3IFRhYk1vZGVsKHRoaXMsIHQpO1xuICAgICAgICAgICAgICAgIHRhYkNhY2hlW21vZGVsLmlkXSA9IG1vZGVsO1xuICAgICAgICAgICAgICAgIHJldHVybiBtb2RlbDtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB0aGlzLmZpZWxkcyA9IHRoaXMucGFyc2VSb290RmllbGRzKGpzb24pO1xuXG4gICAgICAgICAgICBpZiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIHRoaXMubG9hZERhdGEoZGF0YSk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBsZXQgZmllbGQgPSB0aGlzLmZpZWxkc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQudGFiKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0YWIgPSB0YWJDYWNoZVtmaWVsZC50YWJdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGFiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0YWIuZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoanNvbi5maWVsZHMpIHtcbiAgICAgICAgICAgICAgICBsZXQgc2F2ZU91dGNvbWUgPSBuZXcgRm9ybU91dGNvbWVNb2RlbCh0aGlzLCB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiBGb3JtTW9kZWwuU0FWRV9PVVRDT01FLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnU2F2ZScsXG4gICAgICAgICAgICAgICAgICAgIGlzU3lzdGVtOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbGV0IGNvbXBsZXRlT3V0Y29tZSA9IG5ldyBGb3JtT3V0Y29tZU1vZGVsKHRoaXMsIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IEZvcm1Nb2RlbC5DT01QTEVURV9PVVRDT01FLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQ29tcGxldGUnLFxuICAgICAgICAgICAgICAgICAgICBpc1N5c3RlbTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGxldCBzdGFydFByb2Nlc3NPdXRjb21lID0gbmV3IEZvcm1PdXRjb21lTW9kZWwodGhpcywge1xuICAgICAgICAgICAgICAgICAgICBpZDogRm9ybU1vZGVsLlNUQVJUX1BST0NFU1NfT1VUQ09NRSxcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1N0YXJ0IFByb2Nlc3MnLFxuICAgICAgICAgICAgICAgICAgICBpc1N5c3RlbTogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgbGV0IGN1c3RvbU91dGNvbWVzID0gKGpzb24ub3V0Y29tZXMgfHwgW10pLm1hcChvYmogPT4gbmV3IEZvcm1PdXRjb21lTW9kZWwodGhpcywgb2JqKSk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLm91dGNvbWVzID0gW3NhdmVPdXRjb21lXS5jb25jYXQoXG4gICAgICAgICAgICAgICAgICAgIGN1c3RvbU91dGNvbWVzLmxlbmd0aCA+IDAgPyBjdXN0b21PdXRjb21lcyA6IFtjb21wbGV0ZU91dGNvbWUsIHN0YXJ0UHJvY2Vzc091dGNvbWVdXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMudmFsaWRhdGVGb3JtKCk7XG4gICAgfVxuXG4gICAgb25Gb3JtRmllbGRDaGFuZ2VkKGZpZWxkOiBGb3JtRmllbGRNb2RlbCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlRmllbGQoZmllbGQpO1xuICAgICAgICBpZiAodGhpcy5mb3JtU2VydmljZSkge1xuICAgICAgICAgICAgdGhpcy5mb3JtU2VydmljZS5mb3JtRmllbGRWYWx1ZUNoYW5nZWQubmV4dChuZXcgRm9ybUZpZWxkRXZlbnQodGhpcywgZmllbGQpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEZpZWxkQnlJZChmaWVsZElkOiBzdHJpbmcpOiBGb3JtRmllbGRNb2RlbCB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEZvcm1GaWVsZHMoKS5maW5kKGZpZWxkID0+IGZpZWxkLmlkID09PSBmaWVsZElkKTtcbiAgICB9XG5cbiAgICAvLyBUT0RPOiBjb25zaWRlciBldmFsdWF0aW5nIGFuZCBjYWNoaW5nIG9uY2UgdGhlIGZvcm0gaXMgbG9hZGVkXG4gICAgZ2V0Rm9ybUZpZWxkcygpOiBGb3JtRmllbGRNb2RlbFtdIHtcbiAgICAgICAgbGV0IHJlc3VsdDogRm9ybUZpZWxkTW9kZWxbXSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5maWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGxldCBmaWVsZCA9IHRoaXMuZmllbGRzW2ldO1xuXG4gICAgICAgICAgICBpZiAoZmllbGQgaW5zdGFuY2VvZiBDb250YWluZXJNb2RlbCkge1xuICAgICAgICAgICAgICAgIGxldCBjb250YWluZXIgPSA8Q29udGFpbmVyTW9kZWw+IGZpZWxkO1xuICAgICAgICAgICAgICAgIHJlc3VsdC5wdXNoKGNvbnRhaW5lci5maWVsZCk7XG5cbiAgICAgICAgICAgICAgICBjb250YWluZXIuZmllbGQuY29sdW1ucy5mb3JFYWNoKChjb2x1bW4pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnB1c2goLi4uY29sdW1uLmZpZWxkcyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIG1hcmtBc0ludmFsaWQoKSB7XG4gICAgICAgIHRoaXMuX2lzVmFsaWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBWYWxpZGF0ZXMgZW50aXJlIGZvcm0gYW5kIGFsbCBmb3JtIGZpZWxkcy5cbiAgICAgKlxuICAgICAqIEBtZW1iZXJvZiBGb3JtTW9kZWxcbiAgICAgKi9cbiAgICB2YWxpZGF0ZUZvcm0oKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlRm9ybUV2ZW50OiBhbnkgPSBuZXcgVmFsaWRhdGVGb3JtRXZlbnQodGhpcyk7XG5cbiAgICAgICAgbGV0IGVycm9yc0ZpZWxkOiBGb3JtRmllbGRNb2RlbFtdID0gW107XG5cbiAgICAgICAgbGV0IGZpZWxkcyA9IHRoaXMuZ2V0Rm9ybUZpZWxkcygpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgaWYgKCFmaWVsZHNbaV0udmFsaWRhdGUoKSkge1xuICAgICAgICAgICAgICAgIGVycm9yc0ZpZWxkLnB1c2goZmllbGRzW2ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2lzVmFsaWQgPSBlcnJvcnNGaWVsZC5sZW5ndGggPiAwID8gZmFsc2UgOiB0cnVlO1xuXG4gICAgICAgIGlmICh0aGlzLmZvcm1TZXJ2aWNlKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZUZvcm1FdmVudC5pc1ZhbGlkID0gdGhpcy5faXNWYWxpZDtcbiAgICAgICAgICAgIHZhbGlkYXRlRm9ybUV2ZW50LmVycm9yc0ZpZWxkID0gZXJyb3JzRmllbGQ7XG4gICAgICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLnZhbGlkYXRlRm9ybS5uZXh0KHZhbGlkYXRlRm9ybUV2ZW50KTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIGEgc3BlY2lmaWMgZm9ybSBmaWVsZCwgdHJpZ2dlcnMgZm9ybSB2YWxpZGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIGZpZWxkIEZvcm0gZmllbGQgdG8gdmFsaWRhdGUuXG4gICAgICogQG1lbWJlcm9mIEZvcm1Nb2RlbFxuICAgICAqL1xuICAgIHZhbGlkYXRlRmllbGQoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKTogdm9pZCB7XG4gICAgICAgIGlmICghZmllbGQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHZhbGlkYXRlRmllbGRFdmVudCA9IG5ldyBWYWxpZGF0ZUZvcm1GaWVsZEV2ZW50KHRoaXMsIGZpZWxkKTtcblxuICAgICAgICBpZiAodGhpcy5mb3JtU2VydmljZSkge1xuICAgICAgICAgICAgdGhpcy5mb3JtU2VydmljZS52YWxpZGF0ZUZvcm1GaWVsZC5uZXh0KHZhbGlkYXRlRmllbGRFdmVudCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXZhbGlkYXRlRmllbGRFdmVudC5pc1ZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLl9pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodmFsaWRhdGVGaWVsZEV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZmllbGQudmFsaWRhdGUoKSkge1xuICAgICAgICAgICAgdGhpcy5faXNWYWxpZCA9IGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy52YWxpZGF0ZUZvcm0oKTtcbiAgICB9XG5cbiAgICAvLyBBY3Rpdml0aSBzdXBwb3J0cyAzIHR5cGVzIG9mIHJvb3QgZmllbGRzOiBjb250YWluZXJ8Z3JvdXB8ZHluYW1pYy10YWJsZVxuICAgIHByaXZhdGUgcGFyc2VSb290RmllbGRzKGpzb246IGFueSk6IEZvcm1XaWRnZXRNb2RlbFtdIHtcbiAgICAgICAgbGV0IGZpZWxkcyA9IFtdO1xuXG4gICAgICAgIGlmIChqc29uLmZpZWxkcykge1xuICAgICAgICAgICAgZmllbGRzID0ganNvbi5maWVsZHM7XG4gICAgICAgIH0gZWxzZSBpZiAoanNvbi5mb3JtRGVmaW5pdGlvbiAmJiBqc29uLmZvcm1EZWZpbml0aW9uLmZpZWxkcykge1xuICAgICAgICAgICAgZmllbGRzID0ganNvbi5mb3JtRGVmaW5pdGlvbi5maWVsZHM7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgcmVzdWx0OiBGb3JtV2lkZ2V0TW9kZWxbXSA9IFtdO1xuXG4gICAgICAgIGZvciAobGV0IGZpZWxkIG9mIGZpZWxkcykge1xuICAgICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09IEZvcm1GaWVsZFR5cGVzLkRJU1BMQVlfVkFMVUUpIHtcbiAgICAgICAgICAgICAgICAvLyB3b3JrYXJvdW5kIGZvciBkeW5hbWljIHRhYmxlIG9uIGEgY29tcGxldGVkL3JlYWRvbmx5IGZvcm1cbiAgICAgICAgICAgICAgICBpZiAoZmllbGQucGFyYW1zKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvcmlnaW5hbEZpZWxkID0gZmllbGQucGFyYW1zWydmaWVsZCddO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3JpZ2luYWxGaWVsZC50eXBlID09PSBGb3JtRmllbGRUeXBlcy5EWU5BTUlDX1RBQkxFKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgQ29udGFpbmVyTW9kZWwobmV3IEZvcm1GaWVsZE1vZGVsKHRoaXMsIGZpZWxkKSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQucHVzaChuZXcgQ29udGFpbmVyTW9kZWwobmV3IEZvcm1GaWVsZE1vZGVsKHRoaXMsIGZpZWxkKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBMb2FkcyBleHRlcm5hbCBkYXRhIGFuZCBvdmVycmlkZXMgZmllbGQgdmFsdWVzXG4gICAgLy8gVHlwaWNhbGx5IHVzZWQgd2hlbiBmb3JtIGRlZmluaXRpb24gYW5kIGZvcm0gZGF0YSBjb21pbmcgZnJvbSBkaWZmZXJlbnQgc291cmNlc1xuICAgIHByaXZhdGUgbG9hZERhdGEoZGF0YTogRm9ybVZhbHVlcykge1xuICAgICAgICBmb3IgKGxldCBmaWVsZCBvZiB0aGlzLmdldEZvcm1GaWVsZHMoKSkge1xuICAgICAgICAgICAgaWYgKGRhdGFbZmllbGQuaWRdKSB7XG4gICAgICAgICAgICAgICAgZmllbGQuanNvbi52YWx1ZSA9IGRhdGFbZmllbGQuaWRdO1xuICAgICAgICAgICAgICAgIGZpZWxkLnZhbHVlID0gZmllbGQucGFyc2VWYWx1ZShmaWVsZC5qc29uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbiAvKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmltcG9ydCB7IEZvcm1PdXRjb21lTW9kZWwgfSBmcm9tICcuL2Zvcm0tb3V0Y29tZS5tb2RlbCc7XG5cbmV4cG9ydCBjbGFzcyBGb3JtT3V0Y29tZUV2ZW50IHtcblxuICAgIHByaXZhdGUgX291dGNvbWU6IEZvcm1PdXRjb21lTW9kZWw7XG4gICAgcHJpdmF0ZSBfZGVmYXVsdFByZXZlbnRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgZ2V0IG91dGNvbWUoKTogRm9ybU91dGNvbWVNb2RlbCB7XG4gICAgICAgIHJldHVybiB0aGlzLl9vdXRjb21lO1xuICAgIH1cblxuICAgIGdldCBkZWZhdWx0UHJldmVudGVkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmYXVsdFByZXZlbnRlZDtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihvdXRjb21lOiBGb3JtT3V0Y29tZU1vZGVsKSB7XG4gICAgICAgIHRoaXMuX291dGNvbWUgPSBvdXRjb21lO1xuICAgIH1cblxuICAgIHByZXZlbnREZWZhdWx0KCkge1xuICAgICAgICB0aGlzLl9kZWZhdWx0UHJldmVudGVkID0gdHJ1ZTtcbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbiAvKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbiBpbXBvcnQgeyBSZWxhdGVkQ29udGVudFJlcHJlc2VudGF0aW9uIH0gZnJvbSAnYWxmcmVzY28tanMtYXBpJztcblxuIGV4cG9ydCBjbGFzcyBDb250ZW50TGlua01vZGVsIGltcGxlbWVudHMgUmVsYXRlZENvbnRlbnRSZXByZXNlbnRhdGlvbiB7XG5cbiAgICBjb250ZW50QXZhaWxhYmxlOiBib29sZWFuO1xuICAgIGNyZWF0ZWQ6IERhdGU7XG4gICAgY3JlYXRlZEJ5OiBhbnk7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBsaW5rOiBib29sZWFuO1xuICAgIG1pbWVUeXBlOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIHByZXZpZXdTdGF0dXM6IHN0cmluZztcbiAgICByZWxhdGVkQ29udGVudDogYm9vbGVhbjtcbiAgICBzaW1wbGVUeXBlOiBzdHJpbmc7XG4gICAgdGh1bWJuYWlsVXJsOiBzdHJpbmc7XG4gICAgY29udGVudFJhd1VybDogc3RyaW5nO1xuICAgIGNvbnRlbnRCbG9iOiBCbG9iO1xuICAgIHRodW1ibmFpbFN0YXR1czogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Iob2JqPzogYW55KSB7XG4gICAgICAgIHRoaXMuY29udGVudEF2YWlsYWJsZSA9IG9iaiAmJiBvYmouY29udGVudEF2YWlsYWJsZTtcbiAgICAgICAgdGhpcy5jcmVhdGVkID0gb2JqICYmIG9iai5jcmVhdGVkO1xuICAgICAgICB0aGlzLmNyZWF0ZWRCeSA9IG9iaiAmJiBvYmouY3JlYXRlZEJ5IHx8IHt9O1xuICAgICAgICB0aGlzLmlkID0gb2JqICYmIG9iai5pZDtcbiAgICAgICAgdGhpcy5saW5rID0gb2JqICYmIG9iai5saW5rO1xuICAgICAgICB0aGlzLm1pbWVUeXBlID0gb2JqICYmIG9iai5taW1lVHlwZTtcbiAgICAgICAgdGhpcy5uYW1lID0gb2JqICYmIG9iai5uYW1lO1xuICAgICAgICB0aGlzLnByZXZpZXdTdGF0dXMgPSBvYmogJiYgb2JqLnByZXZpZXdTdGF0dXM7XG4gICAgICAgIHRoaXMucmVsYXRlZENvbnRlbnQgPSBvYmogJiYgb2JqLnJlbGF0ZWRDb250ZW50O1xuICAgICAgICB0aGlzLnNpbXBsZVR5cGUgPSBvYmogJiYgb2JqLnNpbXBsZVR5cGU7XG4gICAgICAgIHRoaXMudGh1bWJuYWlsU3RhdHVzID0gb2JqICYmIG9iai50aHVtYm5haWxTdGF0dXM7XG4gICAgfVxuXG4gICAgaGFzUHJldmlld1N0YXR1cygpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJldmlld1N0YXR1cyA9PT0gJ3N1cHBvcnRlZCcgPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuXG4gICAgaXNUeXBlSW1hZ2UoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpbXBsZVR5cGUgPT09ICdpbWFnZScgPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuXG4gICAgaXNUeXBlUGRmKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5zaW1wbGVUeXBlID09PSAncGRmJyA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBpc1R5cGVEb2MoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpbXBsZVR5cGUgPT09ICd3b3JkJyB8fCB0aGlzLnNpbXBsZVR5cGUgPT09ICdjb250ZW50JyA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBpc1RodW1ibmFpbFJlYWR5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy50aHVtYm5haWxTdGF0dXMgPT09ICdjcmVhdGVkJztcbiAgICB9XG5cbiAgICBpc1RodW1ibmFpbFN1cHBvcnRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNUeXBlSW1hZ2UoKSB8fCAoKHRoaXMuaXNUeXBlUGRmKCkgfHwgdGhpcy5pc1R5cGVEb2MoKSkgJiYgdGhpcy5pc1RodW1ibmFpbFJlYWR5KCkpO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEFsZnJlc2NvQXBpU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2FsZnJlc2NvLWFwaS5zZXJ2aWNlJztcbmltcG9ydCB7IExvZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9sb2cuc2VydmljZSc7XG5pbXBvcnQgeyBVc2VyUHJvY2Vzc01vZGVsIH0gZnJvbSAnLi4vLi4vbW9kZWxzJztcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUsIFN1YmplY3QsIGZyb20sIG9mLCB0aHJvd0Vycm9yIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBGb3JtRGVmaW5pdGlvbk1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL2Zvcm0tZGVmaW5pdGlvbi5tb2RlbCc7XG5pbXBvcnQgeyBDb250ZW50TGlua01vZGVsIH0gZnJvbSAnLi8uLi9jb21wb25lbnRzL3dpZGdldHMvY29yZS9jb250ZW50LWxpbmsubW9kZWwnO1xuaW1wb3J0IHsgR3JvdXBNb2RlbCB9IGZyb20gJy4vLi4vY29tcG9uZW50cy93aWRnZXRzL2NvcmUvZ3JvdXAubW9kZWwnO1xuaW1wb3J0IHsgRm9ybU1vZGVsLCBGb3JtT3V0Y29tZUV2ZW50LCBGb3JtT3V0Y29tZU1vZGVsLCBGb3JtVmFsdWVzIH0gZnJvbSAnLi8uLi9jb21wb25lbnRzL3dpZGdldHMvY29yZS9pbmRleCc7XG5pbXBvcnQge1xuICAgIEZvcm1FcnJvckV2ZW50LCBGb3JtRXZlbnQsIEZvcm1GaWVsZEV2ZW50LFxuICAgIFZhbGlkYXRlRHluYW1pY1RhYmxlUm93RXZlbnQsIFZhbGlkYXRlRm9ybUV2ZW50LCBWYWxpZGF0ZUZvcm1GaWVsZEV2ZW50XG59IGZyb20gJy4vLi4vZXZlbnRzL2luZGV4JztcbmltcG9ydCB7IEVjbU1vZGVsU2VydmljZSB9IGZyb20gJy4vZWNtLW1vZGVsLnNlcnZpY2UnO1xuaW1wb3J0IHsgbWFwLCBjYXRjaEVycm9yLCBzd2l0Y2hNYXAsIGNvbWJpbmVBbGwsIGRlZmF1bHRJZkVtcHR5IH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgRm9ybVNlcnZpY2Uge1xuXG4gICAgc3RhdGljIFVOS05PV05fRVJST1JfTUVTU0FHRTogc3RyaW5nID0gJ1Vua25vd24gZXJyb3InO1xuICAgIHN0YXRpYyBHRU5FUklDX0VSUk9SX01FU1NBR0U6IHN0cmluZyA9ICdTZXJ2ZXIgZXJyb3InO1xuXG4gICAgZm9ybUxvYWRlZCA9IG5ldyBTdWJqZWN0PEZvcm1FdmVudD4oKTtcbiAgICBmb3JtRGF0YVJlZnJlc2hlZCA9IG5ldyBTdWJqZWN0PEZvcm1FdmVudD4oKTtcbiAgICBmb3JtRmllbGRWYWx1ZUNoYW5nZWQgPSBuZXcgU3ViamVjdDxGb3JtRmllbGRFdmVudD4oKTtcbiAgICBmb3JtRXZlbnRzID0gbmV3IFN1YmplY3Q8RXZlbnQ+KCk7XG4gICAgdGFza0NvbXBsZXRlZCA9IG5ldyBTdWJqZWN0PEZvcm1FdmVudD4oKTtcbiAgICB0YXNrQ29tcGxldGVkRXJyb3IgPSBuZXcgU3ViamVjdDxGb3JtRXJyb3JFdmVudD4oKTtcbiAgICB0YXNrU2F2ZWQgPSBuZXcgU3ViamVjdDxGb3JtRXZlbnQ+KCk7XG4gICAgdGFza1NhdmVkRXJyb3IgPSBuZXcgU3ViamVjdDxGb3JtRXJyb3JFdmVudD4oKTtcbiAgICBmb3JtQ29udGVudENsaWNrZWQgPSBuZXcgU3ViamVjdDxDb250ZW50TGlua01vZGVsPigpO1xuXG4gICAgdmFsaWRhdGVGb3JtID0gbmV3IFN1YmplY3Q8VmFsaWRhdGVGb3JtRXZlbnQ+KCk7XG4gICAgdmFsaWRhdGVGb3JtRmllbGQgPSBuZXcgU3ViamVjdDxWYWxpZGF0ZUZvcm1GaWVsZEV2ZW50PigpO1xuICAgIHZhbGlkYXRlRHluYW1pY1RhYmxlUm93ID0gbmV3IFN1YmplY3Q8VmFsaWRhdGVEeW5hbWljVGFibGVSb3dFdmVudD4oKTtcblxuICAgIGV4ZWN1dGVPdXRjb21lID0gbmV3IFN1YmplY3Q8Rm9ybU91dGNvbWVFdmVudD4oKTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZWNtTW9kZWxTZXJ2aWNlOiBFY21Nb2RlbFNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBhcGlTZXJ2aWNlOiBBbGZyZXNjb0FwaVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJvdGVjdGVkIGxvZ1NlcnZpY2U6IExvZ1NlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCB0YXNrQXBpKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5hY3Rpdml0aS50YXNrQXBpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IG1vZGVsc0FwaSgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuYWN0aXZpdGkubW9kZWxzQXBpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IGVkaXRvckFwaSgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuYWN0aXZpdGkuZWRpdG9yQXBpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IHByb2Nlc3NBcGkoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmFjdGl2aXRpLnByb2Nlc3NBcGk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgcHJvY2Vzc0luc3RhbmNlVmFyaWFibGVzQXBpKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5hY3Rpdml0aS5wcm9jZXNzSW5zdGFuY2VWYXJpYWJsZXNBcGk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgdXNlcnNXb3JrZmxvd0FwaSgpOiBhbnkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuYWN0aXZpdGkudXNlcnNXb3JrZmxvd0FwaTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBncm91cHNBcGkoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmFjdGl2aXRpLmdyb3Vwc0FwaTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQYXJzZXMgSlNPTiBkYXRhIHRvIGNyZWF0ZSBhIGNvcnJlc3BvbmRpbmcgRm9ybSBtb2RlbC5cbiAgICAgKiBAcGFyYW0ganNvbiBKU09OIHRvIGNyZWF0ZSB0aGUgZm9ybVxuICAgICAqIEBwYXJhbSBkYXRhIFZhbHVlcyBmb3IgdGhlIGZvcm0gZmllbGRzXG4gICAgICogQHBhcmFtIHJlYWRPbmx5IFNob3VsZCB0aGUgZm9ybSBmaWVsZHMgYmUgcmVhZC1vbmx5P1xuICAgICAqIEByZXR1cm5zIEZvcm0gbW9kZWwgY3JlYXRlZCBmcm9tIGlucHV0IGRhdGFcbiAgICAgKi9cbiAgICBwYXJzZUZvcm0oanNvbjogYW55LCBkYXRhPzogRm9ybVZhbHVlcywgcmVhZE9ubHk6IGJvb2xlYW4gPSBmYWxzZSk6IEZvcm1Nb2RlbCB7XG4gICAgICAgIGlmIChqc29uKSB7XG4gICAgICAgICAgICBsZXQgZm9ybSA9IG5ldyBGb3JtTW9kZWwoanNvbiwgZGF0YSwgcmVhZE9ubHksIHRoaXMpO1xuICAgICAgICAgICAgaWYgKCFqc29uLmZpZWxkcykge1xuICAgICAgICAgICAgICAgIGZvcm0ub3V0Y29tZXMgPSBbXG4gICAgICAgICAgICAgICAgICAgIG5ldyBGb3JtT3V0Y29tZU1vZGVsKGZvcm0sIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnJGN1c3RvbScsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBGb3JtT3V0Y29tZU1vZGVsLlNBVkVfQUNUSU9OLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTeXN0ZW06IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZvcm07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIEZvcm0gd2l0aCBhIGZpZWxkIGZvciBlYWNoIG1ldGFkYXRhIHByb3BlcnR5LlxuICAgICAqIEBwYXJhbSBmb3JtTmFtZSBOYW1lIG9mIHRoZSBuZXcgZm9ybVxuICAgICAqIEByZXR1cm5zIFRoZSBuZXcgZm9ybVxuICAgICAqL1xuICAgIGNyZWF0ZUZvcm1Gcm9tQU5vZGUoZm9ybU5hbWU6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiBPYnNlcnZhYmxlLmNyZWF0ZShvYnNlcnZlciA9PiB7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUZvcm0oZm9ybU5hbWUpLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICBmb3JtID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lY21Nb2RlbFNlcnZpY2Uuc2VhcmNoRWNtVHlwZShmb3JtTmFtZSwgRWNtTW9kZWxTZXJ2aWNlLk1PREVMX05BTUUpLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1c3RvbVR5cGUgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBmb3JtRGVmaW5pdGlvbk1vZGVsID0gbmV3IEZvcm1EZWZpbml0aW9uTW9kZWwoZm9ybS5pZCwgZm9ybS5uYW1lLCBmb3JtLmxhc3RVcGRhdGVkQnlGdWxsTmFtZSwgZm9ybS5sYXN0VXBkYXRlZCwgY3VzdG9tVHlwZS5lbnRyeS5wcm9wZXJ0aWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEZpZWxkc1RvQUZvcm0oZm9ybS5pZCwgZm9ybURlZmluaXRpb25Nb2RlbCkuc3Vic2NyaWJlKGZvcm1EYXRhID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChmb3JtRGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgRm9ybS5cbiAgICAgKiBAcGFyYW0gZm9ybU5hbWUgTmFtZSBvZiB0aGUgbmV3IGZvcm1cbiAgICAgKiBAcmV0dXJucyBUaGUgbmV3IGZvcm1cbiAgICAgKi9cbiAgICBjcmVhdGVGb3JtKGZvcm1OYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBsZXQgZGF0YU1vZGVsID0ge1xuICAgICAgICAgICAgbmFtZTogZm9ybU5hbWUsXG4gICAgICAgICAgICBkZXNjcmlwdGlvbjogJycsXG4gICAgICAgICAgICBtb2RlbFR5cGU6IDIsXG4gICAgICAgICAgICBzdGVuY2lsU2V0OiAwXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGZyb20oXG4gICAgICAgICAgICB0aGlzLm1vZGVsc0FwaS5jcmVhdGVNb2RlbChkYXRhTW9kZWwpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2F2ZXMgYSBmb3JtLlxuICAgICAqIEBwYXJhbSBmb3JtSWQgSUQgb2YgdGhlIGZvcm0gdG8gc2F2ZVxuICAgICAqIEBwYXJhbSBmb3JtTW9kZWwgTW9kZWwgZGF0YSBmb3IgdGhlIGZvcm1cbiAgICAgKiBAcmV0dXJucyBEYXRhIGZvciB0aGUgc2F2ZWQgZm9ybVxuICAgICAqL1xuICAgIHNhdmVGb3JtKGZvcm1JZDogc3RyaW5nLCBmb3JtTW9kZWw6IEZvcm1EZWZpbml0aW9uTW9kZWwpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gZnJvbShcbiAgICAgICAgICAgIHRoaXMuZWRpdG9yQXBpLnNhdmVGb3JtKGZvcm1JZCwgZm9ybU1vZGVsKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZCBGaWVsZHMgdG8gYSBmb3JtXG4gICAgICogQGRlcHJlY2F0ZWQgaW4gMS43LjAsIHVzZSBzYXZlRm9ybSBBUEkgaW5zdGVhZFxuICAgICAqIEBwYXJhbSBmb3JtSWQgSUQgb2YgdGhlIGZvcm1cbiAgICAgKiBAcGFyYW0gZm9ybU1vZGVsIEZvcm0gZGVmaW5pdGlvblxuICAgICAqL1xuICAgIGFkZEZpZWxkc1RvQUZvcm0oZm9ybUlkOiBzdHJpbmcsIGZvcm1Nb2RlbDogRm9ybURlZmluaXRpb25Nb2RlbCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHRoaXMubG9nU2VydmljZS5sb2coJ2FkZEZpZWxkc1RvQUZvcm0gaXMgZGVwcmVjYXRlZCBpbiAxLjcuMCwgdXNlIHNhdmVGb3JtIEFQSSBpbnN0ZWFkJyk7XG4gICAgICAgIHJldHVybiBmcm9tKFxuICAgICAgICAgICAgdGhpcy5lZGl0b3JBcGkuc2F2ZUZvcm0oZm9ybUlkLCBmb3JtTW9kZWwpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2VhcmNoZXMgZm9yIGEgZm9ybSBieSBuYW1lLlxuICAgICAqIEBwYXJhbSBuYW1lIFRoZSBmb3JtIG5hbWUgdG8gc2VhcmNoIGZvclxuICAgICAqIEByZXR1cm5zIEZvcm0gbW9kZWwocykgbWF0Y2hpbmcgdGhlIHNlYXJjaCBuYW1lXG4gICAgICovXG4gICAgc2VhcmNoRnJvbShuYW1lOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBsZXQgb3B0cyA9IHtcbiAgICAgICAgICAgICdtb2RlbFR5cGUnOiAyXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGZyb20oXG4gICAgICAgICAgICB0aGlzLm1vZGVsc0FwaS5nZXRNb2RlbHMob3B0cylcbiAgICAgICAgKVxuICAgICAgICAucGlwZShcbiAgICAgICAgICAgIG1hcChmdW5jdGlvbiAoZm9ybXM6IGFueSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmb3Jtcy5kYXRhLmZpbmQoZm9ybWRhdGEgPT4gZm9ybWRhdGEubmFtZSA9PT0gbmFtZSk7XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCB0aGUgZm9ybXMuXG4gICAgICogQHJldHVybnMgTGlzdCBvZiBmb3JtIG1vZGVsc1xuICAgICAqL1xuICAgIGdldEZvcm1zKCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIGxldCBvcHRzID0ge1xuICAgICAgICAgICAgJ21vZGVsVHlwZSc6IDJcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLm1vZGVsc0FwaS5nZXRNb2RlbHMob3B0cykpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAodGhpcy50b0pzb25BcnJheSksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHByb2Nlc3MgZGVmaW5pdGlvbnMuXG4gICAgICogQHJldHVybnMgTGlzdCBvZiBwcm9jZXNzIGRlZmluaXRpb25zXG4gICAgICovXG4gICAgZ2V0UHJvY2Vzc0RlZmluaXRpb25zKCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMucHJvY2Vzc0FwaS5nZXRQcm9jZXNzRGVmaW5pdGlvbnMoe30pKVxuICAgICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICAgICAgbWFwKHRoaXMudG9Kc29uQXJyYXkpLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBpbnN0YW5jZSB2YXJpYWJsZXMgZm9yIGEgcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0gcHJvY2Vzc0luc3RhbmNlSWQgSUQgb2YgdGhlIHRhcmdldCBwcm9jZXNzXG4gICAgICogQHJldHVybnMgTGlzdCBvZiBpbnN0YW5jZSB2YXJpYWJsZSBpbmZvcm1hdGlvblxuICAgICAqL1xuICAgIGdldFByb2Nlc3NWYXJhYmxlc0J5SWQocHJvY2Vzc0luc3RhbmNlSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8YW55W10+IHtcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5wcm9jZXNzSW5zdGFuY2VWYXJpYWJsZXNBcGkuZ2V0UHJvY2Vzc0luc3RhbmNlVmFyaWFibGVzKHByb2Nlc3NJbnN0YW5jZUlkKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCh0aGlzLnRvSnNvbiksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCB0aGUgdGFza3MuXG4gICAgICogQHJldHVybnMgTGlzdCBvZiB0YXNrc1xuICAgICAqL1xuICAgIGdldFRhc2tzKCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMudGFza0FwaS5saXN0VGFza3Moe30pKVxuICAgICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICAgICAgbWFwKHRoaXMudG9Kc29uQXJyYXkpLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIHRhc2suXG4gICAgICogQHBhcmFtIHRhc2tJZCBUYXNrIElkXG4gICAgICogQHJldHVybnMgVGFzayBpbmZvXG4gICAgICovXG4gICAgZ2V0VGFzayh0YXNrSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMudGFza0FwaS5nZXRUYXNrKHRhc2tJZCkpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAodGhpcy50b0pzb24pLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2F2ZXMgYSB0YXNrIGZvcm0uXG4gICAgICogQHBhcmFtIHRhc2tJZCBUYXNrIElkXG4gICAgICogQHBhcmFtIGZvcm1WYWx1ZXMgRm9ybSBWYWx1ZXNcbiAgICAgKiBAcmV0dXJucyBOdWxsIHJlc3BvbnNlIHdoZW4gdGhlIG9wZXJhdGlvbiBpcyBjb21wbGV0ZVxuICAgICAqL1xuICAgIHNhdmVUYXNrRm9ybSh0YXNrSWQ6IHN0cmluZywgZm9ybVZhbHVlczogRm9ybVZhbHVlcyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIGxldCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoe3ZhbHVlczogZm9ybVZhbHVlc30pO1xuXG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMudGFza0FwaS5zYXZlVGFza0Zvcm0odGFza0lkLCBib2R5KSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcGxldGVzIGEgVGFzayBGb3JtLlxuICAgICAqIEBwYXJhbSB0YXNrSWQgVGFzayBJZFxuICAgICAqIEBwYXJhbSBmb3JtVmFsdWVzIEZvcm0gVmFsdWVzXG4gICAgICogQHBhcmFtIG91dGNvbWUgRm9ybSBPdXRjb21lXG4gICAgICogQHJldHVybnMgTnVsbCByZXNwb25zZSB3aGVuIHRoZSBvcGVyYXRpb24gaXMgY29tcGxldGVcbiAgICAgKi9cbiAgICBjb21wbGV0ZVRhc2tGb3JtKHRhc2tJZDogc3RyaW5nLCBmb3JtVmFsdWVzOiBGb3JtVmFsdWVzLCBvdXRjb21lPzogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgbGV0IGRhdGE6IGFueSA9IHt2YWx1ZXM6IGZvcm1WYWx1ZXN9O1xuICAgICAgICBpZiAob3V0Y29tZSkge1xuICAgICAgICAgICAgZGF0YS5vdXRjb21lID0gb3V0Y29tZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYm9keSA9IEpTT04uc3RyaW5naWZ5KGRhdGEpO1xuXG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMudGFza0FwaS5jb21wbGV0ZVRhc2tGb3JtKHRhc2tJZCwgYm9keSkpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBmb3JtIHJlbGF0ZWQgdG8gYSB0YXNrLlxuICAgICAqIEBwYXJhbSB0YXNrSWQgSUQgb2YgdGhlIHRhcmdldCB0YXNrXG4gICAgICogQHJldHVybnMgRm9ybSBkZWZpbml0aW9uXG4gICAgICovXG4gICAgZ2V0VGFza0Zvcm0odGFza0lkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLnRhc2tBcGkuZ2V0VGFza0Zvcm0odGFza0lkKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCh0aGlzLnRvSnNvbiksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgZm9ybSBkZWZpbml0aW9uLlxuICAgICAqIEBwYXJhbSBmb3JtSWQgSUQgb2YgdGhlIHRhcmdldCBmb3JtXG4gICAgICogQHJldHVybnMgRm9ybSBkZWZpbml0aW9uXG4gICAgICovXG4gICAgZ2V0Rm9ybURlZmluaXRpb25CeUlkKGZvcm1JZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5lZGl0b3JBcGkuZ2V0Rm9ybShmb3JtSWQpKVxuICAgICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICAgICAgbWFwKHRoaXMudG9Kc29uKSxcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZvcm0gZGVmaW5pdGlvbiB3aXRoIGEgZ2l2ZW4gbmFtZS5cbiAgICAgKiBAcGFyYW0gbmFtZSBUaGUgZm9ybSBuYW1lXG4gICAgICogQHJldHVybnMgRm9ybSBkZWZpbml0aW9uXG4gICAgICovXG4gICAgZ2V0Rm9ybURlZmluaXRpb25CeU5hbWUobmFtZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgbGV0IG9wdHMgPSB7XG4gICAgICAgICAgICAnZmlsdGVyJzogJ215UmV1c2FibGVGb3JtcycsXG4gICAgICAgICAgICAnZmlsdGVyVGV4dCc6IG5hbWUsXG4gICAgICAgICAgICAnbW9kZWxUeXBlJzogMlxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMubW9kZWxzQXBpLmdldE1vZGVscyhvcHRzKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCh0aGlzLmdldEZvcm1JZCksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFydCBmb3JtIGluc3RhbmNlIGZvciBhIGdpdmVuIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHByb2Nlc3NJZCBQcm9jZXNzIGRlZmluaXRpb24gSURcbiAgICAgKiBAcmV0dXJucyBGb3JtIGRlZmluaXRpb25cbiAgICAgKi9cbiAgICBnZXRTdGFydEZvcm1JbnN0YW5jZShwcm9jZXNzSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMucHJvY2Vzc0FwaS5nZXRQcm9jZXNzSW5zdGFuY2VTdGFydEZvcm0ocHJvY2Vzc0lkKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCh0aGlzLnRvSnNvbiksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgcHJvY2VzcyBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0gcHJvY2Vzc0lkIElEIG9mIHRoZSBwcm9jZXNzIHRvIGdldFxuICAgICAqIEByZXR1cm5zIFByb2Nlc3MgaW5zdGFuY2VcbiAgICAgKi9cbiAgICBnZXRQcm9jZXNzSW50YW5jZShwcm9jZXNzSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMucHJvY2Vzc0FwaS5nZXRQcm9jZXNzSW5zdGFuY2UocHJvY2Vzc0lkKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCh0aGlzLnRvSnNvbiksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFydCBmb3JtIGRlZmluaXRpb24gZm9yIGEgZ2l2ZW4gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0gcHJvY2Vzc0lkIFByb2Nlc3MgZGVmaW5pdGlvbiBJRFxuICAgICAqIEByZXR1cm5zIEZvcm0gZGVmaW5pdGlvblxuICAgICAqL1xuICAgIGdldFN0YXJ0Rm9ybURlZmluaXRpb24ocHJvY2Vzc0lkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLnByb2Nlc3NBcGkuZ2V0UHJvY2Vzc0RlZmluaXRpb25TdGFydEZvcm0ocHJvY2Vzc0lkKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCh0aGlzLnRvSnNvbiksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHZhbHVlcyBvZiBmaWVsZHMgcG9wdWxhdGVkIGJ5IGEgUkVTVCBiYWNrZW5kLlxuICAgICAqIEBwYXJhbSB0YXNrSWQgVGFzayBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIGZpZWxkIEZpZWxkIGlkZW50aWZpZXJcbiAgICAgKiBAcmV0dXJucyBGaWVsZCB2YWx1ZXNcbiAgICAgKi9cbiAgICBnZXRSZXN0RmllbGRWYWx1ZXModGFza0lkOiBzdHJpbmcsIGZpZWxkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLnRhc2tBcGkuZ2V0UmVzdEZpZWxkVmFsdWVzKHRhc2tJZCwgZmllbGQpKVxuICAgICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHZhbHVlcyBvZiBmaWVsZHMgcG9wdWxhdGVkIGJ5IGEgUkVTVCBiYWNrZW5kIHVzaW5nIGEgcHJvY2VzcyBJRC5cbiAgICAgKiBAcGFyYW0gcHJvY2Vzc0RlZmluaXRpb25JZCBQcm9jZXNzIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gZmllbGQgRmllbGQgaWRlbnRpZmllclxuICAgICAqIEByZXR1cm5zIEZpZWxkIHZhbHVlc1xuICAgICAqL1xuICAgIGdldFJlc3RGaWVsZFZhbHVlc0J5UHJvY2Vzc0lkKHByb2Nlc3NEZWZpbml0aW9uSWQ6IHN0cmluZywgZmllbGQ6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMucHJvY2Vzc0FwaS5nZXRSZXN0RmllbGRWYWx1ZXMocHJvY2Vzc0RlZmluaXRpb25JZCwgZmllbGQpKVxuICAgICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGNvbHVtbiB2YWx1ZXMgb2YgZmllbGRzIHBvcHVsYXRlZCBieSBhIFJFU1QgYmFja2VuZCB1c2luZyBhIHByb2Nlc3MgSUQuXG4gICAgICogQHBhcmFtIHByb2Nlc3NEZWZpbml0aW9uSWQgUHJvY2VzcyBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIGZpZWxkIEZpZWxkIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gY29sdW1uIENvbHVtbiBpZGVudGlmaWVyXG4gICAgICogQHJldHVybnMgRmllbGQgdmFsdWVzXG4gICAgICovXG4gICAgZ2V0UmVzdEZpZWxkVmFsdWVzQ29sdW1uQnlQcm9jZXNzSWQocHJvY2Vzc0RlZmluaXRpb25JZDogc3RyaW5nLCBmaWVsZDogc3RyaW5nLCBjb2x1bW4/OiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLnByb2Nlc3NBcGkuZ2V0UmVzdFRhYmxlRmllbGRWYWx1ZXMocHJvY2Vzc0RlZmluaXRpb25JZCwgZmllbGQsIGNvbHVtbikpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgY29sdW1uIHZhbHVlcyBvZiBmaWVsZHMgcG9wdWxhdGVkIGJ5IGEgUkVTVCBiYWNrZW5kLlxuICAgICAqIEBwYXJhbSB0YXNrSWQgVGFzayBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIGZpZWxkIEZpZWxkIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gY29sdW1uIENvbHVtbiBpZGVudGlmaWVyXG4gICAgICogQHJldHVybnMgRmllbGQgdmFsdWVzXG4gICAgICovXG4gICAgZ2V0UmVzdEZpZWxkVmFsdWVzQ29sdW1uKHRhc2tJZDogc3RyaW5nLCBmaWVsZDogc3RyaW5nLCBjb2x1bW4/OiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLnRhc2tBcGkuZ2V0UmVzdEZpZWxkVmFsdWVzQ29sdW1uKHRhc2tJZCwgZmllbGQsIGNvbHVtbikpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBVUkwgZm9yIHRoZSBwcm9maWxlIHBpY3R1cmUgb2YgYSB1c2VyLlxuICAgICAqIEBwYXJhbSB1c2VySWQgSUQgb2YgdGhlIHRhcmdldCB1c2VyXG4gICAgICogQHJldHVybnMgVVJMIHN0cmluZ1xuICAgICAqL1xuICAgIGdldFVzZXJQcm9maWxlSW1hZ2VBcGkodXNlcklkOiBudW1iZXIpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuYWN0aXZpdGkudXNlckFwaS5nZXRVc2VyUHJvZmlsZVBpY3R1cmVVcmwodXNlcklkKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgbGlzdCBvZiB3b3JrZmxvdyB1c2Vycy5cbiAgICAgKiBAcGFyYW0gZmlsdGVyIEZpbHRlciB0byBzZWxlY3Qgc3BlY2lmaWMgdXNlcnNcbiAgICAgKiBAcGFyYW0gZ3JvdXBJZCBHcm91cCBJRCBmb3IgdGhlIHNlYXJjaFxuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIHVzZXJzXG4gICAgICovXG4gICAgZ2V0V29ya2Zsb3dVc2VycyhmaWx0ZXI6IHN0cmluZywgZ3JvdXBJZD86IHN0cmluZyk6IE9ic2VydmFibGU8VXNlclByb2Nlc3NNb2RlbFtdPiB7XG4gICAgICAgIGxldCBvcHRpb246IGFueSA9IHtmaWx0ZXI6IGZpbHRlcn07XG4gICAgICAgIGlmIChncm91cElkKSB7XG4gICAgICAgICAgICBvcHRpb24uZ3JvdXBJZCA9IGdyb3VwSWQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy51c2Vyc1dvcmtmbG93QXBpLmdldFVzZXJzKG9wdGlvbikpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBzd2l0Y2hNYXAoKHJlc3BvbnNlOiBhbnkpID0+IDxVc2VyUHJvY2Vzc01vZGVsW10+IHJlc3BvbnNlLmRhdGEgfHwgW10pLFxuICAgICAgICAgICAgICAgIG1hcCgodXNlcjogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHVzZXIudXNlckltYWdlID0gdGhpcy5nZXRVc2VyUHJvZmlsZUltYWdlQXBpKHVzZXIuaWQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2YodXNlcik7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgY29tYmluZUFsbCgpLFxuICAgICAgICAgICAgICAgIGRlZmF1bHRJZkVtcHR5KFtdKSxcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBsaXN0IG9mIGdyb3VwcyBpbiBhIHdvcmtmbG93LlxuICAgICAqIEBwYXJhbSBmaWx0ZXIgRmlsdGVyIHRvIHNlbGVjdCBzcGVjaWZpYyBncm91cHNcbiAgICAgKiBAcGFyYW0gZ3JvdXBJZCBHcm91cCBJRCBmb3IgdGhlIHNlYXJjaFxuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIGdyb3Vwc1xuICAgICAqL1xuICAgIGdldFdvcmtmbG93R3JvdXBzKGZpbHRlcjogc3RyaW5nLCBncm91cElkPzogc3RyaW5nKTogT2JzZXJ2YWJsZTxHcm91cE1vZGVsW10+IHtcbiAgICAgICAgbGV0IG9wdGlvbjogYW55ID0ge2ZpbHRlcjogZmlsdGVyfTtcbiAgICAgICAgaWYgKGdyb3VwSWQpIHtcbiAgICAgICAgICAgIG9wdGlvbi5ncm91cElkID0gZ3JvdXBJZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmdyb3Vwc0FwaS5nZXRHcm91cHMob3B0aW9uKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCgocmVzcG9uc2U6IGFueSkgPT4gPEdyb3VwTW9kZWxbXT4gcmVzcG9uc2UuZGF0YSB8fCBbXSksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBJRCBvZiBhIGZvcm0uXG4gICAgICogQHBhcmFtIHJlcyBPYmplY3QgcmVwcmVzZW50aW5nIGEgZm9ybVxuICAgICAqIEByZXR1cm5zIElEIHN0cmluZ1xuICAgICAqL1xuICAgIGdldEZvcm1JZChyZXM6IGFueSk6IHN0cmluZyB7XG4gICAgICAgIGxldCByZXN1bHQgPSBudWxsO1xuXG4gICAgICAgIGlmIChyZXMgJiYgcmVzLmRhdGEgJiYgcmVzLmRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gcmVzLmRhdGFbMF0uaWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGZvcm0gZGF0YS5cbiAgICAgKiBAcGFyYW0gcmVzIE9iamVjdCByZXByZXNlbnRpbmcgZm9ybSBkYXRhXG4gICAgICogQHJldHVybnMgSlNPTiBkYXRhXG4gICAgICovXG4gICAgdG9Kc29uKHJlczogYW55KSB7XG4gICAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMgfHwge307XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBKU09OIGFycmF5IHJlcHJlc2VudGF0aW9uIG9mIGZvcm0gZGF0YS5cbiAgICAgKiBAcGFyYW0gcmVzIE9iamVjdCByZXByZXNlbnRpbmcgZm9ybSBkYXRhXG4gICAgICogQHJldHVybnMgSlNPTiBkYXRhXG4gICAgICovXG4gICAgdG9Kc29uQXJyYXkocmVzOiBhbnkpIHtcbiAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgcmV0dXJuIHJlcy5kYXRhIHx8IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXBvcnRzIGFuIGVycm9yIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIGVycm9yIERhdGEgb2JqZWN0IHdpdGggb3B0aW9uYWwgYG1lc3NhZ2VgIGFuZCBgc3RhdHVzYCBmaWVsZHMgZm9yIHRoZSBlcnJvclxuICAgICAqIEByZXR1cm5zIEVycm9yIG1lc3NhZ2VcbiAgICAgKi9cbiAgICBoYW5kbGVFcnJvcihlcnJvcjogYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgbGV0IGVyck1zZyA9IEZvcm1TZXJ2aWNlLlVOS05PV05fRVJST1JfTUVTU0FHRTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICBlcnJNc2cgPSAoZXJyb3IubWVzc2FnZSkgPyBlcnJvci5tZXNzYWdlIDpcbiAgICAgICAgICAgICAgICBlcnJvci5zdGF0dXMgPyBgJHtlcnJvci5zdGF0dXN9IC0gJHtlcnJvci5zdGF0dXNUZXh0fWAgOiBGb3JtU2VydmljZS5HRU5FUklDX0VSUk9SX01FU1NBR0U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmVycm9yKGVyck1zZyk7XG4gICAgICAgIHJldHVybiB0aHJvd0Vycm9yKGVyck1zZyk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGNsYXNzIE5vZGVNZXRhZGF0YSB7XG4gICAgbWV0YWRhdGE6IGFueTtcbiAgICBub2RlVHlwZTogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IobWV0YWRhdGE6IGFueSwgbm9kZVR5cGU6IHN0cmluZykge1xuICAgICAgICB0aGlzLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHRoaXMubm9kZVR5cGUgPSBub2RlVHlwZTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBbGZyZXNjb0FwaVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9hbGZyZXNjby1hcGkuc2VydmljZSc7XG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBmcm9tIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBOb2RlTWV0YWRhdGEgfSBmcm9tICcuLi9tb2RlbHMvbm9kZS1tZXRhZGF0YS5tb2RlbCc7XG5pbXBvcnQgeyBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBOb2RlU2VydmljZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwaVNlcnZpY2U6IEFsZnJlc2NvQXBpU2VydmljZSkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgbWV0YWRhdGEgYW5kIHRoZSBub2RlVHlwZSBmb3IgYSBub2RlSWQgY2xlYW5lZCBieSB0aGUgcHJlZml4LlxuICAgICAqIEBwYXJhbSBub2RlSWQgSUQgb2YgdGhlIHRhcmdldCBub2RlXG4gICAgICogQHJldHVybnMgTm9kZSBtZXRhZGF0YVxuICAgICAqL1xuICAgIHB1YmxpYyBnZXROb2RlTWV0YWRhdGEobm9kZUlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPE5vZGVNZXRhZGF0YT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5ub2Rlcy5nZXROb2RlSW5mbyhub2RlSWQpKVxuICAgICAgICAgICAgLnBpcGUobWFwKHRoaXMuY2xlYW5NZXRhZGF0YUZyb21TZW1pY29sb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBuZXcgTm9kZSBmcm9tIGZvcm0gbWV0YWRhdGEuXG4gICAgICogQHBhcmFtIHBhdGggUGF0aCB0byB0aGUgbm9kZVxuICAgICAqIEBwYXJhbSBub2RlVHlwZSBOb2RlIHR5cGVcbiAgICAgKiBAcGFyYW0gbmFtZSBOb2RlIG5hbWVcbiAgICAgKiBAcGFyYW0gbmFtZVNwYWNlIE5hbWVzcGFjZSBmb3IgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSBkYXRhIFByb3BlcnR5IGRhdGEgdG8gc3RvcmUgaW4gdGhlIG5vZGUgdW5kZXIgbmFtZXNwYWNlXG4gICAgICogQHJldHVybnMgVGhlIGNyZWF0ZWQgbm9kZVxuICAgICAqL1xuICAgIHB1YmxpYyBjcmVhdGVOb2RlTWV0YWRhdGEobm9kZVR5cGU6IHN0cmluZywgbmFtZVNwYWNlOiBhbnksIGRhdGE6IGFueSwgcGF0aDogc3RyaW5nLCBuYW1lPzogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgbGV0IHByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgZm9yIChsZXQga2V5IGluIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChkYXRhW2tleV0pIHtcbiAgICAgICAgICAgICAgICBwcm9wZXJ0aWVzW25hbWVTcGFjZSArICc6JyArIGtleV0gPSBkYXRhW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVOb2RlKG5hbWUgfHwgdGhpcy5nZW5lcmF0ZVV1aWQoKSwgbm9kZVR5cGUsIHByb3BlcnRpZXMsIHBhdGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIG5ldyBOb2RlIGZyb20gZm9ybSBtZXRhZGF0YVxuICAgICAqIEBwYXJhbSBuYW1lIE5vZGUgbmFtZVxuICAgICAqIEBwYXJhbSBub2RlVHlwZSBOb2RlIHR5cGVcbiAgICAgKiBAcGFyYW0gcHJvcGVydGllcyBOb2RlIGJvZHkgcHJvcGVydGllc1xuICAgICAqIEBwYXJhbSBwYXRoIFBhdGggdG8gdGhlIG5vZGVcbiAgICAgKiBAcmV0dXJucyBUaGUgY3JlYXRlZCBub2RlXG4gICAgICovXG4gICAgcHVibGljIGNyZWF0ZU5vZGUobmFtZTogc3RyaW5nLCBub2RlVHlwZTogc3RyaW5nLCBwcm9wZXJ0aWVzOiBhbnksIHBhdGg6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIGxldCBib2R5ID0ge1xuICAgICAgICAgICAgbmFtZTogbmFtZSxcbiAgICAgICAgICAgIG5vZGVUeXBlOiBub2RlVHlwZSxcbiAgICAgICAgICAgIHByb3BlcnRpZXM6IHByb3BlcnRpZXMsXG4gICAgICAgICAgICByZWxhdGl2ZVBhdGg6IHBhdGhcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBUT0RPOiByZXF1aXJlcyB1cGRhdGUgdG8gYWxmcmVzY28tanMtYXBpIHR5cGluZ3NcbiAgICAgICAgbGV0IGFwaVNlcnZpY2U6IGFueSA9IHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpO1xuICAgICAgICByZXR1cm4gZnJvbShhcGlTZXJ2aWNlLm5vZGVzLmFkZE5vZGUoJy1yb290LScsIGJvZHksIHt9KSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZW5lcmF0ZVV1aWQoKSB7XG4gICAgICAgIHJldHVybiAneHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4Jy5yZXBsYWNlKC9beHldL2csIGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgICBsZXQgciA9IE1hdGgucmFuZG9tKCkgKiAxNiB8IDAsIHYgPSBjID09PSAneCcgPyByIDogKHIgJiAweDMgfCAweDgpO1xuICAgICAgICAgICAgcmV0dXJuIHYudG9TdHJpbmcoMTYpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNsZWFuTWV0YWRhdGFGcm9tU2VtaWNvbG9uKGRhdGE6IGFueSk6IE5vZGVNZXRhZGF0YSB7XG4gICAgICAgIGxldCBtZXRhZGF0YSA9IHt9O1xuXG4gICAgICAgIGlmIChkYXRhICYmIGRhdGEucHJvcGVydGllcykge1xuICAgICAgICAgICAgZm9yIChsZXQga2V5IGluIGRhdGEucHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIGlmIChrZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKCc6JykgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YSBba2V5LnNwbGl0KCc6JylbMV1dID0gZGF0YS5wcm9wZXJ0aWVzW2tleV07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBtZXRhZGF0YSBba2V5XSA9IGRhdGEucHJvcGVydGllc1trZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIG5ldyBOb2RlTWV0YWRhdGEobWV0YWRhdGEsIGRhdGEubm9kZVR5cGUpO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEFsZnJlc2NvQXBpU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2FsZnJlc2NvLWFwaS5zZXJ2aWNlJztcbmltcG9ydCB7IExvZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9sb2cuc2VydmljZSc7XG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudC1lczYnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgZnJvbSwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgRm9ybUZpZWxkTW9kZWwsIEZvcm1Nb2RlbCwgVGFiTW9kZWwgfSBmcm9tICcuLi9jb21wb25lbnRzL3dpZGdldHMvY29yZS9pbmRleCc7XG5pbXBvcnQgeyBUYXNrUHJvY2Vzc1ZhcmlhYmxlTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvdGFzay1wcm9jZXNzLXZhcmlhYmxlLm1vZGVsJztcbmltcG9ydCB7IFdpZGdldFZpc2liaWxpdHlNb2RlbCB9IGZyb20gJy4uL21vZGVscy93aWRnZXQtdmlzaWJpbGl0eS5tb2RlbCc7XG5pbXBvcnQgeyBtYXAsIGNhdGNoRXJyb3IgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBXaWRnZXRWaXNpYmlsaXR5U2VydmljZSB7XG5cbiAgICBwcml2YXRlIHByb2Nlc3NWYXJMaXN0OiBUYXNrUHJvY2Vzc1ZhcmlhYmxlTW9kZWxbXTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgbG9nU2VydmljZTogTG9nU2VydmljZSkge1xuICAgIH1cblxuICAgIHB1YmxpYyByZWZyZXNoVmlzaWJpbGl0eShmb3JtOiBGb3JtTW9kZWwpIHtcbiAgICAgICAgaWYgKGZvcm0gJiYgZm9ybS50YWJzICYmIGZvcm0udGFicy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmb3JtLnRhYnMubWFwKHRhYk1vZGVsID0+IHRoaXMucmVmcmVzaEVudGl0eVZpc2liaWxpdHkodGFiTW9kZWwpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmb3JtKSB7XG4gICAgICAgICAgICBmb3JtLmdldEZvcm1GaWVsZHMoKS5tYXAoZmllbGQgPT4gdGhpcy5yZWZyZXNoRW50aXR5VmlzaWJpbGl0eShmaWVsZCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVmcmVzaEVudGl0eVZpc2liaWxpdHkoZWxlbWVudDogRm9ybUZpZWxkTW9kZWwgfCBUYWJNb2RlbCkge1xuICAgICAgICBsZXQgdmlzaWJsZSA9IHRoaXMuZXZhbHVhdGVWaXNpYmlsaXR5KGVsZW1lbnQuZm9ybSwgZWxlbWVudC52aXNpYmlsaXR5Q29uZGl0aW9uKTtcbiAgICAgICAgZWxlbWVudC5pc1Zpc2libGUgPSB2aXNpYmxlO1xuICAgIH1cblxuICAgIGV2YWx1YXRlVmlzaWJpbGl0eShmb3JtOiBGb3JtTW9kZWwsIHZpc2liaWxpdHlPYmo6IFdpZGdldFZpc2liaWxpdHlNb2RlbCk6IGJvb2xlYW4ge1xuICAgICAgICBsZXQgaXNMZWZ0RmllbGRQcmVzZW50ID0gdmlzaWJpbGl0eU9iaiAmJiAoIHZpc2liaWxpdHlPYmoubGVmdEZvcm1GaWVsZElkIHx8IHZpc2liaWxpdHlPYmoubGVmdFJlc3RSZXNwb25zZUlkICk7XG4gICAgICAgIGlmICghaXNMZWZ0RmllbGRQcmVzZW50IHx8IGlzTGVmdEZpZWxkUHJlc2VudCA9PT0gJ251bGwnKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmlzRmllbGRWaXNpYmxlKGZvcm0sIHZpc2liaWxpdHlPYmopO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNGaWVsZFZpc2libGUoZm9ybTogRm9ybU1vZGVsLCB2aXNpYmlsaXR5T2JqOiBXaWRnZXRWaXNpYmlsaXR5TW9kZWwpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGxlZnRWYWx1ZSA9IHRoaXMuZ2V0TGVmdFZhbHVlKGZvcm0sIHZpc2liaWxpdHlPYmopO1xuICAgICAgICBsZXQgcmlnaHRWYWx1ZSA9IHRoaXMuZ2V0UmlnaHRWYWx1ZShmb3JtLCB2aXNpYmlsaXR5T2JqKTtcbiAgICAgICAgbGV0IGFjdHVhbFJlc3VsdCA9IHRoaXMuZXZhbHVhdGVDb25kaXRpb24obGVmdFZhbHVlLCByaWdodFZhbHVlLCB2aXNpYmlsaXR5T2JqLm9wZXJhdG9yKTtcbiAgICAgICAgaWYgKHZpc2liaWxpdHlPYmoubmV4dENvbmRpdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZXZhbHVhdGVMb2dpY2FsT3BlcmF0aW9uKFxuICAgICAgICAgICAgICAgIHZpc2liaWxpdHlPYmoubmV4dENvbmRpdGlvbk9wZXJhdG9yLFxuICAgICAgICAgICAgICAgIGFjdHVhbFJlc3VsdCxcbiAgICAgICAgICAgICAgICB0aGlzLmlzRmllbGRWaXNpYmxlKGZvcm0sIHZpc2liaWxpdHlPYmoubmV4dENvbmRpdGlvbilcbiAgICAgICAgICAgICk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gYWN0dWFsUmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0TGVmdFZhbHVlKGZvcm06IEZvcm1Nb2RlbCwgdmlzaWJpbGl0eU9iajogV2lkZ2V0VmlzaWJpbGl0eU1vZGVsKSB7XG4gICAgICAgIGxldCBsZWZ0VmFsdWUgPSAnJztcbiAgICAgICAgaWYgKHZpc2liaWxpdHlPYmoubGVmdFJlc3RSZXNwb25zZUlkICYmIHZpc2liaWxpdHlPYmoubGVmdFJlc3RSZXNwb25zZUlkICE9PSAnbnVsbCcpIHtcbiAgICAgICAgICAgIGxlZnRWYWx1ZSA9IHRoaXMuZ2V0VmFyaWFibGVWYWx1ZShmb3JtLCB2aXNpYmlsaXR5T2JqLmxlZnRSZXN0UmVzcG9uc2VJZCwgdGhpcy5wcm9jZXNzVmFyTGlzdCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmlzaWJpbGl0eU9iai5sZWZ0Rm9ybUZpZWxkSWQpIHtcbiAgICAgICAgICAgIGxlZnRWYWx1ZSA9IHRoaXMuZ2V0Rm9ybVZhbHVlKGZvcm0sIHZpc2liaWxpdHlPYmoubGVmdEZvcm1GaWVsZElkKTtcbiAgICAgICAgICAgIGxlZnRWYWx1ZSA9IGxlZnRWYWx1ZSA/IGxlZnRWYWx1ZSA6IHRoaXMuZ2V0VmFyaWFibGVWYWx1ZShmb3JtLCB2aXNpYmlsaXR5T2JqLmxlZnRGb3JtRmllbGRJZCwgdGhpcy5wcm9jZXNzVmFyTGlzdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxlZnRWYWx1ZTtcbiAgICB9XG5cbiAgICBnZXRSaWdodFZhbHVlKGZvcm06IEZvcm1Nb2RlbCwgdmlzaWJpbGl0eU9iajogV2lkZ2V0VmlzaWJpbGl0eU1vZGVsKSB7XG4gICAgICAgIGxldCB2YWx1ZUZvdW5kID0gJyc7XG4gICAgICAgIGlmICh2aXNpYmlsaXR5T2JqLnJpZ2h0UmVzdFJlc3BvbnNlSWQpIHtcbiAgICAgICAgICAgIHZhbHVlRm91bmQgPSB0aGlzLmdldFZhcmlhYmxlVmFsdWUoZm9ybSwgdmlzaWJpbGl0eU9iai5yaWdodFJlc3RSZXNwb25zZUlkLCB0aGlzLnByb2Nlc3NWYXJMaXN0KTtcbiAgICAgICAgfSBlbHNlIGlmICh2aXNpYmlsaXR5T2JqLnJpZ2h0Rm9ybUZpZWxkSWQpIHtcbiAgICAgICAgICAgIHZhbHVlRm91bmQgPSB0aGlzLmdldEZvcm1WYWx1ZShmb3JtLCB2aXNpYmlsaXR5T2JqLnJpZ2h0Rm9ybUZpZWxkSWQpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKG1vbWVudCh2aXNpYmlsaXR5T2JqLnJpZ2h0VmFsdWUsICdZWVlZLU1NLUREJywgdHJ1ZSkuaXNWYWxpZCgpKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVGb3VuZCA9IHZpc2liaWxpdHlPYmoucmlnaHRWYWx1ZSArICdUMDA6MDA6MDAuMDAwWic7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhbHVlRm91bmQgPSB2aXNpYmlsaXR5T2JqLnJpZ2h0VmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlRm91bmQ7XG4gICAgfVxuXG4gICAgZ2V0Rm9ybVZhbHVlKGZvcm06IEZvcm1Nb2RlbCwgZmllbGRJZDogc3RyaW5nKSB7XG4gICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0RmllbGRWYWx1ZShmb3JtLnZhbHVlcywgZmllbGRJZCk7XG5cbiAgICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLnNlYXJjaFZhbHVlSW5Gb3JtKGZvcm0sIGZpZWxkSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cblxuICAgIGdldEZpZWxkVmFsdWUodmFsdWVMaXN0OiBhbnksIGZpZWxkSWQ6IHN0cmluZykge1xuICAgICAgICBsZXQgZHJvcERvd25GaWx0ZXJCeU5hbWUsIHZhbHVlRm91bmQ7XG4gICAgICAgIGlmIChmaWVsZElkICYmIGZpZWxkSWQuaW5kZXhPZignX0xBQkVMJykgPiAwKSB7XG4gICAgICAgICAgICBkcm9wRG93bkZpbHRlckJ5TmFtZSA9IGZpZWxkSWQuc3Vic3RyaW5nKDAsIGZpZWxkSWQubGVuZ3RoIC0gNik7XG4gICAgICAgICAgICBpZiAodmFsdWVMaXN0W2Ryb3BEb3duRmlsdGVyQnlOYW1lXSkge1xuICAgICAgICAgICAgICAgIHZhbHVlRm91bmQgPSB2YWx1ZUxpc3RbZHJvcERvd25GaWx0ZXJCeU5hbWVdLm5hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWVMaXN0W2ZpZWxkSWRdICYmIHZhbHVlTGlzdFtmaWVsZElkXS5pZCkge1xuICAgICAgICAgICAgdmFsdWVGb3VuZCA9IHZhbHVlTGlzdFtmaWVsZElkXS5pZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlRm91bmQgPSB2YWx1ZUxpc3RbZmllbGRJZF07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlRm91bmQ7XG4gICAgfVxuXG4gICAgc2VhcmNoVmFsdWVJbkZvcm0oZm9ybTogRm9ybU1vZGVsLCBmaWVsZElkOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IGZpZWxkVmFsdWUgPSAnJztcbiAgICAgICAgZm9ybS5nZXRGb3JtRmllbGRzKCkuZm9yRWFjaCgoZm9ybUZpZWxkOiBGb3JtRmllbGRNb2RlbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNTZWFyY2hlZEZpZWxkKGZvcm1GaWVsZCwgZmllbGRJZCkpIHtcbiAgICAgICAgICAgICAgICBmaWVsZFZhbHVlID0gdGhpcy5nZXRPYmplY3RWYWx1ZShmb3JtRmllbGQsIGZpZWxkSWQpO1xuICAgICAgICAgICAgICAgIGlmICghZmllbGRWYWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybUZpZWxkLnZhbHVlICYmIGZvcm1GaWVsZC52YWx1ZS5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRWYWx1ZSA9IGZvcm1GaWVsZC52YWx1ZS5pZDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVmFsdWUgPSBmb3JtRmllbGQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBmaWVsZFZhbHVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0T2JqZWN0VmFsdWUoZmllbGQ6IEZvcm1GaWVsZE1vZGVsLCBmaWVsZElkOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gJyc7XG4gICAgICAgIGlmIChmaWVsZC52YWx1ZSAmJiBmaWVsZC52YWx1ZS5uYW1lKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGZpZWxkLnZhbHVlLm5hbWU7XG4gICAgICAgIH0gZWxzZSBpZiAoZmllbGQub3B0aW9ucykge1xuICAgICAgICAgICAgbGV0IG9wdGlvbiA9IGZpZWxkLm9wdGlvbnMuZmluZChvcHQgPT4gb3B0LmlkID09PSBmaWVsZC52YWx1ZSk7XG4gICAgICAgICAgICBpZiAob3B0aW9uKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmdldFZhbHVlRnJvbU9wdGlvbihmaWVsZElkLCBvcHRpb24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFZhbHVlRnJvbU9wdGlvbihmaWVsZElkOiBzdHJpbmcsIG9wdGlvbik6IHN0cmluZyB7XG4gICAgICAgIGxldCBvcHRpb25WYWx1ZSA9ICcnO1xuICAgICAgICBpZiAoZmllbGRJZCAmJiBmaWVsZElkLmluZGV4T2YoJ19MQUJFTCcpID4gMCkge1xuICAgICAgICAgICAgb3B0aW9uVmFsdWUgPSBvcHRpb24ubmFtZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIG9wdGlvblZhbHVlID0gb3B0aW9uLmlkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRpb25WYWx1ZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzU2VhcmNoZWRGaWVsZChmaWVsZDogRm9ybUZpZWxkTW9kZWwsIGZpZWxkVG9GaW5kOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGZvcm1hdHRlZEZpZWxkTmFtZSA9IHRoaXMucmVtb3ZlTGFiZWwoZmllbGQsIGZpZWxkVG9GaW5kKTtcbiAgICAgICAgcmV0dXJuIGZpZWxkLmlkID8gZmllbGQuaWQudG9VcHBlckNhc2UoKSA9PT0gZm9ybWF0dGVkRmllbGROYW1lLnRvVXBwZXJDYXNlKCkgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZUxhYmVsKGZpZWxkOiBGb3JtRmllbGRNb2RlbCwgZmllbGRUb0ZpbmQpOiBzdHJpbmcge1xuICAgICAgICBsZXQgZm9ybWF0dGVkRmllbGROYW1lID0gZmllbGRUb0ZpbmQgfHwgJyc7XG4gICAgICAgIGlmIChmaWVsZC5maWVsZFR5cGUgPT09ICdSZXN0RmllbGRSZXByZXNlbnRhdGlvbicgJiYgZmllbGRUb0ZpbmQuaW5kZXhPZignX0xBQkVMJykgPiAwKSB7XG4gICAgICAgICAgICBmb3JtYXR0ZWRGaWVsZE5hbWUgPSBmaWVsZFRvRmluZC5zdWJzdHJpbmcoMCwgZmllbGRUb0ZpbmQubGVuZ3RoIC0gNik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvcm1hdHRlZEZpZWxkTmFtZTtcbiAgICB9XG5cbiAgICBnZXRWYXJpYWJsZVZhbHVlKGZvcm06IEZvcm1Nb2RlbCwgbmFtZTogc3RyaW5nLCBwcm9jZXNzVmFyTGlzdDogVGFza1Byb2Nlc3NWYXJpYWJsZU1vZGVsW10pIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0Rm9ybVZhcmlhYmxlVmFsdWUoZm9ybSwgbmFtZSkgfHxcbiAgICAgICAgICAgIHRoaXMuZ2V0UHJvY2Vzc1ZhcmlhYmxlVmFsdWUobmFtZSwgcHJvY2Vzc1Zhckxpc3QpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Rm9ybVZhcmlhYmxlVmFsdWUoZm9ybTogRm9ybU1vZGVsLCBuYW1lOiBzdHJpbmcpIHtcbiAgICAgICAgaWYgKGZvcm0uanNvbi52YXJpYWJsZXMpIHtcbiAgICAgICAgICAgIGxldCBmb3JtVmFyaWFibGUgPSBmb3JtLmpzb24udmFyaWFibGVzLmZpbmQoZm9ybVZhciA9PiBmb3JtVmFyLm5hbWUgPT09IG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIGZvcm1WYXJpYWJsZSA/IGZvcm1WYXJpYWJsZS52YWx1ZSA6IGZvcm1WYXJpYWJsZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0UHJvY2Vzc1ZhcmlhYmxlVmFsdWUobmFtZTogc3RyaW5nLCBwcm9jZXNzVmFyTGlzdDogVGFza1Byb2Nlc3NWYXJpYWJsZU1vZGVsW10pIHtcbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc1Zhckxpc3QpIHtcbiAgICAgICAgICAgIGxldCBwcm9jZXNzVmFyaWFibGUgPSB0aGlzLnByb2Nlc3NWYXJMaXN0LmZpbmQodmFyaWFibGUgPT4gdmFyaWFibGUuaWQgPT09IG5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIHByb2Nlc3NWYXJpYWJsZSA/IHByb2Nlc3NWYXJpYWJsZS52YWx1ZSA6IHByb2Nlc3NWYXJpYWJsZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGV2YWx1YXRlTG9naWNhbE9wZXJhdGlvbihsb2dpY09wLCBwcmV2aW91c1ZhbHVlLCBuZXdWYWx1ZSk6IGJvb2xlYW4ge1xuICAgICAgICBzd2l0Y2ggKGxvZ2ljT3ApIHtcbiAgICAgICAgICAgIGNhc2UgJ2FuZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWUgJiYgbmV3VmFsdWU7XG4gICAgICAgICAgICBjYXNlICdvcicgOlxuICAgICAgICAgICAgICAgIHJldHVybiBwcmV2aW91c1ZhbHVlIHx8IG5ld1ZhbHVlO1xuICAgICAgICAgICAgY2FzZSAnYW5kLW5vdCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHByZXZpb3VzVmFsdWUgJiYgIW5ld1ZhbHVlO1xuICAgICAgICAgICAgY2FzZSAnb3Itbm90JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldmlvdXNWYWx1ZSB8fCAhbmV3VmFsdWU7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRoaXMubG9nU2VydmljZS5lcnJvcignTk8gdmFsaWQgb3BlcmF0aW9uISB3cm9uZyBvcCByZXF1ZXN0IDogJyArIGxvZ2ljT3ApO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZXZhbHVhdGVDb25kaXRpb24obGVmdFZhbHVlLCByaWdodFZhbHVlLCBvcGVyYXRvcik6IGJvb2xlYW4ge1xuICAgICAgICBzd2l0Y2ggKG9wZXJhdG9yKSB7XG4gICAgICAgICAgICBjYXNlICc9PSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnRWYWx1ZSArICcnID09PSByaWdodFZhbHVlICsgJyc7XG4gICAgICAgICAgICBjYXNlICc8JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdFZhbHVlIDwgcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgIGNhc2UgJyE9JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdFZhbHVlICsgJycgIT09IHJpZ2h0VmFsdWUgKyAnJztcbiAgICAgICAgICAgIGNhc2UgJz4nOlxuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0VmFsdWUgPiByaWdodFZhbHVlO1xuICAgICAgICAgICAgY2FzZSAnPj0nOlxuICAgICAgICAgICAgICAgIHJldHVybiBsZWZ0VmFsdWUgPj0gcmlnaHRWYWx1ZTtcbiAgICAgICAgICAgIGNhc2UgJzw9JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdFZhbHVlIDw9IHJpZ2h0VmFsdWU7XG4gICAgICAgICAgICBjYXNlICdlbXB0eSc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGxlZnRWYWx1ZSA/IGxlZnRWYWx1ZSA9PT0gJycgOiB0cnVlO1xuICAgICAgICAgICAgY2FzZSAnIWVtcHR5JzpcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdFZhbHVlID8gbGVmdFZhbHVlICE9PSAnJyA6IGZhbHNlO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuZXJyb3IoJ05PIHZhbGlkIG9wZXJhdGlvbiEnKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2xlYW5Qcm9jZXNzVmFyaWFibGUoKSB7XG4gICAgICAgIHRoaXMucHJvY2Vzc1Zhckxpc3QgPSBbXTtcbiAgICB9XG5cbiAgICBnZXRUYXNrUHJvY2Vzc1ZhcmlhYmxlKHRhc2tJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxUYXNrUHJvY2Vzc1ZhcmlhYmxlTW9kZWxbXT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5hY3Rpdml0aS50YXNrRm9ybXNBcGkuZ2V0VGFza0Zvcm1WYXJpYWJsZXModGFza0lkKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcChyZXMgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQganNvblJlcyA9IHRoaXMudG9Kc29uKHJlcyk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc1Zhckxpc3QgPSA8VGFza1Byb2Nlc3NWYXJpYWJsZU1vZGVsW10+IGpzb25SZXM7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBqc29uUmVzO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgdG9Kc29uKHJlczogYW55KSB7XG4gICAgICAgIHJldHVybiByZXMgfHwge307XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVFcnJvcihlcnIpIHtcbiAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmVycm9yKCdFcnJvciB3aGlsZSBwZXJmb3JtaW5nIGEgY2FsbCcpO1xuICAgICAgICByZXR1cm4gdGhyb3dFcnJvcignRXJyb3Igd2hpbGUgcGVyZm9ybWluZyBhIGNhbGwgLSBTZXJ2ZXIgZXJyb3InKTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZSAqL1xuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uQ2hhbmdlcywgT25EZXN0cm95LCBPbkluaXQsXG4gICAgT3V0cHV0LCBTaW1wbGVDaGFuZ2VzLCBWaWV3RW5jYXBzdWxhdGlvblxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1FcnJvckV2ZW50LCBGb3JtRXZlbnQgfSBmcm9tICcuLy4uL2V2ZW50cy9pbmRleCc7XG5pbXBvcnQgeyBFY21Nb2RlbFNlcnZpY2UgfSBmcm9tICcuLy4uL3NlcnZpY2VzL2VjbS1tb2RlbC5zZXJ2aWNlJztcbmltcG9ydCB7IEZvcm1TZXJ2aWNlIH0gZnJvbSAnLi8uLi9zZXJ2aWNlcy9mb3JtLnNlcnZpY2UnO1xuaW1wb3J0IHsgTm9kZVNlcnZpY2UgfSBmcm9tICcuLy4uL3NlcnZpY2VzL25vZGUuc2VydmljZSc7XG5pbXBvcnQgeyBDb250ZW50TGlua01vZGVsIH0gZnJvbSAnLi93aWRnZXRzL2NvcmUvY29udGVudC1saW5rLm1vZGVsJztcbmltcG9ydCB7XG4gICAgRm9ybUZpZWxkTW9kZWwsIEZvcm1Nb2RlbCwgRm9ybU91dGNvbWVFdmVudCwgRm9ybU91dGNvbWVNb2RlbCxcbiAgICBGb3JtVmFsdWVzLCBGb3JtRmllbGRWYWxpZGF0b3Jcbn0gZnJvbSAnLi93aWRnZXRzL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgb2YgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFdpZGdldFZpc2liaWxpdHlTZXJ2aWNlIH0gZnJvbSAnLi8uLi9zZXJ2aWNlcy93aWRnZXQtdmlzaWJpbGl0eS5zZXJ2aWNlJztcbmltcG9ydCB7IHN3aXRjaE1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcbmltcG9ydCB7IFZhbGlkYXRlRm9ybUV2ZW50IH0gZnJvbSAnLi8uLi9ldmVudHMvdmFsaWRhdGUtZm9ybS5ldmVudCc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtZm9ybScsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2Zvcm0uY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2Zvcm0uY29tcG9uZW50LnNjc3MnXSxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIEZvcm1Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcywgT25EZXN0cm95IHtcblxuICAgIHN0YXRpYyBTQVZFX09VVENPTUVfSUQ6IHN0cmluZyA9ICckc2F2ZSc7XG4gICAgc3RhdGljIENPTVBMRVRFX09VVENPTUVfSUQ6IHN0cmluZyA9ICckY29tcGxldGUnO1xuICAgIHN0YXRpYyBTVEFSVF9QUk9DRVNTX09VVENPTUVfSUQ6IHN0cmluZyA9ICckc3RhcnRQcm9jZXNzJztcbiAgICBzdGF0aWMgQ1VTVE9NX09VVENPTUVfSUQ6IHN0cmluZyA9ICckY3VzdG9tJztcbiAgICBzdGF0aWMgQ09NUExFVEVfQlVUVE9OX0NPTE9SOiBzdHJpbmcgPSAncHJpbWFyeSc7XG4gICAgc3RhdGljIENPTVBMRVRFX09VVENPTUVfTkFNRTogc3RyaW5nID0gJ0NvbXBsZXRlJ1xuXG4gICAgLyoqIFVuZGVybHlpbmcgZm9ybSBtb2RlbCBpbnN0YW5jZS4gKi9cbiAgICBASW5wdXQoKVxuICAgIGZvcm06IEZvcm1Nb2RlbDtcblxuICAgIC8qKiBUYXNrIGlkIHRvIGZldGNoIGNvcnJlc3BvbmRpbmcgZm9ybSBhbmQgdmFsdWVzLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgdGFza0lkOiBzdHJpbmc7XG5cbiAgICAvKiogQ29udGVudCBTZXJ2aWNlcyBub2RlIElEIGZvciB0aGUgZm9ybSBtZXRhZGF0YS4gKi9cbiAgICBASW5wdXQoKVxuICAgIG5vZGVJZDogc3RyaW5nO1xuXG4gICAgLyoqIFRoZSBpZCBvZiB0aGUgZm9ybSBkZWZpbml0aW9uIHRvIGxvYWQgYW5kIGRpc3BsYXkgd2l0aCBjdXN0b20gdmFsdWVzLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgZm9ybUlkOiBzdHJpbmc7XG5cbiAgICAvKiogTmFtZSBvZiB0aGUgZm9ybSBkZWZpbml0aW9uIHRvIGxvYWQgYW5kIGRpc3BsYXkgd2l0aCBjdXN0b20gdmFsdWVzLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgZm9ybU5hbWU6IHN0cmluZztcblxuICAgIC8qKiBUb2dnbGUgc2F2aW5nIG9mIGZvcm0gbWV0YWRhdGEuICovXG4gICAgQElucHV0KClcbiAgICBzYXZlTWV0YWRhdGE6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8qKiBDdXN0b20gZm9ybSB2YWx1ZXMgbWFwIHRvIGJlIHVzZWQgd2l0aCB0aGUgcmVuZGVyZWQgZm9ybS4gKi9cbiAgICBASW5wdXQoKVxuICAgIGRhdGE6IEZvcm1WYWx1ZXM7XG5cbiAgICAvKiogUGF0aCBvZiB0aGUgZm9sZGVyIHdoZXJlIHRoZSBtZXRhZGF0YSB3aWxsIGJlIHN0b3JlZC4gKi9cbiAgICBASW5wdXQoKVxuICAgIHBhdGg6IHN0cmluZztcblxuICAgIC8qKiBOYW1lIHRvIGFzc2lnbiB0byB0aGUgbmV3IG5vZGUgd2hlcmUgdGhlIG1ldGFkYXRhIGFyZSBzdG9yZWQuICovXG4gICAgQElucHV0KClcbiAgICBuYW1lTm9kZTogc3RyaW5nO1xuXG4gICAgLyoqIFRvZ2dsZSByZW5kZXJpbmcgb2YgdGhlIGZvcm0gdGl0bGUuICovXG4gICAgQElucHV0KClcbiAgICBzaG93VGl0bGU6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLyoqIFRvZ2dsZSByZW5kZXJpbmcgb2YgdGhlIGBDb21wbGV0ZWAgb3V0Y29tZSBidXR0b24uICovXG4gICAgQElucHV0KClcbiAgICBzaG93Q29tcGxldGVCdXR0b246IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLyoqIElmIHRydWUgdGhlbiB0aGUgYENvbXBsZXRlYCBvdXRjb21lIGJ1dHRvbiBpcyBzaG93biBidXQgaXQgd2lsbCBiZSBkaXNhYmxlZC4gKi9cbiAgICBASW5wdXQoKVxuICAgIGRpc2FibGVDb21wbGV0ZUJ1dHRvbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqIElmIHRydWUgdGhlbiB0aGUgYFN0YXJ0IFByb2Nlc3NgIG91dGNvbWUgYnV0dG9uIGlzIHNob3duIGJ1dCBpdCB3aWxsIGJlIGRpc2FibGVkLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgZGlzYWJsZVN0YXJ0UHJvY2Vzc0J1dHRvbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqIFRvZ2dsZSByZW5kZXJpbmcgb2YgdGhlIGBTYXZlYCBvdXRjb21lIGJ1dHRvbi4gKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3dTYXZlQnV0dG9uOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKiBUb2dnbGUgZGVidWcgb3B0aW9ucy4gKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3dEZWJ1Z0J1dHRvbjogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqIFRvZ2dsZSByZWFkb25seSBzdGF0ZSBvZiB0aGUgZm9ybS4gRm9yY2VzIGFsbCBmb3JtIHdpZGdldHMgdG8gcmVuZGVyIGFzIHJlYWRvbmx5IGlmIGVuYWJsZWQuICovXG4gICAgQElucHV0KClcbiAgICByZWFkT25seTogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgLyoqIFRvZ2dsZSByZW5kZXJpbmcgb2YgdGhlIGBSZWZyZXNoYCBidXR0b24uICovXG4gICAgQElucHV0KClcbiAgICBzaG93UmVmcmVzaEJ1dHRvbjogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAvKiogVG9nZ2xlIHJlbmRlcmluZyBvZiB0aGUgdmFsaWRhdGlvbiBpY29uIG5leHQgdG8gdGhlIGZvcm0gdGl0bGUuICovXG4gICAgQElucHV0KClcbiAgICBzaG93VmFsaWRhdGlvbkljb246IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgLyoqIENvbnRhaW5zIGEgbGlzdCBvZiBmb3JtIGZpZWxkIHZhbGlkYXRvciBpbnN0YW5jZXMuICovXG4gICAgQElucHV0KClcbiAgICBmaWVsZFZhbGlkYXRvcnM6IEZvcm1GaWVsZFZhbGlkYXRvcltdID0gW107XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIHRoZSBmb3JtIGlzIHN1Ym1pdHRlZCB3aXRoIHRoZSBgU2F2ZWAgb3IgY3VzdG9tIG91dGNvbWVzLiAqL1xuICAgIEBPdXRwdXQoKVxuICAgIGZvcm1TYXZlZDogRXZlbnRFbWl0dGVyPEZvcm1Nb2RlbD4gPSBuZXcgRXZlbnRFbWl0dGVyPEZvcm1Nb2RlbD4oKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIGZvcm0gaXMgc3VibWl0dGVkIHdpdGggdGhlIGBDb21wbGV0ZWAgb3V0Y29tZS4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBmb3JtQ29tcGxldGVkOiBFdmVudEVtaXR0ZXI8Rm9ybU1vZGVsPiA9IG5ldyBFdmVudEVtaXR0ZXI8Rm9ybU1vZGVsPigpO1xuXG4gICAgLyoqIEVtaXR0ZWQgd2hlbiBmb3JtIGNvbnRlbnQgaXMgY2xpY2tlZC4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBmb3JtQ29udGVudENsaWNrZWQ6IEV2ZW50RW1pdHRlcjxDb250ZW50TGlua01vZGVsPiA9IG5ldyBFdmVudEVtaXR0ZXI8Q29udGVudExpbmtNb2RlbD4oKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gdGhlIGZvcm0gaXMgbG9hZGVkIG9yIHJlbG9hZGVkLiAqL1xuICAgIEBPdXRwdXQoKVxuICAgIGZvcm1Mb2FkZWQ6IEV2ZW50RW1pdHRlcjxGb3JtTW9kZWw+ID0gbmV3IEV2ZW50RW1pdHRlcjxGb3JtTW9kZWw+KCk7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIGZvcm0gdmFsdWVzIGFyZSByZWZyZXNoZWQgZHVlIHRvIGEgZGF0YSBwcm9wZXJ0eSBjaGFuZ2UuICovXG4gICAgQE91dHB1dCgpXG4gICAgZm9ybURhdGFSZWZyZXNoZWQ6IEV2ZW50RW1pdHRlcjxGb3JtTW9kZWw+ID0gbmV3IEV2ZW50RW1pdHRlcjxGb3JtTW9kZWw+KCk7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIGZvcm0gdmFsaWRhdGlvbnMgaGFzIHZhbGlkYXRpb24gZXJyb3IuKi9cbiAgICBAT3V0cHV0KClcbiAgICBmb3JtRXJyb3I6IEV2ZW50RW1pdHRlcjxGb3JtRmllbGRNb2RlbFtdPiA9IG5ldyBFdmVudEVtaXR0ZXI8Rm9ybUZpZWxkTW9kZWxbXT4oKTtcblxuICAgIC8qKiBFbWl0dGVkIHdoZW4gYW55IG91dGNvbWUgaXMgZXhlY3V0ZWQuIERlZmF1bHQgYmVoYXZpb3VyIGNhbiBiZSBwcmV2ZW50ZWRcbiAgICAgKiB2aWEgYGV2ZW50LnByZXZlbnREZWZhdWx0KClgLlxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIGV4ZWN1dGVPdXRjb21lOiBFdmVudEVtaXR0ZXI8Rm9ybU91dGNvbWVFdmVudD4gPSBuZXcgRXZlbnRFbWl0dGVyPEZvcm1PdXRjb21lRXZlbnQ+KCk7XG5cbiAgICAvKipcbiAgICAgKiBFbWl0dGVkIHdoZW4gYW55IGVycm9yIG9jY3Vycy5cbiAgICAgKiBAZGVwcmVjYXRlZCBpbiAyLjQuMCwgd2lsbCBiZSByZW5hbWVkIGFzIFwiZXJyb3JcIiBpbiAzLngueFxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIG9uRXJyb3I6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgICBkZWJ1Z01vZGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHByb3RlY3RlZCBzdWJzY3JpcHRpb25zOiBTdWJzY3JpcHRpb25bXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGZvcm1TZXJ2aWNlOiBGb3JtU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcm90ZWN0ZWQgdmlzaWJpbGl0eVNlcnZpY2U6IFdpZGdldFZpc2liaWxpdHlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgZWNtTW9kZWxTZXJ2aWNlOiBFY21Nb2RlbFNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBub2RlU2VydmljZTogTm9kZVNlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBoYXNGb3JtKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JtID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cblxuICAgIGlzVGl0bGVFbmFibGVkKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5zaG93VGl0bGUpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZvcm0gJiYgdGhpcy5mb3JtLnRhc2tOYW1lKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGdldENvbG9yRm9yT3V0Y29tZShvdXRjb21lTmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIG91dGNvbWVOYW1lID09PSBGb3JtQ29tcG9uZW50LkNPTVBMRVRFX09VVENPTUVfTkFNRSA/IEZvcm1Db21wb25lbnQuQ09NUExFVEVfQlVUVE9OX0NPTE9SIDogJyc7XG4gICAgfVxuXG4gICAgaXNPdXRjb21lQnV0dG9uRW5hYmxlZChvdXRjb21lOiBGb3JtT3V0Y29tZU1vZGVsKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmZvcm0ucmVhZE9ubHkpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvdXRjb21lKSB7XG4gICAgICAgICAgICAvLyBNYWtlICdTYXZlJyBidXR0b24gYWx3YXlzIGF2YWlsYWJsZVxuICAgICAgICAgICAgaWYgKG91dGNvbWUubmFtZSA9PT0gRm9ybU91dGNvbWVNb2RlbC5TQVZFX0FDVElPTikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG91dGNvbWUubmFtZSA9PT0gRm9ybU91dGNvbWVNb2RlbC5DT01QTEVURV9BQ1RJT04pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5kaXNhYmxlQ29tcGxldGVCdXR0b24gPyBmYWxzZSA6IHRoaXMuZm9ybS5pc1ZhbGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG91dGNvbWUubmFtZSA9PT0gRm9ybU91dGNvbWVNb2RlbC5TVEFSVF9QUk9DRVNTX0FDVElPTikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmRpc2FibGVTdGFydFByb2Nlc3NCdXR0b24gPyBmYWxzZSA6IHRoaXMuZm9ybS5pc1ZhbGlkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9ybS5pc1ZhbGlkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpc091dGNvbWVCdXR0b25WaXNpYmxlKG91dGNvbWU6IEZvcm1PdXRjb21lTW9kZWwsIGlzRm9ybVJlYWRPbmx5OiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChvdXRjb21lICYmIG91dGNvbWUubmFtZSkge1xuICAgICAgICAgICAgaWYgKG91dGNvbWUubmFtZSA9PT0gRm9ybU91dGNvbWVNb2RlbC5DT01QTEVURV9BQ1RJT04pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93Q29tcGxldGVCdXR0b247XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNGb3JtUmVhZE9ubHkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3V0Y29tZS5pc1NlbGVjdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG91dGNvbWUubmFtZSA9PT0gRm9ybU91dGNvbWVNb2RlbC5TQVZFX0FDVElPTikge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNob3dTYXZlQnV0dG9uO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG91dGNvbWUubmFtZSA9PT0gRm9ybU91dGNvbWVNb2RlbC5TVEFSVF9QUk9DRVNTX0FDVElPTikge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5zdWJzY3JpcHRpb25zLnB1c2goXG4gICAgICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLmZvcm1Db250ZW50Q2xpY2tlZC5zdWJzY3JpYmUoKGNvbnRlbnQ6IENvbnRlbnRMaW5rTW9kZWwpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm1Db250ZW50Q2xpY2tlZC5lbWl0KGNvbnRlbnQpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLnZhbGlkYXRlRm9ybS5zdWJzY3JpYmUoKHZhbGlkYXRlRm9ybUV2ZW50OiBWYWxpZGF0ZUZvcm1FdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0ZUZvcm1FdmVudC5lcnJvcnNGaWVsZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybUVycm9yLm5leHQodmFsaWRhdGVGb3JtRXZlbnQuZXJyb3JzRmllbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHN1YnNjcmlwdGlvbiA9PiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcbiAgICAgICAgbGV0IHRhc2tJZCA9IGNoYW5nZXNbJ3Rhc2tJZCddO1xuICAgICAgICBpZiAodGFza0lkICYmIHRhc2tJZC5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0Rm9ybUJ5VGFza0lkKHRhc2tJZC5jdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGZvcm1JZCA9IGNoYW5nZXNbJ2Zvcm1JZCddO1xuICAgICAgICBpZiAoZm9ybUlkICYmIGZvcm1JZC5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0Rm9ybURlZmluaXRpb25CeUZvcm1JZChmb3JtSWQuY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBmb3JtTmFtZSA9IGNoYW5nZXNbJ2Zvcm1OYW1lJ107XG4gICAgICAgIGlmIChmb3JtTmFtZSAmJiBmb3JtTmFtZS5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0Rm9ybURlZmluaXRpb25CeUZvcm1OYW1lKGZvcm1OYW1lLmN1cnJlbnRWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbm9kZUlkID0gY2hhbmdlc1snbm9kZUlkJ107XG4gICAgICAgIGlmIChub2RlSWQgJiYgbm9kZUlkLmN1cnJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5sb2FkRm9ybUZvckVjbU5vZGUobm9kZUlkLmN1cnJlbnRWYWx1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgZGF0YSA9IGNoYW5nZXNbJ2RhdGEnXTtcbiAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaEZvcm1EYXRhKCk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VkIHdoZW4gdXNlciBjbGlja3Mgb3V0Y29tZSBidXR0b24uXG4gICAgICogQHBhcmFtIG91dGNvbWUgRm9ybSBvdXRjb21lIG1vZGVsXG4gICAgICovXG4gICAgb25PdXRjb21lQ2xpY2tlZChvdXRjb21lOiBGb3JtT3V0Y29tZU1vZGVsKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICghdGhpcy5yZWFkT25seSAmJiBvdXRjb21lICYmIHRoaXMuZm9ybSkge1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMub25FeGVjdXRlT3V0Y29tZShvdXRjb21lKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKG91dGNvbWUuaXNTeXN0ZW0pIHtcbiAgICAgICAgICAgICAgICBpZiAob3V0Y29tZS5pZCA9PT0gRm9ybUNvbXBvbmVudC5TQVZFX09VVENPTUVfSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zYXZlVGFza0Zvcm0oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG91dGNvbWUuaWQgPT09IEZvcm1Db21wb25lbnQuQ09NUExFVEVfT1VUQ09NRV9JRCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlVGFza0Zvcm0oKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKG91dGNvbWUuaWQgPT09IEZvcm1Db21wb25lbnQuU1RBUlRfUFJPQ0VTU19PVVRDT01FX0lEKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVUYXNrRm9ybSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAob3V0Y29tZS5pZCA9PT0gRm9ybUNvbXBvbmVudC5DVVNUT01fT1VUQ09NRV9JRCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uVGFza1NhdmVkKHRoaXMuZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmVGb3JtQXNNZXRhZGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5vdGU6IEFjdGl2aXRpIGlzIHVzaW5nIE5BTUUgZmllbGQgcmF0aGVyIHRoYW4gSUQgZm9yIG91dGNvbWVzXG4gICAgICAgICAgICAgICAgaWYgKG91dGNvbWUubmFtZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9uVGFza1NhdmVkKHRoaXMuZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVUYXNrRm9ybShvdXRjb21lLm5hbWUpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlZCB3aGVuIHVzZXIgY2xpY2tzIGZvcm0gcmVmcmVzaCBidXR0b24uXG4gICAgICovXG4gICAgb25SZWZyZXNoQ2xpY2tlZCgpIHtcbiAgICAgICAgdGhpcy5sb2FkRm9ybSgpO1xuICAgIH1cblxuICAgIGxvYWRGb3JtKCkge1xuICAgICAgICBpZiAodGhpcy50YXNrSWQpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0Rm9ybUJ5VGFza0lkKHRoaXMudGFza0lkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmZvcm1JZCkge1xuICAgICAgICAgICAgdGhpcy5nZXRGb3JtRGVmaW5pdGlvbkJ5Rm9ybUlkKHRoaXMuZm9ybUlkKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmZvcm1OYW1lKSB7XG4gICAgICAgICAgICB0aGlzLmdldEZvcm1EZWZpbml0aW9uQnlGb3JtTmFtZSh0aGlzLmZvcm1OYW1lKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZpbmRQcm9jZXNzVmFyaWFibGVzQnlUYXNrSWQodGFza0lkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5mb3JtU2VydmljZS5nZXRUYXNrKHRhc2tJZCkucGlwZShcbiAgICAgICAgICAgIHN3aXRjaE1hcCgodGFzazogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNBUHJvY2Vzc1Rhc2sodGFzaykpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlzaWJpbGl0eVNlcnZpY2UuZ2V0VGFza1Byb2Nlc3NWYXJpYWJsZSh0YXNrSWQpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvZih7fSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBpc0FQcm9jZXNzVGFzayh0YXNrUmVwcmVzZW50YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIHRhc2tSZXByZXNlbnRhdGlvbi5wcm9jZXNzRGVmaW5pdGlvbklkICYmIHRhc2tSZXByZXNlbnRhdGlvbi5wcm9jZXNzRGVmaW5pdGlvbkRlcGxveW1lbnRJZCAhPT0gJ251bGwnO1xuICAgIH1cblxuICAgIGdldEZvcm1CeVRhc2tJZCh0YXNrSWQ6IHN0cmluZyk6IFByb21pc2U8Rm9ybU1vZGVsPiB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxGb3JtTW9kZWw+KChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZmluZFByb2Nlc3NWYXJpYWJsZXNCeVRhc2tJZCh0YXNrSWQpLnN1YnNjcmliZSgocHJvY2Vzc1ZhcmlhYmxlcykgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9ybVNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgLmdldFRhc2tGb3JtKHRhc2tJZClcbiAgICAgICAgICAgICAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEZvcm0gPSB0aGlzLnBhcnNlRm9ybShmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2liaWxpdHlTZXJ2aWNlLnJlZnJlc2hWaXNpYmlsaXR5KHBhcnNlZEZvcm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZEZvcm0udmFsaWRhdGVGb3JtKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtID0gcGFyc2VkRm9ybTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRm9ybUxvYWRlZCh0aGlzLmZvcm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUodGhpcy5mb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGdldEZvcm1EZWZpbml0aW9uQnlGb3JtSWQoZm9ybUlkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5mb3JtU2VydmljZVxuICAgICAgICAgICAgLmdldEZvcm1EZWZpbml0aW9uQnlJZChmb3JtSWQpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgIGZvcm0gPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1OYW1lID0gZm9ybS5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0gPSB0aGlzLnBhcnNlRm9ybShmb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpYmlsaXR5U2VydmljZS5yZWZyZXNoVmlzaWJpbGl0eSh0aGlzLmZvcm0pO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0udmFsaWRhdGVGb3JtKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Gb3JtTG9hZGVkKHRoaXMuZm9ybSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXRGb3JtRGVmaW5pdGlvbkJ5Rm9ybU5hbWUoZm9ybU5hbWU6IHN0cmluZykge1xuICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlXG4gICAgICAgICAgICAuZ2V0Rm9ybURlZmluaXRpb25CeU5hbWUoZm9ybU5hbWUpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgIGlkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtU2VydmljZS5nZXRGb3JtRGVmaW5pdGlvbkJ5SWQoaWQpLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybSA9IHRoaXMucGFyc2VGb3JtKGZvcm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaWJpbGl0eVNlcnZpY2UucmVmcmVzaFZpc2liaWxpdHkodGhpcy5mb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0udmFsaWRhdGVGb3JtKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkZvcm1Mb2FkZWQodGhpcy5mb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIHNhdmVUYXNrRm9ybSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZm9ybSAmJiB0aGlzLmZvcm0udGFza0lkKSB7XG4gICAgICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlXG4gICAgICAgICAgICAgICAgLnNhdmVUYXNrRm9ybSh0aGlzLmZvcm0udGFza0lkLCB0aGlzLmZvcm0udmFsdWVzKVxuICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25UYXNrU2F2ZWQodGhpcy5mb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmVGb3JtQXNNZXRhZGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvciA9PiB0aGlzLm9uVGFza1NhdmVkRXJyb3IodGhpcy5mb3JtLCBlcnJvcilcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY29tcGxldGVUYXNrRm9ybShvdXRjb21lPzogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLmZvcm0gJiYgdGhpcy5mb3JtLnRhc2tJZCkge1xuICAgICAgICAgICAgdGhpcy5mb3JtU2VydmljZVxuICAgICAgICAgICAgICAgIC5jb21wbGV0ZVRhc2tGb3JtKHRoaXMuZm9ybS50YXNrSWQsIHRoaXMuZm9ybS52YWx1ZXMsIG91dGNvbWUpXG4gICAgICAgICAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vblRhc2tDb21wbGV0ZWQodGhpcy5mb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmVGb3JtQXNNZXRhZGF0YSgpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBlcnJvciA9PiB0aGlzLm9uVGFza0NvbXBsZXRlZEVycm9yKHRoaXMuZm9ybSwgZXJyb3IpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhhbmRsZUVycm9yKGVycjogYW55KTogYW55IHtcbiAgICAgICAgdGhpcy5vbkVycm9yLmVtaXQoZXJyKTtcbiAgICB9XG5cbiAgICBwYXJzZUZvcm0oanNvbjogYW55KTogRm9ybU1vZGVsIHtcbiAgICAgICAgaWYgKGpzb24pIHtcbiAgICAgICAgICAgIGxldCBmb3JtID0gbmV3IEZvcm1Nb2RlbChqc29uLCB0aGlzLmRhdGEsIHRoaXMucmVhZE9ubHksIHRoaXMuZm9ybVNlcnZpY2UpO1xuICAgICAgICAgICAgaWYgKCFqc29uLmZpZWxkcykge1xuICAgICAgICAgICAgICAgIGZvcm0ub3V0Y29tZXMgPSB0aGlzLmdldEZvcm1EZWZpbml0aW9uT3V0Y29tZXMoZm9ybSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5maWVsZFZhbGlkYXRvcnMgJiYgdGhpcy5maWVsZFZhbGlkYXRvcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGZvcm0uZmllbGRWYWxpZGF0b3JzID0gdGhpcy5maWVsZFZhbGlkYXRvcnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZm9ybTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgY3VzdG9tIHNldCBvZiBvdXRjb21lcyBmb3IgYSBGb3JtIERlZmluaXRpb24uXG4gICAgICogQHBhcmFtIGZvcm0gRm9ybSBkZWZpbml0aW9uIG1vZGVsLlxuICAgICAqL1xuICAgIGdldEZvcm1EZWZpbml0aW9uT3V0Y29tZXMoZm9ybTogRm9ybU1vZGVsKTogRm9ybU91dGNvbWVNb2RlbFtdIHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgIG5ldyBGb3JtT3V0Y29tZU1vZGVsKGZvcm0sIHsgaWQ6ICckY3VzdG9tJywgbmFtZTogRm9ybU91dGNvbWVNb2RlbC5TQVZFX0FDVElPTiwgaXNTeXN0ZW06IHRydWUgfSlcbiAgICAgICAgXTtcbiAgICB9XG5cbiAgICBjaGVja1Zpc2liaWxpdHkoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKSB7XG4gICAgICAgIGlmIChmaWVsZCAmJiBmaWVsZC5mb3JtKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2liaWxpdHlTZXJ2aWNlLnJlZnJlc2hWaXNpYmlsaXR5KGZpZWxkLmZvcm0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWZyZXNoRm9ybURhdGEoKSB7XG4gICAgICAgIHRoaXMuZm9ybSA9IHRoaXMucGFyc2VGb3JtKHRoaXMuZm9ybS5qc29uKTtcbiAgICAgICAgdGhpcy5vbkZvcm1Mb2FkZWQodGhpcy5mb3JtKTtcbiAgICAgICAgdGhpcy5vbkZvcm1EYXRhUmVmcmVzaGVkKHRoaXMuZm9ybSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBsb2FkRm9ybUZvckVjbU5vZGUobm9kZUlkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5ub2RlU2VydmljZS5nZXROb2RlTWV0YWRhdGEobm9kZUlkKS5zdWJzY3JpYmUoZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gZGF0YS5tZXRhZGF0YTtcbiAgICAgICAgICAgICAgICB0aGlzLmxvYWRGb3JtRnJvbUFjdGl2aXRpKGRhdGEubm9kZVR5cGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IpO1xuICAgIH1cblxuICAgIGxvYWRGb3JtRnJvbUFjdGl2aXRpKG5vZGVUeXBlOiBzdHJpbmcpOiBhbnkge1xuICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLnNlYXJjaEZyb20obm9kZVR5cGUpLnN1YnNjcmliZShcbiAgICAgICAgICAgIGZvcm0gPT4ge1xuICAgICAgICAgICAgICAgIGlmICghZm9ybSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLmNyZWF0ZUZvcm1Gcm9tQU5vZGUobm9kZVR5cGUpLnN1YnNjcmliZShmb3JtTWV0YWRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkRm9ybUZyb21Gb3JtSWQoZm9ybU1ldGFkYXRhLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkRm9ybUZyb21Gb3JtSWQoZm9ybS5pZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgbG9hZEZvcm1Gcm9tRm9ybUlkKGZvcm1JZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZm9ybUlkID0gZm9ybUlkO1xuICAgICAgICB0aGlzLmxvYWRGb3JtKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzdG9yZUZvcm1Bc01ldGFkYXRhKCkge1xuICAgICAgICBpZiAodGhpcy5zYXZlTWV0YWRhdGEpIHtcbiAgICAgICAgICAgIHRoaXMuZWNtTW9kZWxTZXJ2aWNlLmNyZWF0ZUVjbVR5cGVGb3JBY3Rpdml0aUZvcm0odGhpcy5mb3JtTmFtZSwgdGhpcy5mb3JtKS5zdWJzY3JpYmUodHlwZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZVNlcnZpY2UuY3JlYXRlTm9kZU1ldGFkYXRhKHR5cGUubm9kZVR5cGUgfHwgdHlwZS5lbnRyeS5wcmVmaXhlZE5hbWUsIEVjbU1vZGVsU2VydmljZS5NT0RFTF9OQU1FU1BBQ0UsIHRoaXMuZm9ybS52YWx1ZXMsIHRoaXMucGF0aCwgdGhpcy5uYW1lTm9kZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5oYW5kbGVFcnJvcihlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbkZvcm1Mb2FkZWQoZm9ybTogRm9ybU1vZGVsKSB7XG4gICAgICAgIHRoaXMuZm9ybUxvYWRlZC5lbWl0KGZvcm0pO1xuICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLmZvcm1Mb2FkZWQubmV4dChuZXcgRm9ybUV2ZW50KGZvcm0pKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25Gb3JtRGF0YVJlZnJlc2hlZChmb3JtOiBGb3JtTW9kZWwpIHtcbiAgICAgICAgdGhpcy5mb3JtRGF0YVJlZnJlc2hlZC5lbWl0KGZvcm0pO1xuICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLmZvcm1EYXRhUmVmcmVzaGVkLm5leHQobmV3IEZvcm1FdmVudChmb3JtKSk7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIG9uVGFza1NhdmVkKGZvcm06IEZvcm1Nb2RlbCkge1xuICAgICAgICB0aGlzLmZvcm1TYXZlZC5lbWl0KGZvcm0pO1xuICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLnRhc2tTYXZlZC5uZXh0KG5ldyBGb3JtRXZlbnQoZm9ybSkpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvblRhc2tTYXZlZEVycm9yKGZvcm06IEZvcm1Nb2RlbCwgZXJyb3I6IGFueSkge1xuICAgICAgICB0aGlzLmhhbmRsZUVycm9yKGVycm9yKTtcbiAgICAgICAgdGhpcy5mb3JtU2VydmljZS50YXNrU2F2ZWRFcnJvci5uZXh0KG5ldyBGb3JtRXJyb3JFdmVudChmb3JtLCBlcnJvcikpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvblRhc2tDb21wbGV0ZWQoZm9ybTogRm9ybU1vZGVsKSB7XG4gICAgICAgIHRoaXMuZm9ybUNvbXBsZXRlZC5lbWl0KGZvcm0pO1xuICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLnRhc2tDb21wbGV0ZWQubmV4dChuZXcgRm9ybUV2ZW50KGZvcm0pKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgb25UYXNrQ29tcGxldGVkRXJyb3IoZm9ybTogRm9ybU1vZGVsLCBlcnJvcjogYW55KSB7XG4gICAgICAgIHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpO1xuICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLnRhc2tDb21wbGV0ZWRFcnJvci5uZXh0KG5ldyBGb3JtRXJyb3JFdmVudChmb3JtLCBlcnJvcikpO1xuICAgIH1cblxuICAgIHByb3RlY3RlZCBvbkV4ZWN1dGVPdXRjb21lKG91dGNvbWU6IEZvcm1PdXRjb21lTW9kZWwpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGFyZ3MgPSBuZXcgRm9ybU91dGNvbWVFdmVudChvdXRjb21lKTtcblxuICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLmV4ZWN1dGVPdXRjb21lLm5leHQoYXJncyk7XG4gICAgICAgIGlmIChhcmdzLmRlZmF1bHRQcmV2ZW50ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuZXhlY3V0ZU91dGNvbWUuZW1pdChhcmdzKTtcbiAgICAgICAgaWYgKGFyZ3MuZGVmYXVsdFByZXZlbnRlZCkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25DaGFuZ2VzLCBTaW1wbGVDaGFuZ2VzLCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybVNlcnZpY2UgfSBmcm9tICcuLy4uL3NlcnZpY2VzL2Zvcm0uc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLWZvcm0tbGlzdCcsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2Zvcm0tbGlzdC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vZm9ybS1saXN0LmNvbXBvbmVudC5zY3NzJ10sXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBGb3JtTGlzdENvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcyB7XG5cbiAgICAvKiogVGhlIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIGluZm9ybWF0aW9uIHRvIHNob3cgaW5zaWRlIHRoZSBsaXN0LiAqL1xuICAgIEBJbnB1dCgpXG4gICAgZm9ybXM6IGFueSBbXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IocHJvdGVjdGVkIGZvcm1TZXJ2aWNlOiBGb3JtU2VydmljZSkge1xuICAgIH1cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcbiAgICAgICAgdGhpcy5nZXRGb3JtcygpO1xuICAgIH1cblxuICAgIGlzRW1wdHkoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1zICYmIHRoaXMuZm9ybXMubGVuZ3RoID09PSAwO1xuICAgIH1cblxuICAgIGdldEZvcm1zKCkge1xuICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLmdldEZvcm1zKCkuc3Vic2NyaWJlKChmb3JtcykgPT4ge1xuICAgICAgICAgICAgdGhpcy5mb3Jtcy5wdXNoKC4uLmZvcm1zKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBBbGZyZXNjb0FwaVNlcnZpY2UgfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9hbGZyZXNjby1hcGkuc2VydmljZSc7XG5pbXBvcnQgeyBMb2dTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUmVsYXRlZENvbnRlbnRSZXByZXNlbnRhdGlvbiB9IGZyb20gJ2FsZnJlc2NvLWpzLWFwaSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBmcm9tLCB0aHJvd0Vycm9yIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBjYXRjaEVycm9yIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgUHJvY2Vzc0NvbnRlbnRTZXJ2aWNlIHtcblxuICAgIHN0YXRpYyBVTktOT1dOX0VSUk9SX01FU1NBR0U6IHN0cmluZyA9ICdVbmtub3duIGVycm9yJztcbiAgICBzdGF0aWMgR0VORVJJQ19FUlJPUl9NRVNTQUdFOiBzdHJpbmcgPSAnU2VydmVyIGVycm9yJztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgbG9nU2VydmljZTogTG9nU2VydmljZSkge1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IGNvbnRlbnRBcGkoKTogYW55IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmFjdGl2aXRpLmNvbnRlbnRBcGk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRlbXBvcmFyeSByZWxhdGVkIGNvbnRlbnQgZnJvbSBhbiB1cGxvYWRlZCBmaWxlLlxuICAgICAqIEBwYXJhbSBmaWxlIEZpbGUgdG8gdXNlIGZvciBjb250ZW50XG4gICAgICogQHJldHVybnMgVGhlIGNyZWF0ZWQgY29udGVudCBkYXRhXG4gICAgICovXG4gICAgY3JlYXRlVGVtcG9yYXJ5UmF3UmVsYXRlZENvbnRlbnQoZmlsZTogYW55KTogT2JzZXJ2YWJsZTxSZWxhdGVkQ29udGVudFJlcHJlc2VudGF0aW9uPiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMuY29udGVudEFwaS5jcmVhdGVUZW1wb3JhcnlSYXdSZWxhdGVkQ29udGVudChmaWxlKSlcbiAgICAgICAgICAgIC5waXBlKGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1ldGFkYXRhIGZvciBhIHJlbGF0ZWQgY29udGVudCBpdGVtLlxuICAgICAqIEBwYXJhbSBjb250ZW50SWQgSUQgb2YgdGhlIGNvbnRlbnQgaXRlbVxuICAgICAqIEByZXR1cm5zIE1ldGFkYXRhIGZvciB0aGUgY29udGVudFxuICAgICAqL1xuICAgIGdldEZpbGVDb250ZW50KGNvbnRlbnRJZDogbnVtYmVyKTogT2JzZXJ2YWJsZTxSZWxhdGVkQ29udGVudFJlcHJlc2VudGF0aW9uPiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMuY29udGVudEFwaS5nZXRDb250ZW50KGNvbnRlbnRJZCkpXG4gICAgICAgICAgICAucGlwZShjYXRjaEVycm9yKGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHJhdyBiaW5hcnkgY29udGVudCBkYXRhIGZvciBhIHJlbGF0ZWQgY29udGVudCBmaWxlLlxuICAgICAqIEBwYXJhbSBjb250ZW50SWQgSUQgb2YgdGhlIHJlbGF0ZWQgY29udGVudFxuICAgICAqIEByZXR1cm5zIEJpbmFyeSBkYXRhIG9mIHRoZSByZWxhdGVkIGNvbnRlbnRcbiAgICAgKi9cbiAgICBnZXRGaWxlUmF3Q29udGVudChjb250ZW50SWQ6IG51bWJlcik6IE9ic2VydmFibGU8QmxvYj4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmNvbnRlbnRBcGkuZ2V0UmF3Q29udGVudChjb250ZW50SWQpKVxuICAgICAgICAgICAgLnBpcGUoY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcHJldmlldyBmb3IgYSByZWxhdGVkIGNvbnRlbnQgZmlsZS5cbiAgICAgKiBAcGFyYW0gY29udGVudElkIElEIG9mIHRoZSByZWxhdGVkIGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyBCaW5hcnkgZGF0YSBvZiB0aGUgY29udGVudCBwcmV2aWV3XG4gICAgICovXG4gICAgZ2V0Q29udGVudFByZXZpZXcoY29udGVudElkOiBudW1iZXIpOiBPYnNlcnZhYmxlPEJsb2I+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBPYnNlcnZhYmxlKG9ic2VydmVyID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudEFwaS5nZXRDb250ZW50UHJldmlldyhjb250ZW50SWQpLnRoZW4oXG4gICAgICAgICAgICAgICAgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudEFwaS5nZXRSYXdDb250ZW50KGNvbnRlbnRJZCkudGhlbihcbiAgICAgICAgICAgICAgICAgICAgICAgIChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChkYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcihlcnIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhIFVSTCBmb3IgZGlyZWN0IGFjY2VzcyB0byBhIHJlbGF0ZWQgY29udGVudCBmaWxlLlxuICAgICAqIEBwYXJhbSBjb250ZW50SWQgSUQgb2YgdGhlIHJlbGF0ZWQgY29udGVudFxuICAgICAqIEByZXR1cm5zIFVSTCB0byBhY2Nlc3MgdGhlIGNvbnRlbnRcbiAgICAgKi9cbiAgICBnZXRGaWxlUmF3Q29udGVudFVybChjb250ZW50SWQ6IG51bWJlcik6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRBcGkuZ2V0UmF3Q29udGVudFVybChjb250ZW50SWQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHRodW1ibmFpbCBmb3IgYSByZWxhdGVkIGNvbnRlbnQgZmlsZS5cbiAgICAgKiBAcGFyYW0gY29udGVudElkIElEIG9mIHRoZSByZWxhdGVkIGNvbnRlbnRcbiAgICAgKiBAcmV0dXJucyBCaW5hcnkgZGF0YSBvZiB0aGUgdGh1bWJuYWlsIGltYWdlXG4gICAgICovXG4gICAgZ2V0Q29udGVudFRodW1ibmFpbChjb250ZW50SWQ6IG51bWJlcik6IE9ic2VydmFibGU8QmxvYj4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmNvbnRlbnRBcGkuZ2V0Q29udGVudFRodW1ibmFpbChjb250ZW50SWQpKVxuICAgICAgICAgICAgLnBpcGUoY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyByZWxhdGVkIGNvbnRlbnQgaXRlbXMgZm9yIGEgdGFzayBpbnN0YW5jZS5cbiAgICAgKiBAcGFyYW0gdGFza0lkIElEIG9mIHRoZSB0YXJnZXQgdGFza1xuICAgICAqIEByZXR1cm5zIE1ldGFkYXRhIGZvciB0aGUgY29udGVudFxuICAgICAqL1xuICAgIGdldFRhc2tSZWxhdGVkQ29udGVudCh0YXNrSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMuY29udGVudEFwaS5nZXRSZWxhdGVkQ29udGVudEZvclRhc2sodGFza0lkKSlcbiAgICAgICAgICAgIC5waXBlKGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgcmVsYXRlZCBjb250ZW50IGl0ZW1zIGZvciBhIHByb2Nlc3MgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHByb2Nlc3NJZCBJRCBvZiB0aGUgdGFyZ2V0IHByb2Nlc3NcbiAgICAgKiBAcmV0dXJucyBNZXRhZGF0YSBmb3IgdGhlIGNvbnRlbnRcbiAgICAgKi9cbiAgICBnZXRQcm9jZXNzUmVsYXRlZENvbnRlbnQocHJvY2Vzc0lkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmNvbnRlbnRBcGkuZ2V0UmVsYXRlZENvbnRlbnRGb3JQcm9jZXNzSW5zdGFuY2UocHJvY2Vzc0lkKSlcbiAgICAgICAgICAgIC5waXBlKGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlbGV0ZXMgcmVsYXRlZCBjb250ZW50LlxuICAgICAqIEBwYXJhbSBjb250ZW50SWQgSWRlbnRpZmllciBvZiB0aGUgY29udGVudCB0byBkZWxldGVcbiAgICAgKiBAcmV0dXJucyBOdWxsIHJlc3BvbnNlIHRoYXQgbm90aWZpZXMgd2hlbiB0aGUgZGVsZXRpb24gaXMgY29tcGxldGVcbiAgICAgKi9cbiAgICBkZWxldGVSZWxhdGVkQ29udGVudChjb250ZW50SWQ6IG51bWJlcik6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMuY29udGVudEFwaS5kZWxldGVDb250ZW50KGNvbnRlbnRJZCkpXG4gICAgICAgICAgICAucGlwZShjYXRjaEVycm9yKGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NvY2lhdGVzIGFuIHVwbG9hZGVkIGZpbGUgd2l0aCBhIHByb2Nlc3MgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHByb2Nlc3NJbnN0YW5jZUlkIElEIG9mIHRoZSB0YXJnZXQgcHJvY2VzcyBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSBjb250ZW50IEZpbGUgdG8gYXNzb2NpYXRlXG4gICAgICogQHBhcmFtIG9wdHMgT3B0aW9ucyBzdXBwb3J0ZWQgYnkgSlNBUElcbiAgICAgKiBAcmV0dXJucyBEZXRhaWxzIG9mIGNyZWF0ZWQgY29udGVudFxuICAgICAqL1xuICAgIGNyZWF0ZVByb2Nlc3NSZWxhdGVkQ29udGVudChwcm9jZXNzSW5zdGFuY2VJZDogc3RyaW5nLCBjb250ZW50OiBhbnksIG9wdHM/OiBhbnkpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmNvbnRlbnRBcGkuY3JlYXRlUmVsYXRlZENvbnRlbnRPblByb2Nlc3NJbnN0YW5jZShwcm9jZXNzSW5zdGFuY2VJZCwgY29udGVudCwgb3B0cykpXG4gICAgICAgICAgICAucGlwZShjYXRjaEVycm9yKGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NvY2lhdGVzIGFuIHVwbG9hZGVkIGZpbGUgd2l0aCBhIHRhc2sgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHRhc2tJZCBJRCBvZiB0aGUgdGFyZ2V0IHRhc2tcbiAgICAgKiBAcGFyYW0gZmlsZSBGaWxlIHRvIGFzc29jaWF0ZVxuICAgICAqIEBwYXJhbSBvcHRzIE9wdGlvbnMgc3VwcG9ydGVkIGJ5IEpTQVBJXG4gICAgICogQHJldHVybnMgRGV0YWlscyBvZiBjcmVhdGVkIGNvbnRlbnRcbiAgICAgKi9cbiAgICBjcmVhdGVUYXNrUmVsYXRlZENvbnRlbnQodGFza0lkOiBzdHJpbmcsIGZpbGU6IGFueSwgb3B0cz86IGFueSkge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmNvbnRlbnRBcGkuY3JlYXRlUmVsYXRlZENvbnRlbnRPblRhc2sodGFza0lkLCBmaWxlLCBvcHRzKSlcbiAgICAgICAgICAgIC5waXBlKGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBKU09OIHJlcHJlc2VudGF0aW9uIG9mIGRhdGEuXG4gICAgICogQHBhcmFtIHJlcyBPYmplY3QgcmVwcmVzZW50aW5nIGRhdGFcbiAgICAgKiBAcmV0dXJucyBKU09OIG9iamVjdFxuICAgICAqL1xuICAgIHRvSnNvbihyZXM6IGFueSkge1xuICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzIHx8IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgSlNPTiBhcnJheSByZXByZXNlbnRhdGlvbiBvZiBkYXRhLlxuICAgICAqIEBwYXJhbSByZXMgT2JqZWN0IHJlcHJlc2VudGluZyBkYXRhXG4gICAgICogQHJldHVybnMgSlNPTiBhcnJheSBvYmplY3RcbiAgICAgKi9cbiAgICB0b0pzb25BcnJheShyZXM6IGFueSkge1xuICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmRhdGEgfHwgW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlcG9ydHMgYW4gZXJyb3IgbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0gZXJyb3IgRGF0YSBvYmplY3Qgd2l0aCBvcHRpb25hbCBgbWVzc2FnZWAgYW5kIGBzdGF0dXNgIGZpZWxkcyBmb3IgdGhlIGVycm9yXG4gICAgICogQHJldHVybnMgQ2FsbGJhY2sgd2hlbiBhbiBlcnJvciBvY2N1cnNcbiAgICAgKi9cbiAgICBoYW5kbGVFcnJvcihlcnJvcjogYW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICAgICAgbGV0IGVyck1zZyA9IFByb2Nlc3NDb250ZW50U2VydmljZS5VTktOT1dOX0VSUk9SX01FU1NBR0U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgZXJyTXNnID0gKGVycm9yLm1lc3NhZ2UpID8gZXJyb3IubWVzc2FnZSA6XG4gICAgICAgICAgICAgICAgZXJyb3Iuc3RhdHVzID8gYCR7ZXJyb3Iuc3RhdHVzfSAtICR7ZXJyb3Iuc3RhdHVzVGV4dH1gIDogUHJvY2Vzc0NvbnRlbnRTZXJ2aWNlLkdFTkVSSUNfRVJST1JfTUVTU0FHRTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuZXJyb3IoZXJyTXNnKTtcbiAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoZXJyTXNnKTtcbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbnRlbnRTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2VydmljZXMvY29udGVudC5zZXJ2aWNlJztcbmltcG9ydCB7IExvZ1NlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi9zZXJ2aWNlcy9sb2cuc2VydmljZSc7XG5pbXBvcnQgeyBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uQ2hhbmdlcywgT3V0cHV0LCBTaW1wbGVDaGFuZ2VzLCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgUHJvY2Vzc0NvbnRlbnRTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvcHJvY2Vzcy1jb250ZW50LnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29udGVudExpbmtNb2RlbCB9IGZyb20gJy4uL2NvcmUvY29udGVudC1saW5rLm1vZGVsJztcbmltcG9ydCB7IEZvcm1TZXJ2aWNlIH0gZnJvbSAnLi8uLi8uLi8uLi9zZXJ2aWNlcy9mb3JtLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1jb250ZW50JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vY29udGVudC53aWRnZXQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vY29udGVudC53aWRnZXQuc2NzcyddLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgQ29udGVudFdpZGdldENvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcyB7XG5cbiAgICBASW5wdXQoKVxuICAgIGlkOiBzdHJpbmc7XG5cbiAgICBASW5wdXQoKVxuICAgIHNob3dEb2N1bWVudENvbnRlbnQ6IGJvb2xlYW4gPSB0cnVlO1xuXG4gICAgQE91dHB1dCgpXG4gICAgY29udGVudENsaWNrID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gICAgQE91dHB1dCgpXG4gICAgdGh1bWJuYWlsTG9hZGVkOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgQE91dHB1dCgpXG4gICAgY29udGVudExvYWRlZDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAgIEBPdXRwdXQoKVxuICAgIGVycm9yOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgY29udGVudDogQ29udGVudExpbmtNb2RlbDtcblxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBmb3JtU2VydmljZTogRm9ybVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBsb2dTZXJ2aWNlOiBMb2dTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgY29udGVudFNlcnZpY2U6IENvbnRlbnRTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgcHJvY2Vzc0NvbnRlbnRTZXJ2aWNlOiBQcm9jZXNzQ29udGVudFNlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgICAgIGNvbnN0IGNvbnRlbnRJZCA9IGNoYW5nZXNbJ2lkJ107XG4gICAgICAgIGlmIChjb250ZW50SWQgJiYgY29udGVudElkLmN1cnJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5sb2FkQ29udGVudChjb250ZW50SWQuY3VycmVudFZhbHVlKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRDb250ZW50KGlkOiBudW1iZXIpIHtcbiAgICAgICAgdGhpcy5wcm9jZXNzQ29udGVudFNlcnZpY2VcbiAgICAgICAgICAgIC5nZXRGaWxlQ29udGVudChpZClcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgKHJlc3BvbnNlOiBDb250ZW50TGlua01vZGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29udGVudCA9IG5ldyBDb250ZW50TGlua01vZGVsKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50TG9hZGVkLmVtaXQodGhpcy5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkVGh1bWJuYWlsVXJsKHRoaXMuY29udGVudCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvci5lbWl0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIGxvYWRUaHVtYm5haWxVcmwoY29udGVudDogQ29udGVudExpbmtNb2RlbCkge1xuICAgICAgICBpZiAodGhpcy5jb250ZW50LmlzVGh1bWJuYWlsU3VwcG9ydGVkKCkpIHtcbiAgICAgICAgICAgIGxldCBvYnNlcnZhYmxlOiBPYnNlcnZhYmxlPGFueT47XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmNvbnRlbnQuaXNUeXBlSW1hZ2UoKSkge1xuICAgICAgICAgICAgICAgIG9ic2VydmFibGUgPSB0aGlzLnByb2Nlc3NDb250ZW50U2VydmljZS5nZXRGaWxlUmF3Q29udGVudChjb250ZW50LmlkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2YWJsZSA9IHRoaXMucHJvY2Vzc0NvbnRlbnRTZXJ2aWNlLmdldENvbnRlbnRUaHVtYm5haWwoY29udGVudC5pZCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChvYnNlcnZhYmxlKSB7XG4gICAgICAgICAgICAgICAgb2JzZXJ2YWJsZS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgICAgIChyZXNwb25zZTogQmxvYikgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb250ZW50LnRodW1ibmFpbFVybCA9IHRoaXMuY29udGVudFNlcnZpY2UuY3JlYXRlVHJ1c3RlZFVybChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRodW1ibmFpbExvYWRlZC5lbWl0KHRoaXMuY29udGVudC50aHVtYm5haWxVcmwpO1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IuZW1pdChlcnJvcik7XG5cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvcGVuVmlld2VyKGNvbnRlbnQ6IENvbnRlbnRMaW5rTW9kZWwpOiB2b2lkIHtcbiAgICAgICAgbGV0IGZldGNoID0gdGhpcy5wcm9jZXNzQ29udGVudFNlcnZpY2UuZ2V0Q29udGVudFByZXZpZXcoY29udGVudC5pZCk7XG4gICAgICAgIGlmIChjb250ZW50LmlzVHlwZUltYWdlKCkgfHwgY29udGVudC5pc1R5cGVQZGYoKSkge1xuICAgICAgICAgICAgZmV0Y2ggPSB0aGlzLnByb2Nlc3NDb250ZW50U2VydmljZS5nZXRGaWxlUmF3Q29udGVudChjb250ZW50LmlkKTtcbiAgICAgICAgfVxuICAgICAgICBmZXRjaC5zdWJzY3JpYmUoXG4gICAgICAgICAgICAoYmxvYjogQmxvYikgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQuY29udGVudEJsb2IgPSBibG9iO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudENsaWNrLmVtaXQoY29udGVudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmluZm8oJ0NvbnRlbnQgY2xpY2tlZCcgKyBjb250ZW50LmlkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLmZvcm1Db250ZW50Q2xpY2tlZC5uZXh0KGNvbnRlbnQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IuZW1pdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlIGNvbnRlbnQgZG93bmxvYWQuXG4gICAgICovXG4gICAgZG93bmxvYWQoY29udGVudDogQ29udGVudExpbmtNb2RlbCk6IHZvaWQge1xuICAgICAgICB0aGlzLnByb2Nlc3NDb250ZW50U2VydmljZS5nZXRGaWxlUmF3Q29udGVudChjb250ZW50LmlkKS5zdWJzY3JpYmUoXG4gICAgICAgICAgICAoYmxvYjogQmxvYikgPT4gdGhpcy5jb250ZW50U2VydmljZS5kb3dubG9hZEJsb2IoYmxvYiwgY29udGVudC5uYW1lKSxcbiAgICAgICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IuZW1pdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHtcbiAgICBDb21wb25lbnQsXG4gICAgRWxlbWVudFJlZixcbiAgICBFdmVudEVtaXR0ZXIsXG4gICAgSW5wdXQsXG4gICAgT25DaGFuZ2VzLFxuICAgIE9uSW5pdCxcbiAgICBPdXRwdXQsXG4gICAgU2ltcGxlQ2hhbmdlcyxcbiAgICBWaWV3Q2hpbGQsXG4gICAgVmlld0VuY2Fwc3VsYXRpb24sXG4gICAgT25EZXN0cm95XG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybVNlcnZpY2UgfSBmcm9tICcuLy4uL3NlcnZpY2VzL2Zvcm0uc2VydmljZSc7XG5pbXBvcnQgeyBXaWRnZXRWaXNpYmlsaXR5U2VydmljZSB9IGZyb20gJy4vLi4vc2VydmljZXMvd2lkZ2V0LXZpc2liaWxpdHkuc2VydmljZSc7XG5pbXBvcnQgeyBGb3JtQ29tcG9uZW50IH0gZnJvbSAnLi9mb3JtLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb250ZW50TGlua01vZGVsIH0gZnJvbSAnLi93aWRnZXRzL2NvcmUvY29udGVudC1saW5rLm1vZGVsJztcbmltcG9ydCB7IEZvcm1PdXRjb21lTW9kZWwgfSBmcm9tICcuL3dpZGdldHMvY29yZS9pbmRleCc7XG5pbXBvcnQgeyBWYWxpZGF0ZUZvcm1FdmVudCB9IGZyb20gJy4vLi4vZXZlbnRzL3ZhbGlkYXRlLWZvcm0uZXZlbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1zdGFydC1mb3JtJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vc3RhcnQtZm9ybS5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vZm9ybS5jb21wb25lbnQuc2NzcyddLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgU3RhcnRGb3JtQ29tcG9uZW50IGV4dGVuZHMgRm9ybUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uQ2hhbmdlcywgT25Jbml0LCBPbkRlc3Ryb3kge1xuXG4gICAgLyoqIERlZmluaXRpb24gSUQgb2YgdGhlIHByb2Nlc3MgdG8gc3RhcnQuICovXG4gICAgQElucHV0KClcbiAgICBwcm9jZXNzRGVmaW5pdGlvbklkOiBzdHJpbmc7XG5cbiAgICAvKiogUHJvY2VzcyBJRCBvZiB0aGUgcHJvY2VzcyB0byBzdGFydC4gKi9cbiAgICBASW5wdXQoKVxuICAgIHByb2Nlc3NJZDogc3RyaW5nO1xuXG4gICAgLyoqIFNob3VsZCBmb3JtIG91dGNvbWUgYnV0dG9ucyBiZSBzaG93bj8gKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3dPdXRjb21lQnV0dG9uczogYm9vbGVhbiA9IHRydWU7XG5cbiAgICAvKiogU2hvdWxkIHRoZSByZWZyZXNoIGJ1dHRvbiBiZSBzaG93bj8gKi9cbiAgICBASW5wdXQoKVxuICAgIHNob3dSZWZyZXNoQnV0dG9uOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIC8qKiBJcyB0aGUgZm9ybSByZWFkLW9ubHkgKGllLCBjYW4ndCBiZSBlZGl0ZWQpPyAqL1xuICAgIEBJbnB1dCgpXG4gICAgcmVhZE9ubHlGb3JtOiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIHRoZSB1c2VyIGNsaWNrcyBvbmUgb2YgdGhlIG91dGNvbWUgYnV0dG9ucyB0aGF0IGNvbXBsZXRlcyB0aGUgZm9ybS4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBvdXRjb21lQ2xpY2s6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIGEgZmllbGQgb2YgdGhlIGZvcm0gaXMgY2xpY2tlZC4gKi9cbiAgICBAT3V0cHV0KClcbiAgICBmb3JtQ29udGVudENsaWNrZWQ6IEV2ZW50RW1pdHRlcjxDb250ZW50TGlua01vZGVsPiA9IG5ldyBFdmVudEVtaXR0ZXI8Q29udGVudExpbmtNb2RlbD4oKTtcblxuICAgIEBWaWV3Q2hpbGQoJ291dGNvbWVzQ29udGFpbmVyJywge30pXG4gICAgb3V0Y29tZXNDb250YWluZXI6IEVsZW1lbnRSZWYgPSBudWxsO1xuXG4gICAgY29uc3RydWN0b3IoZm9ybVNlcnZpY2U6IEZvcm1TZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHZpc2liaWxpdHlTZXJ2aWNlOiBXaWRnZXRWaXNpYmlsaXR5U2VydmljZSkge1xuICAgICAgICBzdXBlcihmb3JtU2VydmljZSwgdmlzaWJpbGl0eVNlcnZpY2UsIG51bGwsIG51bGwpO1xuICAgICAgICB0aGlzLnNob3dUaXRsZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnN1YnNjcmlwdGlvbnMucHVzaChcbiAgICAgICAgICAgIHRoaXMuZm9ybVNlcnZpY2UuZm9ybUNvbnRlbnRDbGlja2VkLnN1YnNjcmliZShjb250ZW50ID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm1Db250ZW50Q2xpY2tlZC5lbWl0KGNvbnRlbnQpO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLnZhbGlkYXRlRm9ybS5zdWJzY3JpYmUoKHZhbGlkYXRlRm9ybUV2ZW50OiBWYWxpZGF0ZUZvcm1FdmVudCkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0ZUZvcm1FdmVudC5lcnJvcnNGaWVsZC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybUVycm9yLm5leHQodmFsaWRhdGVGb3JtRXZlbnQuZXJyb3JzRmllbGQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucy5mb3JFYWNoKHN1YnNjcmlwdGlvbiA9PiBzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKSk7XG4gICAgICAgIHRoaXMuc3Vic2NyaXB0aW9ucyA9IFtdO1xuICAgIH1cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcbiAgICAgICAgbGV0IHByb2Nlc3NEZWZpbml0aW9uSWQgPSBjaGFuZ2VzWydwcm9jZXNzRGVmaW5pdGlvbklkJ107XG4gICAgICAgIGlmIChwcm9jZXNzRGVmaW5pdGlvbklkICYmIHByb2Nlc3NEZWZpbml0aW9uSWQuY3VycmVudFZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLnZpc2liaWxpdHlTZXJ2aWNlLmNsZWFuUHJvY2Vzc1ZhcmlhYmxlKCk7XG4gICAgICAgICAgICB0aGlzLmdldFN0YXJ0Rm9ybURlZmluaXRpb24ocHJvY2Vzc0RlZmluaXRpb25JZC5jdXJyZW50VmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IHByb2Nlc3NJZCA9IGNoYW5nZXNbJ3Byb2Nlc3NJZCddO1xuICAgICAgICBpZiAocHJvY2Vzc0lkICYmIHByb2Nlc3NJZC5jdXJyZW50VmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMudmlzaWJpbGl0eVNlcnZpY2UuY2xlYW5Qcm9jZXNzVmFyaWFibGUoKTtcbiAgICAgICAgICAgIHRoaXMubG9hZFN0YXJ0Rm9ybShwcm9jZXNzSWQuY3VycmVudFZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGxvYWRTdGFydEZvcm0ocHJvY2Vzc0lkOiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5mb3JtU2VydmljZS5nZXRQcm9jZXNzSW50YW5jZShwcm9jZXNzSWQpXG4gICAgICAgICAgICAuc3Vic2NyaWJlKChpbnN0YW5jZTogYW55KSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JtU2VydmljZVxuICAgICAgICAgICAgICAgICAgICAuZ2V0U3RhcnRGb3JtSW5zdGFuY2UocHJvY2Vzc0lkKVxuICAgICAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtTmFtZSA9IGZvcm0ubmFtZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UudmFyaWFibGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0ucHJvY2Vzc1ZhcmlhYmxlcyA9IGluc3RhbmNlLnZhcmlhYmxlcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtID0gdGhpcy5wYXJzZUZvcm0oZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpYmlsaXR5U2VydmljZS5yZWZyZXNoVmlzaWJpbGl0eSh0aGlzLmZvcm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS52YWxpZGF0ZUZvcm0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0ucmVhZE9ubHkgPSB0aGlzLnJlYWRPbmx5Rm9ybTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uRm9ybUxvYWRlZCh0aGlzLmZvcm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBnZXRTdGFydEZvcm1EZWZpbml0aW9uKHByb2Nlc3NJZDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZm9ybVNlcnZpY2VcbiAgICAgICAgICAgIC5nZXRTdGFydEZvcm1EZWZpbml0aW9uKHByb2Nlc3NJZClcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgZm9ybSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybU5hbWUgPSBmb3JtLnByb2Nlc3NEZWZpbml0aW9uTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtID0gdGhpcy5wYXJzZUZvcm0oZm9ybSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaWJpbGl0eVNlcnZpY2UucmVmcmVzaFZpc2liaWxpdHkodGhpcy5mb3JtKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLnZhbGlkYXRlRm9ybSgpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0ucmVhZE9ubHkgPSB0aGlzLnJlYWRPbmx5Rm9ybTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbkZvcm1Mb2FkZWQodGhpcy5mb3JtKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVycm9yID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyb3IpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBpc091dGNvbWVCdXR0b25WaXNpYmxlKG91dGNvbWU6IEZvcm1PdXRjb21lTW9kZWwsIGlzRm9ybVJlYWRPbmx5OiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgICAgIGlmIChvdXRjb21lICYmIG91dGNvbWUuaXNTeXN0ZW0gJiYgKG91dGNvbWUubmFtZSA9PT0gRm9ybU91dGNvbWVNb2RlbC5TQVZFX0FDVElPTiB8fFxuICAgICAgICAgICAgb3V0Y29tZS5uYW1lID09PSBGb3JtT3V0Y29tZU1vZGVsLkNPTVBMRVRFX0FDVElPTikpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSBlbHNlIGlmIChvdXRjb21lICYmIG91dGNvbWUubmFtZSA9PT0gRm9ybU91dGNvbWVNb2RlbC5TVEFSVF9QUk9DRVNTX0FDVElPTikge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN1cGVyLmlzT3V0Y29tZUJ1dHRvblZpc2libGUob3V0Y29tZSwgaXNGb3JtUmVhZE9ubHkpO1xuICAgIH1cblxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBzYXZlVGFza0Zvcm0oKSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9XG5cbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgb25SZWZyZXNoQ2xpY2tlZCgpIHtcbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc0RlZmluaXRpb25JZCkge1xuICAgICAgICAgICAgdGhpcy52aXNpYmlsaXR5U2VydmljZS5jbGVhblByb2Nlc3NWYXJpYWJsZSgpO1xuICAgICAgICAgICAgdGhpcy5nZXRTdGFydEZvcm1EZWZpbml0aW9uKHRoaXMucHJvY2Vzc0RlZmluaXRpb25JZCk7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wcm9jZXNzSWQpIHtcbiAgICAgICAgICAgIHRoaXMudmlzaWJpbGl0eVNlcnZpY2UuY2xlYW5Qcm9jZXNzVmFyaWFibGUoKTtcbiAgICAgICAgICAgIHRoaXMubG9hZFN0YXJ0Rm9ybSh0aGlzLnByb2Nlc3NJZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjb21wbGV0ZVRhc2tGb3JtKG91dGNvbWU/OiBzdHJpbmcpIHtcbiAgICAgICAgdGhpcy5vdXRjb21lQ2xpY2suZW1pdChvdXRjb21lKTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmltcG9ydCB7IEFmdGVyVmlld0luaXQsIENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybVNlcnZpY2UgfSBmcm9tICcuLy4uLy4uL3NlcnZpY2VzL2Zvcm0uc2VydmljZSc7XG5pbXBvcnQgeyBGb3JtRmllbGRNb2RlbCB9IGZyb20gJy4vY29yZS9pbmRleCc7XG5cbmV4cG9ydCBjb25zdCBiYXNlSG9zdCA9IHtcbiAgICAnKGNsaWNrKSc6ICdldmVudCgkZXZlbnQpJyxcbiAgICAnKGJsdXIpJzogJ2V2ZW50KCRldmVudCknLFxuICAgICcoY2hhbmdlKSc6ICdldmVudCgkZXZlbnQpJyxcbiAgICAnKGZvY3VzKSc6ICdldmVudCgkZXZlbnQpJyxcbiAgICAnKGZvY3VzaW4pJzogJ2V2ZW50KCRldmVudCknLFxuICAgICcoZm9jdXNvdXQpJzogJ2V2ZW50KCRldmVudCknLFxuICAgICcoaW5wdXQpJzogJ2V2ZW50KCRldmVudCknLFxuICAgICcoaW52YWxpZCknOiAnZXZlbnQoJGV2ZW50KScsXG4gICAgJyhzZWxlY3QpJzogJ2V2ZW50KCRldmVudCknXG59O1xuXG4vKipcbiAqIEJhc2Ugd2lkZ2V0IGNvbXBvbmVudC5cbiAqL1xuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdiYXNlLXdpZGdldCcsXG4gICAgdGVtcGxhdGU6ICcnLFxuICAgIGhvc3Q6IGJhc2VIb3N0LFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgV2lkZ2V0Q29tcG9uZW50IGltcGxlbWVudHMgQWZ0ZXJWaWV3SW5pdCB7XG5cbiAgICBzdGF0aWMgREVGQVVMVF9IWVBFUkxJTktfVVJMOiBzdHJpbmcgPSAnIyc7XG4gICAgc3RhdGljIERFRkFVTFRfSFlQRVJMSU5LX1NDSEVNRTogc3RyaW5nID0gJ2h0dHA6Ly8nO1xuXG4gICAgLyoqIERvZXMgdGhlIHdpZGdldCBzaG93IGEgcmVhZC1vbmx5IHZhbHVlPyAoaWUsIGNhbid0IGJlIGVkaXRlZCkgKi9cbiAgICBASW5wdXQoKVxuICAgIHJlYWRPbmx5OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKiogRGF0YSB0byBiZSBkaXNwbGF5ZWQgaW4gdGhlIGZpZWxkICovXG4gICAgQElucHV0KClcbiAgICBmaWVsZDogRm9ybUZpZWxkTW9kZWw7XG5cbiAgICAvKipcbiAgICAgKiBFbWl0dGVkIHdoZW4gYSBmaWVsZCB2YWx1ZSBjaGFuZ2VzLlxuICAgICAqIEBkZXByZWNhdGVkIFVzZWQgb25seSB0byB0cmlnZ2VyIHZpc2liaWxpdHkgZW5naW5lOyBjb21wb25lbnRzIHNob3VsZCBkbyB0aGF0IGludGVybmFsbHkgaWYgbmVlZGVkLlxuICAgICAqL1xuICAgIEBPdXRwdXQoKVxuICAgIGZpZWxkQ2hhbmdlZDogRXZlbnRFbWl0dGVyPEZvcm1GaWVsZE1vZGVsPiA9IG5ldyBFdmVudEVtaXR0ZXI8Rm9ybUZpZWxkTW9kZWw+KCk7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZm9ybVNlcnZpY2U/OiBGb3JtU2VydmljZSkge1xuICAgIH1cblxuICAgIGhhc0ZpZWxkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5maWVsZCA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBOb3RlIGZvciBkZXZlbG9wZXJzOlxuICAgIC8vIHJldHVybnMgPGFueT4gb2JqZWN0IHRvIGJlIGFibGUgYmluZGluZyBpdCB0byB0aGUgPGVsZW1lbnQgcmVndWlyZWQ9XCJyZXF1aXJlZFwiPiBhdHRyaWJ1dGVcbiAgICBpc1JlcXVpcmVkKCk6IGFueSB7XG4gICAgICAgIGlmICh0aGlzLmZpZWxkICYmIHRoaXMuZmllbGQucmVxdWlyZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGlzVmFsaWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkLnZhbGlkYXRpb25TdW1tYXJ5ID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cblxuICAgIGhhc1ZhbHVlKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5maWVsZCAmJlxuICAgICAgICAgICAgdGhpcy5maWVsZC52YWx1ZSAhPT0gbnVsbCAmJlxuICAgICAgICAgICAgdGhpcy5maWVsZC52YWx1ZSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGlzSW52YWxpZEZpZWxkUmVxdWlyZWQoKSB7XG4gICAgICAgIHJldHVybiAhdGhpcy5maWVsZC5pc1ZhbGlkICYmICF0aGlzLmZpZWxkLnZhbGlkYXRpb25TdW1tYXJ5ICYmIHRoaXMuaXNSZXF1aXJlZCgpO1xuICAgIH1cblxuICAgIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgICAgICAgdGhpcy5maWVsZENoYW5nZWQuZW1pdCh0aGlzLmZpZWxkKTtcbiAgICB9XG5cbiAgICAvKiogQGRlcHJlY2F0ZWQgdXNlZCBvbmx5IHRvIHRyaWdnZXIgdmlzaWJpbGl0eSBlbmdpbmUsIGNvbXBvbmVudHMgc2hvdWxkIGRvIHRoYXQgaW50ZXJuYWxseSBpZiBuZWVkZWQgKi9cbiAgICBjaGVja1Zpc2liaWxpdHkoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKSB7XG4gICAgICAgIHRoaXMuZmllbGRDaGFuZ2VkLmVtaXQoZmllbGQpO1xuICAgIH1cblxuICAgIC8qKiBAZGVwcmVjYXRlZCB1c2VkIG9ubHkgdG8gdHJpZ2dlciB2aXNpYmlsaXR5IGVuZ2luZSwgY29tcG9uZW50cyBzaG91bGQgZG8gdGhhdCBpbnRlcm5hbGx5IGlmIG5lZWRlZCAqL1xuICAgIG9uRmllbGRDaGFuZ2VkKGZpZWxkOiBGb3JtRmllbGRNb2RlbCkge1xuICAgICAgICB0aGlzLmZpZWxkQ2hhbmdlZC5lbWl0KGZpZWxkKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0SHlwZXJsaW5rVXJsKGZpZWxkOiBGb3JtRmllbGRNb2RlbCkge1xuICAgICAgICBsZXQgdXJsID0gV2lkZ2V0Q29tcG9uZW50LkRFRkFVTFRfSFlQRVJMSU5LX1VSTDtcbiAgICAgICAgaWYgKGZpZWxkICYmIGZpZWxkLmh5cGVybGlua1VybCkge1xuICAgICAgICAgICAgdXJsID0gZmllbGQuaHlwZXJsaW5rVXJsO1xuICAgICAgICAgICAgaWYgKCEvXmh0dHBzPzpcXC9cXC8vaS50ZXN0KHVybCkpIHtcbiAgICAgICAgICAgICAgICB1cmwgPSBgJHtXaWRnZXRDb21wb25lbnQuREVGQVVMVF9IWVBFUkxJTktfU0NIRU1FfSR7dXJsfWA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgZ2V0SHlwZXJsaW5rVGV4dChmaWVsZDogRm9ybUZpZWxkTW9kZWwpIHtcbiAgICAgICAgaWYgKGZpZWxkKSB7XG4gICAgICAgICAgICByZXR1cm4gZmllbGQuZGlzcGxheVRleHQgfHwgZmllbGQuaHlwZXJsaW5rVXJsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGV2ZW50KGV2ZW50OiBFdmVudCk6IHZvaWQge1xuICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLmZvcm1FdmVudHMubmV4dChldmVudCk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yICAqL1xuXG5pbXBvcnQgeyBDb250YWluZXJDb2x1bW5Nb2RlbCB9IGZyb20gJy4vLi4vY29yZS9jb250YWluZXItY29sdW1uLm1vZGVsJztcbmltcG9ydCB7IENvbnRhaW5lck1vZGVsIH0gZnJvbSAnLi8uLi9jb3JlL2NvbnRhaW5lci5tb2RlbCc7XG5pbXBvcnQgeyBGb3JtRmllbGRUeXBlcyB9IGZyb20gJy4vLi4vY29yZS9mb3JtLWZpZWxkLXR5cGVzJztcbmltcG9ydCB7IEZvcm1GaWVsZE1vZGVsIH0gZnJvbSAnLi8uLi9jb3JlL2Zvcm0tZmllbGQubW9kZWwnO1xuXG5leHBvcnQgY2xhc3MgQ29udGFpbmVyV2lkZ2V0Q29tcG9uZW50TW9kZWwgZXh0ZW5kcyBDb250YWluZXJNb2RlbCB7XG5cbiAgICBjb2x1bW5zOiBDb250YWluZXJDb2x1bW5Nb2RlbFtdID0gW107XG4gICAgaXNFeHBhbmRlZDogYm9vbGVhbiA9IHRydWU7XG4gICAgcm93c3BhbjogbnVtYmVyID0gMTtcbiAgICBjb2xzcGFuOiBudW1iZXIgPSAxO1xuXG4gICAgaXNHcm91cCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudHlwZSA9PT0gRm9ybUZpZWxkVHlwZXMuR1JPVVA7XG4gICAgfVxuXG4gICAgaXNDb2xsYXBzaWJsZSgpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IGFsbG93Q29sbGFwc2UgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5pc0dyb3VwKCkgJiYgdGhpcy5maWVsZC5wYXJhbXNbJ2FsbG93Q29sbGFwc2UnXSkge1xuICAgICAgICAgICAgYWxsb3dDb2xsYXBzZSA9IDxib29sZWFuPiB0aGlzLmZpZWxkLnBhcmFtc1snYWxsb3dDb2xsYXBzZSddO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGFsbG93Q29sbGFwc2U7XG4gICAgfVxuXG4gICAgaXNDb2xsYXBzZWRCeURlZmF1bHQoKTogYm9vbGVhbiB7XG4gICAgICAgIGxldCBjb2xsYXBzZUJ5RGVmYXVsdCA9IGZhbHNlO1xuXG4gICAgICAgIGlmICh0aGlzLmlzQ29sbGFwc2libGUoKSAmJiB0aGlzLmZpZWxkLnBhcmFtc1snY29sbGFwc2VCeURlZmF1bHQnXSkge1xuICAgICAgICAgICAgY29sbGFwc2VCeURlZmF1bHQgPSA8Ym9vbGVhbj4gdGhpcy5maWVsZC5wYXJhbXNbJ2NvbGxhcHNlQnlEZWZhdWx0J107XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gY29sbGFwc2VCeURlZmF1bHQ7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoZmllbGQ6IEZvcm1GaWVsZE1vZGVsKSB7XG4gICAgICAgIHN1cGVyKGZpZWxkKTtcblxuICAgICAgICBpZiAodGhpcy5maWVsZCkge1xuICAgICAgICAgICAgdGhpcy5jb2x1bW5zID0gdGhpcy5maWVsZC5jb2x1bW5zIHx8IFtdO1xuICAgICAgICAgICAgdGhpcy5pc0V4cGFuZGVkID0gIXRoaXMuaXNDb2xsYXBzZWRCeURlZmF1bHQoKTtcbiAgICAgICAgICAgIHRoaXMuY29sc3BhbiA9IGZpZWxkLmNvbHNwYW47XG4gICAgICAgICAgICB0aGlzLnJvd3NwYW4gPSBmaWVsZC5yb3dzcGFuO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuIC8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuaW1wb3J0IHsgQWZ0ZXJWaWV3SW5pdCwgQ29tcG9uZW50LCBPbkluaXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtU2VydmljZSB9IGZyb20gJy4vLi4vLi4vLi4vc2VydmljZXMvZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IEZvcm1GaWVsZE1vZGVsIH0gZnJvbSAnLi8uLi9jb3JlL2Zvcm0tZmllbGQubW9kZWwnO1xuaW1wb3J0IHsgYmFzZUhvc3QgLCBXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuLy4uL3dpZGdldC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29udGFpbmVyV2lkZ2V0Q29tcG9uZW50TW9kZWwgfSBmcm9tICcuL2NvbnRhaW5lci53aWRnZXQubW9kZWwnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2NvbnRhaW5lci13aWRnZXQnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9jb250YWluZXIud2lkZ2V0Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2NvbnRhaW5lci53aWRnZXQuc2NzcyddLFxuICAgIGhvc3Q6IGJhc2VIb3N0LFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgQ29udGFpbmVyV2lkZ2V0Q29tcG9uZW50IGV4dGVuZHMgV2lkZ2V0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0IHtcblxuICAgIGNvbnRlbnQ6IENvbnRhaW5lcldpZGdldENvbXBvbmVudE1vZGVsO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGZvcm1TZXJ2aWNlOiBGb3JtU2VydmljZSkge1xuICAgICAgICAgc3VwZXIoZm9ybVNlcnZpY2UpO1xuICAgIH1cblxuICAgIG9uRXhwYW5kZXJDbGlja2VkKCkge1xuICAgICAgICBpZiAodGhpcy5jb250ZW50ICYmIHRoaXMuY29udGVudC5pc0NvbGxhcHNpYmxlKCkpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5pc0V4cGFuZGVkID0gIXRoaXMuY29udGVudC5pc0V4cGFuZGVkO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmZpZWxkKSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQgPSBuZXcgQ29udGFpbmVyV2lkZ2V0Q29tcG9uZW50TW9kZWwodGhpcy5maWVsZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXJpYWxpemVzIGNvbHVtbiBmaWVsZHNcbiAgICAgKi9cbiAgICBnZXQgZmllbGRzKCk6IEZvcm1GaWVsZE1vZGVsW10ge1xuICAgICAgICBjb25zdCBmaWVsZHMgPSBbXTtcblxuICAgICAgICBsZXQgcm93Q29udGFpbnNFbGVtZW50ID0gdHJ1ZSxcbiAgICAgICAgICAgIHJvd0luZGV4ID0gMDtcblxuICAgICAgICB3aGlsZSAocm93Q29udGFpbnNFbGVtZW50KSB7XG4gICAgICAgICAgICByb3dDb250YWluc0VsZW1lbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5jb250ZW50LmNvbHVtbnMubGVuZ3RoOyBpKysgKSB7XG4gICAgICAgICAgICAgICAgbGV0IGZpZWxkID0gdGhpcy5jb250ZW50LmNvbHVtbnNbaV0uZmllbGRzW3Jvd0luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcm93Q29udGFpbnNFbGVtZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBmaWVsZHMucHVzaChmaWVsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByb3dJbmRleCsrO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZpZWxkcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGUgdGhlIGNvbHVtbiB3aWR0aCBiYXNlZCBvbiB0aGUgbnVtYmVyT2ZDb2x1bW5zIGFuZCBjdXJyZW50IGZpZWxkJ3MgY29sc3BhbiBwcm9wZXJ0eVxuICAgICAqXG4gICAgICogQHBhcmFtIGZpZWxkXG4gICAgICovXG4gICAgZ2V0Q29sdW1uV2l0aChmaWVsZDogRm9ybUZpZWxkTW9kZWwpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBjb2xzcGFuID0gZmllbGQgPyBmaWVsZC5jb2xzcGFuIDogMTtcbiAgICAgICAgcmV0dXJuICgxMDAgLyB0aGlzLmNvbnRlbnQuanNvbi5udW1iZXJPZkNvbHVtbnMpICogY29sc3BhbiArICclJztcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4gLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yICAqL1xuXG5pbXBvcnQgeyBBZnRlckNvbnRlbnRDaGVja2VkLCBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE91dHB1dCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1GaWVsZE1vZGVsLCBUYWJNb2RlbCB9IGZyb20gJy4vLi4vY29yZS9pbmRleCc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAndGFicy13aWRnZXQnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi90YWJzLndpZGdldC5odG1sJyxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIFRhYnNXaWRnZXRDb21wb25lbnQgaW1wbGVtZW50cyBBZnRlckNvbnRlbnRDaGVja2VkIHtcblxuICAgIEBJbnB1dCgpXG4gICAgdGFiczogVGFiTW9kZWxbXSA9IFtdO1xuXG4gICAgQE91dHB1dCgpXG4gICAgZm9ybVRhYkNoYW5nZWQ6IEV2ZW50RW1pdHRlcjxGb3JtRmllbGRNb2RlbD4gPSBuZXcgRXZlbnRFbWl0dGVyPEZvcm1GaWVsZE1vZGVsPigpO1xuXG4gICAgdmlzaWJsZVRhYnM6IFRhYk1vZGVsW10gPSBbXTtcblxuICAgIGhhc1RhYnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRhYnMgJiYgdGhpcy50YWJzLmxlbmd0aCA+IDA7XG4gICAgfVxuXG4gICAgbmdBZnRlckNvbnRlbnRDaGVja2VkKCkge1xuICAgICAgICB0aGlzLmZpbHRlclZpc2libGVUYWJzKCk7XG4gICAgfVxuXG4gICAgZmlsdGVyVmlzaWJsZVRhYnMoKSB7XG4gICAgICAgIHRoaXMudmlzaWJsZVRhYnMgPSB0aGlzLnRhYnMuZmlsdGVyKHRhYiA9PiB7XG4gICAgICAgICAgICByZXR1cm4gdGFiLmlzVmlzaWJsZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdGFiQ2hhbmdlZChmaWVsZDogRm9ybUZpZWxkTW9kZWwpIHtcbiAgICAgICAgdGhpcy5mb3JtVGFiQ2hhbmdlZC5lbWl0KGZpZWxkKTtcbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbiAvKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1TZXJ2aWNlIH0gZnJvbSAnLi8uLi8uLi8uLi9zZXJ2aWNlcy9mb3JtLnNlcnZpY2UnO1xuaW1wb3J0IHsgYmFzZUhvc3QgLCBXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuLy4uL3dpZGdldC5jb21wb25lbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ3Vua25vd24td2lkZ2V0JyxcbiAgICB0ZW1wbGF0ZTogYFxuICAgICAgICAgICAgPG1hdC1saXN0IGNsYXNzPVwiYWRmLXVua25vd24td2lkZ2V0XCI+XG4gICAgICAgICAgICAgICAgPG1hdC1saXN0LWl0ZW0+XG4gICAgICAgICAgICAgICAgICAgICA8bWF0LWljb24gY2xhc3M9XCJtYXQtMjRcIj5lcnJvcl9vdXRsaW5lPC9tYXQtaWNvbj5cbiAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiYWRmLXVua25vd24tdGV4dFwiPlVua25vd24gdHlwZToge3tmaWVsZC50eXBlfX08L3NwYW4+XG4gICAgICAgICAgICAgICAgPC9tYXQtbGlzdC1pdGVtPlxuICAgICAgICAgICAgPC9tYXQtbGlzdD5cblxuICAgIGAsXG4gICAgc3R5bGVVcmxzOiBbJy4vdW5rbm93bi53aWRnZXQuc2NzcyddLFxuICAgIGhvc3Q6IGJhc2VIb3N0LFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgVW5rbm93bldpZGdldENvbXBvbmVudCBleHRlbmRzIFdpZGdldENvbXBvbmVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZm9ybVNlcnZpY2U6IEZvcm1TZXJ2aWNlKSB7XG4gICAgICAgICBzdXBlcihmb3JtU2VydmljZSk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuIC8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtU2VydmljZSB9IGZyb20gJy4vLi4vLi4vLi4vc2VydmljZXMvZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IGJhc2VIb3N0ICwgV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi8uLi93aWRnZXQuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhbW91bnQtd2lkZ2V0JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vYW1vdW50LndpZGdldC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9hbW91bnQud2lkZ2V0LnNjc3MnXSxcbiAgICBob3N0OiBiYXNlSG9zdCxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIEFtb3VudFdpZGdldENvbXBvbmVudCBleHRlbmRzIFdpZGdldENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBzdGF0aWMgREVGQVVMVF9DVVJSRU5DWTogc3RyaW5nID0gJyQnO1xuXG4gICAgY3VycmVuY3k6IHN0cmluZyA9IEFtb3VudFdpZGdldENvbXBvbmVudC5ERUZBVUxUX0NVUlJFTkNZO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGZvcm1TZXJ2aWNlOiBGb3JtU2VydmljZSkge1xuICAgICAgICBzdXBlcihmb3JtU2VydmljZSk7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmZpZWxkICYmIHRoaXMuZmllbGQuY3VycmVuY3kpIHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVuY3kgPSB0aGlzLmZpZWxkLmN1cnJlbmN5O1xuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3Igbm8taW5wdXQtcmVuYW1lICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1TZXJ2aWNlIH0gZnJvbSAnLi8uLi8uLi8uLi9zZXJ2aWNlcy9mb3JtLnNlcnZpY2UnO1xuaW1wb3J0IHsgYmFzZUhvc3QgLCBXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuLy4uL3dpZGdldC5jb21wb25lbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2NoZWNrYm94LXdpZGdldCcsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2NoZWNrYm94LndpZGdldC5odG1sJyxcbiAgICBob3N0OiBiYXNlSG9zdCxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIENoZWNrYm94V2lkZ2V0Q29tcG9uZW50IGV4dGVuZHMgV2lkZ2V0Q29tcG9uZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBmb3JtU2VydmljZTogRm9ybVNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoZm9ybVNlcnZpY2UpO1xuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yICAqL1xuXG5pbXBvcnQgeyBVc2VyUHJlZmVyZW5jZXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2VydmljZXMvdXNlci1wcmVmZXJlbmNlcy5zZXJ2aWNlJztcbmltcG9ydCB7IE1vbWVudERhdGVBZGFwdGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvbW9tZW50RGF0ZUFkYXB0ZXInO1xuaW1wb3J0IHsgTU9NRU5UX0RBVEVfRk9STUFUUyB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL21vbWVudC1kYXRlLWZvcm1hdHMubW9kZWwnO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEYXRlQWRhcHRlciwgTUFUX0RBVEVfRk9STUFUUyB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50LWVzNic7XG5pbXBvcnQgeyBNb21lbnQgfSBmcm9tICdtb21lbnQnO1xuaW1wb3J0IHsgRm9ybVNlcnZpY2UgfSBmcm9tICcuLy4uLy4uLy4uL3NlcnZpY2VzL2Zvcm0uc2VydmljZSc7XG5pbXBvcnQgeyBiYXNlSG9zdCwgV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi8uLi93aWRnZXQuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdkYXRlLXdpZGdldCcsXG4gICAgcHJvdmlkZXJzOiBbXG4gICAgICAgIHsgcHJvdmlkZTogRGF0ZUFkYXB0ZXIsIHVzZUNsYXNzOiBNb21lbnREYXRlQWRhcHRlciB9LFxuICAgICAgICB7IHByb3ZpZGU6IE1BVF9EQVRFX0ZPUk1BVFMsIHVzZVZhbHVlOiBNT01FTlRfREFURV9GT1JNQVRTIH1dLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9kYXRlLndpZGdldC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9kYXRlLndpZGdldC5zY3NzJ10sXG4gICAgaG9zdDogYmFzZUhvc3QsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBEYXRlV2lkZ2V0Q29tcG9uZW50IGV4dGVuZHMgV2lkZ2V0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICAgIG1pbkRhdGU6IE1vbWVudDtcbiAgICBtYXhEYXRlOiBNb21lbnQ7XG5cbiAgICBkaXNwbGF5RGF0ZTogTW9tZW50O1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGZvcm1TZXJ2aWNlOiBGb3JtU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGRhdGVBZGFwdGVyOiBEYXRlQWRhcHRlcjxNb21lbnQ+LFxuICAgICAgICAgICAgICAgIHByaXZhdGUgcHJlZmVyZW5jZXM6IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoZm9ybVNlcnZpY2UpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnByZWZlcmVuY2VzLmxvY2FsZSQuc3Vic2NyaWJlKChsb2NhbGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGF0ZUFkYXB0ZXIuc2V0TG9jYWxlKGxvY2FsZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgbW9tZW50RGF0ZUFkYXB0ZXIgPSA8TW9tZW50RGF0ZUFkYXB0ZXI+IHRoaXMuZGF0ZUFkYXB0ZXI7XG4gICAgICAgIG1vbWVudERhdGVBZGFwdGVyLm92ZXJyaWRlRGlzcGx5YUZvcm1hdCA9IHRoaXMuZmllbGQuZGF0ZURpc3BsYXlGb3JtYXQ7XG5cbiAgICAgICAgaWYgKHRoaXMuZmllbGQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpZWxkLm1pblZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5taW5EYXRlID0gbW9tZW50KHRoaXMuZmllbGQubWluVmFsdWUsICdERC9NTS9ZWVlZJyk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmZpZWxkLm1heFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5tYXhEYXRlID0gbW9tZW50KHRoaXMuZmllbGQubWF4VmFsdWUsICdERC9NTS9ZWVlZJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5kaXNwbGF5RGF0ZSA9IG1vbWVudCh0aGlzLmZpZWxkLnZhbHVlLCB0aGlzLmZpZWxkLmRhdGVEaXNwbGF5Rm9ybWF0KTtcbiAgICB9XG5cbiAgICBvbkRhdGVDaGFuZ2VkKG5ld0RhdGVWYWx1ZSkge1xuICAgICAgICBpZiAobmV3RGF0ZVZhbHVlICYmIG5ld0RhdGVWYWx1ZS52YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5maWVsZC52YWx1ZSA9IG5ld0RhdGVWYWx1ZS52YWx1ZS5mb3JtYXQodGhpcy5maWVsZC5kYXRlRGlzcGxheUZvcm1hdCk7XG4gICAgICAgIH0gZWxzZSBpZiAobmV3RGF0ZVZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmZpZWxkLnZhbHVlID0gbmV3RGF0ZVZhbHVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5maWVsZC52YWx1ZSA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5vbkZpZWxkQ2hhbmdlZCh0aGlzLmZpZWxkKTtcbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbiAvKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1TZXJ2aWNlIH0gZnJvbSAnLi8uLi8uLi8uLi9zZXJ2aWNlcy9mb3JtLnNlcnZpY2UnO1xuaW1wb3J0IHsgYmFzZUhvc3QgLCBXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuLy4uL3dpZGdldC5jb21wb25lbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2Rpc3BsYXktdGV4dC13aWRnZXQnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9kaXNwbGF5LXRleHQud2lkZ2V0Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2Rpc3BsYXktdGV4dC53aWRnZXQuc2NzcyddLFxuICAgIGhvc3Q6IGJhc2VIb3N0LFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgRGlzcGxheVRleHRXaWRnZXRDb21wb25lbnRDb21wb25lbnQgZXh0ZW5kcyBXaWRnZXRDb21wb25lbnQge1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGZvcm1TZXJ2aWNlOiBGb3JtU2VydmljZSkge1xuICAgICAgICAgc3VwZXIoZm9ybVNlcnZpY2UpO1xuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtU2VydmljZSB9IGZyb20gJy4vLi4vLi4vLi4vc2VydmljZXMvZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IGJhc2VIb3N0ICwgV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi8uLi93aWRnZXQuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtZm9ybS1kb2N1bWVudC13aWRnZXQnLFxuICAgIHRlbXBsYXRlVXJsOiAnZG9jdW1lbnQud2lkZ2V0Lmh0bWwnLFxuICAgIGhvc3Q6IGJhc2VIb3N0LFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgRG9jdW1lbnRXaWRnZXRDb21wb25lbnQgZXh0ZW5kcyBXaWRnZXRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgZmlsZUlkOiBzdHJpbmcgPSBudWxsO1xuICAgIGhhc0ZpbGU6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBmb3JtU2VydmljZTogRm9ybVNlcnZpY2UpIHtcbiAgICAgICAgIHN1cGVyKGZvcm1TZXJ2aWNlKTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZmllbGQpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSB0aGlzLmZpZWxkLnZhbHVlO1xuXG4gICAgICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZmlsZUlkID0gZmlsZS5pZDtcbiAgICAgICAgICAgICAgICB0aGlzLmhhc0ZpbGUgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmZpbGVJZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5oYXNGaWxlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4gLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yICAqL1xuXG5pbXBvcnQgeyBMb2dTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2VydmljZXMvbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NlcnZpY2VzL2Zvcm0uc2VydmljZSc7XG5pbXBvcnQgeyBGb3JtRmllbGRPcHRpb24gfSBmcm9tICcuLy4uL2NvcmUvZm9ybS1maWVsZC1vcHRpb24nO1xuaW1wb3J0IHsgYmFzZUhvc3QgLCBXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuLy4uL3dpZGdldC5jb21wb25lbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2Ryb3Bkb3duLXdpZGdldCcsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2Ryb3Bkb3duLndpZGdldC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9kcm9wZG93bi53aWRnZXQuc2NzcyddLFxuICAgIGhvc3Q6IGJhc2VIb3N0LFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgRHJvcGRvd25XaWRnZXRDb21wb25lbnQgZXh0ZW5kcyBXaWRnZXRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGZvcm1TZXJ2aWNlOiBGb3JtU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGxvZ1NlcnZpY2U6IExvZ1NlcnZpY2UpIHtcbiAgICAgICAgIHN1cGVyKGZvcm1TZXJ2aWNlKTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZmllbGQgJiYgdGhpcy5maWVsZC5yZXN0VXJsKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWVsZC5mb3JtLnRhc2tJZCkge1xuICAgICAgICAgICAgICAgIHRoaXMuZ2V0VmFsdWVzQnlUYXNrSWQoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5nZXRWYWx1ZXNCeVByb2Nlc3NEZWZpbml0aW9uSWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFZhbHVlc0J5VGFza0lkKCkge1xuICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlXG4gICAgICAgICAgICAuZ2V0UmVzdEZpZWxkVmFsdWVzKFxuICAgICAgICAgICAgICAgIHRoaXMuZmllbGQuZm9ybS50YXNrSWQsXG4gICAgICAgICAgICAgICAgdGhpcy5maWVsZC5pZFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAocmVzdWx0OiBGb3JtRmllbGRPcHRpb25bXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgb3B0aW9ucyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5maWVsZC5lbXB0eU9wdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9ucy5wdXNoKHRoaXMuZmllbGQuZW1wdHlPcHRpb24pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmllbGQub3B0aW9ucyA9IG9wdGlvbnMuY29uY2F0KChyZXN1bHQgfHwgW10pKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWVsZC51cGRhdGVGb3JtKCk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIGdldFZhbHVlc0J5UHJvY2Vzc0RlZmluaXRpb25JZCgpIHtcbiAgICAgICAgdGhpcy5mb3JtU2VydmljZVxuICAgICAgICAgICAgLmdldFJlc3RGaWVsZFZhbHVlc0J5UHJvY2Vzc0lkKFxuICAgICAgICAgICAgICAgIHRoaXMuZmllbGQuZm9ybS5wcm9jZXNzRGVmaW5pdGlvbklkLFxuICAgICAgICAgICAgICAgIHRoaXMuZmllbGQuaWRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgKHJlc3VsdDogRm9ybUZpZWxkT3B0aW9uW10pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG9wdGlvbnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZmllbGQuZW1wdHlPcHRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnMucHVzaCh0aGlzLmZpZWxkLmVtcHR5T3B0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpZWxkLm9wdGlvbnMgPSBvcHRpb25zLmNvbmNhdCgocmVzdWx0IHx8IFtdKSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmllbGQudXBkYXRlRm9ybSgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXRPcHRpb25WYWx1ZShvcHRpb246IEZvcm1GaWVsZE9wdGlvbiwgZmllbGRWYWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IG9wdGlvblZhbHVlOiBzdHJpbmcgPSAnJztcbiAgICAgICAgaWYgKG9wdGlvbi5pZCA9PT0gJ2VtcHR5JyB8fCBvcHRpb24ubmFtZSAhPT0gZmllbGRWYWx1ZSkge1xuICAgICAgICAgICAgb3B0aW9uVmFsdWUgPSBvcHRpb24uaWQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvcHRpb25WYWx1ZSA9IG9wdGlvbi5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcHRpb25WYWx1ZTtcbiAgICB9XG5cbiAgICBoYW5kbGVFcnJvcihlcnJvcjogYW55KSB7XG4gICAgICAgIHRoaXMubG9nU2VydmljZS5lcnJvcihlcnJvcik7XG4gICAgfVxuXG4gICAgaXNSZWFkT25seVR5cGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkLnR5cGUgPT09ICdyZWFkb25seScgPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmltcG9ydCBtb21lbnQgZnJvbSAnbW9tZW50LWVzNic7XG5pbXBvcnQgeyBDZWxsVmFsaWRhdG9yIH0gZnJvbSAnLi9jZWxsLXZhbGlkYXRvci5tb2RlbCc7XG5pbXBvcnQgeyBEeW5hbWljUm93VmFsaWRhdGlvblN1bW1hcnkgfSBmcm9tICcuL2R5bmFtaWMtcm93LXZhbGlkYXRpb24tc3VtbWFyeS5tb2RlbCc7XG5pbXBvcnQgeyBEeW5hbWljVGFibGVDb2x1bW4gfSBmcm9tICcuL2R5bmFtaWMtdGFibGUtY29sdW1uLm1vZGVsJztcbmltcG9ydCB7IER5bmFtaWNUYWJsZVJvdyB9IGZyb20gJy4vZHluYW1pYy10YWJsZS1yb3cubW9kZWwnO1xuXG5leHBvcnQgY2xhc3MgRGF0ZUNlbGxWYWxpZGF0b3IgaW1wbGVtZW50cyBDZWxsVmFsaWRhdG9yIHtcblxuICAgIHByaXZhdGUgc3VwcG9ydGVkVHlwZXM6IHN0cmluZ1tdID0gW1xuICAgICAgICAnRGF0ZSdcbiAgICBdO1xuXG4gICAgaXNTdXBwb3J0ZWQoY29sdW1uOiBEeW5hbWljVGFibGVDb2x1bW4pOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIGNvbHVtbiAmJiBjb2x1bW4uZWRpdGFibGUgJiYgdGhpcy5zdXBwb3J0ZWRUeXBlcy5pbmRleE9mKGNvbHVtbi50eXBlKSA+IC0xO1xuICAgIH1cblxuICAgIHZhbGlkYXRlKHJvdzogRHluYW1pY1RhYmxlUm93LCBjb2x1bW46IER5bmFtaWNUYWJsZUNvbHVtbiwgc3VtbWFyeT86IER5bmFtaWNSb3dWYWxpZGF0aW9uU3VtbWFyeSk6IGJvb2xlYW4ge1xuXG4gICAgICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkKGNvbHVtbikpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHJvdy52YWx1ZVtjb2x1bW4uaWRdO1xuICAgICAgICAgICAgbGV0IGRhdGVWYWx1ZSA9IG1vbWVudCh2YWx1ZSwgJ0QtTS1ZWVlZJyk7XG4gICAgICAgICAgICBpZiAoIWRhdGVWYWx1ZS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoc3VtbWFyeSkge1xuICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5LmlzVmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc3VtbWFyeS5tZXNzYWdlID0gYEludmFsaWQgJyR7Y29sdW1uLm5hbWV9JyBmb3JtYXQuYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yICAqL1xuXG5pbXBvcnQgeyBFcnJvck1lc3NhZ2VNb2RlbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuXG5leHBvcnQgY2xhc3MgRHluYW1pY1Jvd1ZhbGlkYXRpb25TdW1tYXJ5IGV4dGVuZHMgRXJyb3JNZXNzYWdlTW9kZWwge1xuXG4gICAgaXNWYWxpZDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKGpzb24/OiBhbnkpIHtcbiAgICAgICAgc3VwZXIoanNvbik7XG4gICAgICAgIHRoaXMuaXNWYWxpZCA9IGpzb24uaXNWYWxpZDtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmltcG9ydCB7IENlbGxWYWxpZGF0b3IgfSBmcm9tICcuL2NlbGwtdmFsaWRhdG9yLm1vZGVsJztcbmltcG9ydCB7IER5bmFtaWNSb3dWYWxpZGF0aW9uU3VtbWFyeSB9IGZyb20gJy4vZHluYW1pYy1yb3ctdmFsaWRhdGlvbi1zdW1tYXJ5Lm1vZGVsJztcbmltcG9ydCB7IER5bmFtaWNUYWJsZUNvbHVtbiB9IGZyb20gJy4vZHluYW1pYy10YWJsZS1jb2x1bW4ubW9kZWwnO1xuaW1wb3J0IHsgRHluYW1pY1RhYmxlUm93IH0gZnJvbSAnLi9keW5hbWljLXRhYmxlLXJvdy5tb2RlbCc7XG5cbmV4cG9ydCBjbGFzcyBOdW1iZXJDZWxsVmFsaWRhdG9yIGltcGxlbWVudHMgQ2VsbFZhbGlkYXRvciB7XG5cbiAgICBwcml2YXRlIHN1cHBvcnRlZFR5cGVzOiBzdHJpbmdbXSA9IFtcbiAgICAgICAgJ051bWJlcicsXG4gICAgICAgICdBbW91bnQnXG4gICAgXTtcblxuICAgIGlzU3VwcG9ydGVkKGNvbHVtbjogRHluYW1pY1RhYmxlQ29sdW1uKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiBjb2x1bW4gJiYgY29sdW1uLnJlcXVpcmVkICYmIHRoaXMuc3VwcG9ydGVkVHlwZXMuaW5kZXhPZihjb2x1bW4udHlwZSkgPiAtMTtcbiAgICB9XG5cbiAgICBpc051bWJlcih2YWx1ZTogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICFpc05hTigrdmFsdWUpO1xuICAgIH1cblxuICAgIHZhbGlkYXRlKHJvdzogRHluYW1pY1RhYmxlUm93LCBjb2x1bW46IER5bmFtaWNUYWJsZUNvbHVtbiwgc3VtbWFyeT86IER5bmFtaWNSb3dWYWxpZGF0aW9uU3VtbWFyeSk6IGJvb2xlYW4ge1xuXG4gICAgICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkKGNvbHVtbikpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHJvdy52YWx1ZVtjb2x1bW4uaWRdO1xuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgdmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgIHZhbHVlID09PSAnJyB8fFxuICAgICAgICAgICAgICAgIHRoaXMuaXNOdW1iZXIodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzdW1tYXJ5KSB7XG4gICAgICAgICAgICAgICAgc3VtbWFyeS5pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc3VtbWFyeS5tZXNzYWdlID0gYEZpZWxkICcke2NvbHVtbi5uYW1lfScgbXVzdCBiZSBhIG51bWJlci5gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuaW1wb3J0IHsgQ2VsbFZhbGlkYXRvciB9IGZyb20gJy4vY2VsbC12YWxpZGF0b3IubW9kZWwnO1xuaW1wb3J0IHsgRHluYW1pY1Jvd1ZhbGlkYXRpb25TdW1tYXJ5IH0gZnJvbSAnLi9keW5hbWljLXJvdy12YWxpZGF0aW9uLXN1bW1hcnkubW9kZWwnO1xuaW1wb3J0IHsgRHluYW1pY1RhYmxlQ29sdW1uIH0gZnJvbSAnLi9keW5hbWljLXRhYmxlLWNvbHVtbi5tb2RlbCc7XG5pbXBvcnQgeyBEeW5hbWljVGFibGVSb3cgfSBmcm9tICcuL2R5bmFtaWMtdGFibGUtcm93Lm1vZGVsJztcblxuZXhwb3J0IGNsYXNzIFJlcXVpcmVkQ2VsbFZhbGlkYXRvciBpbXBsZW1lbnRzIENlbGxWYWxpZGF0b3Ige1xuXG4gICAgcHJpdmF0ZSBzdXBwb3J0ZWRUeXBlczogc3RyaW5nW10gPSBbXG4gICAgICAgICdTdHJpbmcnLFxuICAgICAgICAnTnVtYmVyJyxcbiAgICAgICAgJ0Ftb3VudCcsXG4gICAgICAgICdEYXRlJyxcbiAgICAgICAgJ0Ryb3Bkb3duJ1xuICAgIF07XG5cbiAgICBpc1N1cHBvcnRlZChjb2x1bW46IER5bmFtaWNUYWJsZUNvbHVtbik6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gY29sdW1uICYmIGNvbHVtbi5yZXF1aXJlZCAmJiB0aGlzLnN1cHBvcnRlZFR5cGVzLmluZGV4T2YoY29sdW1uLnR5cGUpID4gLTE7XG4gICAgfVxuXG4gICAgdmFsaWRhdGUocm93OiBEeW5hbWljVGFibGVSb3csIGNvbHVtbjogRHluYW1pY1RhYmxlQ29sdW1uLCBzdW1tYXJ5PzogRHluYW1pY1Jvd1ZhbGlkYXRpb25TdW1tYXJ5KTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmlzU3VwcG9ydGVkKGNvbHVtbikpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHJvdy52YWx1ZVtjb2x1bW4uaWRdO1xuICAgICAgICAgICAgaWYgKGNvbHVtbi5yZXF1aXJlZCkge1xuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB2YWx1ZSA9PT0gdW5kZWZpbmVkIHx8IHZhbHVlID09PSAnJykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3VtbWFyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeS5pc1ZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5Lm1lc3NhZ2UgPSBgRmllbGQgJyR7Y29sdW1uLm5hbWV9JyBpcyByZXF1aXJlZC5gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4gLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yICAqL1xuXG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudC1lczYnO1xuaW1wb3J0IHsgVmFsaWRhdGVEeW5hbWljVGFibGVSb3dFdmVudCB9IGZyb20gJy4uLy4uLy4uL2V2ZW50cy92YWxpZGF0ZS1keW5hbWljLXRhYmxlLXJvdy5ldmVudCc7XG5pbXBvcnQgeyBGb3JtU2VydmljZSB9IGZyb20gJy4vLi4vLi4vLi4vc2VydmljZXMvZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IEZvcm1GaWVsZE1vZGVsIH0gZnJvbSAnLi8uLi9jb3JlL2Zvcm0tZmllbGQubW9kZWwnO1xuaW1wb3J0IHsgRm9ybVdpZGdldE1vZGVsIH0gZnJvbSAnLi8uLi9jb3JlL2Zvcm0td2lkZ2V0Lm1vZGVsJztcbmltcG9ydCB7IENlbGxWYWxpZGF0b3IgfSBmcm9tICcuL2NlbGwtdmFsaWRhdG9yLm1vZGVsJztcbmltcG9ydCB7IERhdGVDZWxsVmFsaWRhdG9yIH0gZnJvbSAnLi9kYXRlLWNlbGwtdmFsaWRhdG9yLW1vZGVsJztcbmltcG9ydCB7IER5bmFtaWNSb3dWYWxpZGF0aW9uU3VtbWFyeSB9IGZyb20gJy4vZHluYW1pYy1yb3ctdmFsaWRhdGlvbi1zdW1tYXJ5Lm1vZGVsJztcbmltcG9ydCB7IER5bmFtaWNUYWJsZUNvbHVtbiB9IGZyb20gJy4vZHluYW1pYy10YWJsZS1jb2x1bW4ubW9kZWwnO1xuaW1wb3J0IHsgRHluYW1pY1RhYmxlUm93IH0gZnJvbSAnLi9keW5hbWljLXRhYmxlLXJvdy5tb2RlbCc7XG5pbXBvcnQgeyBOdW1iZXJDZWxsVmFsaWRhdG9yIH0gZnJvbSAnLi9udW1iZXItY2VsbC12YWxpZGF0b3IubW9kZWwnO1xuaW1wb3J0IHsgUmVxdWlyZWRDZWxsVmFsaWRhdG9yIH0gZnJvbSAnLi9yZXF1aXJlZC1jZWxsLXZhbGlkYXRvci5tb2RlbCc7XG5cbmV4cG9ydCBjbGFzcyBEeW5hbWljVGFibGVNb2RlbCBleHRlbmRzIEZvcm1XaWRnZXRNb2RlbCB7XG5cbiAgICBmaWVsZDogRm9ybUZpZWxkTW9kZWw7XG4gICAgY29sdW1uczogRHluYW1pY1RhYmxlQ29sdW1uW10gPSBbXTtcbiAgICB2aXNpYmxlQ29sdW1uczogRHluYW1pY1RhYmxlQ29sdW1uW10gPSBbXTtcbiAgICByb3dzOiBEeW5hbWljVGFibGVSb3dbXSA9IFtdO1xuXG4gICAgcHJpdmF0ZSBfc2VsZWN0ZWRSb3c6IER5bmFtaWNUYWJsZVJvdztcbiAgICBwcml2YXRlIF92YWxpZGF0b3JzOiBDZWxsVmFsaWRhdG9yW10gPSBbXTtcblxuICAgIGdldCBzZWxlY3RlZFJvdygpOiBEeW5hbWljVGFibGVSb3cge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VsZWN0ZWRSb3c7XG4gICAgfVxuXG4gICAgc2V0IHNlbGVjdGVkUm93KHZhbHVlOiBEeW5hbWljVGFibGVSb3cpIHtcbiAgICAgICAgaWYgKHRoaXMuX3NlbGVjdGVkUm93ICYmIHRoaXMuX3NlbGVjdGVkUm93ID09PSB2YWx1ZSkge1xuICAgICAgICAgICAgdGhpcy5fc2VsZWN0ZWRSb3cuc2VsZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkUm93ID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucm93cy5mb3JFYWNoKHJvdyA9PiByb3cuc2VsZWN0ZWQgPSBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5fc2VsZWN0ZWRSb3cgPSB2YWx1ZTtcblxuICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuX3NlbGVjdGVkUm93LnNlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKGZpZWxkOiBGb3JtRmllbGRNb2RlbCwgcHJpdmF0ZSBmb3JtU2VydmljZTogRm9ybVNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoZmllbGQuZm9ybSwgZmllbGQuanNvbik7XG4gICAgICAgIHRoaXMuZmllbGQgPSBmaWVsZDtcblxuICAgICAgICBpZiAoZmllbGQuanNvbikge1xuICAgICAgICAgICAgY29uc3QgY29sdW1ucyA9IHRoaXMuZ2V0Q29sdW1ucyhmaWVsZCk7XG4gICAgICAgICAgICBpZiAoY29sdW1ucykge1xuICAgICAgICAgICAgICAgIHRoaXMuY29sdW1ucyA9IGNvbHVtbnM7XG4gICAgICAgICAgICAgICAgdGhpcy52aXNpYmxlQ29sdW1ucyA9IHRoaXMuY29sdW1ucy5maWx0ZXIoY29sID0+IGNvbC52aXNpYmxlKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGZpZWxkLmpzb24udmFsdWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvd3MgPSBmaWVsZC5qc29uLnZhbHVlLm1hcChvYmogPT4gPER5bmFtaWNUYWJsZVJvdz4ge3NlbGVjdGVkOiBmYWxzZSwgdmFsdWU6IG9ian0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fdmFsaWRhdG9ycyA9IFtcbiAgICAgICAgICAgIG5ldyBSZXF1aXJlZENlbGxWYWxpZGF0b3IoKSxcbiAgICAgICAgICAgIG5ldyBEYXRlQ2VsbFZhbGlkYXRvcigpLFxuICAgICAgICAgICAgbmV3IE51bWJlckNlbGxWYWxpZGF0b3IoKVxuICAgICAgICBdO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Q29sdW1ucyhmaWVsZDogRm9ybUZpZWxkTW9kZWwpOiBEeW5hbWljVGFibGVDb2x1bW5bXSB7XG4gICAgICAgIGlmIChmaWVsZCAmJiBmaWVsZC5qc29uKSB7XG4gICAgICAgICAgICBsZXQgZGVmaW5pdGlvbnMgPSBmaWVsZC5qc29uLmNvbHVtbkRlZmluaXRpb25zO1xuICAgICAgICAgICAgaWYgKCFkZWZpbml0aW9ucyAmJiBmaWVsZC5qc29uLnBhcmFtcyAmJiBmaWVsZC5qc29uLnBhcmFtcy5maWVsZCkge1xuICAgICAgICAgICAgICAgIGRlZmluaXRpb25zID0gZmllbGQuanNvbi5wYXJhbXMuZmllbGQuY29sdW1uRGVmaW5pdGlvbnM7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChkZWZpbml0aW9ucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWZpbml0aW9ucy5tYXAob2JqID0+IDxEeW5hbWljVGFibGVDb2x1bW4+IG9iaik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgZmx1c2hWYWx1ZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuZmllbGQpIHtcbiAgICAgICAgICAgIHRoaXMuZmllbGQudmFsdWUgPSB0aGlzLnJvd3MubWFwKHIgPT4gci52YWx1ZSk7XG4gICAgICAgICAgICB0aGlzLmZpZWxkLnVwZGF0ZUZvcm0oKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG1vdmVSb3cocm93OiBEeW5hbWljVGFibGVSb3csIG9mZnNldDogbnVtYmVyKSB7XG4gICAgICAgIGxldCBvbGRJbmRleCA9IHRoaXMucm93cy5pbmRleE9mKHJvdyk7XG4gICAgICAgIGlmIChvbGRJbmRleCA+IC0xKSB7XG4gICAgICAgICAgICBsZXQgbmV3SW5kZXggPSAob2xkSW5kZXggKyBvZmZzZXQpO1xuXG4gICAgICAgICAgICBpZiAobmV3SW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgbmV3SW5kZXggPSAwO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChuZXdJbmRleCA+PSB0aGlzLnJvd3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgbmV3SW5kZXggPSB0aGlzLnJvd3MubGVuZ3RoO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgYXJyID0gdGhpcy5yb3dzLnNsaWNlKCk7XG4gICAgICAgICAgICBhcnIuc3BsaWNlKG9sZEluZGV4LCAxKTtcbiAgICAgICAgICAgIGFyci5zcGxpY2UobmV3SW5kZXgsIDAsIHJvdyk7XG4gICAgICAgICAgICB0aGlzLnJvd3MgPSBhcnI7XG5cbiAgICAgICAgICAgIHRoaXMuZmx1c2hWYWx1ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZGVsZXRlUm93KHJvdzogRHluYW1pY1RhYmxlUm93KSB7XG4gICAgICAgIGlmIChyb3cpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLnNlbGVjdGVkUm93ID09PSByb3cpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkUm93ID0gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBpZHggPSB0aGlzLnJvd3MuaW5kZXhPZihyb3cpO1xuICAgICAgICAgICAgaWYgKGlkeCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3dzLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAgICAgICAgIHRoaXMuZmx1c2hWYWx1ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkUm93KHJvdzogRHluYW1pY1RhYmxlUm93KSB7XG4gICAgICAgIGlmIChyb3cpIHtcbiAgICAgICAgICAgIHRoaXMucm93cy5wdXNoKHJvdyk7XG4gICAgICAgICAgICAvLyB0aGlzLnNlbGVjdGVkUm93ID0gcm93O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgdmFsaWRhdGVSb3cocm93OiBEeW5hbWljVGFibGVSb3cpOiBEeW5hbWljUm93VmFsaWRhdGlvblN1bW1hcnkge1xuICAgICAgICBjb25zdCBzdW1tYXJ5ID0gbmV3IER5bmFtaWNSb3dWYWxpZGF0aW9uU3VtbWFyeSgge1xuICAgICAgICAgICAgaXNWYWxpZDogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IG51bGxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgVmFsaWRhdGVEeW5hbWljVGFibGVSb3dFdmVudCh0aGlzLmZvcm0sIHRoaXMuZmllbGQsIHJvdywgc3VtbWFyeSk7XG4gICAgICAgIHRoaXMuZm9ybVNlcnZpY2UudmFsaWRhdGVEeW5hbWljVGFibGVSb3cubmV4dChldmVudCk7XG5cbiAgICAgICAgaWYgKGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQgfHwgIXN1bW1hcnkuaXNWYWxpZCkge1xuICAgICAgICAgICAgcmV0dXJuIHN1bW1hcnk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocm93KSB7XG4gICAgICAgICAgICBmb3IgKGxldCBjb2wgb2YgdGhpcy5jb2x1bW5zKSB7XG4gICAgICAgICAgICAgICAgZm9yIChsZXQgdmFsaWRhdG9yIG9mIHRoaXMuX3ZhbGlkYXRvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0b3IudmFsaWRhdGUocm93LCBjb2wsIHN1bW1hcnkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc3VtbWFyeTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdW1tYXJ5O1xuICAgIH1cblxuICAgIGdldENlbGxWYWx1ZShyb3c6IER5bmFtaWNUYWJsZVJvdywgY29sdW1uOiBEeW5hbWljVGFibGVDb2x1bW4pOiBhbnkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gcm93LnZhbHVlW2NvbHVtbi5pZF07XG5cbiAgICAgICAgaWYgKGNvbHVtbi50eXBlID09PSAnRHJvcGRvd24nKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGNvbHVtbi50eXBlID09PSAnQm9vbGVhbicpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQgPyB0cnVlIDogZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoY29sdW1uLnR5cGUgPT09ICdEYXRlJykge1xuICAgICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBtb21lbnQocmVzdWx0LnNwbGl0KCdUJylbMF0sICdZWVlZLU1NLUREJykuZm9ybWF0KCdERC1NTS1ZWVlZJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0IHx8ICcnO1xuICAgIH1cblxuICAgIGdldERpc3BsYXlUZXh0KGNvbHVtbjogRHluYW1pY1RhYmxlQ29sdW1uKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHJlc3VsdCA9IGNvbHVtbi5uYW1lO1xuICAgICAgICBpZiAoY29sdW1uLnR5cGUgPT09ICdBbW91bnQnKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVuY3kgPSBjb2x1bW4uYW1vdW50Q3VycmVuY3kgfHwgJyQnO1xuICAgICAgICAgICAgcmVzdWx0ID0gYCR7Y29sdW1uLm5hbWV9ICgke2N1cnJlbmN5fSlgO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yICAqL1xuXG5pbXBvcnQgeyBMb2dTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2VydmljZXMvbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ2hhbmdlRGV0ZWN0b3JSZWYsIENvbXBvbmVudCwgRWxlbWVudFJlZiwgT25Jbml0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgV2lkZ2V0VmlzaWJpbGl0eVNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlcy93aWRnZXQtdmlzaWJpbGl0eS5zZXJ2aWNlJztcbmltcG9ydCB7IEZvcm1TZXJ2aWNlIH0gZnJvbSAnLi8uLi8uLi8uLi9zZXJ2aWNlcy9mb3JtLnNlcnZpY2UnO1xuaW1wb3J0IHsgYmFzZUhvc3QsIFdpZGdldENvbXBvbmVudCB9IGZyb20gJy4vLi4vd2lkZ2V0LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBEeW5hbWljVGFibGVDb2x1bW4gfSBmcm9tICcuL2R5bmFtaWMtdGFibGUtY29sdW1uLm1vZGVsJztcbmltcG9ydCB7IER5bmFtaWNUYWJsZVJvdyB9IGZyb20gJy4vZHluYW1pYy10YWJsZS1yb3cubW9kZWwnO1xuaW1wb3J0IHsgRHluYW1pY1RhYmxlTW9kZWwgfSBmcm9tICcuL2R5bmFtaWMtdGFibGUud2lkZ2V0Lm1vZGVsJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdkeW5hbWljLXRhYmxlLXdpZGdldCcsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2R5bmFtaWMtdGFibGUud2lkZ2V0Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2R5bmFtaWMtdGFibGUud2lkZ2V0LnNjc3MnXSxcbiAgICBob3N0OiBiYXNlSG9zdCxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIER5bmFtaWNUYWJsZVdpZGdldENvbXBvbmVudCBleHRlbmRzIFdpZGdldENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBFUlJPUl9NT0RFTF9OT1RfRk9VTkQgPSAnVGFibGUgbW9kZWwgbm90IGZvdW5kJztcblxuICAgIGNvbnRlbnQ6IER5bmFtaWNUYWJsZU1vZGVsO1xuXG4gICAgZWRpdE1vZGU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBlZGl0Um93OiBEeW5hbWljVGFibGVSb3cgPSBudWxsO1xuXG4gICAgcHJpdmF0ZSBzZWxlY3RBcnJheUNvZGUgPSBbMzIsIDAsIDEzXTtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBmb3JtU2VydmljZTogRm9ybVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHVibGljIGVsZW1lbnRSZWY6IEVsZW1lbnRSZWYsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSB2aXNpYmlsaXR5U2VydmljZTogV2lkZ2V0VmlzaWJpbGl0eVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBsb2dTZXJ2aWNlOiBMb2dTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgY2Q6IENoYW5nZURldGVjdG9yUmVmKSB7XG4gICAgICAgIHN1cGVyKGZvcm1TZXJ2aWNlKTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZmllbGQpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudCA9IG5ldyBEeW5hbWljVGFibGVNb2RlbCh0aGlzLmZpZWxkLCB0aGlzLmZvcm1TZXJ2aWNlKTtcbiAgICAgICAgICAgIHRoaXMudmlzaWJpbGl0eVNlcnZpY2UucmVmcmVzaFZpc2liaWxpdHkodGhpcy5maWVsZC5mb3JtKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZvcmNlRm9jdXNPbkFkZEJ1dHRvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5jZC5kZXRlY3RDaGFuZ2VzKCk7XG4gICAgICAgICAgICBsZXQgYnV0dG9uQWRkUm93ID0gPEhUTUxCdXR0b25FbGVtZW50PiB0aGlzLmVsZW1lbnRSZWYubmF0aXZlRWxlbWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIHRoaXMuY29udGVudC5pZCArICctYWRkLXJvdycpO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNEeW5hbWljVGFibGVSZWFkeShidXR0b25BZGRSb3cpKSB7XG4gICAgICAgICAgICAgICAgYnV0dG9uQWRkUm93LmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGlzRHluYW1pY1RhYmxlUmVhZHkoYnV0dG9uQWRkUm93KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkICYmICF0aGlzLmVkaXRNb2RlICYmIGJ1dHRvbkFkZFJvdztcbiAgICB9XG5cbiAgICBpc1ZhbGlkKCkge1xuICAgICAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcblxuICAgICAgICBpZiAodGhpcy5jb250ZW50ICYmIHRoaXMuY29udGVudC5maWVsZCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gdGhpcy5jb250ZW50LmZpZWxkLmlzVmFsaWQ7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIG9uUm93Q2xpY2tlZChyb3c6IER5bmFtaWNUYWJsZVJvdykge1xuICAgICAgICBpZiAodGhpcy5jb250ZW50KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQuc2VsZWN0ZWRSb3cgPSByb3c7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbktleVByZXNzZWQoJGV2ZW50OiBLZXlib2FyZEV2ZW50LCByb3c6IER5bmFtaWNUYWJsZVJvdykge1xuICAgICAgICBpZiAodGhpcy5jb250ZW50ICYmIHRoaXMuaXNFbnRlck9yU3BhY2VQcmVzc2VkKCRldmVudC5rZXlDb2RlKSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50LnNlbGVjdGVkUm93ID0gcm93O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBpc0VudGVyT3JTcGFjZVByZXNzZWQoa2V5Y29kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3RBcnJheUNvZGUuaW5kZXhPZihrZXljb2RlKSAhPT0gLTE7XG4gICAgfVxuXG4gICAgaGFzU2VsZWN0aW9uKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gISEodGhpcy5jb250ZW50ICYmIHRoaXMuY29udGVudC5zZWxlY3RlZFJvdyk7XG4gICAgfVxuXG4gICAgbW92ZVNlbGVjdGlvblVwKCk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5jb250ZW50ICYmICF0aGlzLnJlYWRPbmx5KSB7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnQubW92ZVJvdyh0aGlzLmNvbnRlbnQuc2VsZWN0ZWRSb3csIC0xKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBtb3ZlU2VsZWN0aW9uRG93bigpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudCAmJiAhdGhpcy5yZWFkT25seSkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50Lm1vdmVSb3codGhpcy5jb250ZW50LnNlbGVjdGVkUm93LCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBkZWxldGVTZWxlY3Rpb24oKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnQgJiYgIXRoaXMucmVhZE9ubHkpIHtcbiAgICAgICAgICAgIHRoaXMuY29udGVudC5kZWxldGVSb3codGhpcy5jb250ZW50LnNlbGVjdGVkUm93KTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBhZGROZXdSb3coKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmNvbnRlbnQgJiYgIXRoaXMucmVhZE9ubHkpIHtcbiAgICAgICAgICAgIHRoaXMuZWRpdFJvdyA9IDxEeW5hbWljVGFibGVSb3c+IHtcbiAgICAgICAgICAgICAgICBpc05ldzogdHJ1ZSxcbiAgICAgICAgICAgICAgICBzZWxlY3RlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHt9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdGhpcy5lZGl0TW9kZSA9IHRydWU7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgZWRpdFNlbGVjdGlvbigpOiBib29sZWFuIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudCAmJiAhdGhpcy5yZWFkT25seSkge1xuICAgICAgICAgICAgdGhpcy5lZGl0Um93ID0gdGhpcy5jb3B5Um93KHRoaXMuY29udGVudC5zZWxlY3RlZFJvdyk7XG4gICAgICAgICAgICB0aGlzLmVkaXRNb2RlID0gdHJ1ZTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXRDZWxsVmFsdWUocm93OiBEeW5hbWljVGFibGVSb3csIGNvbHVtbjogRHluYW1pY1RhYmxlQ29sdW1uKTogYW55IHtcbiAgICAgICAgaWYgKHRoaXMuY29udGVudCkge1xuICAgICAgICAgICAgbGV0IHJlc3VsdCA9IHRoaXMuY29udGVudC5nZXRDZWxsVmFsdWUocm93LCBjb2x1bW4pO1xuICAgICAgICAgICAgaWYgKGNvbHVtbi50eXBlID09PSAnQW1vdW50Jykge1xuICAgICAgICAgICAgICAgIHJldHVybiAoY29sdW1uLmFtb3VudEN1cnJlbmN5IHx8ICckJykgKyAnICcgKyAocmVzdWx0IHx8IDApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBvblNhdmVDaGFuZ2VzKCkge1xuICAgICAgICBpZiAodGhpcy5jb250ZW50KSB7XG4gICAgICAgICAgICBpZiAodGhpcy5lZGl0Um93LmlzTmV3KSB7XG4gICAgICAgICAgICAgICAgbGV0IHJvdyA9IHRoaXMuY29weVJvdyh0aGlzLmVkaXRSb3cpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudC5zZWxlY3RlZFJvdyA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50LmFkZFJvdyhyb3cpO1xuICAgICAgICAgICAgICAgIHRoaXMuZWRpdFJvdy5pc05ldyA9IGZhbHNlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnQuc2VsZWN0ZWRSb3cudmFsdWUgPSB0aGlzLmNvcHlPYmplY3QodGhpcy5lZGl0Um93LnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29udGVudC5mbHVzaFZhbHVlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuZXJyb3IodGhpcy5FUlJPUl9NT0RFTF9OT1RfRk9VTkQpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZWRpdE1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5mb3JjZUZvY3VzT25BZGRCdXR0b24oKTtcbiAgICB9XG5cbiAgICBvbkNhbmNlbENoYW5nZXMoKSB7XG4gICAgICAgIHRoaXMuZWRpdE1vZGUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5lZGl0Um93ID0gbnVsbDtcbiAgICAgICAgdGhpcy5mb3JjZUZvY3VzT25BZGRCdXR0b24oKTtcbiAgICB9XG5cbiAgICBjb3B5Um93KHJvdzogRHluYW1pY1RhYmxlUm93KTogRHluYW1pY1RhYmxlUm93IHtcbiAgICAgICAgcmV0dXJuIDxEeW5hbWljVGFibGVSb3c+IHtcbiAgICAgICAgICAgIHZhbHVlOiB0aGlzLmNvcHlPYmplY3Qocm93LnZhbHVlKVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgY29weU9iamVjdChvYmo6IGFueSk6IGFueSB7XG4gICAgICAgIGxldCByZXN1bHQgPSBvYmo7XG5cbiAgICAgICAgaWYgKHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmIG9iaiAhPT0gbnVsbCAmJiBvYmogIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gT2JqZWN0LmFzc2lnbih7fSwgb2JqKTtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChrZXkgPT4ge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygb2JqW2tleV0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gdGhpcy5jb3B5T2JqZWN0KG9ialtrZXldKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yICAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIElucHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEeW5hbWljVGFibGVDb2x1bW4gfSBmcm9tICcuLy4uLy4uL2R5bmFtaWMtdGFibGUtY29sdW1uLm1vZGVsJztcbmltcG9ydCB7IER5bmFtaWNUYWJsZVJvdyB9IGZyb20gJy4vLi4vLi4vZHluYW1pYy10YWJsZS1yb3cubW9kZWwnO1xuaW1wb3J0IHsgRHluYW1pY1RhYmxlTW9kZWwgfSBmcm9tICcuLy4uLy4uL2R5bmFtaWMtdGFibGUud2lkZ2V0Lm1vZGVsJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtYm9vbGVhbi1lZGl0b3InLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9ib29sZWFuLmVkaXRvci5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9ib29sZWFuLmVkaXRvci5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgQm9vbGVhbkVkaXRvckNvbXBvbmVudCB7XG5cbiAgICBASW5wdXQoKVxuICAgIHRhYmxlOiBEeW5hbWljVGFibGVNb2RlbDtcblxuICAgIEBJbnB1dCgpXG4gICAgcm93OiBEeW5hbWljVGFibGVSb3c7XG5cbiAgICBASW5wdXQoKVxuICAgIGNvbHVtbjogRHluYW1pY1RhYmxlQ29sdW1uO1xuXG4gICAgb25WYWx1ZUNoYW5nZWQocm93OiBEeW5hbWljVGFibGVSb3csIGNvbHVtbjogRHluYW1pY1RhYmxlQ29sdW1uLCBldmVudDogYW55KSB7XG4gICAgICAgIGxldCB2YWx1ZTogYm9vbGVhbiA9ICg8SFRNTElucHV0RWxlbWVudD4gZXZlbnQpLmNoZWNrZWQ7XG4gICAgICAgIHJvdy52YWx1ZVtjb2x1bW4uaWRdID0gdmFsdWU7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmltcG9ydCB7IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi8uLi9zZXJ2aWNlcy91c2VyLXByZWZlcmVuY2VzLnNlcnZpY2UnO1xuaW1wb3J0IHsgTW9tZW50RGF0ZUFkYXB0ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi8uLi91dGlscy9tb21lbnREYXRlQWRhcHRlcic7XG5pbXBvcnQgeyBNT01FTlRfREFURV9GT1JNQVRTIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vdXRpbHMvbW9tZW50LWRhdGUtZm9ybWF0cy5tb2RlbCc7XG5pbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IERhdGVBZGFwdGVyLCBNQVRfREFURV9GT1JNQVRTIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQtZXM2JztcbmltcG9ydCB7IE1vbWVudCB9IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyBEeW5hbWljVGFibGVDb2x1bW4gfSBmcm9tICcuLy4uLy4uL2R5bmFtaWMtdGFibGUtY29sdW1uLm1vZGVsJztcbmltcG9ydCB7IER5bmFtaWNUYWJsZVJvdyB9IGZyb20gJy4vLi4vLi4vZHluYW1pYy10YWJsZS1yb3cubW9kZWwnO1xuaW1wb3J0IHsgRHluYW1pY1RhYmxlTW9kZWwgfSBmcm9tICcuLy4uLy4uL2R5bmFtaWMtdGFibGUud2lkZ2V0Lm1vZGVsJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtZGF0ZS1lZGl0b3InLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9kYXRlLmVkaXRvci5odG1sJyxcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAge3Byb3ZpZGU6IERhdGVBZGFwdGVyLCB1c2VDbGFzczogTW9tZW50RGF0ZUFkYXB0ZXJ9LFxuICAgICAgICB7cHJvdmlkZTogTUFUX0RBVEVfRk9STUFUUywgdXNlVmFsdWU6IE1PTUVOVF9EQVRFX0ZPUk1BVFN9XSxcbiAgICBzdHlsZVVybHM6IFsnLi9kYXRlLmVkaXRvci5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgRGF0ZUVkaXRvckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBEQVRFX0ZPUk1BVDogc3RyaW5nID0gJ0RELU1NLVlZWVknO1xuXG4gICAgdmFsdWU6IGFueTtcblxuICAgIEBJbnB1dCgpXG4gICAgdGFibGU6IER5bmFtaWNUYWJsZU1vZGVsO1xuXG4gICAgQElucHV0KClcbiAgICByb3c6IER5bmFtaWNUYWJsZVJvdztcblxuICAgIEBJbnB1dCgpXG4gICAgY29sdW1uOiBEeW5hbWljVGFibGVDb2x1bW47XG5cbiAgICBtaW5EYXRlOiBNb21lbnQ7XG4gICAgbWF4RGF0ZTogTW9tZW50O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBkYXRlQWRhcHRlcjogRGF0ZUFkYXB0ZXI8TW9tZW50PixcbiAgICAgICAgICAgICAgICBwcml2YXRlIHByZWZlcmVuY2VzOiBVc2VyUHJlZmVyZW5jZXNTZXJ2aWNlKSB7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMucHJlZmVyZW5jZXMubG9jYWxlJC5zdWJzY3JpYmUoKGxvY2FsZSkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRlQWRhcHRlci5zZXRMb2NhbGUobG9jYWxlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGxldCBtb21lbnREYXRlQWRhcHRlciA9IDxNb21lbnREYXRlQWRhcHRlcj4gdGhpcy5kYXRlQWRhcHRlcjtcbiAgICAgICAgbW9tZW50RGF0ZUFkYXB0ZXIub3ZlcnJpZGVEaXNwbHlhRm9ybWF0ID0gdGhpcy5EQVRFX0ZPUk1BVDtcblxuICAgICAgICB0aGlzLnZhbHVlID0gbW9tZW50KHRoaXMudGFibGUuZ2V0Q2VsbFZhbHVlKHRoaXMucm93LCB0aGlzLmNvbHVtbiksICdZWVlZLU1NLUREJyk7XG4gICAgfVxuXG4gICAgb25EYXRlQ2hhbmdlZChuZXdEYXRlVmFsdWUpIHtcbiAgICAgICAgaWYgKG5ld0RhdGVWYWx1ZSAmJiBuZXdEYXRlVmFsdWUudmFsdWUpIHtcbiAgICAgICAgICAgIGxldCBtb21lbnREYXRlID0gbW9tZW50KG5ld0RhdGVWYWx1ZS52YWx1ZSwgdGhpcy5EQVRFX0ZPUk1BVCwgdHJ1ZSk7XG5cbiAgICAgICAgICAgIGlmICghbW9tZW50RGF0ZS5pc1ZhbGlkKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJvdy52YWx1ZVt0aGlzLmNvbHVtbi5pZF0gPSAnJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5yb3cudmFsdWVbdGhpcy5jb2x1bW4uaWRdID0gYCR7bW9tZW50RGF0ZS5mb3JtYXQoJ1lZWVktTU0tREQnKX1UMDA6MDA6MDAuMDAwWmA7XG4gICAgICAgICAgICAgICAgdGhpcy50YWJsZS5mbHVzaFZhbHVlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuaW1wb3J0IHsgVXNlclByZWZlcmVuY2VzU2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL3NlcnZpY2VzL3VzZXItcHJlZmVyZW5jZXMuc2VydmljZSc7XG5pbXBvcnQgeyBNb21lbnREYXRlQWRhcHRlciB9IGZyb20gJy4uLy4uLy4uLy4uLy4uLy4uL3V0aWxzL21vbWVudERhdGVBZGFwdGVyJztcbmltcG9ydCB7IE1PTUVOVF9EQVRFX0ZPUk1BVFMgfSBmcm9tICcuLi8uLi8uLi8uLi8uLi8uLi91dGlscy9tb21lbnQtZGF0ZS1mb3JtYXRzLm1vZGVsJztcbmltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRGF0ZUFkYXB0ZXIsIE1BVF9EQVRFX0ZPUk1BVFMgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudC1lczYnO1xuaW1wb3J0IHsgTW9tZW50IH0gZnJvbSAnbW9tZW50JztcbmltcG9ydCB7IER5bmFtaWNUYWJsZUNvbHVtbiB9IGZyb20gJy4vLi4vLi4vZHluYW1pYy10YWJsZS1jb2x1bW4ubW9kZWwnO1xuaW1wb3J0IHsgRHluYW1pY1RhYmxlUm93IH0gZnJvbSAnLi8uLi8uLi9keW5hbWljLXRhYmxlLXJvdy5tb2RlbCc7XG5pbXBvcnQgeyBEeW5hbWljVGFibGVNb2RlbCB9IGZyb20gJy4vLi4vLi4vZHluYW1pYy10YWJsZS53aWRnZXQubW9kZWwnO1xuaW1wb3J0IHsgRGF0ZXRpbWVBZGFwdGVyLCBNQVRfREFURVRJTUVfRk9STUFUUyB9IGZyb20gJ0BtYXQtZGF0ZXRpbWVwaWNrZXIvY29yZSc7XG5pbXBvcnQgeyBNb21lbnREYXRldGltZUFkYXB0ZXIsIE1BVF9NT01FTlRfREFURVRJTUVfRk9STUFUUyB9IGZyb20gJ0BtYXQtZGF0ZXRpbWVwaWNrZXIvbW9tZW50JztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtZGF0ZXRpbWUtZWRpdG9yJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vZGF0ZXRpbWUuZWRpdG9yLmh0bWwnLFxuICAgIHByb3ZpZGVyczogW1xuICAgICAgICB7IHByb3ZpZGU6IERhdGVBZGFwdGVyLCB1c2VDbGFzczogTW9tZW50RGF0ZUFkYXB0ZXIgfSxcbiAgICAgICAgeyBwcm92aWRlOiBNQVRfREFURV9GT1JNQVRTLCB1c2VWYWx1ZTogTU9NRU5UX0RBVEVfRk9STUFUUyB9LFxuICAgICAgICB7IHByb3ZpZGU6IERhdGV0aW1lQWRhcHRlciwgdXNlQ2xhc3M6IE1vbWVudERhdGV0aW1lQWRhcHRlciB9LFxuICAgICAgICB7IHByb3ZpZGU6IE1BVF9EQVRFVElNRV9GT1JNQVRTLCB1c2VWYWx1ZTogTUFUX01PTUVOVF9EQVRFVElNRV9GT1JNQVRTIH1cbiAgICBdLFxuICAgIHN0eWxlVXJsczogWycuL2RhdGV0aW1lLmVkaXRvci5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgRGF0ZVRpbWVFZGl0b3JDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgREFURV9GT1JNQVQ6IHN0cmluZyA9ICdELU0tWVlZWSBoaDptbSBBJztcblxuICAgIHZhbHVlOiBhbnk7XG5cbiAgICBASW5wdXQoKVxuICAgIHRhYmxlOiBEeW5hbWljVGFibGVNb2RlbDtcblxuICAgIEBJbnB1dCgpXG4gICAgcm93OiBEeW5hbWljVGFibGVSb3c7XG5cbiAgICBASW5wdXQoKVxuICAgIGNvbHVtbjogRHluYW1pY1RhYmxlQ29sdW1uO1xuXG4gICAgbWluRGF0ZTogTW9tZW50O1xuICAgIG1heERhdGU6IE1vbWVudDtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgZGF0ZUFkYXB0ZXI6IERhdGVBZGFwdGVyPE1vbWVudD4sXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBwcmVmZXJlbmNlczogVXNlclByZWZlcmVuY2VzU2VydmljZSkge1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnByZWZlcmVuY2VzLmxvY2FsZSQuc3Vic2NyaWJlKChsb2NhbGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGF0ZUFkYXB0ZXIuc2V0TG9jYWxlKGxvY2FsZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgbW9tZW50RGF0ZUFkYXB0ZXIgPSA8TW9tZW50RGF0ZUFkYXB0ZXI+IHRoaXMuZGF0ZUFkYXB0ZXI7XG4gICAgICAgIG1vbWVudERhdGVBZGFwdGVyLm92ZXJyaWRlRGlzcGx5YUZvcm1hdCA9IHRoaXMuREFURV9GT1JNQVQ7XG5cbiAgICAgICAgdGhpcy52YWx1ZSA9IG1vbWVudCh0aGlzLnRhYmxlLmdldENlbGxWYWx1ZSh0aGlzLnJvdywgdGhpcy5jb2x1bW4pLCB0aGlzLkRBVEVfRk9STUFUKTtcbiAgICB9XG5cbiAgICBvbkRhdGVDaGFuZ2VkKG5ld0RhdGVWYWx1ZSkge1xuICAgICAgICBpZiAobmV3RGF0ZVZhbHVlICYmIG5ld0RhdGVWYWx1ZS52YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgbmV3VmFsdWUgPSBtb21lbnQobmV3RGF0ZVZhbHVlLnZhbHVlLCB0aGlzLkRBVEVfRk9STUFUKTtcbiAgICAgICAgICAgIHRoaXMucm93LnZhbHVlW3RoaXMuY29sdW1uLmlkXSA9IG5ld0RhdGVWYWx1ZS52YWx1ZS5mb3JtYXQodGhpcy5EQVRFX0ZPUk1BVCk7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICB0aGlzLnRhYmxlLmZsdXNoVmFsdWUoKTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXdEYXRlVmFsdWUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1ZhbHVlID0gbW9tZW50KG5ld0RhdGVWYWx1ZSwgdGhpcy5EQVRFX0ZPUk1BVCk7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gbmV3VmFsdWU7XG4gICAgICAgICAgICB0aGlzLnJvdy52YWx1ZVt0aGlzLmNvbHVtbi5pZF0gPSBuZXdEYXRlVmFsdWU7XG4gICAgICAgICAgICB0aGlzLnRhYmxlLmZsdXNoVmFsdWUoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucm93LnZhbHVlW3RoaXMuY29sdW1uLmlkXSA9ICcnO1xuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4gLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yICAqL1xuXG5pbXBvcnQgeyBMb2dTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vLi4vLi4vc2VydmljZXMvbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtU2VydmljZSB9IGZyb20gJy4vLi4vLi4vLi4vLi4vLi4vc2VydmljZXMvZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IER5bmFtaWNUYWJsZUNvbHVtbk9wdGlvbiB9IGZyb20gJy4vLi4vLi4vZHluYW1pYy10YWJsZS1jb2x1bW4tb3B0aW9uLm1vZGVsJztcbmltcG9ydCB7IER5bmFtaWNUYWJsZUNvbHVtbiB9IGZyb20gJy4vLi4vLi4vZHluYW1pYy10YWJsZS1jb2x1bW4ubW9kZWwnO1xuaW1wb3J0IHsgRHluYW1pY1RhYmxlUm93IH0gZnJvbSAnLi8uLi8uLi9keW5hbWljLXRhYmxlLXJvdy5tb2RlbCc7XG5pbXBvcnQgeyBEeW5hbWljVGFibGVNb2RlbCB9IGZyb20gJy4vLi4vLi4vZHluYW1pYy10YWJsZS53aWRnZXQubW9kZWwnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1kcm9wZG93bi1lZGl0b3InLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9kcm9wZG93bi5lZGl0b3IuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vZHJvcGRvd24uZWRpdG9yLnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBEcm9wZG93bkVkaXRvckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICB2YWx1ZTogYW55ID0gbnVsbDtcbiAgICBvcHRpb25zOiBEeW5hbWljVGFibGVDb2x1bW5PcHRpb25bXSA9IFtdO1xuXG4gICAgQElucHV0KClcbiAgICB0YWJsZTogRHluYW1pY1RhYmxlTW9kZWw7XG5cbiAgICBASW5wdXQoKVxuICAgIHJvdzogRHluYW1pY1RhYmxlUm93O1xuXG4gICAgQElucHV0KClcbiAgICBjb2x1bW46IER5bmFtaWNUYWJsZUNvbHVtbjtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBmb3JtU2VydmljZTogRm9ybVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBsb2dTZXJ2aWNlOiBMb2dTZXJ2aWNlKSB7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGxldCBmaWVsZCA9IHRoaXMudGFibGUuZmllbGQ7XG4gICAgICAgIGlmIChmaWVsZCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY29sdW1uLm9wdGlvblR5cGUgPT09ICdyZXN0Jykge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRhYmxlLmZvcm0gJiYgdGhpcy50YWJsZS5mb3JtLnRhc2tJZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFZhbHVlc0J5VGFza0lkKGZpZWxkKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFZhbHVlc0J5UHJvY2Vzc0RlZmluaXRpb25JZChmaWVsZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLmNvbHVtbi5vcHRpb25zIHx8IFtdO1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnRhYmxlLmdldENlbGxWYWx1ZSh0aGlzLnJvdywgdGhpcy5jb2x1bW4pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0VmFsdWVzQnlUYXNrSWQoZmllbGQpIHtcbiAgICAgICAgdGhpcy5mb3JtU2VydmljZVxuICAgICAgICAgICAgLmdldFJlc3RGaWVsZFZhbHVlc0NvbHVtbihcbiAgICAgICAgICAgICAgICBmaWVsZC5mb3JtLnRhc2tJZCxcbiAgICAgICAgICAgICAgICBmaWVsZC5pZCxcbiAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbi5pZFxuICAgICAgICAgICAgKVxuICAgICAgICAgICAgLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAocmVzdWx0OiBEeW5hbWljVGFibGVDb2x1bW5PcHRpb25bXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbHVtbi5vcHRpb25zID0gcmVzdWx0IHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLmNvbHVtbi5vcHRpb25zO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZhbHVlID0gdGhpcy50YWJsZS5nZXRDZWxsVmFsdWUodGhpcy5yb3csIHRoaXMuY29sdW1uKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycilcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0VmFsdWVzQnlQcm9jZXNzRGVmaW5pdGlvbklkKGZpZWxkKSB7XG4gICAgICAgIHRoaXMuZm9ybVNlcnZpY2VcbiAgICAgICAgICAgIC5nZXRSZXN0RmllbGRWYWx1ZXNDb2x1bW5CeVByb2Nlc3NJZChcbiAgICAgICAgICAgICAgICBmaWVsZC5mb3JtLnByb2Nlc3NEZWZpbml0aW9uSWQsXG4gICAgICAgICAgICAgICAgZmllbGQuaWQsXG4gICAgICAgICAgICAgICAgdGhpcy5jb2x1bW4uaWRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgKHJlc3VsdDogRHluYW1pY1RhYmxlQ29sdW1uT3B0aW9uW10pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb2x1bW4ub3B0aW9ucyA9IHJlc3VsdCB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zID0gdGhpcy5jb2x1bW4ub3B0aW9ucztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMudGFibGUuZ2V0Q2VsbFZhbHVlKHRoaXMucm93LCB0aGlzLmNvbHVtbik7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIG9uVmFsdWVDaGFuZ2VkKHJvdzogRHluYW1pY1RhYmxlUm93LCBjb2x1bW46IER5bmFtaWNUYWJsZUNvbHVtbiwgZXZlbnQ6IGFueSkge1xuICAgICAgICBsZXQgdmFsdWU6IGFueSA9ICg8SFRNTElucHV0RWxlbWVudD4gZXZlbnQpLnZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGNvbHVtbi5vcHRpb25zLmZpbmQob3B0ID0+IG9wdC5uYW1lID09PSB2YWx1ZSk7XG4gICAgICAgIHJvdy52YWx1ZVtjb2x1bW4uaWRdID0gdmFsdWU7XG4gICAgfVxuXG4gICAgaGFuZGxlRXJyb3IoZXJyb3I6IGFueSkge1xuICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuZXJyb3IoZXJyb3IpO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbiAvKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEeW5hbWljUm93VmFsaWRhdGlvblN1bW1hcnkgfSBmcm9tICcuLy4uL2R5bmFtaWMtcm93LXZhbGlkYXRpb24tc3VtbWFyeS5tb2RlbCc7XG5pbXBvcnQgeyBEeW5hbWljVGFibGVDb2x1bW4gfSBmcm9tICcuLy4uL2R5bmFtaWMtdGFibGUtY29sdW1uLm1vZGVsJztcbmltcG9ydCB7IER5bmFtaWNUYWJsZVJvdyB9IGZyb20gJy4vLi4vZHluYW1pYy10YWJsZS1yb3cubW9kZWwnO1xuaW1wb3J0IHsgRHluYW1pY1RhYmxlTW9kZWwgfSBmcm9tICcuLy4uL2R5bmFtaWMtdGFibGUud2lkZ2V0Lm1vZGVsJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdyb3ctZWRpdG9yJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vcm93LmVkaXRvci5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9yb3cuZWRpdG9yLmNzcyddXG59KVxuZXhwb3J0IGNsYXNzIFJvd0VkaXRvckNvbXBvbmVudCB7XG5cbiAgICBASW5wdXQoKVxuICAgIHRhYmxlOiBEeW5hbWljVGFibGVNb2RlbDtcblxuICAgIEBJbnB1dCgpXG4gICAgcm93OiBEeW5hbWljVGFibGVSb3c7XG5cbiAgICBASW5wdXQoKVxuICAgIGNvbHVtbjogRHluYW1pY1RhYmxlQ29sdW1uO1xuXG4gICAgQE91dHB1dCgpXG4gICAgc2F2ZTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAgIEBPdXRwdXQoKVxuICAgIGNhbmNlbDogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAgIHZhbGlkYXRpb25TdW1tYXJ5OiBEeW5hbWljUm93VmFsaWRhdGlvblN1bW1hcnk7XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy52YWxpZGF0aW9uU3VtbWFyeSA9IG5ldyBEeW5hbWljUm93VmFsaWRhdGlvblN1bW1hcnkoeyBpc1ZhbGlkOiB0cnVlLCBtZXNzYWdlOiAnJyB9KTtcbiAgICB9XG5cbiAgICBvbkNhbmNlbENoYW5nZXMoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsLmVtaXQoe1xuICAgICAgICAgICAgdGFibGU6IHRoaXMudGFibGUsXG4gICAgICAgICAgICByb3c6IHRoaXMucm93LFxuICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtblxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvblNhdmVDaGFuZ2VzKCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRlKCk7XG4gICAgICAgIGlmICh0aGlzLmlzVmFsaWQoKSkge1xuICAgICAgICAgICAgdGhpcy5zYXZlLmVtaXQoe1xuICAgICAgICAgICAgICAgIHRhYmxlOiB0aGlzLnRhYmxlLFxuICAgICAgICAgICAgICAgIHJvdzogdGhpcy5yb3csXG4gICAgICAgICAgICAgICAgY29sdW1uOiB0aGlzLmNvbHVtblxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGlzVmFsaWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbGlkYXRpb25TdW1tYXJ5ICYmIHRoaXMudmFsaWRhdGlvblN1bW1hcnkuaXNWYWxpZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHZhbGlkYXRlKCkge1xuICAgICAgICB0aGlzLnZhbGlkYXRpb25TdW1tYXJ5ID0gdGhpcy50YWJsZS52YWxpZGF0ZVJvdyh0aGlzLnJvdyk7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIE9uSW5pdCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRHluYW1pY1RhYmxlQ29sdW1uIH0gZnJvbSAnLi8uLi8uLi9keW5hbWljLXRhYmxlLWNvbHVtbi5tb2RlbCc7XG5pbXBvcnQgeyBEeW5hbWljVGFibGVSb3cgfSBmcm9tICcuLy4uLy4uL2R5bmFtaWMtdGFibGUtcm93Lm1vZGVsJztcbmltcG9ydCB7IER5bmFtaWNUYWJsZU1vZGVsIH0gZnJvbSAnLi8uLi8uLi9keW5hbWljLXRhYmxlLndpZGdldC5tb2RlbCc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLXRleHQtZWRpdG9yJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vdGV4dC5lZGl0b3IuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vdGV4dC5lZGl0b3Iuc2NzcyddXG59KVxuZXhwb3J0IGNsYXNzIFRleHRFZGl0b3JDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgQElucHV0KClcbiAgICB0YWJsZTogRHluYW1pY1RhYmxlTW9kZWw7XG5cbiAgICBASW5wdXQoKVxuICAgIHJvdzogRHluYW1pY1RhYmxlUm93O1xuXG4gICAgQElucHV0KClcbiAgICBjb2x1bW46IER5bmFtaWNUYWJsZUNvbHVtbjtcblxuICAgIGRpc3BsYXlOYW1lOiBzdHJpbmc7XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5TmFtZSA9IHRoaXMudGFibGUuZ2V0RGlzcGxheVRleHQodGhpcy5jb2x1bW4pO1xuICAgIH1cblxuICAgIG9uVmFsdWVDaGFuZ2VkKHJvdzogRHluYW1pY1RhYmxlUm93LCBjb2x1bW46IER5bmFtaWNUYWJsZUNvbHVtbiwgZXZlbnQ6IGFueSkge1xuICAgICAgICBsZXQgdmFsdWU6IGFueSA9ICg8SFRNTElucHV0RWxlbWVudD4gZXZlbnQudGFyZ2V0KS52YWx1ZTtcbiAgICAgICAgcm93LnZhbHVlW2NvbHVtbi5pZF0gPSB2YWx1ZTtcbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuaW1wb3J0IHsgYW5pbWF0ZSwgc3RhdGUsIHN0eWxlLCB0cmFuc2l0aW9uLCB0cmlnZ2VyIH0gZnJvbSAnQGFuZ3VsYXIvYW5pbWF0aW9ucyc7XG5pbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkNoYW5nZXMsIFNpbXBsZUNoYW5nZXMsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBFcnJvck1lc3NhZ2VNb2RlbCB9IGZyb20gJy4uL2NvcmUvaW5kZXgnO1xuaW1wb3J0IHsgRm9ybVNlcnZpY2UgfSBmcm9tICcuLy4uLy4uLy4uL3NlcnZpY2VzL2Zvcm0uc2VydmljZSc7XG5pbXBvcnQgeyBiYXNlSG9zdCAsIFdpZGdldENvbXBvbmVudCB9IGZyb20gJy4vLi4vd2lkZ2V0LmNvbXBvbmVudCc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnZXJyb3Itd2lkZ2V0JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vZXJyb3IuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2Vycm9yLmNvbXBvbmVudC5zY3NzJ10sXG4gICAgYW5pbWF0aW9uczogW1xuICAgICAgICB0cmlnZ2VyKCd0cmFuc2l0aW9uTWVzc2FnZXMnLCBbXG4gICAgICAgICAgICBzdGF0ZSgnZW50ZXInLCBzdHlsZSh7b3BhY2l0eTogMSwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgwJSknfSkpLFxuICAgICAgICAgICAgdHJhbnNpdGlvbigndm9pZCA9PiBlbnRlcicsIFtcbiAgICAgICAgICAgICAgICBzdHlsZSh7b3BhY2l0eTogMCwgdHJhbnNmb3JtOiAndHJhbnNsYXRlWSgtMTAwJSknfSksXG4gICAgICAgICAgICAgICAgYW5pbWF0ZSgnMzAwbXMgY3ViaWMtYmV6aWVyKDAuNTUsIDAsIDAuNTUsIDAuMiknKVxuICAgICAgICAgICAgXSlcbiAgICAgICAgXSlcbiAgICBdLFxuICAgIGhvc3Q6IGJhc2VIb3N0LFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgRXJyb3JXaWRnZXRDb21wb25lbnQgZXh0ZW5kcyBXaWRnZXRDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xuXG4gICAgQElucHV0KClcbiAgICBlcnJvcjogRXJyb3JNZXNzYWdlTW9kZWw7XG5cbiAgICBASW5wdXQoKVxuICAgIHJlcXVpcmVkOiBzdHJpbmc7XG5cbiAgICB0cmFuc2xhdGVQYXJhbWV0ZXJzOiBhbnkgPSBudWxsO1xuXG4gICAgX3N1YnNjcmlwdEFuaW1hdGlvblN0YXRlOiBzdHJpbmcgPSAnJztcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBmb3JtU2VydmljZTogRm9ybVNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoZm9ybVNlcnZpY2UpO1xuICAgIH1cblxuICAgIG5nT25DaGFuZ2VzKGNoYW5nZXM6IFNpbXBsZUNoYW5nZXMpIHtcbiAgICAgICAgaWYgKGNoYW5nZXNbJ3JlcXVpcmVkJ10pIHtcbiAgICAgICAgICAgIHRoaXMucmVxdWlyZWQgPSBjaGFuZ2VzLnJlcXVpcmVkLmN1cnJlbnRWYWx1ZTtcbiAgICAgICAgICAgIHRoaXMuX3N1YnNjcmlwdEFuaW1hdGlvblN0YXRlID0gJ2VudGVyJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlc1snZXJyb3InXSAmJiBjaGFuZ2VzWydlcnJvciddLmN1cnJlbnRWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKGNoYW5nZXMuZXJyb3IuY3VycmVudFZhbHVlLmlzQWN0aXZlKCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmVycm9yID0gY2hhbmdlcy5lcnJvci5jdXJyZW50VmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVQYXJhbWV0ZXJzID0gdGhpcy5lcnJvci5nZXRBdHRyaWJ1dGVzQXNKc29uT2JqKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3Vic2NyaXB0QW5pbWF0aW9uU3RhdGUgPSAnZW50ZXInO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuIC8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuaW1wb3J0IHsgRU5URVIsIEVTQ0FQRSB9IGZyb20gJ0Bhbmd1bGFyL2Nkay9rZXljb2Rlcyc7XG5pbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIE9uSW5pdCwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1TZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IEdyb3VwTW9kZWwgfSBmcm9tICcuLy4uL2NvcmUvZ3JvdXAubW9kZWwnO1xuaW1wb3J0IHsgYmFzZUhvc3QgLCBXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuLy4uL3dpZGdldC5jb21wb25lbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2Z1bmN0aW9uYWwtZ3JvdXAtd2lkZ2V0JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vZnVuY3Rpb25hbC1ncm91cC53aWRnZXQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vZnVuY3Rpb25hbC1ncm91cC53aWRnZXQuc2NzcyddLFxuICAgIGhvc3Q6IGJhc2VIb3N0LFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgRnVuY3Rpb25hbEdyb3VwV2lkZ2V0Q29tcG9uZW50IGV4dGVuZHMgV2lkZ2V0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgb2xkVmFsdWU6IHN0cmluZztcbiAgICBncm91cHM6IEdyb3VwTW9kZWxbXSA9IFtdO1xuICAgIG1pblRlcm1MZW5ndGg6IG51bWJlciA9IDE7XG4gICAgZ3JvdXBJZDogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGZvcm1TZXJ2aWNlOiBGb3JtU2VydmljZSxcbiAgICAgICAgICAgICAgICBwdWJsaWMgZWxlbWVudFJlZjogRWxlbWVudFJlZikge1xuICAgICAgICAgc3VwZXIoZm9ybVNlcnZpY2UpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAodGhpcy5maWVsZCkge1xuICAgICAgICAgICAgbGV0IGdyb3VwID0gdGhpcy5maWVsZC52YWx1ZTtcbiAgICAgICAgICAgIGlmIChncm91cCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSBncm91cC5uYW1lO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcGFyYW1zID0gdGhpcy5maWVsZC5wYXJhbXM7XG4gICAgICAgICAgICBpZiAocGFyYW1zICYmIHBhcmFtc1sncmVzdHJpY3RXaXRoR3JvdXAnXSkge1xuICAgICAgICAgICAgICAgIGxldCByZXN0cmljdFdpdGhHcm91cCA9IDxHcm91cE1vZGVsPiBwYXJhbXNbJ3Jlc3RyaWN0V2l0aEdyb3VwJ107XG4gICAgICAgICAgICAgICAgdGhpcy5ncm91cElkID0gcmVzdHJpY3RXaXRoR3JvdXAuaWQ7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIExvYWQgYXV0by1jb21wbGV0aW9uIGZvciBwcmV2aW91c2x5IHNhdmVkIHZhbHVlXG4gICAgICAgICAgICBpZiAodGhpcy52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuZm9ybVNlcnZpY2VcbiAgICAgICAgICAgICAgICAgICAgLmdldFdvcmtmbG93R3JvdXBzKHRoaXMudmFsdWUsIHRoaXMuZ3JvdXBJZClcbiAgICAgICAgICAgICAgICAgICAgLnN1YnNjcmliZSgocmVzdWx0OiBHcm91cE1vZGVsW10pID0+IHRoaXMuZ3JvdXBzID0gcmVzdWx0IHx8IFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgJiYgdGhpcy52YWx1ZS5sZW5ndGggPj0gdGhpcy5taW5UZXJtTGVuZ3RoICAmJiB0aGlzLm9sZFZhbHVlICE9PSB0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSAhPT0gRVNDQVBFICYmIGV2ZW50LmtleUNvZGUgIT09IEVOVEVSKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbGRWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgdGhpcy5mb3JtU2VydmljZS5nZXRXb3JrZmxvd0dyb3Vwcyh0aGlzLnZhbHVlLCB0aGlzLmdyb3VwSWQpXG4gICAgICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoKHJlc3VsdDogR3JvdXBNb2RlbFtdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmdyb3VwcyA9IHJlc3VsdCB8fCBbXTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmbHVzaFZhbHVlKCkge1xuICAgICAgICBsZXQgb3B0aW9uID0gdGhpcy5ncm91cHMuZmluZChpdGVtID0+IGl0ZW0ubmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSB0aGlzLnZhbHVlLnRvTG9jYWxlTG93ZXJDYXNlKCkpO1xuXG4gICAgICAgIGlmIChvcHRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZmllbGQudmFsdWUgPSBvcHRpb247XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gb3B0aW9uLm5hbWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZpZWxkLnZhbHVlID0gbnVsbDtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5maWVsZC51cGRhdGVGb3JtKCk7XG4gICAgfVxuXG4gICAgb25JdGVtQ2xpY2soaXRlbTogR3JvdXBNb2RlbCwgZXZlbnQ6IEV2ZW50KSB7XG4gICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICB0aGlzLmZpZWxkLnZhbHVlID0gaXRlbTtcbiAgICAgICAgICAgIHRoaXMudmFsdWUgPSBpdGVtLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25JdGVtU2VsZWN0KGl0ZW06IEdyb3VwTW9kZWwpIHtcbiAgICAgICAgaWYgKGl0ZW0pIHtcbiAgICAgICAgICAgIHRoaXMuZmllbGQudmFsdWUgPSBpdGVtO1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IGl0ZW0ubmFtZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbiAvKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybVNlcnZpY2UgfSBmcm9tICcuLy4uLy4uLy4uL3NlcnZpY2VzL2Zvcm0uc2VydmljZSc7XG5pbXBvcnQgeyBiYXNlSG9zdCAsIFdpZGdldENvbXBvbmVudCB9IGZyb20gJy4vLi4vd2lkZ2V0LmNvbXBvbmVudCc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnaHlwZXJsaW5rLXdpZGdldCcsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2h5cGVybGluay53aWRnZXQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vaHlwZXJsaW5rLndpZGdldC5zY3NzJ10sXG4gICAgaG9zdDogYmFzZUhvc3QsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBIeXBlcmxpbmtXaWRnZXRDb21wb25lbnQgZXh0ZW5kcyBXaWRnZXRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgbGlua1VybDogc3RyaW5nID0gV2lkZ2V0Q29tcG9uZW50LkRFRkFVTFRfSFlQRVJMSU5LX1VSTDtcbiAgICBsaW5rVGV4dDogc3RyaW5nID0gbnVsbDtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBmb3JtU2VydmljZTogRm9ybVNlcnZpY2UpIHtcbiAgICAgICAgIHN1cGVyKGZvcm1TZXJ2aWNlKTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZmllbGQpIHtcbiAgICAgICAgICAgIHRoaXMubGlua1VybCA9IHRoaXMuZ2V0SHlwZXJsaW5rVXJsKHRoaXMuZmllbGQpO1xuICAgICAgICAgICAgdGhpcy5saW5rVGV4dCA9IHRoaXMuZ2V0SHlwZXJsaW5rVGV4dCh0aGlzLmZpZWxkKTtcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yICAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtU2VydmljZSB9IGZyb20gJy4vLi4vLi4vLi4vc2VydmljZXMvZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IGJhc2VIb3N0ICwgV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi8uLi93aWRnZXQuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdtdWx0aWxpbmUtdGV4dC13aWRnZXQnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9tdWx0aWxpbmUtdGV4dC53aWRnZXQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vbXVsdGlsaW5lLXRleHQud2lkZ2V0LnNjc3MnXSxcbiAgICBob3N0OiBiYXNlSG9zdCxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIE11bHRpbGluZVRleHRXaWRnZXRDb21wb25lbnRDb21wb25lbnQgZXh0ZW5kcyBXaWRnZXRDb21wb25lbnQgIHtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBmb3JtU2VydmljZTogRm9ybVNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoZm9ybVNlcnZpY2UpO1xuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuIC8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciBuby1pbnB1dC1yZW5hbWUgICAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtU2VydmljZSB9IGZyb20gJy4vLi4vLi4vLi4vc2VydmljZXMvZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IGJhc2VIb3N0ICwgV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi8uLi93aWRnZXQuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdudW1iZXItd2lkZ2V0JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vbnVtYmVyLndpZGdldC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9udW1iZXIud2lkZ2V0LnNjc3MnXSxcbiAgICBob3N0OiBiYXNlSG9zdCxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIE51bWJlcldpZGdldENvbXBvbmVudCBleHRlbmRzIFdpZGdldENvbXBvbmVudCB7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZm9ybVNlcnZpY2U6IEZvcm1TZXJ2aWNlKSB7XG4gICAgICAgICBzdXBlcihmb3JtU2VydmljZSk7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBSZXNwb25zZSB9IGZyb20gJ0Bhbmd1bGFyL2h0dHAnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgZnJvbSwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgVXNlclByb2Nlc3NNb2RlbCB9IGZyb20gJy4uL21vZGVscy91c2VyLXByb2Nlc3MubW9kZWwnO1xuaW1wb3J0IHsgQWxmcmVzY29BcGlTZXJ2aWNlIH0gZnJvbSAnLi9hbGZyZXNjby1hcGkuc2VydmljZSc7XG5pbXBvcnQgeyBMb2dTZXJ2aWNlIH0gZnJvbSAnLi9sb2cuc2VydmljZSc7XG5pbXBvcnQgeyBjYXRjaEVycm9yLCBtYXAgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBQZW9wbGVQcm9jZXNzU2VydmljZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFsZnJlc2NvSnNBcGk6IEFsZnJlc2NvQXBpU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGxvZ1NlcnZpY2U6IExvZ1NlcnZpY2UpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGluZm9ybWF0aW9uIGFib3V0IHVzZXJzIGFjcm9zcyBhbGwgdGFza3MuXG4gICAgICogQHBhcmFtIHRhc2tJZCBJRCBvZiB0aGUgdGFza1xuICAgICAqIEBwYXJhbSBzZWFyY2hXb3JkIEZpbHRlciB0ZXh0IHRvIHNlYXJjaCBmb3JcbiAgICAgKiBAcmV0dXJucyBBcnJheSBvZiB1c2VyIGluZm9ybWF0aW9uIG9iamVjdHNcbiAgICAgKi9cbiAgICBnZXRXb3JrZmxvd1VzZXJzKHRhc2tJZD86IHN0cmluZywgc2VhcmNoV29yZD86IHN0cmluZyk6IE9ic2VydmFibGU8VXNlclByb2Nlc3NNb2RlbFtdPiB7XG4gICAgICAgIGxldCBvcHRpb24gPSB7IGV4Y2x1ZGVUYXNrSWQ6IHRhc2tJZCwgZmlsdGVyOiBzZWFyY2hXb3JkIH07XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMuZ2V0V29ya2Zsb3dVc2VyQXBpKG9wdGlvbikpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAoKHJlc3BvbnNlOiBhbnkpID0+IDxVc2VyUHJvY2Vzc01vZGVsW10+IHJlc3BvbnNlLmRhdGEgfHwgW10pLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcHJvZmlsZSBwaWN0dXJlIFVSTCBmb3IgdGhlIHNwZWNpZmllZCB1c2VyLlxuICAgICAqIEBwYXJhbSB1c2VyIFRoZSB0YXJnZXQgdXNlclxuICAgICAqIEByZXR1cm5zIFByb2ZpbGUgcGljdHVyZSBVUkxcbiAgICAgKi9cbiAgICBnZXRVc2VySW1hZ2UodXNlcjogVXNlclByb2Nlc3NNb2RlbCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFVzZXJQcm9maWxlSW1hZ2VBcGkodXNlci5pZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyBhIHVzZXIgdG8gYmUgaW52b2x2ZWQgd2l0aCBhIHRhc2suXG4gICAgICogQHBhcmFtIHRhc2tJZCBJRCBvZiB0aGUgdGFyZ2V0IHRhc2tcbiAgICAgKiBAcGFyYW0gaWRUb0ludm9sdmUgSUQgb2YgdGhlIHVzZXIgdG8gaW52b2x2ZVxuICAgICAqIEByZXR1cm5zIEVtcHR5IHJlc3BvbnNlIHdoZW4gdGhlIHVwZGF0ZSBjb21wbGV0ZXNcbiAgICAgKi9cbiAgICBpbnZvbHZlVXNlcldpdGhUYXNrKHRhc2tJZDogc3RyaW5nLCBpZFRvSW52b2x2ZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxVc2VyUHJvY2Vzc01vZGVsW10+IHtcbiAgICAgICAgbGV0IG5vZGUgPSB7dXNlcklkOiBpZFRvSW52b2x2ZX07XG4gICAgICAgIHJldHVybiBmcm9tPFVzZXJQcm9jZXNzTW9kZWxbXT4odGhpcy5pbnZvbHZlVXNlclRvVGFza0FwaSh0YXNrSWQsIG5vZGUpKVxuICAgICAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGEgdXNlciB3aG8gaXMgY3VycmVudGx5IGludm9sdmVkIHdpdGggYSB0YXNrLlxuICAgICAqIEBwYXJhbSB0YXNrSWQgSUQgb2YgdGhlIHRhcmdldCB0YXNrXG4gICAgICogQHBhcmFtIGlkVG9SZW1vdmUgSUQgb2YgdGhlIHVzZXIgdG8gcmVtb3ZlXG4gICAgICogQHJldHVybnMgRW1wdHkgcmVzcG9uc2Ugd2hlbiB0aGUgdXBkYXRlIGNvbXBsZXRlc1xuICAgICAqL1xuICAgIHJlbW92ZUludm9sdmVkVXNlcih0YXNrSWQ6IHN0cmluZywgaWRUb1JlbW92ZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxVc2VyUHJvY2Vzc01vZGVsW10+IHtcbiAgICAgICAgbGV0IG5vZGUgPSB7dXNlcklkOiBpZFRvUmVtb3ZlfTtcbiAgICAgICAgcmV0dXJuIGZyb208VXNlclByb2Nlc3NNb2RlbFtdPih0aGlzLnJlbW92ZUludm9sdmVkVXNlckZyb21UYXNrQXBpKHRhc2tJZCwgbm9kZSkpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0V29ya2Zsb3dVc2VyQXBpKG9wdGlvbnM6IGFueSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbGZyZXNjb0pzQXBpLmdldEluc3RhbmNlKCkuYWN0aXZpdGkudXNlcnNXb3JrZmxvd0FwaS5nZXRVc2VycyhvcHRpb25zKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGludm9sdmVVc2VyVG9UYXNrQXBpKHRhc2tJZDogc3RyaW5nLCBub2RlOiBhbnkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxmcmVzY29Kc0FwaS5nZXRJbnN0YW5jZSgpLmFjdGl2aXRpLnRhc2tBY3Rpb25zQXBpLmludm9sdmVVc2VyKHRhc2tJZCwgbm9kZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZW1vdmVJbnZvbHZlZFVzZXJGcm9tVGFza0FwaSh0YXNrSWQ6IHN0cmluZywgbm9kZTogYW55KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmFsZnJlc2NvSnNBcGkuZ2V0SW5zdGFuY2UoKS5hY3Rpdml0aS50YXNrQWN0aW9uc0FwaS5yZW1vdmVJbnZvbHZlZFVzZXIodGFza0lkLCBub2RlKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFVzZXJQcm9maWxlSW1hZ2VBcGkodXNlcklkOiBudW1iZXIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxmcmVzY29Kc0FwaS5nZXRJbnN0YW5jZSgpLmFjdGl2aXRpLnVzZXJBcGkuZ2V0VXNlclByb2ZpbGVQaWN0dXJlVXJsKHVzZXJJZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhyb3cgdGhlIGVycm9yXG4gICAgICogQHBhcmFtIGVycm9yXG4gICAgICovXG4gICAgcHJpdmF0ZSBoYW5kbGVFcnJvcihlcnJvcjogUmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmVycm9yKGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoZXJyb3IgfHwgJ1NlcnZlciBlcnJvcicpO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuaW1wb3J0IHsgUGVvcGxlUHJvY2Vzc1NlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi9zZXJ2aWNlcy9wZW9wbGUtcHJvY2Vzcy5zZXJ2aWNlJztcbmltcG9ydCB7IFVzZXJQcm9jZXNzTW9kZWwgfSBmcm9tICcuLi8uLi8uLi8uLi9tb2RlbHMnO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIE9uSW5pdCwgT3V0cHV0LCBWaWV3Q2hpbGQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NlcnZpY2VzL2Zvcm0uc2VydmljZSc7XG5pbXBvcnQgeyBHcm91cE1vZGVsIH0gZnJvbSAnLi4vY29yZS9ncm91cC5tb2RlbCc7XG5pbXBvcnQgeyBiYXNlSG9zdCwgV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi8uLi93aWRnZXQuY29tcG9uZW50JztcbmltcG9ydCB7IEZvcm1Db250cm9sIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgb2YgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7XG4gICAgY2F0Y2hFcnJvcixcbiAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCxcbiAgICBtYXAsXG4gICAgc3dpdGNoTWFwLFxuICAgIHRhcFxufSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAncGVvcGxlLXdpZGdldCcsXG4gICAgdGVtcGxhdGVVcmw6ICcuL3Blb3BsZS53aWRnZXQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vcGVvcGxlLndpZGdldC5zY3NzJ10sXG4gICAgaG9zdDogYmFzZUhvc3QsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcbmV4cG9ydCBjbGFzcyBQZW9wbGVXaWRnZXRDb21wb25lbnQgZXh0ZW5kcyBXaWRnZXRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgQFZpZXdDaGlsZCgnaW5wdXRWYWx1ZScpXG4gICAgaW5wdXQ6IEVsZW1lbnRSZWY7XG5cbiAgICBAT3V0cHV0KClcbiAgICBwZW9wbGVTZWxlY3RlZDogRXZlbnRFbWl0dGVyPG51bWJlcj47XG5cbiAgICBncm91cElkOiBzdHJpbmc7XG4gICAgdmFsdWU6IGFueTtcblxuICAgIHNlYXJjaFRlcm0gPSBuZXcgRm9ybUNvbnRyb2woKTtcbiAgICBlcnJvck1zZyA9ICcnO1xuICAgIHNlYXJjaFRlcm1zJDogT2JzZXJ2YWJsZTxhbnk+ID0gdGhpcy5zZWFyY2hUZXJtLnZhbHVlQ2hhbmdlcztcblxuICAgIHVzZXJzJCA9IHRoaXMuc2VhcmNoVGVybXMkLnBpcGUoXG4gICAgICAgIHRhcCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmVycm9yTXNnID0gJyc7XG4gICAgICAgIH0pLFxuICAgICAgICBkaXN0aW5jdFVudGlsQ2hhbmdlZCgpLFxuICAgICAgICBzd2l0Y2hNYXAoKHNlYXJjaFRlcm0pID0+IHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHNlYXJjaFRlcm0uZW1haWwgPyB0aGlzLmdldERpc3BsYXlOYW1lKHNlYXJjaFRlcm0pIDogc2VhcmNoVGVybTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZvcm1TZXJ2aWNlLmdldFdvcmtmbG93VXNlcnModmFsdWUsIHRoaXMuZ3JvdXBJZClcbiAgICAgICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lcnJvck1zZyA9IGVyci5tZXNzYWdlO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9mKCk7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgfSksXG4gICAgICAgIG1hcCgobGlzdDogVXNlclByb2Nlc3NNb2RlbFtdKSA9PiB7XG4gICAgICAgICAgICBsZXQgdmFsdWUgPSB0aGlzLnNlYXJjaFRlcm0udmFsdWUuZW1haWwgPyB0aGlzLmdldERpc3BsYXlOYW1lKHRoaXMuc2VhcmNoVGVybS52YWx1ZSkgOiB0aGlzLnNlYXJjaFRlcm0udmFsdWU7XG4gICAgICAgICAgICB0aGlzLmNoZWNrVXNlckFuZFZhbGlkYXRlRm9ybShsaXN0LCB2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm4gbGlzdDtcbiAgICAgICAgfSlcbiAgICApO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGZvcm1TZXJ2aWNlOiBGb3JtU2VydmljZSwgcHVibGljIHBlb3BsZVByb2Nlc3NTZXJ2aWNlOiBQZW9wbGVQcm9jZXNzU2VydmljZSkge1xuICAgICAgICBzdXBlcihmb3JtU2VydmljZSk7XG4gICAgICAgIHRoaXMucGVvcGxlU2VsZWN0ZWQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmZpZWxkKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5maWVsZC52YWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMuc2VhcmNoVGVybS5zZXRWYWx1ZSh0aGlzLmZpZWxkLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0aGlzLmZpZWxkLnJlYWRPbmx5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWFyY2hUZXJtLmRpc2FibGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCBwYXJhbXMgPSB0aGlzLmZpZWxkLnBhcmFtcztcbiAgICAgICAgICAgIGlmIChwYXJhbXMgJiYgcGFyYW1zLnJlc3RyaWN0V2l0aEdyb3VwKSB7XG4gICAgICAgICAgICAgICAgbGV0IHJlc3RyaWN0V2l0aEdyb3VwID0gPEdyb3VwTW9kZWw+IHBhcmFtcy5yZXN0cmljdFdpdGhHcm91cDtcbiAgICAgICAgICAgICAgICB0aGlzLmdyb3VwSWQgPSByZXN0cmljdFdpdGhHcm91cC5pZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNoZWNrVXNlckFuZFZhbGlkYXRlRm9ybShsaXN0LCB2YWx1ZSkge1xuICAgICAgICBjb25zdCBpc1ZhbGlkVXNlciA9IHRoaXMuaXNWYWxpZFVzZXIobGlzdCwgdmFsdWUpO1xuICAgICAgICBpZiAoaXNWYWxpZFVzZXIgfHwgdmFsdWUgPT09ICcnKSB7XG4gICAgICAgICAgICB0aGlzLmZpZWxkLnZhbGlkYXRpb25TdW1tYXJ5Lm1lc3NhZ2UgPSAnJztcbiAgICAgICAgICAgIHRoaXMuZmllbGQudmFsaWRhdGUoKTtcbiAgICAgICAgICAgIHRoaXMuZmllbGQuZm9ybS52YWxpZGF0ZUZvcm0oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuZmllbGQudmFsaWRhdGlvblN1bW1hcnkubWVzc2FnZSA9ICdGT1JNLkZJRUxELlZBTElEQVRPUi5JTlZBTElEX1ZBTFVFJztcbiAgICAgICAgICAgIHRoaXMuZmllbGQubWFya0FzSW52YWxpZCgpO1xuICAgICAgICAgICAgdGhpcy5maWVsZC5mb3JtLm1hcmtBc0ludmFsaWQoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzVmFsaWRVc2VyKHVzZXJzOiBVc2VyUHJvY2Vzc01vZGVsW10sIG5hbWU6IHN0cmluZykge1xuICAgICAgICBpZiAodXNlcnMpIHtcbiAgICAgICAgICAgIHJldHVybiB1c2Vycy5maW5kKCh1c2VyKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWRVc2VyID0gdGhpcy5nZXREaXNwbGF5TmFtZSh1c2VyKS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBuYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGVjdGVkVXNlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBlb3BsZVNlbGVjdGVkLmVtaXQodXNlciAmJiB1c2VyLmlkIHx8IHVuZGVmaW5lZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBzZWxlY3RlZFVzZXI7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldERpc3BsYXlOYW1lKG1vZGVsOiBVc2VyUHJvY2Vzc01vZGVsKSB7XG4gICAgICAgIGlmIChtb2RlbCkge1xuICAgICAgICAgICAgbGV0IGRpc3BsYXlOYW1lID0gYCR7bW9kZWwuZmlyc3ROYW1lIHx8ICcnfSAke21vZGVsLmxhc3ROYW1lIHx8ICcnfWA7XG4gICAgICAgICAgICByZXR1cm4gZGlzcGxheU5hbWUudHJpbSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG5cbiAgICBvbkl0ZW1TZWxlY3QoaXRlbTogVXNlclByb2Nlc3NNb2RlbCkge1xuICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgdGhpcy5maWVsZC52YWx1ZSA9IGl0ZW07XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4gLyogdHNsaW50OmRpc2FibGU6Y29tcG9uZW50LXNlbGVjdG9yICAqL1xuXG5pbXBvcnQgeyBMb2dTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2VydmljZXMvbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtU2VydmljZSB9IGZyb20gJy4uLy4uLy4uL3NlcnZpY2VzL2Zvcm0uc2VydmljZSc7XG5pbXBvcnQgeyBGb3JtRmllbGRPcHRpb24gfSBmcm9tICcuLy4uL2NvcmUvZm9ybS1maWVsZC1vcHRpb24nO1xuaW1wb3J0IHsgYmFzZUhvc3QgLCBXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuLy4uL3dpZGdldC5jb21wb25lbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ3JhZGlvLWJ1dHRvbnMtd2lkZ2V0JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vcmFkaW8tYnV0dG9ucy53aWRnZXQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vcmFkaW8tYnV0dG9ucy53aWRnZXQuc2NzcyddLFxuICAgIGhvc3Q6IGJhc2VIb3N0LFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgUmFkaW9CdXR0b25zV2lkZ2V0Q29tcG9uZW50IGV4dGVuZHMgV2lkZ2V0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBmb3JtU2VydmljZTogRm9ybVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBsb2dTZXJ2aWNlOiBMb2dTZXJ2aWNlKSB7XG4gICAgICAgICBzdXBlcihmb3JtU2VydmljZSk7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICh0aGlzLmZpZWxkICYmIHRoaXMuZmllbGQucmVzdFVybCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuZmllbGQuZm9ybS50YXNrSWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldE9wdGlvbnNCeVRhc2tJZCgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmdldE9wdGlvbnNCeVByb2Nlc3NEZWZpbml0aW9uSWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldE9wdGlvbnNCeVRhc2tJZCgpIHtcbiAgICAgICAgdGhpcy5mb3JtU2VydmljZVxuICAgICAgICAgICAgLmdldFJlc3RGaWVsZFZhbHVlcyhcbiAgICAgICAgICAgICAgICB0aGlzLmZpZWxkLmZvcm0udGFza0lkLFxuICAgICAgICAgICAgICAgIHRoaXMuZmllbGQuaWRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgKHJlc3VsdDogRm9ybUZpZWxkT3B0aW9uW10pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWVsZC5vcHRpb25zID0gcmVzdWx0IHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpZWxkLnVwZGF0ZUZvcm0oKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycilcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgZ2V0T3B0aW9uc0J5UHJvY2Vzc0RlZmluaXRpb25JZCgpIHtcbiAgICAgICAgdGhpcy5mb3JtU2VydmljZVxuICAgICAgICAgICAgLmdldFJlc3RGaWVsZFZhbHVlc0J5UHJvY2Vzc0lkKFxuICAgICAgICAgICAgICAgIHRoaXMuZmllbGQuZm9ybS5wcm9jZXNzRGVmaW5pdGlvbklkLFxuICAgICAgICAgICAgICAgIHRoaXMuZmllbGQuaWRcbiAgICAgICAgICAgIClcbiAgICAgICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgKHJlc3VsdDogRm9ybUZpZWxkT3B0aW9uW10pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5maWVsZC5vcHRpb25zID0gcmVzdWx0IHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZpZWxkLnVwZGF0ZUZvcm0oKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycilcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgb25PcHRpb25DbGljayhvcHRpb25TZWxlY3RlZDogYW55KSB7XG4gICAgICAgIHRoaXMuZmllbGQudmFsdWUgPSBvcHRpb25TZWxlY3RlZDtcbiAgICAgICAgdGhpcy5maWVsZENoYW5nZWQuZW1pdCh0aGlzLmZpZWxkKTtcbiAgICB9XG5cbiAgICBoYW5kbGVFcnJvcihlcnJvcjogYW55KSB7XG4gICAgICAgIHRoaXMubG9nU2VydmljZS5lcnJvcihlcnJvcik7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4gLyogdHNsaW50OmRpc2FibGU6IGNvbXBvbmVudC1zZWxlY3RvciBuby11c2UtYmVmb3JlLWRlY2xhcmUgbm8taW5wdXQtcmVuYW1lICAqL1xuXG5pbXBvcnQge1xuICAgIERpcmVjdGl2ZSxcbiAgICBFbGVtZW50UmVmLFxuICAgIGZvcndhcmRSZWYsXG4gICAgSG9zdExpc3RlbmVyLFxuICAgIElucHV0LFxuICAgIE9uQ2hhbmdlcyxcbiAgICBSZW5kZXJlcjIsXG4gICAgU2ltcGxlQ2hhbmdlc1xufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENvbnRyb2xWYWx1ZUFjY2Vzc29yLCBOR19WQUxVRV9BQ0NFU1NPUiB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuZXhwb3J0IGNvbnN0IENVU1RPTV9JTlBVVF9DT05UUk9MX1ZBTFVFX0FDQ0VTU09SOiBhbnkgPSB7XG4gICAgcHJvdmlkZTogTkdfVkFMVUVfQUNDRVNTT1IsXG4gICAgdXNlRXhpc3Rpbmc6IGZvcndhcmRSZWYoKCkgPT4gSW5wdXRNYXNrRGlyZWN0aXZlKSxcbiAgICBtdWx0aTogdHJ1ZVxufTtcblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdbdGV4dE1hc2tdJyxcbiAgICBwcm92aWRlcnM6IFtDVVNUT01fSU5QVVRfQ09OVFJPTF9WQUxVRV9BQ0NFU1NPUl1cbn0pXG5leHBvcnQgY2xhc3MgSW5wdXRNYXNrRGlyZWN0aXZlIGltcGxlbWVudHMgT25DaGFuZ2VzLCBDb250cm9sVmFsdWVBY2Nlc3NvciB7XG5cbiAgICAvKiogT2JqZWN0IGRlZmluaW5nIG1hc2sgYW5kIFwicmV2ZXJzZWRcIiBzdGF0dXMuICovXG4gICAgQElucHV0KCd0ZXh0TWFzaycpIGlucHV0TWFzazoge1xuICAgICAgICBtYXNrOiAnJyxcbiAgICAgICAgaXNSZXZlcnNlZDogZmFsc2VcbiAgICB9O1xuXG4gICAgcHJpdmF0ZSB0cmFuc2xhdGlvbk1hc2sgPSB7XG4gICAgICAgICcwJzogeyBwYXR0ZXJuOiAvXFxkLyB9LFxuICAgICAgICAnOSc6IHsgcGF0dGVybjogL1xcZC8sIG9wdGlvbmFsOiB0cnVlIH0sXG4gICAgICAgICcjJzogeyBwYXR0ZXJuOiAvXFxkLywgcmVjdXJzaXZlOiB0cnVlIH0sXG4gICAgICAgICdBJzogeyBwYXR0ZXJuOiAvW2EtekEtWjAtOV0vIH0sXG4gICAgICAgICdTJzogeyBwYXR0ZXJuOiAvW2EtekEtWl0vIH1cbiAgICB9O1xuXG4gICAgcHJpdmF0ZSBieVBhc3NLZXlzID0gWzksIDE2LCAxNywgMTgsIDM2LCAzNywgMzgsIDM5LCA0MCwgOTFdO1xuICAgIHByaXZhdGUgdmFsdWU7XG4gICAgcHJpdmF0ZSBpbnZhbGlkQ2hhcmFjdGVycyA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBlbDogRWxlbWVudFJlZiwgcHJpdmF0ZSByZW5kZXI6IFJlbmRlcmVyMikge1xuICAgIH1cblxuICAgIF9vbkNoYW5nZSA9IChfOiBhbnkpID0+IHtcbiAgICB9XG5cbiAgICBfb25Ub3VjaGVkID0gKCkgPT4ge1xuICAgIH1cblxuICAgIEBIb3N0TGlzdGVuZXIoJ2lucHV0JywgWyckZXZlbnQnXSlcbiAgICBASG9zdExpc3RlbmVyKCdrZXl1cCcsIFsnJGV2ZW50J10pIG9uVGV4dElucHV0KGV2ZW50OiBLZXlib2FyZEV2ZW50KSB7XG4gICAgICAgIGlmICh0aGlzLmlucHV0TWFzayAmJiB0aGlzLmlucHV0TWFzay5tYXNrKSB7XG4gICAgICAgICAgICB0aGlzLm1hc2tWYWx1ZSh0aGlzLmVsLm5hdGl2ZUVsZW1lbnQudmFsdWUsIHRoaXMuZWwubmF0aXZlRWxlbWVudC5zZWxlY3Rpb25TdGFydCxcbiAgICAgICAgICAgICAgICB0aGlzLmlucHV0TWFzay5tYXNrLCB0aGlzLmlucHV0TWFzay5pc1JldmVyc2VkLCBldmVudC5rZXlDb2RlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKHRoaXMuZWwubmF0aXZlRWxlbWVudC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZ09uQ2hhbmdlcyhjaGFuZ2VzOiBTaW1wbGVDaGFuZ2VzKSB7XG4gICAgICAgIGlmIChjaGFuZ2VzWydpbnB1dE1hc2snXSAmJiBjaGFuZ2VzWydpbnB1dE1hc2snXS5jdXJyZW50VmFsdWVbJ21hc2snXSkge1xuICAgICAgICAgICAgdGhpcy5pbnB1dE1hc2sgPSBjaGFuZ2VzWydpbnB1dE1hc2snXS5jdXJyZW50VmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB3cml0ZVZhbHVlKHZhbHVlOiBhbnkpIHtcbiAgICAgICAgdGhpcy5lbC5uYXRpdmVFbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJPbkNoYW5nZShmbjogYW55KSB7XG4gICAgICAgIHRoaXMuX29uQ2hhbmdlID0gZm47XG4gICAgfVxuXG4gICAgcmVnaXN0ZXJPblRvdWNoZWQoZm46ICgpID0+IGFueSk6IHZvaWQge1xuICAgICAgICB0aGlzLl9vblRvdWNoZWQgPSBmbjtcbiAgICB9XG5cbiAgICBwcml2YXRlIG1hc2tWYWx1ZShhY3R1YWxWYWx1ZSwgc3RhcnRDYXJldCwgbWFza1RvQXBwbHksIGlzTWFza1JldmVyc2VkLCBrZXlDb2RlKSB7XG4gICAgICAgIGlmICh0aGlzLmJ5UGFzc0tleXMuaW5kZXhPZihrZXlDb2RlKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIGxldCB2YWx1ZSA9IHRoaXMuZ2V0TWFza2VkKGZhbHNlLCBhY3R1YWxWYWx1ZSwgbWFza1RvQXBwbHksIGlzTWFza1JldmVyc2VkKTtcbiAgICAgICAgICAgIGxldCBjYWxjdWxhdGVkQ2FyZXQgPSB0aGlzLmNhbGN1bGF0ZUNhcmV0UG9zaXRpb24oc3RhcnRDYXJldCwgYWN0dWFsVmFsdWUsIGtleUNvZGUpO1xuICAgICAgICAgICAgdGhpcy5yZW5kZXIuc2V0QXR0cmlidXRlKHRoaXMuZWwubmF0aXZlRWxlbWVudCwgJ3ZhbHVlJywgdmFsdWUpO1xuICAgICAgICAgICAgdGhpcy5lbC5uYXRpdmVFbGVtZW50LnZhbHVlID0gdmFsdWU7XG4gICAgICAgICAgICB0aGlzLnNldFZhbHVlKHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuX29uQ2hhbmdlKHZhbHVlKTtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2FyZXRQb3NpdGlvbihjYWxjdWxhdGVkQ2FyZXQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXRDYXJldFBvc2l0aW9uKGNhcmV0UG9zaXRpb24pIHtcbiAgICAgICAgdGhpcy5lbC5uYXRpdmVFbGVtZW50Lm1vdmVTdGFydCA9IGNhcmV0UG9zaXRpb247XG4gICAgICAgIHRoaXMuZWwubmF0aXZlRWxlbWVudC5tb3ZlRW5kID0gY2FyZXRQb3NpdGlvbjtcbiAgICB9XG5cbiAgICBjYWxjdWxhdGVDYXJldFBvc2l0aW9uKGNhcmV0UG9zaXRpb24sIG5ld1ZhbHVlLCBrZXlDb2RlKSB7XG4gICAgICAgIGxldCBuZXdWYWx1ZUxlbmd0aCA9IG5ld1ZhbHVlLmxlbmd0aDtcbiAgICAgICAgbGV0IG9sZFZhbHVlID0gdGhpcy5nZXRWYWx1ZSgpIHx8ICcnO1xuICAgICAgICBsZXQgb2xkVmFsdWVMZW5ndGggPSBvbGRWYWx1ZS5sZW5ndGg7XG5cbiAgICAgICAgaWYgKGtleUNvZGUgPT09IDggJiYgb2xkVmFsdWUgIT09IG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBjYXJldFBvc2l0aW9uID0gY2FyZXRQb3NpdGlvbiAtIChuZXdWYWx1ZS5zbGljZSgwLCBjYXJldFBvc2l0aW9uKS5sZW5ndGggLSBvbGRWYWx1ZS5zbGljZSgwLCBjYXJldFBvc2l0aW9uKS5sZW5ndGgpO1xuICAgICAgICB9IGVsc2UgaWYgKG9sZFZhbHVlICE9PSBuZXdWYWx1ZSkge1xuICAgICAgICAgICAgaWYgKGNhcmV0UG9zaXRpb24gPj0gb2xkVmFsdWVMZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjYXJldFBvc2l0aW9uID0gbmV3VmFsdWVMZW5ndGg7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhcmV0UG9zaXRpb24gPSBjYXJldFBvc2l0aW9uICsgKG5ld1ZhbHVlLnNsaWNlKDAsIGNhcmV0UG9zaXRpb24pLmxlbmd0aCAtIG9sZFZhbHVlLnNsaWNlKDAsIGNhcmV0UG9zaXRpb24pLmxlbmd0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNhcmV0UG9zaXRpb247XG4gICAgfVxuXG4gICAgZ2V0TWFza2VkKHNraXBNYXNrQ2hhcnMsIHZhbCwgbWFzaywgaXNSZXZlcnNlZCA9IGZhbHNlKSB7XG4gICAgICAgIGxldCBidWYgPSBbXSxcbiAgICAgICAgICAgIHZhbHVlID0gdmFsLFxuICAgICAgICAgICAgbWFza0luZGV4ID0gMCxcbiAgICAgICAgICAgIG1hc2tMZW4gPSBtYXNrLmxlbmd0aCxcbiAgICAgICAgICAgIHZhbHVlSW5kZXggPSAwLFxuICAgICAgICAgICAgdmFsdWVMZW5ndGggPSB2YWx1ZS5sZW5ndGgsXG4gICAgICAgICAgICBvZmZzZXQgPSAxLFxuICAgICAgICAgICAgYWRkTWV0aG9kID0gJ3B1c2gnLFxuICAgICAgICAgICAgcmVzZXRQb3MgPSAtMSxcbiAgICAgICAgICAgIGxhc3RNYXNrQ2hhcixcbiAgICAgICAgICAgIGxhc3RVbnRyYW5zbGF0ZWRNYXNrQ2hhcixcbiAgICAgICAgICAgIGNoZWNrO1xuXG4gICAgICAgIGlmIChpc1JldmVyc2VkKSB7XG4gICAgICAgICAgICBhZGRNZXRob2QgPSAndW5zaGlmdCc7XG4gICAgICAgICAgICBvZmZzZXQgPSAtMTtcbiAgICAgICAgICAgIGxhc3RNYXNrQ2hhciA9IDA7XG4gICAgICAgICAgICBtYXNrSW5kZXggPSBtYXNrTGVuIC0gMTtcbiAgICAgICAgICAgIHZhbHVlSW5kZXggPSB2YWx1ZUxlbmd0aCAtIDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBsYXN0TWFza0NoYXIgPSBtYXNrTGVuIC0gMTtcbiAgICAgICAgfVxuICAgICAgICBjaGVjayA9IHRoaXMuaXNUb0NoZWNrKGlzUmV2ZXJzZWQsIG1hc2tJbmRleCwgbWFza0xlbiwgdmFsdWVJbmRleCwgdmFsdWVMZW5ndGgpO1xuICAgICAgICB3aGlsZSAoY2hlY2spIHtcbiAgICAgICAgICAgIGxldCBtYXNrRGlnaXQgPSBtYXNrLmNoYXJBdChtYXNrSW5kZXgpLFxuICAgICAgICAgICAgICAgIHZhbERpZ2l0ID0gdmFsdWUuY2hhckF0KHZhbHVlSW5kZXgpLFxuICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uID0gdGhpcy50cmFuc2xhdGlvbk1hc2tbbWFza0RpZ2l0XTtcblxuICAgICAgICAgICAgaWYgKHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAgICAgaWYgKHZhbERpZ2l0Lm1hdGNoKHRyYW5zbGF0aW9uLnBhdHRlcm4pKSB7XG4gICAgICAgICAgICAgICAgICAgIGJ1ZlthZGRNZXRob2RdKHZhbERpZ2l0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRyYW5zbGF0aW9uLnJlY3Vyc2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc2V0UG9zID09PSAtMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0UG9zID0gbWFza0luZGV4O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChtYXNrSW5kZXggPT09IGxhc3RNYXNrQ2hhcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hc2tJbmRleCA9IHJlc2V0UG9zIC0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGxhc3RNYXNrQ2hhciA9PT0gcmVzZXRQb3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXNrSW5kZXggLT0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1hc2tJbmRleCArPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh2YWxEaWdpdCA9PT0gbGFzdFVudHJhbnNsYXRlZE1hc2tDaGFyKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3RVbnRyYW5zbGF0ZWRNYXNrQ2hhciA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRyYW5zbGF0aW9uLm9wdGlvbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIG1hc2tJbmRleCArPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlSW5kZXggLT0gb2Zmc2V0O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW52YWxpZENoYXJhY3RlcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogdmFsdWVJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpZ2l0OiB2YWxEaWdpdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zbGF0ZWQ6IHRyYW5zbGF0aW9uLnBhdHRlcm5cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhbHVlSW5kZXggKz0gb2Zmc2V0O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNraXBNYXNrQ2hhcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgYnVmW2FkZE1ldGhvZF0obWFza0RpZ2l0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHZhbERpZ2l0ID09PSBtYXNrRGlnaXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVJbmRleCArPSBvZmZzZXQ7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdFVudHJhbnNsYXRlZE1hc2tDaGFyID0gbWFza0RpZ2l0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYXNrSW5kZXggKz0gb2Zmc2V0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hlY2sgPSB0aGlzLmlzVG9DaGVjayhpc1JldmVyc2VkLCBtYXNrSW5kZXgsIG1hc2tMZW4sIHZhbHVlSW5kZXgsIHZhbHVlTGVuZ3RoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBsYXN0TWFza0NoYXJEaWdpdCA9IG1hc2suY2hhckF0KGxhc3RNYXNrQ2hhcik7XG4gICAgICAgIGlmIChtYXNrTGVuID09PSB2YWx1ZUxlbmd0aCArIDEgJiYgIXRoaXMudHJhbnNsYXRpb25NYXNrW2xhc3RNYXNrQ2hhckRpZ2l0XSkge1xuICAgICAgICAgICAgYnVmLnB1c2gobGFzdE1hc2tDaGFyRGlnaXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGJ1Zi5qb2luKCcnKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGlzVG9DaGVjayhpc1JldmVyc2VkLCBtYXNrSW5kZXgsIG1hc2tMZW4sIHZhbHVlSW5kZXgsIHZhbHVlTGVuZ3RoKSB7XG4gICAgICAgIGxldCBjaGVjayA9IGZhbHNlO1xuICAgICAgICBpZiAoaXNSZXZlcnNlZCkge1xuICAgICAgICAgICAgY2hlY2sgPSAobWFza0luZGV4ID4gLTEpICYmICh2YWx1ZUluZGV4ID4gLTEpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2hlY2sgPSAobWFza0luZGV4IDwgbWFza0xlbikgJiYgKHZhbHVlSW5kZXggPCB2YWx1ZUxlbmd0aCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNoZWNrO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0VmFsdWUodmFsdWUpIHtcbiAgICAgICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0VmFsdWUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnZhbHVlO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtU2VydmljZSB9IGZyb20gJy4vLi4vLi4vLi4vc2VydmljZXMvZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IGJhc2VIb3N0ICwgV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi8uLi93aWRnZXQuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd0ZXh0LXdpZGdldCcsXG4gICAgdGVtcGxhdGVVcmw6ICcuL3RleHQud2lkZ2V0Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL3RleHQud2lkZ2V0LnNjc3MnXSxcbiAgICBob3N0OiBiYXNlSG9zdCxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIFRleHRXaWRnZXRDb21wb25lbnQgZXh0ZW5kcyBXaWRnZXRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgbWFzazogc3RyaW5nO1xuICAgIHBsYWNlaG9sZGVyOiBzdHJpbmc7XG4gICAgaXNNYXNrUmV2ZXJzZWQ6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZm9ybVNlcnZpY2U6IEZvcm1TZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKGZvcm1TZXJ2aWNlKTtcbiAgICB9XG5cbiAgICBuZ09uSW5pdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZmllbGQucGFyYW1zKSB7XG4gICAgICAgICAgICB0aGlzLm1hc2sgPSB0aGlzLmZpZWxkLnBhcmFtc1snaW5wdXRNYXNrJ107XG4gICAgICAgICAgICB0aGlzLnBsYWNlaG9sZGVyID0gdGhpcy5maWVsZC5wYXJhbXNbJ2lucHV0TWFzayddICYmIHRoaXMuZmllbGQucGFyYW1zWydpbnB1dE1hc2tQbGFjZWhvbGRlciddID8gdGhpcy5maWVsZC5wYXJhbXNbJ2lucHV0TWFza1BsYWNlaG9sZGVyJ10gOiB0aGlzLmZpZWxkLnBsYWNlaG9sZGVyO1xuICAgICAgICAgICAgdGhpcy5pc01hc2tSZXZlcnNlZCA9IHRoaXMuZmllbGQucGFyYW1zWydpbnB1dE1hc2tSZXZlcnNlZCddID8gdGhpcy5maWVsZC5wYXJhbXNbJ2lucHV0TWFza1JldmVyc2VkJ10gOiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuaW1wb3J0IHsgTG9nU2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NlcnZpY2VzL2xvZy5zZXJ2aWNlJztcbmltcG9ydCB7IEVOVEVSLCBFU0NBUEUgfSBmcm9tICdAYW5ndWxhci9jZGsva2V5Y29kZXMnO1xuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtU2VydmljZSB9IGZyb20gJy4vLi4vLi4vLi4vc2VydmljZXMvZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IEZvcm1GaWVsZE9wdGlvbiB9IGZyb20gJy4vLi4vY29yZS9mb3JtLWZpZWxkLW9wdGlvbic7XG5pbXBvcnQgeyBiYXNlSG9zdCwgV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi8uLi93aWRnZXQuY29tcG9uZW50JztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd0eXBlYWhlYWQtd2lkZ2V0JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vdHlwZWFoZWFkLndpZGdldC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi90eXBlYWhlYWQud2lkZ2V0LnNjc3MnXSxcbiAgICBob3N0OiBiYXNlSG9zdCxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIFR5cGVhaGVhZFdpZGdldENvbXBvbmVudCBleHRlbmRzIFdpZGdldENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBtaW5UZXJtTGVuZ3RoOiBudW1iZXIgPSAxO1xuICAgIHZhbHVlOiBzdHJpbmc7XG4gICAgb2xkVmFsdWU6IHN0cmluZztcbiAgICBvcHRpb25zOiBGb3JtRmllbGRPcHRpb25bXSA9IFtdO1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGZvcm1TZXJ2aWNlOiBGb3JtU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGxvZ1NlcnZpY2U6IExvZ1NlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoZm9ybVNlcnZpY2UpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAodGhpcy5maWVsZC5mb3JtLnRhc2tJZCAmJiB0aGlzLmZpZWxkLnJlc3RVcmwpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0VmFsdWVzQnlUYXNrSWQoKTtcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLmZpZWxkLmZvcm0ucHJvY2Vzc0RlZmluaXRpb25JZCAmJiB0aGlzLmZpZWxkLnJlc3RVcmwpIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0VmFsdWVzQnlQcm9jZXNzRGVmaW5pdGlvbklkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuaXNSZWFkT25seVR5cGUoKSkge1xuICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRoaXMuZmllbGQudmFsdWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRWYWx1ZXNCeVRhc2tJZCgpIHtcbiAgICAgICAgdGhpcy5mb3JtU2VydmljZVxuICAgICAgICAgICAgLmdldFJlc3RGaWVsZFZhbHVlcyhcbiAgICAgICAgICAgIHRoaXMuZmllbGQuZm9ybS50YXNrSWQsXG4gICAgICAgICAgICB0aGlzLmZpZWxkLmlkXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAgICAgKHJlc3VsdDogRm9ybUZpZWxkT3B0aW9uW10pID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgb3B0aW9ucyA9IHJlc3VsdCB8fCBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZWxkLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgICAgICAgICAgICAgbGV0IGZpZWxkVmFsdWUgPSB0aGlzLmZpZWxkLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b1NlbGVjdCA9IG9wdGlvbnMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGZpZWxkVmFsdWUgfHwgaXRlbS5uYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IGZpZWxkVmFsdWUudG9Mb2NhbGVMb3dlckNhc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b1NlbGVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52YWx1ZSA9IHRvU2VsZWN0Lm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5vbkZpZWxkQ2hhbmdlZCh0aGlzLmZpZWxkKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZWxkLnVwZGF0ZUZvcm0oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIGdldFZhbHVlc0J5UHJvY2Vzc0RlZmluaXRpb25JZCgpIHtcbiAgICAgICAgdGhpcy5mb3JtU2VydmljZVxuICAgICAgICAgICAgLmdldFJlc3RGaWVsZFZhbHVlc0J5UHJvY2Vzc0lkKFxuICAgICAgICAgICAgdGhpcy5maWVsZC5mb3JtLnByb2Nlc3NEZWZpbml0aW9uSWQsXG4gICAgICAgICAgICB0aGlzLmZpZWxkLmlkXG4gICAgICAgICAgICApXG4gICAgICAgICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAgICAgKHJlc3VsdDogRm9ybUZpZWxkT3B0aW9uW10pID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgb3B0aW9ucyA9IHJlc3VsdCB8fCBbXTtcbiAgICAgICAgICAgICAgICB0aGlzLmZpZWxkLm9wdGlvbnMgPSBvcHRpb25zO1xuXG4gICAgICAgICAgICAgICAgbGV0IGZpZWxkVmFsdWUgPSB0aGlzLmZpZWxkLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChmaWVsZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCB0b1NlbGVjdCA9IG9wdGlvbnMuZmluZChpdGVtID0+IGl0ZW0uaWQgPT09IGZpZWxkVmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9TZWxlY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmFsdWUgPSB0b1NlbGVjdC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMub25GaWVsZENoYW5nZWQodGhpcy5maWVsZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5maWVsZC51cGRhdGVGb3JtKCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBnZXRPcHRpb25zKCk6IEZvcm1GaWVsZE9wdGlvbltdIHtcbiAgICAgICAgbGV0IHZhbCA9IHRoaXMudmFsdWUudHJpbSgpLnRvTG9jYWxlTG93ZXJDYXNlKCk7XG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkLm9wdGlvbnMuZmlsdGVyKGl0ZW0gPT4ge1xuICAgICAgICAgICAgbGV0IG5hbWUgPSBpdGVtLm5hbWUudG9Mb2NhbGVMb3dlckNhc2UoKTtcbiAgICAgICAgICAgIHJldHVybiBuYW1lLmluZGV4T2YodmFsKSA+IC0xO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBpc1ZhbGlkT3B0aW9uTmFtZShvcHRpb25OYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgbGV0IG9wdGlvbiA9IHRoaXMuZmllbGQub3B0aW9ucy5maW5kKGl0ZW0gPT4gaXRlbS5uYW1lICYmIGl0ZW0ubmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSBvcHRpb25OYW1lLnRvTG9jYWxlTG93ZXJDYXNlKCkpO1xuICAgICAgICByZXR1cm4gb3B0aW9uID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cblxuICAgIG9uS2V5VXAoZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcbiAgICAgICAgaWYgKHRoaXMudmFsdWUgJiYgdGhpcy52YWx1ZS50cmltKCkubGVuZ3RoID49IHRoaXMubWluVGVybUxlbmd0aCAmJiB0aGlzLm9sZFZhbHVlICE9PSB0aGlzLnZhbHVlKSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQua2V5Q29kZSAhPT0gRVNDQVBFICYmIGV2ZW50LmtleUNvZGUgIT09IEVOVEVSKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudmFsdWUubGVuZ3RoID49IHRoaXMubWluVGVybUxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMgPSB0aGlzLmdldE9wdGlvbnMoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbGRWYWx1ZSA9IHRoaXMudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVmFsaWRPcHRpb25OYW1lKHRoaXMudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZpZWxkLnZhbHVlID0gdGhpcy5vcHRpb25zWzBdLmlkO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmlzVmFsdWVEZWZpbmVkKCkgJiYgdGhpcy52YWx1ZS50cmltKCkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLm9sZFZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICAgICAgICAgIHRoaXMub3B0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgb25JdGVtU2VsZWN0KGl0ZW06IEZvcm1GaWVsZE9wdGlvbikge1xuICAgICAgICBpZiAoaXRlbSkge1xuICAgICAgICAgICAgdGhpcy5maWVsZC52YWx1ZSA9IGl0ZW0uaWQ7XG4gICAgICAgICAgICB0aGlzLnZhbHVlID0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgdGhpcy5vbkZpZWxkQ2hhbmdlZCh0aGlzLmZpZWxkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHZhbGlkYXRlKCkge1xuICAgICAgICB0aGlzLmZpZWxkLnZhbHVlID0gdGhpcy52YWx1ZTtcbiAgICB9XG5cbiAgICBpc1ZhbHVlRGVmaW5lZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgIT09IG51bGwgJiYgdGhpcy52YWx1ZSAhPT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIGhhbmRsZUVycm9yKGVycm9yOiBhbnkpIHtcbiAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmVycm9yKGVycm9yKTtcbiAgICB9XG5cbiAgICBpc1JlYWRPbmx5VHlwZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQudHlwZSA9PT0gJ3JlYWRvbmx5JyA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbi8qIHRzbGludDpkaXNhYmxlOmNvbXBvbmVudC1zZWxlY3RvciAgKi9cblxuaW1wb3J0IHsgTG9nU2VydmljZSB9IGZyb20gJy4uLy4uLy4uLy4uL3NlcnZpY2VzL2xvZy5zZXJ2aWNlJztcbmltcG9ydCB7IFRodW1ibmFpbFNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi8uLi9zZXJ2aWNlcy90aHVtYm5haWwuc2VydmljZSc7XG5pbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIE9uSW5pdCwgVmlld0NoaWxkLCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgZnJvbSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgRm9ybVNlcnZpY2UgfSBmcm9tICcuLi8uLi8uLi9zZXJ2aWNlcy9mb3JtLnNlcnZpY2UnO1xuaW1wb3J0IHsgUHJvY2Vzc0NvbnRlbnRTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vc2VydmljZXMvcHJvY2Vzcy1jb250ZW50LnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29udGVudExpbmtNb2RlbCB9IGZyb20gJy4uL2NvcmUvY29udGVudC1saW5rLm1vZGVsJztcbmltcG9ydCB7IGJhc2VIb3N0LCBXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuLy4uL3dpZGdldC5jb21wb25lbnQnO1xuaW1wb3J0IHsgbWVyZ2VNYXAsIG1hcCB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICd1cGxvYWQtd2lkZ2V0JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vdXBsb2FkLndpZGdldC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi91cGxvYWQud2lkZ2V0LnNjc3MnXSxcbiAgICBob3N0OiBiYXNlSG9zdCxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIFVwbG9hZFdpZGdldENvbXBvbmVudCBleHRlbmRzIFdpZGdldENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgICBoYXNGaWxlOiBib29sZWFuO1xuICAgIGRpc3BsYXlUZXh0OiBzdHJpbmc7XG4gICAgbXVsdGlwbGVPcHRpb246IHN0cmluZyA9ICcnO1xuICAgIG1pbWVUeXBlSWNvbjogc3RyaW5nO1xuXG4gICAgQFZpZXdDaGlsZCgndXBsb2FkRmlsZXMnKVxuICAgIGZpbGVJbnB1dDogRWxlbWVudFJlZjtcblxuICAgIGNvbnN0cnVjdG9yKHB1YmxpYyBmb3JtU2VydmljZTogRm9ybVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBsb2dTZXJ2aWNlOiBMb2dTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgdGh1bWJuYWlsU2VydmljZTogVGh1bWJuYWlsU2VydmljZSxcbiAgICAgICAgICAgICAgICBwdWJsaWMgcHJvY2Vzc0NvbnRlbnRTZXJ2aWNlOiBQcm9jZXNzQ29udGVudFNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoZm9ybVNlcnZpY2UpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAodGhpcy5maWVsZCAmJlxuICAgICAgICAgICAgdGhpcy5maWVsZC52YWx1ZSAmJlxuICAgICAgICAgICAgdGhpcy5maWVsZC52YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmhhc0ZpbGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2V0TXVsdGlwbGVGaWxlUGFyYW0oKTtcbiAgICB9XG5cbiAgICByZW1vdmVGaWxlKGZpbGU6IGFueSkge1xuICAgICAgICBpZiAodGhpcy5maWVsZCkge1xuICAgICAgICAgICAgdGhpcy5yZW1vdmVFbGVtZW50RnJvbUxpc3QoZmlsZSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbkZpbGVDaGFuZ2VkKGV2ZW50OiBhbnkpIHtcbiAgICAgICAgbGV0IGZpbGVzID0gZXZlbnQudGFyZ2V0LmZpbGVzO1xuICAgICAgICBsZXQgZmlsZXNTYXZlZCA9IFtdO1xuXG4gICAgICAgIGlmICh0aGlzLmZpZWxkLmpzb24udmFsdWUpIHtcbiAgICAgICAgICAgIGZpbGVzU2F2ZWQgPSBbLi4udGhpcy5maWVsZC5qc29uLnZhbHVlXTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWxlcyAmJiBmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmcm9tKGZpbGVzKVxuICAgICAgICAgICAgICAgIC5waXBlKG1lcmdlTWFwKGZpbGUgPT4gdGhpcy51cGxvYWRSYXdDb250ZW50KGZpbGUpKSlcbiAgICAgICAgICAgICAgICAuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgICAgICAocmVzKSA9PiBmaWxlc1NhdmVkLnB1c2gocmVzKSxcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4gdGhpcy5sb2dTZXJ2aWNlLmVycm9yKCdFcnJvciB1cGxvYWRpbmcgZmlsZS4gU2VlIGNvbnNvbGUgb3V0cHV0IGZvciBtb3JlIGRldGFpbHMuJyksXG4gICAgICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZmllbGQudmFsdWUgPSBmaWxlc1NhdmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5maWVsZC5qc29uLnZhbHVlID0gZmlsZXNTYXZlZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzRmlsZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSB1cGxvYWRSYXdDb250ZW50KGZpbGUpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzQ29udGVudFNlcnZpY2UuY3JlYXRlVGVtcG9yYXJ5UmF3UmVsYXRlZENvbnRlbnQoZmlsZSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCgocmVzcG9uc2U6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuaW5mbyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmNvbnRlbnRCbG9iID0gZmlsZTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIGdldE11bHRpcGxlRmlsZVBhcmFtKCkge1xuICAgICAgICBpZiAodGhpcy5maWVsZCAmJlxuICAgICAgICAgICAgdGhpcy5maWVsZC5wYXJhbXMgJiZcbiAgICAgICAgICAgIHRoaXMuZmllbGQucGFyYW1zLm11bHRpcGxlKSB7XG4gICAgICAgICAgICB0aGlzLm11bHRpcGxlT3B0aW9uID0gdGhpcy5maWVsZC5wYXJhbXMubXVsdGlwbGUgPyAnbXVsdGlwbGUnIDogJyc7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlbW92ZUVsZW1lbnRGcm9tTGlzdChmaWxlKSB7XG4gICAgICAgIGxldCBpbmRleCA9IHRoaXMuZmllbGQudmFsdWUuaW5kZXhPZihmaWxlKTtcblxuICAgICAgICBpZiAoaW5kZXggIT09IC0xKSB7XG4gICAgICAgICAgICB0aGlzLmZpZWxkLnZhbHVlLnNwbGljZShpbmRleCwgMSk7XG4gICAgICAgICAgICB0aGlzLmZpZWxkLmpzb24udmFsdWUgPSB0aGlzLmZpZWxkLnZhbHVlO1xuICAgICAgICAgICAgdGhpcy5maWVsZC51cGRhdGVGb3JtKCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmhhc0ZpbGUgPSB0aGlzLmZpZWxkLnZhbHVlLmxlbmd0aCA+IDA7XG5cbiAgICAgICAgdGhpcy5yZXNldEZvcm1WYWx1ZVdpdGhOb0ZpbGVzKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZXNldEZvcm1WYWx1ZVdpdGhOb0ZpbGVzKCkge1xuICAgICAgICBpZiAodGhpcy5maWVsZC52YWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuZmllbGQudmFsdWUgPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZmllbGQuanNvbi52YWx1ZSA9IFtdO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0SWNvbihtaW1lVHlwZSkge1xuICAgICAgICByZXR1cm4gdGhpcy50aHVtYm5haWxTZXJ2aWNlLmdldE1pbWVUeXBlSWNvbihtaW1lVHlwZSk7XG4gICAgfVxuXG4gICAgZmlsZUNsaWNrZWQob2JqOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZmlsZSA9IG5ldyBDb250ZW50TGlua01vZGVsKG9iaik7XG4gICAgICAgIGxldCBmZXRjaCA9IHRoaXMucHJvY2Vzc0NvbnRlbnRTZXJ2aWNlLmdldENvbnRlbnRQcmV2aWV3KGZpbGUuaWQpO1xuICAgICAgICBpZiAoZmlsZS5pc1R5cGVJbWFnZSgpIHx8IGZpbGUuaXNUeXBlUGRmKCkpIHtcbiAgICAgICAgICAgIGZldGNoID0gdGhpcy5wcm9jZXNzQ29udGVudFNlcnZpY2UuZ2V0RmlsZVJhd0NvbnRlbnQoZmlsZS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgZmV0Y2guc3Vic2NyaWJlKFxuICAgICAgICAgICAgKGJsb2I6IEJsb2IpID0+IHtcbiAgICAgICAgICAgICAgICBmaWxlLmNvbnRlbnRCbG9iID0gYmxvYjtcbiAgICAgICAgICAgICAgICB0aGlzLmZvcm1TZXJ2aWNlLmZvcm1Db250ZW50Q2xpY2tlZC5uZXh0KGZpbGUpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuZXJyb3IoJ1VuYWJsZSB0byBzZW5kIGV2ZW50IGZvciBmaWxlICcgKyBmaWxlLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbiAvKiB0c2xpbnQ6ZGlzYWJsZTpjb21wb25lbnQtc2VsZWN0b3IgICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRGF0ZUFkYXB0ZXIsIE1BVF9EQVRFX0ZPUk1BVFMgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5pbXBvcnQgeyBEYXRldGltZUFkYXB0ZXIsIE1BVF9EQVRFVElNRV9GT1JNQVRTIH0gZnJvbSAnQG1hdC1kYXRldGltZXBpY2tlci9jb3JlJztcbmltcG9ydCB7IE1vbWVudERhdGV0aW1lQWRhcHRlciwgTUFUX01PTUVOVF9EQVRFVElNRV9GT1JNQVRTIH0gZnJvbSAnQG1hdC1kYXRldGltZXBpY2tlci9tb21lbnQnO1xuaW1wb3J0IG1vbWVudCBmcm9tICdtb21lbnQtZXM2JztcbmltcG9ydCB7IE1vbWVudCB9IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgeyBVc2VyUHJlZmVyZW5jZXNTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vLi4vLi4vc2VydmljZXMvdXNlci1wcmVmZXJlbmNlcy5zZXJ2aWNlJztcbmltcG9ydCB7IE1vbWVudERhdGVBZGFwdGVyIH0gZnJvbSAnLi4vLi4vLi4vLi4vdXRpbHMvbW9tZW50RGF0ZUFkYXB0ZXInO1xuaW1wb3J0IHsgTU9NRU5UX0RBVEVfRk9STUFUUyB9IGZyb20gJy4uLy4uLy4uLy4uL3V0aWxzL21vbWVudC1kYXRlLWZvcm1hdHMubW9kZWwnO1xuaW1wb3J0IHsgRm9ybVNlcnZpY2UgfSBmcm9tICcuLy4uLy4uLy4uL3NlcnZpY2VzL2Zvcm0uc2VydmljZSc7XG5pbXBvcnQgeyBXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuLy4uL3dpZGdldC5jb21wb25lbnQnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgeyBwcm92aWRlOiBEYXRlQWRhcHRlciwgdXNlQ2xhc3M6IE1vbWVudERhdGVBZGFwdGVyIH0sXG4gICAgICAgIHsgcHJvdmlkZTogTUFUX0RBVEVfRk9STUFUUywgdXNlVmFsdWU6IE1PTUVOVF9EQVRFX0ZPUk1BVFMgfSxcbiAgICAgICAgeyBwcm92aWRlOiBEYXRldGltZUFkYXB0ZXIsIHVzZUNsYXNzOiBNb21lbnREYXRldGltZUFkYXB0ZXIgfSxcbiAgICAgICAgeyBwcm92aWRlOiBNQVRfREFURVRJTUVfRk9STUFUUywgdXNlVmFsdWU6IE1BVF9NT01FTlRfREFURVRJTUVfRk9STUFUUyB9XG4gICAgXSxcbiAgICBzZWxlY3RvcjogJ2RhdGUtdGltZS13aWRnZXQnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9kYXRlLXRpbWUud2lkZ2V0Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2RhdGUtdGltZS53aWRnZXQuc2NzcyddLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmVcbn0pXG5leHBvcnQgY2xhc3MgRGF0ZVRpbWVXaWRnZXRDb21wb25lbnQgZXh0ZW5kcyBXaWRnZXRDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gICAgbWluRGF0ZTogTW9tZW50O1xuICAgIG1heERhdGU6IE1vbWVudDtcbiAgICBkaXNwbGF5RGF0ZTogTW9tZW50O1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGZvcm1TZXJ2aWNlOiBGb3JtU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGRhdGVBZGFwdGVyOiBEYXRlQWRhcHRlcjxNb21lbnQ+LFxuICAgICAgICAgICAgICAgIHByaXZhdGUgcHJlZmVyZW5jZXM6IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoZm9ybVNlcnZpY2UpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLnByZWZlcmVuY2VzLmxvY2FsZSQuc3Vic2NyaWJlKChsb2NhbGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGF0ZUFkYXB0ZXIuc2V0TG9jYWxlKGxvY2FsZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBsZXQgbW9tZW50RGF0ZUFkYXB0ZXIgPSA8TW9tZW50RGF0ZUFkYXB0ZXI+IHRoaXMuZGF0ZUFkYXB0ZXI7XG4gICAgICAgIG1vbWVudERhdGVBZGFwdGVyLm92ZXJyaWRlRGlzcGx5YUZvcm1hdCA9IHRoaXMuZmllbGQuZGF0ZURpc3BsYXlGb3JtYXQ7XG5cbiAgICAgICAgaWYgKHRoaXMuZmllbGQpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmZpZWxkLm1pblZhbHVlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5taW5EYXRlID0gbW9tZW50KHRoaXMuZmllbGQubWluVmFsdWUsICdZWVlZLU1NLUREVEhIOm1tOnNzWicpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAodGhpcy5maWVsZC5tYXhWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHRoaXMubWF4RGF0ZSA9IG1vbWVudCh0aGlzLmZpZWxkLm1heFZhbHVlLCAnWVlZWS1NTS1ERFRISDptbTpzc1onKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmRpc3BsYXlEYXRlID0gbW9tZW50KHRoaXMuZmllbGQudmFsdWUsIHRoaXMuZmllbGQuZGF0ZURpc3BsYXlGb3JtYXQpO1xuICAgIH1cblxuICAgIG9uRGF0ZUNoYW5nZWQobmV3RGF0ZVZhbHVlKSB7XG4gICAgICAgIGlmIChuZXdEYXRlVmFsdWUgJiYgbmV3RGF0ZVZhbHVlLnZhbHVlKSB7XG4gICAgICAgICAgICB0aGlzLmZpZWxkLnZhbHVlID0gbmV3RGF0ZVZhbHVlLnZhbHVlLmZvcm1hdCh0aGlzLmZpZWxkLmRhdGVEaXNwbGF5Rm9ybWF0KTtcbiAgICAgICAgfSBlbHNlIGlmIChuZXdEYXRlVmFsdWUpIHtcbiAgICAgICAgICAgIHRoaXMuZmllbGQudmFsdWUgPSBuZXdEYXRlVmFsdWU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmZpZWxkLnZhbHVlID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm9uRmllbGRDaGFuZ2VkKHRoaXMuZmllbGQpO1xuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29udGFpbmVyV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi9jb250YWluZXIvY29udGFpbmVyLndpZGdldCc7XG5pbXBvcnQgeyBUYWJzV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi90YWJzL3RhYnMud2lkZ2V0JztcbmltcG9ydCB7IFVua25vd25XaWRnZXRDb21wb25lbnQgfSBmcm9tICcuL3Vua25vd24vdW5rbm93bi53aWRnZXQnO1xuXG5pbXBvcnQgeyBBbW91bnRXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuL2Ftb3VudC9hbW91bnQud2lkZ2V0JztcbmltcG9ydCB7IENoZWNrYm94V2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi9jaGVja2JveC9jaGVja2JveC53aWRnZXQnO1xuaW1wb3J0IHsgRGF0ZVdpZGdldENvbXBvbmVudCB9IGZyb20gJy4vZGF0ZS9kYXRlLndpZGdldCc7XG5pbXBvcnQgeyBEaXNwbGF5VGV4dFdpZGdldENvbXBvbmVudENvbXBvbmVudCB9IGZyb20gJy4vZGlzcGxheS10ZXh0L2Rpc3BsYXktdGV4dC53aWRnZXQnO1xuaW1wb3J0IHsgRG9jdW1lbnRXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuL2RvY3VtZW50L2RvY3VtZW50LndpZGdldCc7XG5pbXBvcnQgeyBEcm9wZG93bldpZGdldENvbXBvbmVudCB9IGZyb20gJy4vZHJvcGRvd24vZHJvcGRvd24ud2lkZ2V0JztcbmltcG9ydCB7IER5bmFtaWNUYWJsZVdpZGdldENvbXBvbmVudCB9IGZyb20gJy4vZHluYW1pYy10YWJsZS9keW5hbWljLXRhYmxlLndpZGdldCc7XG5pbXBvcnQgeyBCb29sZWFuRWRpdG9yQ29tcG9uZW50IH0gZnJvbSAnLi9keW5hbWljLXRhYmxlL2VkaXRvcnMvYm9vbGVhbi9ib29sZWFuLmVkaXRvcic7XG5pbXBvcnQgeyBEYXRlRWRpdG9yQ29tcG9uZW50IH0gZnJvbSAnLi9keW5hbWljLXRhYmxlL2VkaXRvcnMvZGF0ZS9kYXRlLmVkaXRvcic7XG5pbXBvcnQgeyBEYXRlVGltZUVkaXRvckNvbXBvbmVudCB9IGZyb20gJy4vZHluYW1pYy10YWJsZS9lZGl0b3JzL2RhdGV0aW1lL2RhdGV0aW1lLmVkaXRvcic7XG5pbXBvcnQgeyBEcm9wZG93bkVkaXRvckNvbXBvbmVudCB9IGZyb20gJy4vZHluYW1pYy10YWJsZS9lZGl0b3JzL2Ryb3Bkb3duL2Ryb3Bkb3duLmVkaXRvcic7XG5pbXBvcnQgeyBSb3dFZGl0b3JDb21wb25lbnQgfSBmcm9tICcuL2R5bmFtaWMtdGFibGUvZWRpdG9ycy9yb3cuZWRpdG9yJztcbmltcG9ydCB7IFRleHRFZGl0b3JDb21wb25lbnQgfSBmcm9tICcuL2R5bmFtaWMtdGFibGUvZWRpdG9ycy90ZXh0L3RleHQuZWRpdG9yJztcbmltcG9ydCB7IEVycm9yV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi9lcnJvci9lcnJvci5jb21wb25lbnQnO1xuaW1wb3J0IHsgRnVuY3Rpb25hbEdyb3VwV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi9mdW5jdGlvbmFsLWdyb3VwL2Z1bmN0aW9uYWwtZ3JvdXAud2lkZ2V0JztcbmltcG9ydCB7IEh5cGVybGlua1dpZGdldENvbXBvbmVudCB9IGZyb20gJy4vaHlwZXJsaW5rL2h5cGVybGluay53aWRnZXQnO1xuaW1wb3J0IHsgTXVsdGlsaW5lVGV4dFdpZGdldENvbXBvbmVudENvbXBvbmVudCB9IGZyb20gJy4vbXVsdGlsaW5lLXRleHQvbXVsdGlsaW5lLXRleHQud2lkZ2V0JztcbmltcG9ydCB7IE51bWJlcldpZGdldENvbXBvbmVudCB9IGZyb20gJy4vbnVtYmVyL251bWJlci53aWRnZXQnO1xuaW1wb3J0IHsgUGVvcGxlV2lkZ2V0Q29tcG9uZW50IH0gZnJvbSAnLi9wZW9wbGUvcGVvcGxlLndpZGdldCc7XG5pbXBvcnQgeyBSYWRpb0J1dHRvbnNXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuL3JhZGlvLWJ1dHRvbnMvcmFkaW8tYnV0dG9ucy53aWRnZXQnO1xuaW1wb3J0IHsgSW5wdXRNYXNrRGlyZWN0aXZlIH0gZnJvbSAnLi90ZXh0L3RleHQtbWFzay5jb21wb25lbnQnO1xuaW1wb3J0IHsgVGV4dFdpZGdldENvbXBvbmVudCB9IGZyb20gJy4vdGV4dC90ZXh0LndpZGdldCc7XG5pbXBvcnQgeyBUeXBlYWhlYWRXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuL3R5cGVhaGVhZC90eXBlYWhlYWQud2lkZ2V0JztcbmltcG9ydCB7IFVwbG9hZFdpZGdldENvbXBvbmVudCB9IGZyb20gJy4vdXBsb2FkL3VwbG9hZC53aWRnZXQnO1xuaW1wb3J0IHsgRGF0ZVRpbWVXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuL2RhdGUtdGltZS9kYXRlLXRpbWUud2lkZ2V0JztcblxuLy8gY29yZVxuZXhwb3J0ICogZnJvbSAnLi93aWRnZXQuY29tcG9uZW50JztcbmV4cG9ydCAqIGZyb20gJy4vY29yZS9pbmRleCc7XG5cbi8vIGNvbnRhaW5lcnNcbmV4cG9ydCAqIGZyb20gJy4vdGFicy90YWJzLndpZGdldCc7XG5leHBvcnQgKiBmcm9tICcuL2NvbnRhaW5lci9jb250YWluZXIud2lkZ2V0JztcblxuLy8gcHJpbWl0aXZlc1xuZXhwb3J0ICogZnJvbSAnLi91bmtub3duL3Vua25vd24ud2lkZ2V0JztcbmV4cG9ydCAqIGZyb20gJy4vdGV4dC90ZXh0LndpZGdldCc7XG5leHBvcnQgKiBmcm9tICcuL251bWJlci9udW1iZXIud2lkZ2V0JztcbmV4cG9ydCAqIGZyb20gJy4vY2hlY2tib3gvY2hlY2tib3gud2lkZ2V0JztcbmV4cG9ydCAqIGZyb20gJy4vbXVsdGlsaW5lLXRleHQvbXVsdGlsaW5lLXRleHQud2lkZ2V0JztcbmV4cG9ydCAqIGZyb20gJy4vZHJvcGRvd24vZHJvcGRvd24ud2lkZ2V0JztcbmV4cG9ydCAqIGZyb20gJy4vaHlwZXJsaW5rL2h5cGVybGluay53aWRnZXQnO1xuZXhwb3J0ICogZnJvbSAnLi9yYWRpby1idXR0b25zL3JhZGlvLWJ1dHRvbnMud2lkZ2V0JztcbmV4cG9ydCAqIGZyb20gJy4vZGlzcGxheS10ZXh0L2Rpc3BsYXktdGV4dC53aWRnZXQnO1xuZXhwb3J0ICogZnJvbSAnLi91cGxvYWQvdXBsb2FkLndpZGdldCc7XG5leHBvcnQgKiBmcm9tICcuL3R5cGVhaGVhZC90eXBlYWhlYWQud2lkZ2V0JztcbmV4cG9ydCAqIGZyb20gJy4vZnVuY3Rpb25hbC1ncm91cC9mdW5jdGlvbmFsLWdyb3VwLndpZGdldCc7XG5leHBvcnQgKiBmcm9tICcuL3Blb3BsZS9wZW9wbGUud2lkZ2V0JztcbmV4cG9ydCAqIGZyb20gJy4vZGF0ZS9kYXRlLndpZGdldCc7XG5leHBvcnQgKiBmcm9tICcuL2Ftb3VudC9hbW91bnQud2lkZ2V0JztcbmV4cG9ydCAqIGZyb20gJy4vZHluYW1pYy10YWJsZS9keW5hbWljLXRhYmxlLndpZGdldCc7XG5leHBvcnQgKiBmcm9tICcuL2Vycm9yL2Vycm9yLmNvbXBvbmVudCc7XG5leHBvcnQgKiBmcm9tICcuL2RvY3VtZW50L2RvY3VtZW50LndpZGdldCc7XG5leHBvcnQgKiBmcm9tICcuL2RhdGUtdGltZS9kYXRlLXRpbWUud2lkZ2V0JztcblxuLy8gZWRpdG9ycyAoZHluYW1pYyB0YWJsZSlcbmV4cG9ydCAqIGZyb20gJy4vZHluYW1pYy10YWJsZS9keW5hbWljLXRhYmxlLndpZGdldC5tb2RlbCc7XG5leHBvcnQgKiBmcm9tICcuL2R5bmFtaWMtdGFibGUvZWRpdG9ycy9yb3cuZWRpdG9yJztcbmV4cG9ydCAqIGZyb20gJy4vZHluYW1pYy10YWJsZS9lZGl0b3JzL2RhdGUvZGF0ZS5lZGl0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9keW5hbWljLXRhYmxlL2VkaXRvcnMvZHJvcGRvd24vZHJvcGRvd24uZWRpdG9yJztcbmV4cG9ydCAqIGZyb20gJy4vZHluYW1pYy10YWJsZS9lZGl0b3JzL2Jvb2xlYW4vYm9vbGVhbi5lZGl0b3InO1xuZXhwb3J0ICogZnJvbSAnLi9keW5hbWljLXRhYmxlL2VkaXRvcnMvdGV4dC90ZXh0LmVkaXRvcic7XG5leHBvcnQgKiBmcm9tICcuL2R5bmFtaWMtdGFibGUvZWRpdG9ycy9kYXRldGltZS9kYXRldGltZS5lZGl0b3InO1xuZXhwb3J0ICogZnJvbSAnLi90ZXh0L3RleHQtbWFzay5jb21wb25lbnQnO1xuXG5leHBvcnQgY29uc3QgV0lER0VUX0RJUkVDVElWRVM6IGFueVtdID0gW1xuICAgIFVua25vd25XaWRnZXRDb21wb25lbnQsXG4gICAgVGFic1dpZGdldENvbXBvbmVudCxcbiAgICBDb250YWluZXJXaWRnZXRDb21wb25lbnQsXG4gICAgVGV4dFdpZGdldENvbXBvbmVudCxcbiAgICBOdW1iZXJXaWRnZXRDb21wb25lbnQsXG4gICAgQ2hlY2tib3hXaWRnZXRDb21wb25lbnQsXG4gICAgTXVsdGlsaW5lVGV4dFdpZGdldENvbXBvbmVudENvbXBvbmVudCxcbiAgICBEcm9wZG93bldpZGdldENvbXBvbmVudCxcbiAgICBIeXBlcmxpbmtXaWRnZXRDb21wb25lbnQsXG4gICAgUmFkaW9CdXR0b25zV2lkZ2V0Q29tcG9uZW50LFxuICAgIERpc3BsYXlUZXh0V2lkZ2V0Q29tcG9uZW50Q29tcG9uZW50LFxuICAgIFVwbG9hZFdpZGdldENvbXBvbmVudCxcbiAgICBUeXBlYWhlYWRXaWRnZXRDb21wb25lbnQsXG4gICAgRnVuY3Rpb25hbEdyb3VwV2lkZ2V0Q29tcG9uZW50LFxuICAgIFBlb3BsZVdpZGdldENvbXBvbmVudCxcbiAgICBEYXRlV2lkZ2V0Q29tcG9uZW50LFxuICAgIEFtb3VudFdpZGdldENvbXBvbmVudCxcbiAgICBEeW5hbWljVGFibGVXaWRnZXRDb21wb25lbnQsXG4gICAgRGF0ZUVkaXRvckNvbXBvbmVudCxcbiAgICBEcm9wZG93bkVkaXRvckNvbXBvbmVudCxcbiAgICBCb29sZWFuRWRpdG9yQ29tcG9uZW50LFxuICAgIFRleHRFZGl0b3JDb21wb25lbnQsXG4gICAgUm93RWRpdG9yQ29tcG9uZW50LFxuICAgIEVycm9yV2lkZ2V0Q29tcG9uZW50LFxuICAgIERvY3VtZW50V2lkZ2V0Q29tcG9uZW50LFxuICAgIERhdGVUaW1lV2lkZ2V0Q29tcG9uZW50LFxuICAgIERhdGVUaW1lRWRpdG9yQ29tcG9uZW50XG5dO1xuXG5leHBvcnQgY29uc3QgTUFTS19ESVJFQ1RJVkU6IGFueVtdID0gW1xuICAgIElucHV0TWFza0RpcmVjdGl2ZVxuXTtcbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IER5bmFtaWNDb21wb25lbnRNYXBwZXIsIER5bmFtaWNDb21wb25lbnRSZXNvbHZlRnVuY3Rpb24sIER5bmFtaWNDb21wb25lbnRSZXNvbHZlciB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2R5bmFtaWMtY29tcG9uZW50LW1hcHBlci5zZXJ2aWNlJztcbmltcG9ydCB7IEluamVjdGFibGUsIFR5cGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHtcbiAgICBBbW91bnRXaWRnZXRDb21wb25lbnQsXG4gICAgQ2hlY2tib3hXaWRnZXRDb21wb25lbnQsXG4gICAgQ29udGFpbmVyV2lkZ2V0Q29tcG9uZW50LFxuICAgIERhdGVXaWRnZXRDb21wb25lbnQsXG4gICAgRGlzcGxheVRleHRXaWRnZXRDb21wb25lbnRDb21wb25lbnQsXG4gICAgRG9jdW1lbnRXaWRnZXRDb21wb25lbnQsXG4gICAgRHJvcGRvd25XaWRnZXRDb21wb25lbnQsXG4gICAgRHluYW1pY1RhYmxlV2lkZ2V0Q29tcG9uZW50LFxuICAgIEZ1bmN0aW9uYWxHcm91cFdpZGdldENvbXBvbmVudCxcbiAgICBIeXBlcmxpbmtXaWRnZXRDb21wb25lbnQsXG4gICAgTXVsdGlsaW5lVGV4dFdpZGdldENvbXBvbmVudENvbXBvbmVudCxcbiAgICBOdW1iZXJXaWRnZXRDb21wb25lbnQsXG4gICAgUGVvcGxlV2lkZ2V0Q29tcG9uZW50LFxuICAgIFJhZGlvQnV0dG9uc1dpZGdldENvbXBvbmVudCxcbiAgICBUZXh0V2lkZ2V0Q29tcG9uZW50LFxuICAgIFR5cGVhaGVhZFdpZGdldENvbXBvbmVudCxcbiAgICBVbmtub3duV2lkZ2V0Q29tcG9uZW50LFxuICAgIFVwbG9hZFdpZGdldENvbXBvbmVudCxcbiAgICBEYXRlVGltZVdpZGdldENvbXBvbmVudFxufSBmcm9tICcuLy4uL2NvbXBvbmVudHMvd2lkZ2V0cy9pbmRleCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBGb3JtUmVuZGVyaW5nU2VydmljZSBleHRlbmRzIER5bmFtaWNDb21wb25lbnRNYXBwZXIge1xuXG4gICAgcHJvdGVjdGVkIGRlZmF1bHRWYWx1ZTogVHlwZTx7fT4gPSBVbmtub3duV2lkZ2V0Q29tcG9uZW50O1xuICAgIHByb3RlY3RlZCB0eXBlczogeyBba2V5OiBzdHJpbmddOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZUZ1bmN0aW9uIH0gPSB7XG4gICAgICAgICd0ZXh0JzogRHluYW1pY0NvbXBvbmVudFJlc29sdmVyLmZyb21UeXBlKFRleHRXaWRnZXRDb21wb25lbnQpLFxuICAgICAgICAnc3RyaW5nJzogRHluYW1pY0NvbXBvbmVudFJlc29sdmVyLmZyb21UeXBlKFRleHRXaWRnZXRDb21wb25lbnQpLFxuICAgICAgICAnaW50ZWdlcic6IER5bmFtaWNDb21wb25lbnRSZXNvbHZlci5mcm9tVHlwZShOdW1iZXJXaWRnZXRDb21wb25lbnQpLFxuICAgICAgICAnbXVsdGktbGluZS10ZXh0JzogRHluYW1pY0NvbXBvbmVudFJlc29sdmVyLmZyb21UeXBlKE11bHRpbGluZVRleHRXaWRnZXRDb21wb25lbnRDb21wb25lbnQpLFxuICAgICAgICAnYm9vbGVhbic6IER5bmFtaWNDb21wb25lbnRSZXNvbHZlci5mcm9tVHlwZShDaGVja2JveFdpZGdldENvbXBvbmVudCksXG4gICAgICAgICdkcm9wZG93bic6IER5bmFtaWNDb21wb25lbnRSZXNvbHZlci5mcm9tVHlwZShEcm9wZG93bldpZGdldENvbXBvbmVudCksXG4gICAgICAgICdkYXRlJzogRHluYW1pY0NvbXBvbmVudFJlc29sdmVyLmZyb21UeXBlKERhdGVXaWRnZXRDb21wb25lbnQpLFxuICAgICAgICAnYW1vdW50JzogRHluYW1pY0NvbXBvbmVudFJlc29sdmVyLmZyb21UeXBlKEFtb3VudFdpZGdldENvbXBvbmVudCksXG4gICAgICAgICdyYWRpby1idXR0b25zJzogRHluYW1pY0NvbXBvbmVudFJlc29sdmVyLmZyb21UeXBlKFJhZGlvQnV0dG9uc1dpZGdldENvbXBvbmVudCksXG4gICAgICAgICdoeXBlcmxpbmsnOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZXIuZnJvbVR5cGUoSHlwZXJsaW5rV2lkZ2V0Q29tcG9uZW50KSxcbiAgICAgICAgJ3JlYWRvbmx5LXRleHQnOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZXIuZnJvbVR5cGUoRGlzcGxheVRleHRXaWRnZXRDb21wb25lbnRDb21wb25lbnQpLFxuICAgICAgICAndHlwZWFoZWFkJzogRHluYW1pY0NvbXBvbmVudFJlc29sdmVyLmZyb21UeXBlKFR5cGVhaGVhZFdpZGdldENvbXBvbmVudCksXG4gICAgICAgICdwZW9wbGUnOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZXIuZnJvbVR5cGUoUGVvcGxlV2lkZ2V0Q29tcG9uZW50KSxcbiAgICAgICAgJ2Z1bmN0aW9uYWwtZ3JvdXAnOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZXIuZnJvbVR5cGUoRnVuY3Rpb25hbEdyb3VwV2lkZ2V0Q29tcG9uZW50KSxcbiAgICAgICAgJ2R5bmFtaWMtdGFibGUnOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZXIuZnJvbVR5cGUoRHluYW1pY1RhYmxlV2lkZ2V0Q29tcG9uZW50KSxcbiAgICAgICAgJ2NvbnRhaW5lcic6IER5bmFtaWNDb21wb25lbnRSZXNvbHZlci5mcm9tVHlwZShDb250YWluZXJXaWRnZXRDb21wb25lbnQpLFxuICAgICAgICAnZ3JvdXAnOiBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZXIuZnJvbVR5cGUoQ29udGFpbmVyV2lkZ2V0Q29tcG9uZW50KSxcbiAgICAgICAgJ2RvY3VtZW50JzogRHluYW1pY0NvbXBvbmVudFJlc29sdmVyLmZyb21UeXBlKERvY3VtZW50V2lkZ2V0Q29tcG9uZW50KSxcbiAgICAgICAgJ3VwbG9hZCc6ICBEeW5hbWljQ29tcG9uZW50UmVzb2x2ZXIuZnJvbVR5cGUoVXBsb2FkV2lkZ2V0Q29tcG9uZW50KSxcbiAgICAgICAgJ2RhdGV0aW1lJzogIER5bmFtaWNDb21wb25lbnRSZXNvbHZlci5mcm9tVHlwZShEYXRlVGltZVdpZGdldENvbXBvbmVudClcbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQWxmcmVzY29BcGlTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvYWxmcmVzY28tYXBpLnNlcnZpY2UnO1xuaW1wb3J0IHsgTG9nU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL2xvZy5zZXJ2aWNlJztcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFsZnJlc2NvQXBpLCBNaW5pbWFsTm9kZUVudHJ5RW50aXR5LCBSZWxhdGVkQ29udGVudFJlcHJlc2VudGF0aW9uIH0gZnJvbSAnYWxmcmVzY28tanMtYXBpJztcbmltcG9ydCB7IE9ic2VydmFibGUsIGZyb20sIHRocm93RXJyb3IgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEV4dGVybmFsQ29udGVudCB9IGZyb20gJy4uL2NvbXBvbmVudHMvd2lkZ2V0cy9jb3JlL2V4dGVybmFsLWNvbnRlbnQnO1xuaW1wb3J0IHsgRXh0ZXJuYWxDb250ZW50TGluayB9IGZyb20gJy4uL2NvbXBvbmVudHMvd2lkZ2V0cy9jb3JlL2V4dGVybmFsLWNvbnRlbnQtbGluayc7XG5pbXBvcnQgeyBtYXAsIGNhdGNoRXJyb3IgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBBY3Rpdml0aUNvbnRlbnRTZXJ2aWNlIHtcblxuICAgIHN0YXRpYyBVTktOT1dOX0VSUk9SX01FU1NBR0U6IHN0cmluZyA9ICdVbmtub3duIGVycm9yJztcbiAgICBzdGF0aWMgR0VORVJJQ19FUlJPUl9NRVNTQUdFOiBzdHJpbmcgPSAnU2VydmVyIGVycm9yJztcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgbG9nU2VydmljZTogTG9nU2VydmljZSkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIGNoaWxkIG5vZGVzIGJlbG93IHRoZSBzcGVjaWZpZWQgZm9sZGVyXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWNjb3VudElkXG4gICAgICogQHBhcmFtIGZvbGRlcklkXG4gICAgICovXG4gICAgZ2V0QWxmcmVzY29Ob2RlcyhhY2NvdW50SWQ6IHN0cmluZywgZm9sZGVySWQ6IHN0cmluZyk6IE9ic2VydmFibGU8W0V4dGVybmFsQ29udGVudF0+IHtcbiAgICAgICAgbGV0IGFwaVNlcnZpY2U6IEFsZnJlc2NvQXBpID0gdGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCk7XG4gICAgICAgIGxldCBhY2NvdW50U2hvcnRJZCA9IGFjY291bnRJZC5yZXBsYWNlKCdhbGZyZXNjby0nLCAnJyk7XG4gICAgICAgIHJldHVybiBmcm9tKGFwaVNlcnZpY2UuYWN0aXZpdGkuYWxmcmVzY29BcGkuZ2V0Q29udGVudEluRm9sZGVyKGFjY291bnRTaG9ydElkLCBmb2xkZXJJZCkpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAodGhpcy50b0pzb25BcnJheSksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBhbGwgdGhlIHJlcG9zaXRvcmllcyBjb25maWd1cmVkXG4gICAgICpcbiAgICAgKiBAcGFyYW0gYWNjb3VudElkXG4gICAgICogQHBhcmFtIGZvbGRlcklkXG4gICAgICovXG4gICAgZ2V0QWxmcmVzY29SZXBvc2l0b3JpZXModGVuYW50SWQ6IG51bWJlciwgaW5jbHVkZUFjY291bnQ6IGJvb2xlYW4pOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBsZXQgYXBpU2VydmljZTogQWxmcmVzY29BcGkgPSB0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgICAgIHRlbmFudElkOiB0ZW5hbnRJZCxcbiAgICAgICAgICAgIGluY2x1ZGVBY2NvdW50czogaW5jbHVkZUFjY291bnRcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGZyb20oYXBpU2VydmljZS5hY3Rpdml0aS5hbGZyZXNjb0FwaS5nZXRSZXBvc2l0b3JpZXMob3B0cykpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAodGhpcy50b0pzb25BcnJheSksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiBjaGlsZCBub2RlcyBiZWxvdyB0aGUgc3BlY2lmaWVkIGZvbGRlclxuICAgICAqXG4gICAgICogQHBhcmFtIGFjY291bnRJZFxuICAgICAqIEBwYXJhbSBub2RlXG4gICAgICogQHBhcmFtIHNpdGVJZFxuICAgICAqL1xuICAgIGxpbmtBbGZyZXNjb05vZGUoYWNjb3VudElkOiBzdHJpbmcsIG5vZGU6IEV4dGVybmFsQ29udGVudCwgc2l0ZUlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPEV4dGVybmFsQ29udGVudExpbms+IHtcbiAgICAgICAgY29uc3QgYXBpU2VydmljZTogQWxmcmVzY29BcGkgPSB0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgcmV0dXJuIGZyb20oYXBpU2VydmljZS5hY3Rpdml0aS5jb250ZW50QXBpLmNyZWF0ZVRlbXBvcmFyeVJlbGF0ZWRDb250ZW50KHtcbiAgICAgICAgICAgIGxpbms6IHRydWUsXG4gICAgICAgICAgICBuYW1lOiBub2RlLnRpdGxlLFxuICAgICAgICAgICAgc2ltcGxlVHlwZTogbm9kZS5zaW1wbGVUeXBlLFxuICAgICAgICAgICAgc291cmNlOiBhY2NvdW50SWQsXG4gICAgICAgICAgICBzb3VyY2VJZDogbm9kZS5pZCArICdAJyArIHNpdGVJZFxuICAgICAgICB9KSlcbiAgICAgICAgLnBpcGUoXG4gICAgICAgICAgICBtYXAodGhpcy50b0pzb24pLFxuICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFwcGx5QWxmcmVzY29Ob2RlKG5vZGU6IE1pbmltYWxOb2RlRW50cnlFbnRpdHksIHNpdGVJZDogc3RyaW5nLCBhY2NvdW50SWQ6IHN0cmluZykge1xuICAgICAgICBsZXQgYXBpU2VydmljZTogQWxmcmVzY29BcGkgPSB0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgY29uc3QgY3VycmVudFNpZGVJZCA9IHNpdGVJZCA/IHNpdGVJZCA6IHRoaXMuZ2V0U2l0ZU5hbWVGcm9tTm9kZVBhdGgobm9kZSk7XG4gICAgICAgIGNvbnN0IHBhcmFtczogUmVsYXRlZENvbnRlbnRSZXByZXNlbnRhdGlvbiA9IHtcbiAgICAgICAgICAgIHNvdXJjZTogYWNjb3VudElkLFxuICAgICAgICAgICAgbWltZVR5cGU6IG5vZGUuY29udGVudC5taW1lVHlwZSxcbiAgICAgICAgICAgIHNvdXJjZUlkOiBub2RlLmlkICsgJzsnICsgbm9kZS5wcm9wZXJ0aWVzWydjbTp2ZXJzaW9uTGFiZWwnXSArICdAJyArIGN1cnJlbnRTaWRlSWQsXG4gICAgICAgICAgICBuYW1lOiBub2RlLm5hbWUsXG4gICAgICAgICAgICBsaW5rOiBmYWxzZVxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZnJvbShhcGlTZXJ2aWNlLmFjdGl2aXRpLmNvbnRlbnRBcGkuY3JlYXRlVGVtcG9yYXJ5UmVsYXRlZENvbnRlbnQocGFyYW1zKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCh0aGlzLnRvSnNvbiksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldFNpdGVOYW1lRnJvbU5vZGVQYXRoKG5vZGU6IE1pbmltYWxOb2RlRW50cnlFbnRpdHkpOiBzdHJpbmcge1xuICAgICAgICBsZXQgc2l0ZU5hbWUgPSAnJztcbiAgICAgICAgaWYgKG5vZGUucGF0aCkge1xuICAgICAgICAgICAgY29uc3QgZm91bmROb2RlID0gbm9kZS5wYXRoXG4gICAgICAgICAgICAgICAgLmVsZW1lbnRzLmZpbmQoKHBhdGhOb2RlOiBNaW5pbWFsTm9kZUVudHJ5RW50aXR5KSA9PlxuICAgICAgICAgICAgICAgICAgICBwYXRoTm9kZS5ub2RlVHlwZSA9PT0gJ3N0OnNpdGUnICYmXG4gICAgICAgICAgICAgICAgICAgIHBhdGhOb2RlLm5hbWUgIT09ICdTaXRlcycpO1xuICAgICAgICAgICAgc2l0ZU5hbWUgPSBmb3VuZE5vZGUgPyBmb3VuZE5vZGUubmFtZSA6ICcnO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzaXRlTmFtZS50b0xvY2FsZUxvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIHRvSnNvbihyZXM6IGFueSkge1xuICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzIHx8IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG5cbiAgICB0b0pzb25BcnJheShyZXM6IGFueSkge1xuICAgICAgICBpZiAocmVzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLmRhdGEgfHwgW107XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cblxuICAgIGhhbmRsZUVycm9yKGVycm9yOiBhbnkpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBsZXQgZXJyTXNnID0gQWN0aXZpdGlDb250ZW50U2VydmljZS5VTktOT1dOX0VSUk9SX01FU1NBR0U7XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgZXJyTXNnID0gKGVycm9yLm1lc3NhZ2UpID8gZXJyb3IubWVzc2FnZSA6XG4gICAgICAgICAgICAgICAgZXJyb3Iuc3RhdHVzID8gYCR7ZXJyb3Iuc3RhdHVzfSAtICR7ZXJyb3Iuc3RhdHVzVGV4dH1gIDogQWN0aXZpdGlDb250ZW50U2VydmljZS5HRU5FUklDX0VSUk9SX01FU1NBR0U7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmVycm9yKGVyck1zZyk7XG4gICAgICAgIHJldHVybiB0aHJvd0Vycm9yKGVyck1zZyk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRGlyZWN0aXZlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBEaXJlY3RpdmUoeyBzZWxlY3RvcjogJ1tmb3JtLWN1c3RvbS1idXR0b25dJyB9KSBleHBvcnQgY2xhc3MgU3RhcnRGb3JtQ3VzdG9tQnV0dG9uRGlyZWN0aXZlIHt9XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQge1xuICAgIENvbXBpbGVyLFxuICAgIENvbXBvbmVudCwgQ29tcG9uZW50RmFjdG9yeSxcbiAgICBDb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIsXG4gICAgQ29tcG9uZW50UmVmLFxuICAgIElucHV0LFxuICAgIE1vZHVsZVdpdGhDb21wb25lbnRGYWN0b3JpZXMsXG4gICAgTmdNb2R1bGUsXG4gICAgT25EZXN0cm95LFxuICAgIE9uSW5pdCxcbiAgICBWaWV3Q2hpbGQsXG4gICAgVmlld0NvbnRhaW5lclJlZixcbiAgICBWaWV3RW5jYXBzdWxhdGlvblxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuaW1wb3J0IHsgRm9ybVJlbmRlcmluZ1NlcnZpY2UgfSBmcm9tICcuLy4uLy4uL3NlcnZpY2VzL2Zvcm0tcmVuZGVyaW5nLnNlcnZpY2UnO1xuaW1wb3J0IHsgV2lkZ2V0VmlzaWJpbGl0eVNlcnZpY2UgfSBmcm9tICcuLy4uLy4uL3NlcnZpY2VzL3dpZGdldC12aXNpYmlsaXR5LnNlcnZpY2UnO1xuaW1wb3J0IHsgRm9ybUZpZWxkTW9kZWwgfSBmcm9tICcuLy4uL3dpZGdldHMvY29yZS9mb3JtLWZpZWxkLm1vZGVsJztcbmltcG9ydCB7IFdpZGdldENvbXBvbmVudCB9IGZyb20gJy4vLi4vd2lkZ2V0cy93aWRnZXQuY29tcG9uZW50JztcblxuZGVjbGFyZSB2YXIgYWRmOiBhbnk7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLWZvcm0tZmllbGQnLFxuICAgIHRlbXBsYXRlOiBgXG4gICAgICAgIDxkaXYgW2lkXT1cIidmaWVsZC0nK2ZpZWxkPy5pZCsnLWNvbnRhaW5lcidcIlxuICAgICAgICAgICAgW2hpZGRlbl09XCIhZmllbGQ/LmlzVmlzaWJsZVwiXG4gICAgICAgICAgICBbY2xhc3MuYWRmLWZvY3VzXT1cImZvY3VzXCJcbiAgICAgICAgICAgIChmb2N1c2luKT1cImZvY3VzVG9nZ2xlKClcIlxuICAgICAgICAgICAgKGZvY3Vzb3V0KT1cImZvY3VzVG9nZ2xlKClcIj5cbiAgICAgICAgICAgIDxkaXYgI2NvbnRhaW5lcj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgYCxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lXG59KVxuZXhwb3J0IGNsYXNzIEZvcm1GaWVsZENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcblxuICAgIEBWaWV3Q2hpbGQoJ2NvbnRhaW5lcicsIHsgcmVhZDogVmlld0NvbnRhaW5lclJlZiB9KVxuICAgIGNvbnRhaW5lcjogVmlld0NvbnRhaW5lclJlZjtcblxuICAgIC8qKiBDb250YWlucyBhbGwgdGhlIG5lY2Vzc2FyeSBkYXRhIG5lZWRlZCB0byBkZXRlcm1pbmUgd2hhdCBVSSBXaWRnZXRcbiAgICAgKiB0byB1c2Ugd2hlbiByZW5kZXJpbmcgdGhlIGZpZWxkIGluIHRoZSBmb3JtLiBZb3Ugd291bGQgdHlwaWNhbGx5IG5vdFxuICAgICAqIGNyZWF0ZSB0aGlzIGRhdGEgbWFudWFsbHkgYnV0IGluc3RlYWQgY3JlYXRlIHRoZSBmb3JtIGluIEFQUyBhbmQgZXhwb3J0XG4gICAgICogaXQgdG8gZ2V0IHRvIGFsbCB0aGUgYEZvcm1GaWVsZE1vZGVsYCBkZWZpbml0aW9ucy5cbiAgICAgKi9cbiAgICBASW5wdXQoKVxuICAgIGZpZWxkOiBGb3JtRmllbGRNb2RlbCA9IG51bGw7XG5cbiAgICBjb21wb25lbnRSZWY6IENvbXBvbmVudFJlZjx7fT47XG5cbiAgICBmb2N1czogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBmb3JtUmVuZGVyaW5nU2VydmljZTogRm9ybVJlbmRlcmluZ1NlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBjb21wb25lbnRGYWN0b3J5UmVzb2x2ZXI6IENvbXBvbmVudEZhY3RvcnlSZXNvbHZlcixcbiAgICAgICAgICAgICAgICBwcml2YXRlIHZpc2liaWxpdHlTZXJ2aWNlOiBXaWRnZXRWaXNpYmlsaXR5U2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGNvbXBpbGVyOiBDb21waWxlcikge1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBjb25zdCB3OiBhbnkgPSB3aW5kb3c7XG4gICAgICAgIGlmICh3LmFkZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB3LmFkZiA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIGxldCBvcmlnaW5hbEZpZWxkID0gdGhpcy5nZXRGaWVsZCgpO1xuICAgICAgICBpZiAob3JpZ2luYWxGaWVsZCkge1xuICAgICAgICAgICAgbGV0IGN1c3RvbVRlbXBsYXRlID0gdGhpcy5maWVsZC5mb3JtLmN1c3RvbUZpZWxkVGVtcGxhdGVzW29yaWdpbmFsRmllbGQudHlwZV07XG4gICAgICAgICAgICBpZiAoY3VzdG9tVGVtcGxhdGUgJiYgdGhpcy5oYXNDb250cm9sbGVyKG9yaWdpbmFsRmllbGQudHlwZSkpIHtcbiAgICAgICAgICAgICAgICBsZXQgZmFjdG9yeSA9IHRoaXMuZ2V0Q29tcG9uZW50RmFjdG9yeVN5bmMob3JpZ2luYWxGaWVsZC50eXBlLCBjdXN0b21UZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wb25lbnRSZWYgPSB0aGlzLmNvbnRhaW5lci5jcmVhdGVDb21wb25lbnQoZmFjdG9yeSk7XG4gICAgICAgICAgICAgICAgbGV0IGluc3RhbmNlOiBhbnkgPSB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZTtcbiAgICAgICAgICAgICAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZmllbGQgPSBvcmlnaW5hbEZpZWxkO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGNvbXBvbmVudFR5cGUgPSB0aGlzLmZvcm1SZW5kZXJpbmdTZXJ2aWNlLnJlc29sdmVDb21wb25lbnRUeXBlKG9yaWdpbmFsRmllbGQpO1xuICAgICAgICAgICAgICAgIGlmIChjb21wb25lbnRUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBmYWN0b3J5ID0gdGhpcy5jb21wb25lbnRGYWN0b3J5UmVzb2x2ZXIucmVzb2x2ZUNvbXBvbmVudEZhY3RvcnkoY29tcG9uZW50VHlwZSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcG9uZW50UmVmID0gdGhpcy5jb250YWluZXIuY3JlYXRlQ29tcG9uZW50KGZhY3RvcnkpO1xuICAgICAgICAgICAgICAgICAgICBsZXQgaW5zdGFuY2UgPSA8V2lkZ2V0Q29tcG9uZW50PiB0aGlzLmNvbXBvbmVudFJlZi5pbnN0YW5jZTtcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuZmllbGQgPSB0aGlzLmZpZWxkO1xuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5maWVsZENoYW5nZWQuc3Vic2NyaWJlKGZpZWxkID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmaWVsZCAmJiB0aGlzLmZpZWxkLmZvcm0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnZpc2liaWxpdHlTZXJ2aWNlLnJlZnJlc2hWaXNpYmlsaXR5KGZpZWxkLmZvcm0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkLmZvcm0ub25Gb3JtRmllbGRDaGFuZ2VkKGZpZWxkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKSB7XG4gICAgICAgIGlmICh0aGlzLmNvbXBvbmVudFJlZikge1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRSZWYuZGVzdHJveSgpO1xuICAgICAgICAgICAgdGhpcy5jb21wb25lbnRSZWYgPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRGaWVsZCgpOiBGb3JtRmllbGRNb2RlbCB7XG4gICAgICAgIGlmICh0aGlzLmZpZWxkICYmIHRoaXMuZmllbGQucGFyYW1zKSB7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVkRmllbGQgPSB0aGlzLmZpZWxkLnBhcmFtcy5maWVsZDtcbiAgICAgICAgICAgIGlmICh3cmFwcGVkRmllbGQgJiYgd3JhcHBlZEZpZWxkLnR5cGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gd3JhcHBlZEZpZWxkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLmZpZWxkO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFzQ29udHJvbGxlcih0eXBlOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIChhZGYgJiYgYWRmLmNvbXBvbmVudHMgJiYgYWRmLmNvbXBvbmVudHNbdHlwZV0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Q29tcG9uZW50RmFjdG9yeVN5bmModHlwZTogc3RyaW5nLCB0ZW1wbGF0ZTogc3RyaW5nKTogQ29tcG9uZW50RmFjdG9yeTxhbnk+IHtcbiAgICAgICAgbGV0IGNvbXBvbmVudEluZm8gPSBhZGYuY29tcG9uZW50c1t0eXBlXTtcblxuICAgICAgICBpZiAoY29tcG9uZW50SW5mby5mYWN0b3J5KSB7XG4gICAgICAgICAgICByZXR1cm4gY29tcG9uZW50SW5mby5mYWN0b3J5O1xuICAgICAgICB9XG5cbiAgICAgICAgbGV0IG1ldGFkYXRhID0ge1xuICAgICAgICAgICAgc2VsZWN0b3I6IGBydW50aW1lLWNvbXBvbmVudC0ke3R5cGV9YCxcbiAgICAgICAgICAgIHRlbXBsYXRlOiB0ZW1wbGF0ZVxuICAgICAgICB9O1xuXG4gICAgICAgIGxldCBmYWN0b3J5ID0gdGhpcy5jcmVhdGVDb21wb25lbnRGYWN0b3J5U3luYyh0aGlzLmNvbXBpbGVyLCBtZXRhZGF0YSwgY29tcG9uZW50SW5mby5jbGFzcyk7XG4gICAgICAgIGNvbXBvbmVudEluZm8uZmFjdG9yeSA9IGZhY3Rvcnk7XG4gICAgICAgIHJldHVybiBmYWN0b3J5O1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlQ29tcG9uZW50RmFjdG9yeVN5bmMoY29tcGlsZXI6IENvbXBpbGVyLCBtZXRhZGF0YTogQ29tcG9uZW50LCBjb21wb25lbnRDbGFzczogYW55KTogQ29tcG9uZW50RmFjdG9yeTxhbnk+IHtcbiAgICAgICAgY29uc3QgY21wQ2xhc3MgPSBjb21wb25lbnRDbGFzcyB8fCBjbGFzcyBSdW50aW1lQ29tcG9uZW50IHtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZGVjb3JhdGVkQ21wID0gQ29tcG9uZW50KG1ldGFkYXRhKShjbXBDbGFzcyk7XG5cbiAgICAgICAgQE5nTW9kdWxlKHsgaW1wb3J0czogW10sIGRlY2xhcmF0aW9uczogW2RlY29yYXRlZENtcF0gfSlcbiAgICAgICAgY2xhc3MgUnVudGltZUNvbXBvbmVudE1vZHVsZSB7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgbW9kdWxlOiBNb2R1bGVXaXRoQ29tcG9uZW50RmFjdG9yaWVzPGFueT4gPSBjb21waWxlci5jb21waWxlTW9kdWxlQW5kQWxsQ29tcG9uZW50c1N5bmMoUnVudGltZUNvbXBvbmVudE1vZHVsZSk7XG4gICAgICAgIHJldHVybiBtb2R1bGUuY29tcG9uZW50RmFjdG9yaWVzLmZpbmQoeCA9PiB4LmNvbXBvbmVudFR5cGUgPT09IGRlY29yYXRlZENtcCk7XG4gICAgfVxuXG4gICAgZm9jdXNUb2dnbGUoKSB7XG4gICAgICAgIHRoaXMuZm9jdXMgPSAhdGhpcy5mb2N1cztcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgRm9ybXNNb2R1bGUsIFJlYWN0aXZlRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVHJhbnNsYXRlTW9kdWxlIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XG5pbXBvcnQgeyBEYXRhVGFibGVNb2R1bGUgfSBmcm9tICcuLi9kYXRhdGFibGUvZGF0YXRhYmxlLm1vZHVsZSc7XG5pbXBvcnQgeyBEYXRhQ29sdW1uTW9kdWxlIH0gZnJvbSAnLi4vZGF0YS1jb2x1bW4vZGF0YS1jb2x1bW4ubW9kdWxlJztcbmltcG9ydCB7IFBpcGVNb2R1bGUgfSBmcm9tICcuLi9waXBlcy9waXBlLm1vZHVsZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5pbXBvcnQgeyBNYXRlcmlhbE1vZHVsZSB9IGZyb20gJy4uL21hdGVyaWFsLm1vZHVsZSc7XG5cbmltcG9ydCB7IE1BU0tfRElSRUNUSVZFLCBXSURHRVRfRElSRUNUSVZFUyB9IGZyb20gJy4vY29tcG9uZW50cy93aWRnZXRzL2luZGV4JztcblxuaW1wb3J0IHsgU3RhcnRGb3JtQ3VzdG9tQnV0dG9uRGlyZWN0aXZlIH0gZnJvbSAnLi9jb21wb25lbnRzL2Zvcm0tY3VzdG9tLWJ1dHRvbi5kaXJlY3RpdmUnO1xuXG5pbXBvcnQgeyBGb3JtRmllbGRDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZm9ybS1maWVsZC9mb3JtLWZpZWxkLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBGb3JtTGlzdENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy9mb3JtLWxpc3QuY29tcG9uZW50JztcbmltcG9ydCB7IEZvcm1Db21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvZm9ybS5jb21wb25lbnQnO1xuaW1wb3J0IHsgU3RhcnRGb3JtQ29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3N0YXJ0LWZvcm0uY29tcG9uZW50JztcbmltcG9ydCB7IENvbnRlbnRXaWRnZXRDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvd2lkZ2V0cy9jb250ZW50L2NvbnRlbnQud2lkZ2V0JztcbmltcG9ydCB7IFdpZGdldENvbXBvbmVudCB9IGZyb20gJy4vY29tcG9uZW50cy93aWRnZXRzL3dpZGdldC5jb21wb25lbnQnO1xuaW1wb3J0IHsgTWF0RGF0ZXRpbWVwaWNrZXJNb2R1bGUsIE1hdE5hdGl2ZURhdGV0aW1lTW9kdWxlIH0gZnJvbSAnQG1hdC1kYXRldGltZXBpY2tlci9jb3JlJztcblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgRGF0YVRhYmxlTW9kdWxlLFxuICAgICAgICBIdHRwQ2xpZW50TW9kdWxlLFxuICAgICAgICBNYXRlcmlhbE1vZHVsZSxcbiAgICAgICAgVHJhbnNsYXRlTW9kdWxlLmZvckNoaWxkKCksXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBEYXRhQ29sdW1uTW9kdWxlLFxuICAgICAgICBQaXBlTW9kdWxlLFxuICAgICAgICBNYXREYXRldGltZXBpY2tlck1vZHVsZSxcbiAgICAgICAgTWF0TmF0aXZlRGF0ZXRpbWVNb2R1bGVcbiAgICBdLFxuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBDb250ZW50V2lkZ2V0Q29tcG9uZW50LFxuICAgICAgICBGb3JtRmllbGRDb21wb25lbnQsXG4gICAgICAgIEZvcm1Db21wb25lbnQsXG4gICAgICAgIEZvcm1MaXN0Q29tcG9uZW50LFxuICAgICAgICBTdGFydEZvcm1Db21wb25lbnQsXG4gICAgICAgIFN0YXJ0Rm9ybUN1c3RvbUJ1dHRvbkRpcmVjdGl2ZSxcbiAgICAgICAgLi4uV0lER0VUX0RJUkVDVElWRVMsXG4gICAgICAgIC4uLk1BU0tfRElSRUNUSVZFLFxuICAgICAgICBXaWRnZXRDb21wb25lbnRcbiAgICBdLFxuICAgIGVudHJ5Q29tcG9uZW50czogW1xuICAgICAgICAuLi5XSURHRVRfRElSRUNUSVZFU1xuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBDb250ZW50V2lkZ2V0Q29tcG9uZW50LFxuICAgICAgICBGb3JtRmllbGRDb21wb25lbnQsXG4gICAgICAgIEZvcm1Db21wb25lbnQsXG4gICAgICAgIEZvcm1MaXN0Q29tcG9uZW50LFxuICAgICAgICBTdGFydEZvcm1Db21wb25lbnQsXG4gICAgICAgIFN0YXJ0Rm9ybUN1c3RvbUJ1dHRvbkRpcmVjdGl2ZSxcbiAgICAgICAgLi4uV0lER0VUX0RJUkVDVElWRVNcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIEZvcm1Nb2R1bGUge1xufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29udGVudENoaWxkLCBEaXJlY3RpdmUsIFRlbXBsYXRlUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnYWRmLXNpZGVuYXYtbGF5b3V0LWNvbnRlbnQnXG59KVxuZXhwb3J0IGNsYXNzIFNpZGVuYXZMYXlvdXRDb250ZW50RGlyZWN0aXZlIHtcbiAgICBAQ29udGVudENoaWxkKFRlbXBsYXRlUmVmKVxuICAgIHB1YmxpYyB0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55Pjtcbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbnRlbnRDaGlsZCwgRGlyZWN0aXZlLCBUZW1wbGF0ZVJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5ARGlyZWN0aXZlKHtcbiAgICBzZWxlY3RvcjogJ2FkZi1zaWRlbmF2LWxheW91dC1oZWFkZXInXG59KVxuZXhwb3J0IGNsYXNzIFNpZGVuYXZMYXlvdXRIZWFkZXJEaXJlY3RpdmUge1xuICAgIEBDb250ZW50Q2hpbGQoVGVtcGxhdGVSZWYpXG4gICAgcHVibGljIHRlbXBsYXRlOiBUZW1wbGF0ZVJlZjxhbnk+O1xufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29udGVudENoaWxkLCBEaXJlY3RpdmUsIFRlbXBsYXRlUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBEaXJlY3RpdmUoe1xuICAgIHNlbGVjdG9yOiAnYWRmLXNpZGVuYXYtbGF5b3V0LW5hdmlnYXRpb24nXG59KVxuZXhwb3J0IGNsYXNzIFNpZGVuYXZMYXlvdXROYXZpZ2F0aW9uRGlyZWN0aXZlIHtcbiAgICBAQ29udGVudENoaWxkKFRlbXBsYXRlUmVmKVxuICAgIHB1YmxpYyB0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55Pjtcbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgQ29udGVudENoaWxkLCBJbnB1dCwgT3V0cHV0LCBPbkluaXQsIEFmdGVyVmlld0luaXQsIFZpZXdDaGlsZCwgT25EZXN0cm95LCBUZW1wbGF0ZVJlZiwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBNZWRpYU1hdGNoZXIgfSBmcm9tICdAYW5ndWxhci9jZGsvbGF5b3V0JztcbmltcG9ydCB7IFNpZGVuYXZMYXlvdXRDb250ZW50RGlyZWN0aXZlIH0gZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy9zaWRlbmF2LWxheW91dC1jb250ZW50LmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBTaWRlbmF2TGF5b3V0SGVhZGVyRGlyZWN0aXZlIH0gZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy9zaWRlbmF2LWxheW91dC1oZWFkZXIuZGlyZWN0aXZlJztcbmltcG9ydCB7IFNpZGVuYXZMYXlvdXROYXZpZ2F0aW9uRGlyZWN0aXZlIH0gZnJvbSAnLi4vLi4vZGlyZWN0aXZlcy9zaWRlbmF2LWxheW91dC1uYXZpZ2F0aW9uLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBCZWhhdmlvclN1YmplY3QsIE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtc2lkZW5hdi1sYXlvdXQnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9zaWRlbmF2LWxheW91dC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vc2lkZW5hdi1sYXlvdXQuY29tcG9uZW50LnNjc3MnXVxufSlcbmV4cG9ydCBjbGFzcyBTaWRlbmF2TGF5b3V0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0LCBPbkRlc3Ryb3kge1xuXG4gICAgc3RhdGljIFNURVBfT1ZFUiA9IDYwMDtcblxuICAgIC8qKiBUaGUgc2lkZSB0aGF0IHRoZSBkcmF3ZXIgaXMgYXR0YWNoZWQgdG8uIFBvc3NpYmxlIHZhbHVlcyBhcmUgJ3N0YXJ0JyBhbmQgJ2VuZCcuICovXG4gICAgQElucHV0KCkgcG9zaXRpb24gPSAnc3RhcnQnO1xuXG4gICAgLyoqIE1pbmltdW0gc2l6ZSBvZiB0aGUgbmF2aWdhdGlvbiByZWdpb24uICovXG4gICAgQElucHV0KCkgc2lkZW5hdk1pbjogbnVtYmVyO1xuXG4gICAgLyoqIE1heGltdW0gc2l6ZSBvZiB0aGUgbmF2aWdhdGlvbiByZWdpb24uICovXG4gICAgQElucHV0KCkgc2lkZW5hdk1heDogbnVtYmVyO1xuXG4gICAgLyoqIFNjcmVlbiBzaXplIGF0IHdoaWNoIGRpc3BsYXkgc3dpdGNoZXMgZnJvbSBzbWFsbCBzY3JlZW4gdG8gbGFyZ2Ugc2NyZWVuIGNvbmZpZ3VyYXRpb24uICovXG4gICAgQElucHV0KCkgc3RlcE92ZXI6IG51bWJlcjtcblxuICAgIC8qKiBUb2dnbGVzIHNob3dpbmcvaGlkaW5nIHRoZSBuYXZpZ2F0aW9uIHJlZ2lvbi4gKi9cbiAgICBASW5wdXQoKSBoaWRlU2lkZW5hdiA9IGZhbHNlO1xuXG4gICAgLyoqIFNob3VsZCB0aGUgbmF2aWdhdGlvbiByZWdpb24gYmUgZXhwYW5kZWQgaW5pdGlhbGx5PyAqL1xuICAgIEBJbnB1dCgpIGV4cGFuZGVkU2lkZW5hdiA9IHRydWU7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIHRoZSBtZW51IHRvZ2dsZSBhbmQgdGhlIGNvbGxhcHNlZC9leHBhbmRlZCBzdGF0ZSBvZiB0aGUgc2lkZU5hdiBjaGFuZ2VzLiAqL1xuICAgIEBPdXRwdXQoKSBleHBhbmRlZCA9IG5ldyBFdmVudEVtaXR0ZXI8Ym9vbGVhbj4oKTtcblxuICAgIEBDb250ZW50Q2hpbGQoU2lkZW5hdkxheW91dEhlYWRlckRpcmVjdGl2ZSkgaGVhZGVyRGlyZWN0aXZlOiBTaWRlbmF2TGF5b3V0SGVhZGVyRGlyZWN0aXZlO1xuICAgIEBDb250ZW50Q2hpbGQoU2lkZW5hdkxheW91dE5hdmlnYXRpb25EaXJlY3RpdmUpIG5hdmlnYXRpb25EaXJlY3RpdmU6IFNpZGVuYXZMYXlvdXROYXZpZ2F0aW9uRGlyZWN0aXZlO1xuICAgIEBDb250ZW50Q2hpbGQoU2lkZW5hdkxheW91dENvbnRlbnREaXJlY3RpdmUpIGNvbnRlbnREaXJlY3RpdmU6IFNpZGVuYXZMYXlvdXRDb250ZW50RGlyZWN0aXZlO1xuXG4gICAgcHJpdmF0ZSBtZW51T3BlblN0YXRlU3ViamVjdDogQmVoYXZpb3JTdWJqZWN0PGJvb2xlYW4+O1xuICAgIHB1YmxpYyBtZW51T3BlblN0YXRlJDogT2JzZXJ2YWJsZTxib29sZWFuPjtcblxuICAgIEBWaWV3Q2hpbGQoJ2NvbnRhaW5lcicpIGNvbnRhaW5lcjogYW55O1xuICAgIEBWaWV3Q2hpbGQoJ2VtcHR5VGVtcGxhdGUnKSBlbXB0eVRlbXBsYXRlOiBhbnk7XG5cbiAgICBtZWRpYVF1ZXJ5TGlzdDogTWVkaWFRdWVyeUxpc3Q7XG4gICAgX2lzTWVudU1pbmltaXplZDtcblxuICAgIHRlbXBsYXRlQ29udGV4dCA9IHtcbiAgICAgICAgdG9nZ2xlTWVudTogKCkgPT4ge30sXG4gICAgICAgIGlzTWVudU1pbmltaXplZDogKCkgPT4gdGhpcy5pc01lbnVNaW5pbWl6ZWRcbiAgICB9O1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBtZWRpYU1hdGNoZXI6IE1lZGlhTWF0Y2hlcikge1xuICAgICAgICB0aGlzLm9uTWVkaWFRdWVyeUNoYW5nZSA9IHRoaXMub25NZWRpYVF1ZXJ5Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGNvbnN0IGluaXRpYWxNZW51U3RhdGUgPSAhdGhpcy5leHBhbmRlZFNpZGVuYXY7XG5cbiAgICAgICAgdGhpcy5tZW51T3BlblN0YXRlU3ViamVjdCA9IG5ldyBCZWhhdmlvclN1YmplY3Q8Ym9vbGVhbj4oaW5pdGlhbE1lbnVTdGF0ZSk7XG4gICAgICAgIHRoaXMubWVudU9wZW5TdGF0ZSQgPSB0aGlzLm1lbnVPcGVuU3RhdGVTdWJqZWN0LmFzT2JzZXJ2YWJsZSgpO1xuXG4gICAgICAgIGNvbnN0IHN0ZXBPdmVyID0gdGhpcy5zdGVwT3ZlciB8fCBTaWRlbmF2TGF5b3V0Q29tcG9uZW50LlNURVBfT1ZFUjtcbiAgICAgICAgdGhpcy5pc01lbnVNaW5pbWl6ZWQgPSBpbml0aWFsTWVudVN0YXRlO1xuXG4gICAgICAgIHRoaXMubWVkaWFRdWVyeUxpc3QgPSB0aGlzLm1lZGlhTWF0Y2hlci5tYXRjaE1lZGlhKGAobWF4LXdpZHRoOiAke3N0ZXBPdmVyfXB4KWApO1xuICAgICAgICB0aGlzLm1lZGlhUXVlcnlMaXN0LmFkZExpc3RlbmVyKHRoaXMub25NZWRpYVF1ZXJ5Q2hhbmdlKTtcbiAgICB9XG5cbiAgICBuZ0FmdGVyVmlld0luaXQoKSB7XG4gICAgICAgIHRoaXMudGVtcGxhdGVDb250ZXh0LnRvZ2dsZU1lbnUgPSB0aGlzLnRvZ2dsZU1lbnUuYmluZCh0aGlzKTtcbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tZWRpYVF1ZXJ5TGlzdC5yZW1vdmVMaXN0ZW5lcih0aGlzLm9uTWVkaWFRdWVyeUNoYW5nZSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlTWVudSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLm1lZGlhUXVlcnlMaXN0Lm1hdGNoZXMpIHtcbiAgICAgICAgICAgIHRoaXMuaXNNZW51TWluaW1pemVkID0gIXRoaXMuaXNNZW51TWluaW1pemVkO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5pc01lbnVNaW5pbWl6ZWQgPSBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY29udGFpbmVyLnRvZ2dsZU1lbnUoKTtcbiAgICAgICAgdGhpcy5leHBhbmRlZC5lbWl0KCF0aGlzLmlzTWVudU1pbmltaXplZCk7XG4gICAgfVxuXG4gICAgZ2V0IGlzTWVudU1pbmltaXplZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzTWVudU1pbmltaXplZDtcbiAgICB9XG5cbiAgICBzZXQgaXNNZW51TWluaW1pemVkKG1lbnVTdGF0ZTogYm9vbGVhbikge1xuICAgICAgICB0aGlzLl9pc01lbnVNaW5pbWl6ZWQgPSBtZW51U3RhdGU7XG4gICAgICAgIHRoaXMubWVudU9wZW5TdGF0ZVN1YmplY3QubmV4dCghbWVudVN0YXRlKTtcbiAgICB9XG5cbiAgICBnZXQgaXNIZWFkZXJJbnNpZGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhUXVlcnlMaXN0Lm1hdGNoZXM7XG4gICAgfVxuXG4gICAgZ2V0IGhlYWRlclRlbXBsYXRlKCk6IFRlbXBsYXRlUmVmPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5oZWFkZXJEaXJlY3RpdmUgJiYgdGhpcy5oZWFkZXJEaXJlY3RpdmUudGVtcGxhdGUgfHwgdGhpcy5lbXB0eVRlbXBsYXRlO1xuICAgIH1cblxuICAgIGdldCBuYXZpZ2F0aW9uVGVtcGxhdGUoKTogVGVtcGxhdGVSZWY8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLm5hdmlnYXRpb25EaXJlY3RpdmUgJiYgdGhpcy5uYXZpZ2F0aW9uRGlyZWN0aXZlLnRlbXBsYXRlIHx8IHRoaXMuZW1wdHlUZW1wbGF0ZTtcbiAgICB9XG5cbiAgICBnZXQgY29udGVudFRlbXBsYXRlKCk6IFRlbXBsYXRlUmVmPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50RGlyZWN0aXZlICYmIHRoaXMuY29udGVudERpcmVjdGl2ZS50ZW1wbGF0ZSB8fCB0aGlzLmVtcHR5VGVtcGxhdGU7XG4gICAgfVxuXG4gICAgb25NZWRpYVF1ZXJ5Q2hhbmdlKCkge1xuICAgICAgICB0aGlzLmlzTWVudU1pbmltaXplZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmV4cGFuZGVkLmVtaXQoIXRoaXMuaXNNZW51TWluaW1pemVkKTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyB0cmlnZ2VyLCB0cmFuc2l0aW9uLCBhbmltYXRlLCBzdHlsZSwgc3RhdGUsIEFuaW1hdGlvblRyaWdnZXJNZXRhZGF0YSB9IGZyb20gJ0Bhbmd1bGFyL2FuaW1hdGlvbnMnO1xuXG5leHBvcnQgY29uc3Qgc2lkZW5hdkFuaW1hdGlvbjogQW5pbWF0aW9uVHJpZ2dlck1ldGFkYXRhID0gdHJpZ2dlcignc2lkZW5hdkFuaW1hdGlvbicsIFtcbiAgICBzdGF0ZSgnZXhwYW5kZWQnLCBzdHlsZSh7IHdpZHRoOiAne3sgd2lkdGggfX1weCcgfSksIHsgcGFyYW1zIDogeyB3aWR0aDogMCB9IH0pLFxuICAgIHN0YXRlKCdjb21wYWN0JywgIHN0eWxlKHsgd2lkdGg6ICd7eyB3aWR0aCB9fXB4JyB9KSwgeyBwYXJhbXMgOiB7IHdpZHRoOiAwIH0gfSksXG4gICAgdHJhbnNpdGlvbignY29tcGFjdCA8PT4gZXhwYW5kZWQnLCBhbmltYXRlKCcwLjRzIGN1YmljLWJlemllcigwLjI1LCAwLjgsIDAuMjUsIDEpJykpXG5dKTtcblxuZXhwb3J0IGNvbnN0IGNvbnRlbnRBbmltYXRpb25MZWZ0OiBBbmltYXRpb25UcmlnZ2VyTWV0YWRhdGEgPSB0cmlnZ2VyKCdjb250ZW50QW5pbWF0aW9uTGVmdCcsIFtcbiAgICBzdGF0ZSgnZXhwYW5kZWQnLCBzdHlsZSh7ICdtYXJnaW4tbGVmdCc6ICd7eyBtYXJnaW4gfX1weCcgfSksIHsgcGFyYW1zIDogeyBtYXJnaW46IDAgfSB9KSxcbiAgICBzdGF0ZSgnY29tcGFjdCcsICBzdHlsZSh7J21hcmdpbi1sZWZ0JzogJ3t7IG1hcmdpbiB9fXB4JyB9KSwgeyBwYXJhbXMgOiB7IG1hcmdpbjogMCB9IH0pLFxuICAgIHRyYW5zaXRpb24oJ2V4cGFuZGVkIDw9PiBjb21wYWN0JywgYW5pbWF0ZSgnNDAwbXMgY3ViaWMtYmV6aWVyKDAuMjUsIDAuOCwgMC4yNSwgMSknKSlcbl0pO1xuXG5leHBvcnQgY29uc3QgY29udGVudEFuaW1hdGlvblJpZ2h0OiBBbmltYXRpb25UcmlnZ2VyTWV0YWRhdGEgPSB0cmlnZ2VyKCdjb250ZW50QW5pbWF0aW9uUmlnaHQnLCBbXG4gICAgc3RhdGUoJ2V4cGFuZGVkJywgc3R5bGUoeyAnbWFyZ2luLXJpZ2h0JzogJ3t7IG1hcmdpbiB9fXB4JyB9KSwgeyBwYXJhbXMgOiB7IG1hcmdpbjogMCB9IH0pLFxuICAgIHN0YXRlKCdjb21wYWN0JywgIHN0eWxlKHsnbWFyZ2luLXJpZ2h0JzogJ3t7IG1hcmdpbiB9fXB4JyB9KSwgeyBwYXJhbXMgOiB7IG1hcmdpbjogMCB9IH0pLFxuICAgIHRyYW5zaXRpb24oJ2V4cGFuZGVkIDw9PiBjb21wYWN0JywgYW5pbWF0ZSgnNDAwbXMgY3ViaWMtYmV6aWVyKDAuMjUsIDAuOCwgMC4yNSwgMSknKSlcbl0pO1xuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0NoaWxkLCBPbkluaXQsIE9uRGVzdHJveSwgVmlld0VuY2Fwc3VsYXRpb24gfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdFNpZGVuYXYgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5pbXBvcnQgeyBzaWRlbmF2QW5pbWF0aW9uLCBjb250ZW50QW5pbWF0aW9uTGVmdCwgY29udGVudEFuaW1hdGlvblJpZ2h0IH0gZnJvbSAnLi4vLi4vaGVscGVycy9hbmltYXRpb25zJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtbGF5b3V0LWNvbnRhaW5lcicsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2xheW91dC1jb250YWluZXIuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2xheW91dC1jb250YWluZXIuY29tcG9uZW50LnNjc3MnXSxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgIGFuaW1hdGlvbnM6IFtzaWRlbmF2QW5pbWF0aW9uLCBjb250ZW50QW5pbWF0aW9uTGVmdCwgY29udGVudEFuaW1hdGlvblJpZ2h0XVxufSlcbmV4cG9ydCBjbGFzcyBMYXlvdXRDb250YWluZXJDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gICAgQElucHV0KCkgc2lkZW5hdk1pbjogbnVtYmVyO1xuICAgIEBJbnB1dCgpIHNpZGVuYXZNYXg6IG51bWJlcjtcblxuICAgIC8vIFwiIHwgYW55XCIsIGJlY2F1c2UgU2FmYXJpIHRocm93cyBhbiBlcnJvciBvdGhlcndpc2UuLi5cbiAgICBASW5wdXQoKSBtZWRpYVF1ZXJ5TGlzdDogTWVkaWFRdWVyeUxpc3QgfCBhbnk7XG5cbiAgICBASW5wdXQoKSBoaWRlU2lkZW5hdiA9IGZhbHNlO1xuICAgIEBJbnB1dCgpIGV4cGFuZGVkU2lkZW5hdiA9IHRydWU7XG5cbiAgICAvKiogVGhlIHNpZGUgdGhhdCB0aGUgZHJhd2VyIGlzIGF0dGFjaGVkIHRvICdzdGFydCcgfCAnZW5kJyBwYWdlICovXG4gICAgQElucHV0KCkgcG9zaXRpb24gPSAnc3RhcnQnO1xuXG4gICAgQFZpZXdDaGlsZChNYXRTaWRlbmF2KSBzaWRlbmF2OiBNYXRTaWRlbmF2O1xuXG4gICAgc2lkZW5hdkFuaW1hdGlvblN0YXRlOiBhbnk7XG4gICAgY29udGVudEFuaW1hdGlvblN0YXRlOiBhbnk7XG5cbiAgICBTSURFTkFWX1NUQVRFUyA9IHsgTU9CSUxFOiB7fSwgRVhQQU5ERUQ6IHt9LCBDT01QQUNUOiB7fSB9O1xuICAgIENPTlRFTlRfU1RBVEVTID0geyBNT0JJTEU6IHt9LCBFWFBBTkRFRDoge30sIENPTVBBQ1Q6IHt9IH07XG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5vbk1lZGlhUXVlcnlDaGFuZ2UgPSB0aGlzLm9uTWVkaWFRdWVyeUNoYW5nZS5iaW5kKHRoaXMpO1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICB0aGlzLlNJREVOQVZfU1RBVEVTLk1PQklMRSA9IHsgdmFsdWU6ICdleHBhbmRlZCcsIHBhcmFtczogeyB3aWR0aDogdGhpcy5zaWRlbmF2TWF4IH0gfTtcbiAgICAgICAgdGhpcy5TSURFTkFWX1NUQVRFUy5FWFBBTkRFRCA9IHsgdmFsdWU6ICdleHBhbmRlZCcsIHBhcmFtczogeyB3aWR0aDogdGhpcy5zaWRlbmF2TWF4IH0gfTtcbiAgICAgICAgdGhpcy5TSURFTkFWX1NUQVRFUy5DT01QQUNUID0geyB2YWx1ZTogJ2NvbXBhY3QnLCBwYXJhbXM6IHsgd2lkdGg6IHRoaXMuc2lkZW5hdk1pbiB9IH07XG5cbiAgICAgICAgdGhpcy5DT05URU5UX1NUQVRFUy5NT0JJTEUgPSB7IHZhbHVlOiAnZXhwYW5kZWQnLCBwYXJhbXM6IHsgbWFyZ2luOiAwIH0gfTtcbiAgICAgICAgdGhpcy5DT05URU5UX1NUQVRFUy5FWFBBTkRFRCA9IHsgdmFsdWU6ICdleHBhbmRlZCcsIHBhcmFtczogeyBtYXJnaW46IHRoaXMuc2lkZW5hdk1pbiB9IH07XG4gICAgICAgIHRoaXMuQ09OVEVOVF9TVEFURVMuQ09NUEFDVCA9IHsgdmFsdWU6ICdjb21wYWN0JywgcGFyYW1zOiB7IG1hcmdpbjogdGhpcy5zaWRlbmF2TWF4IH0gfTtcblxuICAgICAgICB0aGlzLm1lZGlhUXVlcnlMaXN0LmFkZExpc3RlbmVyKHRoaXMub25NZWRpYVF1ZXJ5Q2hhbmdlKTtcblxuICAgICAgICBpZiAodGhpcy5pc01vYmlsZVNjcmVlblNpemUpIHtcbiAgICAgICAgICAgIHRoaXMuc2lkZW5hdkFuaW1hdGlvblN0YXRlID0gdGhpcy5TSURFTkFWX1NUQVRFUy5NT0JJTEU7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRBbmltYXRpb25TdGF0ZSA9IHRoaXMuQ09OVEVOVF9TVEFURVMuTU9CSUxFO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZXhwYW5kZWRTaWRlbmF2KSB7XG4gICAgICAgICAgICB0aGlzLnNpZGVuYXZBbmltYXRpb25TdGF0ZSA9IHRoaXMuU0lERU5BVl9TVEFURVMuRVhQQU5ERUQ7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRBbmltYXRpb25TdGF0ZSA9IHRoaXMuQ09OVEVOVF9TVEFURVMuQ09NUEFDVDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc2lkZW5hdkFuaW1hdGlvblN0YXRlID0gdGhpcy5TSURFTkFWX1NUQVRFUy5DT01QQUNUO1xuICAgICAgICAgICAgdGhpcy5jb250ZW50QW5pbWF0aW9uU3RhdGUgPSB0aGlzLkNPTlRFTlRfU1RBVEVTLkVYUEFOREVEO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgbmdPbkRlc3Ryb3koKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWVkaWFRdWVyeUxpc3QucmVtb3ZlTGlzdGVuZXIodGhpcy5vbk1lZGlhUXVlcnlDaGFuZ2UpO1xuICAgIH1cblxuICAgIHRvZ2dsZU1lbnUoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmlzTW9iaWxlU2NyZWVuU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5zaWRlbmF2LnRvZ2dsZSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaWRlbmF2QW5pbWF0aW9uU3RhdGUgPSB0aGlzLnRvZ2dsZWRTaWRlbmF2QW5pbWF0aW9uO1xuICAgICAgICAgICAgdGhpcy5jb250ZW50QW5pbWF0aW9uU3RhdGUgPSB0aGlzLnRvZ2dsZWRDb250ZW50QW5pbWF0aW9uO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXQgdG9nZ2xlZFNpZGVuYXZBbmltYXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNpZGVuYXZBbmltYXRpb25TdGF0ZSA9PT0gdGhpcy5TSURFTkFWX1NUQVRFUy5FWFBBTkRFRFxuICAgICAgICAgICAgPyB0aGlzLlNJREVOQVZfU1RBVEVTLkNPTVBBQ1RcbiAgICAgICAgICAgIDogdGhpcy5TSURFTkFWX1NUQVRFUy5FWFBBTkRFRDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCB0b2dnbGVkQ29udGVudEFuaW1hdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuaXNNb2JpbGVTY3JlZW5TaXplKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5DT05URU5UX1NUQVRFUy5NT0JJTEU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5zaWRlbmF2QW5pbWF0aW9uU3RhdGUgPT09IHRoaXMuU0lERU5BVl9TVEFURVMuRVhQQU5ERUQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkNPTlRFTlRfU1RBVEVTLkNPTVBBQ1Q7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5DT05URU5UX1NUQVRFUy5FWFBBTkRFRDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldCBpc01vYmlsZVNjcmVlblNpemUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLm1lZGlhUXVlcnlMaXN0Lm1hdGNoZXM7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbk1lZGlhUXVlcnlDaGFuZ2UoKSB7XG4gICAgICAgIHRoaXMuc2lkZW5hdkFuaW1hdGlvblN0YXRlID0gdGhpcy5TSURFTkFWX1NUQVRFUy5FWFBBTkRFRDtcbiAgICAgICAgdGhpcy5jb250ZW50QW5pbWF0aW9uU3RhdGUgPSB0aGlzLnRvZ2dsZWRDb250ZW50QW5pbWF0aW9uO1xuICAgIH1cblxuICAgIGdldENvbnRlbnRBbmltYXRpb25TdGF0ZUxlZnQoKSB7XG4gICAgICAgIGlmICh0aGlzLnBvc2l0aW9uID09PSAnc3RhcnQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50QW5pbWF0aW9uU3RhdGU7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogJ2NvbXBhY3QnLCBwYXJhbXM6IHsgd2lkdGg6IHRoaXMuc2lkZW5hdk1pbiB9IH07XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBnZXRDb250ZW50QW5pbWF0aW9uU3RhdGVSaWdodCgpIHtcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24gPT09ICdlbmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5jb250ZW50QW5pbWF0aW9uU3RhdGU7XG5cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiAnY29tcGFjdCcsIHBhcmFtczogeyB3aWR0aDogdGhpcy5zaWRlbmF2TWluIH0gfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBDb21wb25lbnQsIERpcmVjdGl2ZSwgSW5wdXQsIFZpZXdFbmNhcHN1bGF0aW9uIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLXNpZGViYXItYWN0aW9uLW1lbnUnLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9zaWRlYmFyLWFjdGlvbi1tZW51LmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9zaWRlYmFyLWFjdGlvbi1tZW51LmNvbXBvbmVudC5zY3NzJ10sXG4gICAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICBob3N0OiB7ICdjbGFzcyc6ICdhZGYtc2lkZWJhci1hY3Rpb24tbWVudScgfVxufSlcblxuZXhwb3J0IGNsYXNzIFNpZGViYXJBY3Rpb25NZW51Q29tcG9uZW50IHtcblxuICAgIC8qKiBUaGUgdGl0bGUgb2YgdGhlIHNpZGViYXIgYWN0aW9uLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgdGl0bGU6IHN0cmluZztcblxuICAgIC8qKiBUb2dnbGUgdGhlIHNpZGViYXIgYWN0aW9uIG1lbnUgb24gZXhwYW5kLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgZXhwYW5kZWQ6IGJvb2xlYW47XG5cbiAgICAvKiogV2lkdGggaW4gcGl4ZWxzIGZvciBzaWRlYmFyIGFjdGlvbiBtZW51IG9wdGlvbnMuICovXG4gICAgQElucHV0KClcbiAgICB3aWR0aDogbnVtYmVyID0gMjcyO1xuXG4gICAgaXNFeHBhbmRlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZXhwYW5kZWQ7XG4gICAgfVxufVxuXG5ARGlyZWN0aXZlKHsgc2VsZWN0b3I6ICdbc2lkZWJhci1tZW51LW9wdGlvbnNdJyB9KSBleHBvcnQgY2xhc3MgU2lkZWJhck1lbnVEaXJlY3RpdmUge31cbkBEaXJlY3RpdmUoeyBzZWxlY3RvcjogJ1tzaWRlYmFyLW1lbnUtdGl0bGUtaWNvbl0nIH0pIGV4cG9ydCBjbGFzcyBTaWRlYmFyTWVudVRpdGxlSWNvbkRpcmVjdGl2ZSB7IH1cbkBEaXJlY3RpdmUoeyBzZWxlY3RvcjogJ1tzaWRlYmFyLW1lbnUtZXhwYW5kLWljb25dJyB9KSBleHBvcnQgY2xhc3MgU2lkZWJhck1lbnVFeHBhbmRJY29uRGlyZWN0aXZlIHsgfVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIsIFZpZXdFbmNhcHN1bGF0aW9uLCBPbkluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtbGF5b3V0LWhlYWRlcicsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2hlYWRlci5jb21wb25lbnQuaHRtbCcsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICBob3N0OiB7IGNsYXNzOiAnYWRmLWxheW91dC1oZWFkZXInIH1cbn0pXG5leHBvcnQgY2xhc3MgSGVhZGVyTGF5b3V0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgICBASW5wdXQoKSB0aXRsZTogc3RyaW5nO1xuICAgIEBJbnB1dCgpIGxvZ286IHN0cmluZztcbiAgICBASW5wdXQoKSByZWRpcmVjdFVybDogc3RyaW5nIHwgYW55W10gPSAnLyc7XG4gICAgQElucHV0KCkgdG9vbHRpcDogc3RyaW5nO1xuICAgIEBJbnB1dCgpIGNvbG9yOiBzdHJpbmc7XG4gICAgQElucHV0KCkgc2hvd1NpZGVuYXZUb2dnbGU6IGJvb2xlYW4gPSB0cnVlO1xuICAgIEBPdXRwdXQoKSBjbGlja2VkID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgICAvKiogVGhlIHNpZGUgdGhhdCB0aGUgZHJhd2VyIGlzIGF0dGFjaGVkIHRvICdzdGFydCcgfCAnZW5kJyBwYWdlICovXG4gICAgQElucHV0KCkgcG9zaXRpb24gPSAnc3RhcnQnO1xuXG4gICAgdG9nZ2xlTWVudSgpIHtcbiAgICAgICAgdGhpcy5jbGlja2VkLmVtaXQodHJ1ZSk7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIGlmICghdGhpcy5sb2dvKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ28gPSAnLi9hc3NldHMvaW1hZ2VzL2xvZ28ucG5nJztcbiAgICAgICAgfVxuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUm91dGVyTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IE1hdGVyaWFsTW9kdWxlIH0gZnJvbSAnLi4vbWF0ZXJpYWwubW9kdWxlJztcbmltcG9ydCB7IFNpZGVuYXZMYXlvdXRDb250ZW50RGlyZWN0aXZlIH0gZnJvbSAnLi9kaXJlY3RpdmVzL3NpZGVuYXYtbGF5b3V0LWNvbnRlbnQuZGlyZWN0aXZlJztcbmltcG9ydCB7IFNpZGVuYXZMYXlvdXRIZWFkZXJEaXJlY3RpdmUgfSBmcm9tICcuL2RpcmVjdGl2ZXMvc2lkZW5hdi1sYXlvdXQtaGVhZGVyLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBTaWRlbmF2TGF5b3V0TmF2aWdhdGlvbkRpcmVjdGl2ZSB9IGZyb20gJy4vZGlyZWN0aXZlcy9zaWRlbmF2LWxheW91dC1uYXZpZ2F0aW9uLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBTaWRlbmF2TGF5b3V0Q29tcG9uZW50IH0gZnJvbSAnLi9jb21wb25lbnRzL3NpZGVuYXYtbGF5b3V0L3NpZGVuYXYtbGF5b3V0LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBMYXlvdXRDb250YWluZXJDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvbGF5b3V0LWNvbnRhaW5lci9sYXlvdXQtY29udGFpbmVyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBTaWRlYmFyQWN0aW9uTWVudUNvbXBvbmVudCwgU2lkZWJhck1lbnVEaXJlY3RpdmUsXG4gICAgU2lkZWJhck1lbnVFeHBhbmRJY29uRGlyZWN0aXZlLCBTaWRlYmFyTWVudVRpdGxlSWNvbkRpcmVjdGl2ZSB9IGZyb20gJy4vY29tcG9uZW50cy9zaWRlYmFyLWFjdGlvbi9zaWRlYmFyLWFjdGlvbi1tZW51LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBIZWFkZXJMYXlvdXRDb21wb25lbnQgfSBmcm9tICcuL2NvbXBvbmVudHMvaGVhZGVyL2hlYWRlci5jb21wb25lbnQnO1xuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgTWF0ZXJpYWxNb2R1bGUsXG4gICAgICAgIFJvdXRlck1vZHVsZVxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBTaWRlbmF2TGF5b3V0SGVhZGVyRGlyZWN0aXZlLFxuICAgICAgICBTaWRlbmF2TGF5b3V0Q29udGVudERpcmVjdGl2ZSxcbiAgICAgICAgU2lkZW5hdkxheW91dE5hdmlnYXRpb25EaXJlY3RpdmUsXG4gICAgICAgIFNpZGVuYXZMYXlvdXRDb21wb25lbnQsXG4gICAgICAgIExheW91dENvbnRhaW5lckNvbXBvbmVudCxcbiAgICAgICAgU2lkZWJhckFjdGlvbk1lbnVDb21wb25lbnQsXG4gICAgICAgIFNpZGViYXJNZW51RGlyZWN0aXZlLFxuICAgICAgICBTaWRlYmFyTWVudUV4cGFuZEljb25EaXJlY3RpdmUsXG4gICAgICAgIFNpZGViYXJNZW51VGl0bGVJY29uRGlyZWN0aXZlLFxuICAgICAgICBIZWFkZXJMYXlvdXRDb21wb25lbnRcbiAgICBdLFxuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBTaWRlbmF2TGF5b3V0SGVhZGVyRGlyZWN0aXZlLFxuICAgICAgICBTaWRlbmF2TGF5b3V0Q29udGVudERpcmVjdGl2ZSxcbiAgICAgICAgU2lkZW5hdkxheW91dE5hdmlnYXRpb25EaXJlY3RpdmUsXG4gICAgICAgIFNpZGVuYXZMYXlvdXRDb21wb25lbnQsXG4gICAgICAgIExheW91dENvbnRhaW5lckNvbXBvbmVudCxcbiAgICAgICAgU2lkZWJhckFjdGlvbk1lbnVDb21wb25lbnQsXG4gICAgICAgIFNpZGViYXJNZW51RGlyZWN0aXZlLFxuICAgICAgICBTaWRlYmFyTWVudUV4cGFuZEljb25EaXJlY3RpdmUsXG4gICAgICAgIFNpZGViYXJNZW51VGl0bGVJY29uRGlyZWN0aXZlLFxuICAgICAgICBIZWFkZXJMYXlvdXRDb21wb25lbnRcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIExheW91dE1vZHVsZSB7fVxuZXhwb3J0IHsgTGF5b3V0TW9kdWxlIGFzIFNpZGVuYXZMYXlvdXRNb2R1bGUgfTtcbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbWVudE1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL2NvbW1lbnQubW9kZWwnO1xuaW1wb3J0IHsgRWNtVXNlclNlcnZpY2UgfSBmcm9tICcuLi91c2VyaW5mby9zZXJ2aWNlcy9lY20tdXNlci5zZXJ2aWNlJztcbmltcG9ydCB7IFBlb3BsZVByb2Nlc3NTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvcGVvcGxlLXByb2Nlc3Muc2VydmljZSc7XG5pbXBvcnQgeyBVc2VyUHJlZmVyZW5jZXNTZXJ2aWNlLCBVc2VyUHJlZmVyZW5jZVZhbHVlcyB9IGZyb20gJy4uL3NlcnZpY2VzL3VzZXItcHJlZmVyZW5jZXMuc2VydmljZSc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLWNvbW1lbnQtbGlzdCcsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2NvbW1lbnQtbGlzdC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vY29tbWVudC1saXN0LmNvbXBvbmVudC5zY3NzJ10sXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZVxufSlcblxuZXhwb3J0IGNsYXNzIENvbW1lbnRMaXN0Q29tcG9uZW50IHtcblxuICAgIC8qKiBUaGUgY29tbWVudHMgZGF0YSB1c2VkIHRvIHBvcHVsYXRlIHRoZSBsaXN0LiAqL1xuICAgIEBJbnB1dCgpXG4gICAgY29tbWVudHM6IENvbW1lbnRNb2RlbFtdO1xuXG4gICAgLyoqIEVtaXR0ZWQgd2hlbiB0aGUgdXNlciBjbGlja3Mgb24gb25lIG9mIHRoZSBjb21tZW50IHJvd3MuICovXG4gICAgQE91dHB1dCgpXG4gICAgY2xpY2tSb3c6IEV2ZW50RW1pdHRlcjxDb21tZW50TW9kZWw+ID0gbmV3IEV2ZW50RW1pdHRlcjxDb21tZW50TW9kZWw+KCk7XG5cbiAgICBzZWxlY3RlZENvbW1lbnQ6IENvbW1lbnRNb2RlbDtcblxuICAgIGN1cnJlbnRMb2NhbGU7XG5cbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgcGVvcGxlUHJvY2Vzc1NlcnZpY2U6IFBlb3BsZVByb2Nlc3NTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHB1YmxpYyBlY21Vc2VyU2VydmljZTogRWNtVXNlclNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHVibGljIHVzZXJQcmVmZXJlbmNlU2VydmljZTogVXNlclByZWZlcmVuY2VzU2VydmljZSkge1xuICAgICAgICB1c2VyUHJlZmVyZW5jZVNlcnZpY2Uuc2VsZWN0KFVzZXJQcmVmZXJlbmNlVmFsdWVzLkxvY2FsZSkuc3Vic2NyaWJlKChsb2NhbGUpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudExvY2FsZSA9IGxvY2FsZTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2VsZWN0Q29tbWVudChjb21tZW50OiBDb21tZW50TW9kZWwpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb21tZW50KSB7XG4gICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ29tbWVudC5pc1NlbGVjdGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29tbWVudC5pc1NlbGVjdGVkID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5zZWxlY3RlZENvbW1lbnQgPSBjb21tZW50O1xuICAgICAgICB0aGlzLmNsaWNrUm93LmVtaXQodGhpcy5zZWxlY3RlZENvbW1lbnQpO1xuICAgIH1cblxuICAgIGdldFVzZXJTaG9ydE5hbWUodXNlcjogYW55KTogc3RyaW5nIHtcbiAgICAgICAgbGV0IHNob3J0TmFtZSA9ICcnO1xuICAgICAgICBpZiAodXNlcikge1xuICAgICAgICAgICAgaWYgKHVzZXIuZmlyc3ROYW1lKSB7XG4gICAgICAgICAgICAgICAgc2hvcnROYW1lID0gdXNlci5maXJzdE5hbWVbMF0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1c2VyLmxhc3ROYW1lKSB7XG4gICAgICAgICAgICAgICAgc2hvcnROYW1lICs9IHVzZXIubGFzdE5hbWVbMF0udG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc2hvcnROYW1lO1xuICAgIH1cblxuICAgIGlzUGljdHVyZURlZmluZWQodXNlcjogYW55KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB1c2VyLnBpY3R1cmVJZCB8fCB1c2VyLmF2YXRhcklkO1xuICAgIH1cblxuICAgIGdldFVzZXJJbWFnZSh1c2VyOiBhbnkpOiBzdHJpbmcge1xuICAgICAgICBpZiAodGhpcy5pc0FDb250ZW50VXNlcnModXNlcikpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVjbVVzZXJTZXJ2aWNlLmdldFVzZXJQcm9maWxlSW1hZ2UodXNlci5hdmF0YXJJZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5wZW9wbGVQcm9jZXNzU2VydmljZS5nZXRVc2VySW1hZ2UodXNlcik7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGlzQUNvbnRlbnRVc2Vycyh1c2VyOiBhbnkpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHVzZXIuYXZhdGFySWQ7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGNsYXNzIENvbW1lbnRNb2RlbCB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBtZXNzYWdlOiBzdHJpbmc7XG4gICAgY3JlYXRlZDogRGF0ZTtcbiAgICBjcmVhdGVkQnk6IGFueTtcbiAgICBpc1NlbGVjdGVkOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3Iob2JqPzogYW55KSB7XG4gICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgIHRoaXMuaWQgPSBvYmouaWQ7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSBvYmoubWVzc2FnZTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZCA9IG9iai5jcmVhdGVkO1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVkQnkgPSBvYmouY3JlYXRlZEJ5O1xuICAgICAgICAgICAgdGhpcy5pc1NlbGVjdGVkID0gb2JqLmlzU2VsZWN0ZWQgPyBvYmouaXNTZWxlY3RlZCA6IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuLyoqXG4gKiBUaGlzIG9iamVjdCByZXByZXNlbnQgdGhlIHByb2Nlc3Mgc2VydmljZSB1c2VyLipcbiAqL1xuXG5pbXBvcnQgeyBMaWdodFVzZXJSZXByZXNlbnRhdGlvbiB9IGZyb20gJ2FsZnJlc2NvLWpzLWFwaSc7XG5cbmV4cG9ydCBjbGFzcyBVc2VyUHJvY2Vzc01vZGVsIGltcGxlbWVudHMgTGlnaHRVc2VyUmVwcmVzZW50YXRpb24ge1xuICAgIGlkPzogbnVtYmVyO1xuICAgIGVtYWlsPzogc3RyaW5nO1xuICAgIGZpcnN0TmFtZT86IHN0cmluZztcbiAgICBsYXN0TmFtZT86IHN0cmluZztcbiAgICBwaWN0dXJlSWQ/OiBudW1iZXIgPSBudWxsO1xuICAgIGV4dGVybmFsSWQ/OiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihvYmo/OiBhbnkpIHtcbiAgICAgICAgaWYgKG9iaikge1xuICAgICAgICAgICAgdGhpcy5pZCA9IG9iai5pZDtcbiAgICAgICAgICAgIHRoaXMuZW1haWwgPSBvYmouZW1haWwgfHwgbnVsbDtcbiAgICAgICAgICAgIHRoaXMuZmlyc3ROYW1lID0gb2JqLmZpcnN0TmFtZSB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5sYXN0TmFtZSA9IG9iai5sYXN0TmFtZSB8fCBudWxsO1xuICAgICAgICAgICAgdGhpcy5waWN0dXJlSWQgPSBvYmoucGljdHVyZUlkIHx8IG51bGw7XG4gICAgICAgICAgICB0aGlzLmV4dGVybmFsSWQgPSBvYmouZXh0ZXJuYWxJZCB8fCBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBmcm9tLCB0aHJvd0Vycm9yIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBDb21tZW50TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvY29tbWVudC5tb2RlbCc7XG5pbXBvcnQgeyBVc2VyUHJvY2Vzc01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL3VzZXItcHJvY2Vzcy5tb2RlbCc7XG5pbXBvcnQgeyBBbGZyZXNjb0FwaVNlcnZpY2UgfSBmcm9tICcuL2FsZnJlc2NvLWFwaS5zZXJ2aWNlJztcbmltcG9ydCB7IExvZ1NlcnZpY2UgfSBmcm9tICcuL2xvZy5zZXJ2aWNlJztcbmltcG9ydCB7IG1hcCwgY2F0Y2hFcnJvciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIENvbW1lbnRQcm9jZXNzU2VydmljZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGFwaVNlcnZpY2U6IEFsZnJlc2NvQXBpU2VydmljZSxcbiAgICAgICAgICAgICAgICBwcml2YXRlIGxvZ1NlcnZpY2U6IExvZ1NlcnZpY2UpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY29tbWVudCB0byBhIHRhc2suXG4gICAgICogQHBhcmFtIHRhc2tJZCBJRCBvZiB0aGUgdGFyZ2V0IHRhc2tcbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBUZXh0IGZvciB0aGUgY29tbWVudFxuICAgICAqIEByZXR1cm5zIERldGFpbHMgYWJvdXQgdGhlIGNvbW1lbnRcbiAgICAgKi9cbiAgICBhZGRUYXNrQ29tbWVudCh0YXNrSWQ6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxDb21tZW50TW9kZWw+IHtcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuYWN0aXZpdGkudGFza0FwaS5hZGRUYXNrQ29tbWVudCh7bWVzc2FnZTogbWVzc2FnZX0sIHRhc2tJZCkpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAoKHJlc3BvbnNlOiBDb21tZW50TW9kZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21tZW50TW9kZWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IHJlc3BvbnNlLmNyZWF0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQnk6IHJlc3BvbnNlLmNyZWF0ZWRCeVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYWxsIGNvbW1lbnRzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIHRvIGEgdGFzay5cbiAgICAgKiBAcGFyYW0gdGFza0lkIElEIG9mIHRoZSB0YXJnZXQgdGFza1xuICAgICAqIEByZXR1cm5zIERldGFpbHMgZm9yIGVhY2ggY29tbWVudFxuICAgICAqL1xuICAgIGdldFRhc2tDb21tZW50cyh0YXNrSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8Q29tbWVudE1vZGVsW10+IHtcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuYWN0aXZpdGkudGFza0FwaS5nZXRUYXNrQ29tbWVudHModGFza0lkKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCgocmVzcG9uc2U6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWVudHM6IENvbW1lbnRNb2RlbFtdID0gW107XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaCgoY29tbWVudDogQ29tbWVudE1vZGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXNlciA9IG5ldyBVc2VyUHJvY2Vzc01vZGVsKGNvbW1lbnQuY3JlYXRlZEJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzLnB1c2gobmV3IENvbW1lbnRNb2RlbCh7aWQ6IGNvbW1lbnQuaWQsIG1lc3NhZ2U6IGNvbW1lbnQubWVzc2FnZSwgY3JlYXRlZDogY29tbWVudC5jcmVhdGVkLCBjcmVhdGVkQnk6IHVzZXJ9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tbWVudHM7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBjb21tZW50cyB0aGF0IGhhdmUgYmVlbiBhZGRlZCB0byBhIHByb2Nlc3MgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHByb2Nlc3NJbnN0YW5jZUlkIElEIG9mIHRoZSB0YXJnZXQgcHJvY2VzcyBpbnN0YW5jZVxuICAgICAqIEByZXR1cm5zIERldGFpbHMgZm9yIGVhY2ggY29tbWVudFxuICAgICAqL1xuICAgIGdldFByb2Nlc3NJbnN0YW5jZUNvbW1lbnRzKHByb2Nlc3NJbnN0YW5jZUlkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPENvbW1lbnRNb2RlbFtdPiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmFjdGl2aXRpLmNvbW1lbnRzQXBpLmdldFByb2Nlc3NJbnN0YW5jZUNvbW1lbnRzKHByb2Nlc3NJbnN0YW5jZUlkKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCgocmVzcG9uc2U6IGFueSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBsZXQgY29tbWVudHM6IENvbW1lbnRNb2RlbFtdID0gW107XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaCgoY29tbWVudDogQ29tbWVudE1vZGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdXNlciA9IG5ldyBVc2VyUHJvY2Vzc01vZGVsKGNvbW1lbnQuY3JlYXRlZEJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzLnB1c2gobmV3IENvbW1lbnRNb2RlbCh7aWQ6IGNvbW1lbnQuaWQsIG1lc3NhZ2U6IGNvbW1lbnQubWVzc2FnZSwgY3JlYXRlZDogY29tbWVudC5jcmVhdGVkLCBjcmVhdGVkQnk6IHVzZXJ9KSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tbWVudHM7XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGEgY29tbWVudCB0byBhIHByb2Nlc3MgaW5zdGFuY2UuXG4gICAgICogQHBhcmFtIHByb2Nlc3NJbnN0YW5jZUlkIElEIG9mIHRoZSB0YXJnZXQgcHJvY2VzcyBpbnN0YW5jZVxuICAgICAqIEBwYXJhbSBtZXNzYWdlIFRleHQgZm9yIHRoZSBjb21tZW50XG4gICAgICogQHJldHVybnMgRGV0YWlscyBvZiB0aGUgY29tbWVudCBhZGRlZFxuICAgICAqL1xuICAgIGFkZFByb2Nlc3NJbnN0YW5jZUNvbW1lbnQocHJvY2Vzc0luc3RhbmNlSWQ6IHN0cmluZywgbWVzc2FnZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxDb21tZW50TW9kZWw+IHtcbiAgICAgICAgcmV0dXJuIGZyb20oXG4gICAgICAgICAgICB0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5hY3Rpdml0aS5jb21tZW50c0FwaS5hZGRQcm9jZXNzSW5zdGFuY2VDb21tZW50KHttZXNzYWdlOiBtZXNzYWdlfSwgcHJvY2Vzc0luc3RhbmNlSWQpXG4gICAgICAgICkucGlwZShcbiAgICAgICAgICAgIG1hcCgocmVzcG9uc2U6IENvbW1lbnRNb2RlbCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQ29tbWVudE1vZGVsKHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkOiByZXNwb25zZS5jcmVhdGVkLFxuICAgICAgICAgICAgICAgICAgICBjcmVhdGVkQnk6IHJlc3BvbnNlLmNyZWF0ZWRCeVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVFcnJvcihlcnJvcjogYW55KSB7XG4gICAgICAgIHRoaXMubG9nU2VydmljZS5lcnJvcihlcnJvcik7XG4gICAgICAgIHJldHVybiB0aHJvd0Vycm9yKGVycm9yIHx8ICdTZXJ2ZXIgZXJyb3InKTtcbiAgICB9XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUsIGZyb20sIHRocm93RXJyb3IgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IENvbW1lbnRNb2RlbCB9IGZyb20gJy4uL21vZGVscy9jb21tZW50Lm1vZGVsJztcbmltcG9ydCB7IEFsZnJlc2NvQXBpU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2FsZnJlc2NvLWFwaS5zZXJ2aWNlJztcbmltcG9ydCB7IExvZ1NlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9sb2cuc2VydmljZSc7XG5pbXBvcnQgeyBtYXAsIGNhdGNoRXJyb3IgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBDb21tZW50Q29udGVudFNlcnZpY2Uge1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhcGlTZXJ2aWNlOiBBbGZyZXNjb0FwaVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBsb2dTZXJ2aWNlOiBMb2dTZXJ2aWNlKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWRkcyBhIGNvbW1lbnQgdG8gYSBub2RlLlxuICAgICAqIEBwYXJhbSBub2RlSWQgSUQgb2YgdGhlIHRhcmdldCBub2RlXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgVGV4dCBmb3IgdGhlIGNvbW1lbnRcbiAgICAgKiBAcmV0dXJucyBEZXRhaWxzIG9mIHRoZSBjb21tZW50IGFkZGVkXG4gICAgICovXG4gICAgYWRkTm9kZUNvbW1lbnQobm9kZUlkOiBzdHJpbmcsIG1lc3NhZ2U6IHN0cmluZyk6IE9ic2VydmFibGU8Q29tbWVudE1vZGVsPiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmNvcmUuY29tbWVudHNBcGkuYWRkQ29tbWVudChub2RlSWQsIHtjb250ZW50OiBtZXNzYWdlfSkpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAoKHJlc3BvbnNlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBDb21tZW50TW9kZWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJlc3BvbnNlLmVudHJ5LmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogcmVzcG9uc2UuZW50cnkuY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IHJlc3BvbnNlLmVudHJ5LmNyZWF0ZWRBdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRCeTogcmVzcG9uc2UuZW50cnkuY3JlYXRlZEJ5XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgY29tbWVudHMgdGhhdCBoYXZlIGJlZW4gYWRkZWQgdG8gYSBub2RlLlxuICAgICAqIEBwYXJhbSBub2RlSWQgSUQgb2YgdGhlIHRhcmdldCBub2RlXG4gICAgICogQHJldHVybnMgRGV0YWlscyBmb3IgZWFjaCBjb21tZW50XG4gICAgICovXG4gICAgZ2V0Tm9kZUNvbW1lbnRzKG5vZGVJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxDb21tZW50TW9kZWxbXT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5jb3JlLmNvbW1lbnRzQXBpLmdldENvbW1lbnRzKG5vZGVJZCkpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAoKHJlc3BvbnNlOiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29tbWVudHM6IENvbW1lbnRNb2RlbFtdID0gW107XG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlLmxpc3QuZW50cmllcy5mb3JFYWNoKChjb21tZW50OiBhbnkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRzLnB1c2gobmV3IENvbW1lbnRNb2RlbCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNvbW1lbnQuZW50cnkuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY29tbWVudC5lbnRyeS5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWQ6IGNvbW1lbnQuZW50cnkuY3JlYXRlZEF0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRCeTogY29tbWVudC5lbnRyeS5jcmVhdGVkQnlcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21tZW50cztcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIHByaXZhdGUgaGFuZGxlRXJyb3IoZXJyb3I6IGFueSkge1xuICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuZXJyb3IoZXJyb3IpO1xuICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihlcnJvciB8fCAnU2VydmVyIGVycm9yJyk7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21tZW50UHJvY2Vzc1NlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tZW50LXByb2Nlc3Muc2VydmljZSc7XG5pbXBvcnQgeyBDb21tZW50Q29udGVudFNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tZW50LWNvbnRlbnQuc2VydmljZSc7XG5pbXBvcnQgeyBDb21tZW50TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvY29tbWVudC5tb2RlbCc7XG5pbXBvcnQgeyBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uQ2hhbmdlcywgT3V0cHV0LCBTaW1wbGVDaGFuZ2VzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBPYnNlcnZlciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgc2hhcmUgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYWRmLWNvbW1lbnRzJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vY29tbWVudHMuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2NvbW1lbnRzLmNvbXBvbmVudC5zY3NzJ11cbn0pXG5leHBvcnQgY2xhc3MgQ29tbWVudHNDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xuXG4gICAgLyoqIFRoZSBudW1lcmljIElEIG9mIHRoZSB0YXNrLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgdGFza0lkOiBzdHJpbmc7XG5cbiAgICAvKiogVGhlIG51bWVyaWMgSUQgb2YgdGhlIG5vZGUuICovXG4gICAgQElucHV0KClcbiAgICBub2RlSWQ6IHN0cmluZztcblxuICAgIC8qKiBBcmUgdGhlIGNvbW1lbnRzIHJlYWQgb25seT8gKi9cbiAgICBASW5wdXQoKVxuICAgIHJlYWRPbmx5OiBib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKiogRW1pdHRlZCB3aGVuIGFuIGVycm9yIG9jY3VycyB3aGlsZSBkaXNwbGF5aW5nL2FkZGluZyBhIGNvbW1lbnQuICovXG4gICAgQE91dHB1dCgpXG4gICAgZXJyb3I6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgICBjb21tZW50czogQ29tbWVudE1vZGVsIFtdID0gW107XG5cbiAgICBwcml2YXRlIGNvbW1lbnRPYnNlcnZlcjogT2JzZXJ2ZXI8Q29tbWVudE1vZGVsPjtcbiAgICBjb21tZW50JDogT2JzZXJ2YWJsZTxDb21tZW50TW9kZWw+O1xuXG4gICAgbWVzc2FnZTogc3RyaW5nO1xuXG4gICAgYmVpbmdBZGRlZDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjb21tZW50UHJvY2Vzc1NlcnZpY2U6IENvbW1lbnRQcm9jZXNzU2VydmljZSwgcHJpdmF0ZSBjb21tZW50Q29udGVudFNlcnZpY2U6IENvbW1lbnRDb250ZW50U2VydmljZSkge1xuICAgICAgICB0aGlzLmNvbW1lbnQkID0gbmV3IE9ic2VydmFibGU8Q29tbWVudE1vZGVsPihvYnNlcnZlciA9PiB0aGlzLmNvbW1lbnRPYnNlcnZlciA9IG9ic2VydmVyKVxuICAgICAgICAgICAgLnBpcGUoc2hhcmUoKSk7XG4gICAgICAgIHRoaXMuY29tbWVudCQuc3Vic2NyaWJlKChjb21tZW50OiBDb21tZW50TW9kZWwpID0+IHtcbiAgICAgICAgICAgIHRoaXMuY29tbWVudHMucHVzaChjb21tZW50KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbmdPbkNoYW5nZXMoY2hhbmdlczogU2ltcGxlQ2hhbmdlcykge1xuICAgICAgICB0aGlzLnRhc2tJZCA9IG51bGw7XG4gICAgICAgIHRoaXMubm9kZUlkID0gbnVsbDtcblxuICAgICAgICB0aGlzLnRhc2tJZCA9IGNoYW5nZXNbJ3Rhc2tJZCddID8gY2hhbmdlc1sndGFza0lkJ10uY3VycmVudFZhbHVlIDogbnVsbDtcbiAgICAgICAgdGhpcy5ub2RlSWQgPSBjaGFuZ2VzWydub2RlSWQnXSA/IGNoYW5nZXNbJ25vZGVJZCddLmN1cnJlbnRWYWx1ZSA6IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMudGFza0lkIHx8IHRoaXMubm9kZUlkKSB7XG4gICAgICAgICAgICB0aGlzLmdldENvbW1lbnRzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnJlc2V0Q29tbWVudHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Q29tbWVudHMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMucmVzZXRDb21tZW50cygpO1xuICAgICAgICBpZiAodGhpcy5pc0FUYXNrKCkpIHtcbiAgICAgICAgICAgIHRoaXMuY29tbWVudFByb2Nlc3NTZXJ2aWNlLmdldFRhc2tDb21tZW50cyh0aGlzLnRhc2tJZCkuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgIChyZXM6IENvbW1lbnRNb2RlbFtdKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMgJiYgcmVzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlcy5zb3J0KChjb21tZW50MTogQ29tbWVudE1vZGVsLCBjb21tZW50MjogQ29tbWVudE1vZGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGUxID0gbmV3IERhdGUoY29tbWVudDEuY3JlYXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGUyID0gbmV3IERhdGUoY29tbWVudDIuY3JlYXRlZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRhdGUxID4gZGF0ZTIgPyAtMSA6IGRhdGUxIDwgZGF0ZTIgPyAxIDogMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmZvckVhY2goKGNvbW1lbnQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1lbnRPYnNlcnZlci5uZXh0KGNvbW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yLmVtaXQoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuaXNBTm9kZSgpKSB7XG4gICAgICAgICAgICB0aGlzLmNvbW1lbnRDb250ZW50U2VydmljZS5nZXROb2RlQ29tbWVudHModGhpcy5ub2RlSWQpLnN1YnNjcmliZShcbiAgICAgICAgICAgICAgICAocmVzOiBDb21tZW50TW9kZWxbXSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzICYmIHJlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlcy5zb3J0KChjb21tZW50MTogQ29tbWVudE1vZGVsLCBjb21tZW50MjogQ29tbWVudE1vZGVsKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0ZTEgPSBuZXcgRGF0ZShjb21tZW50MS5jcmVhdGVkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBkYXRlMiA9IG5ldyBEYXRlKGNvbW1lbnQyLmNyZWF0ZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkYXRlMSA+IGRhdGUyID8gLTEgOiBkYXRlMSA8IGRhdGUyID8gMSA6IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5mb3JFYWNoKChjb21tZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21tZW50T2JzZXJ2ZXIubmV4dChjb21tZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZXJyb3IuZW1pdChlcnIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIHJlc2V0Q29tbWVudHMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY29tbWVudHMgPSBbXTtcbiAgICB9XG5cbiAgICBhZGQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLm1lc3NhZ2UgJiYgdGhpcy5tZXNzYWdlLnRyaW0oKSAmJiAhdGhpcy5iZWluZ0FkZGVkKSB7XG4gICAgICAgICAgICBjb25zdCBjb21tZW50ID0gdGhpcy5zYW5pdGl6ZSh0aGlzLm1lc3NhZ2UpO1xuXG4gICAgICAgICAgICB0aGlzLmJlaW5nQWRkZWQgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNBVGFzaygpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tZW50UHJvY2Vzc1NlcnZpY2UuYWRkVGFza0NvbW1lbnQodGhpcy50YXNrSWQsIGNvbW1lbnQpXG4gICAgICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAocmVzOiBDb21tZW50TW9kZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1lbnRzLnVuc2hpZnQocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJlaW5nQWRkZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yLmVtaXQoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJlaW5nQWRkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHRoaXMuaXNBTm9kZSgpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21tZW50Q29udGVudFNlcnZpY2UuYWRkTm9kZUNvbW1lbnQodGhpcy5ub2RlSWQsIGNvbW1lbnQpXG4gICAgICAgICAgICAgICAgICAgIC5zdWJzY3JpYmUoXG4gICAgICAgICAgICAgICAgICAgICAgICAocmVzOiBDb21tZW50TW9kZWwpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbW1lbnRzLnVuc2hpZnQocmVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJlaW5nQWRkZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yLmVtaXQoZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmJlaW5nQWRkZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGNsZWFyKCk6IHZvaWQge1xuICAgICAgICB0aGlzLm1lc3NhZ2UgPSAnJztcbiAgICB9XG5cbiAgICBpc1JlYWRPbmx5KCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5yZWFkT25seTtcbiAgICB9XG5cbiAgICBpc0FUYXNrKCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy50YXNrSWQgPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuXG4gICAgaXNBTm9kZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZUlkID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2FuaXRpemUoaW5wdXQ6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gaW5wdXQucmVwbGFjZSgvPFtePl0rPi9nLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9eXFxzK3xcXHMrJHxcXHMrKD89XFxzKS9nLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHI/XFxuL2csICc8YnIvPicpO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVHJhbnNsYXRlTW9kdWxlIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XG5pbXBvcnQgeyBNYXRlcmlhbE1vZHVsZSB9IGZyb20gJy4uL21hdGVyaWFsLm1vZHVsZSc7XG5pbXBvcnQgeyBGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IERhdGFDb2x1bW5Nb2R1bGUgfSBmcm9tICcuLi9kYXRhLWNvbHVtbi9kYXRhLWNvbHVtbi5tb2R1bGUnO1xuaW1wb3J0IHsgRGF0YVRhYmxlTW9kdWxlIH0gZnJvbSAnLi4vZGF0YXRhYmxlL2RhdGF0YWJsZS5tb2R1bGUnO1xuaW1wb3J0IHsgUGlwZU1vZHVsZSB9IGZyb20gJy4uL3BpcGVzL3BpcGUubW9kdWxlJztcblxuaW1wb3J0IHsgQ29tbWVudExpc3RDb21wb25lbnQgfSBmcm9tICcuL2NvbW1lbnQtbGlzdC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQ29tbWVudHNDb21wb25lbnQgfSBmcm9tICcuL2NvbW1lbnRzLmNvbXBvbmVudCc7XG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW1xuICAgICAgICBQaXBlTW9kdWxlLFxuICAgICAgICBEYXRhQ29sdW1uTW9kdWxlLFxuICAgICAgICBEYXRhVGFibGVNb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBNYXRlcmlhbE1vZHVsZSxcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBUcmFuc2xhdGVNb2R1bGUuZm9yQ2hpbGQoKVxuICAgIF0sXG4gICAgZGVjbGFyYXRpb25zOiBbXG4gICAgICAgIENvbW1lbnRMaXN0Q29tcG9uZW50LFxuICAgICAgICBDb21tZW50c0NvbXBvbmVudFxuICAgIF0sXG4gICAgZXhwb3J0czogW1xuICAgICAgICBDb21tZW50TGlzdENvbXBvbmVudCxcbiAgICAgICAgQ29tbWVudHNDb21wb25lbnRcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIENvbW1lbnRzTW9kdWxlIHtcbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbXBvbmVudCwgQ29udGVudENoaWxkcmVuLCBRdWVyeUxpc3QsIEFmdGVyQ29udGVudEluaXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdE1lbnVJdGVtIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1idXR0b25zLWFjdGlvbi1tZW51JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vYnV0dG9ucy1tZW51LmNvbXBvbmVudC5odG1sJyxcbiAgICBzdHlsZVVybHM6IFsnLi9idXR0b25zLW1lbnUuY29tcG9uZW50LnNjc3MnXVxufSlcblxuZXhwb3J0IGNsYXNzIEJ1dHRvbnNNZW51Q29tcG9uZW50IGltcGxlbWVudHMgIEFmdGVyQ29udGVudEluaXQge1xuXG4gICAgQENvbnRlbnRDaGlsZHJlbihNYXRNZW51SXRlbSkgYnV0dG9uczogUXVlcnlMaXN0PE1hdE1lbnVJdGVtPjtcblxuICAgIGlzTWVudUVtcHR5OiBib29sZWFuO1xuXG4gICAgbmdBZnRlckNvbnRlbnRJbml0KCkge1xuICAgICAgICBpZiAodGhpcy5idXR0b25zLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuaXNNZW51RW1wdHkgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuaXNNZW51RW1wdHkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaXNNb2JpbGUoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiAhIS9BbmRyb2lkfHdlYk9TfGlQaG9uZXxpUGFkfGlQb2R8QmxhY2tCZXJyeXxJRU1vYmlsZXxPcGVyYSBNaW5pL2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFRyYW5zbGF0ZU1vZHVsZSB9IGZyb20gJ0BuZ3gtdHJhbnNsYXRlL2NvcmUnO1xuaW1wb3J0IHsgTWF0ZXJpYWxNb2R1bGUgfSBmcm9tICcuLi9tYXRlcmlhbC5tb2R1bGUnO1xuaW1wb3J0IHsgQnV0dG9uc01lbnVDb21wb25lbnQgfSBmcm9tICcuL2J1dHRvbnMtbWVudS5jb21wb25lbnQnO1xuaW1wb3J0IHsgRmxleExheW91dE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2ZsZXgtbGF5b3V0JztcblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgTWF0ZXJpYWxNb2R1bGUsXG4gICAgICAgIFRyYW5zbGF0ZU1vZHVsZS5mb3JDaGlsZCgpLFxuICAgICAgICBGbGV4TGF5b3V0TW9kdWxlXG4gICAgXSxcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgQnV0dG9uc01lbnVDb21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgQnV0dG9uc01lbnVDb21wb25lbnRcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIEJ1dHRvbnNNZW51TW9kdWxlIHt9XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIFZpZXdFbmNhcHN1bGF0aW9uLCBJbnB1dCwgRXZlbnRFbWl0dGVyLCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdFNlbGVjdENoYW5nZSB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtc29ydGluZy1waWNrZXInLFxuICAgIHRlbXBsYXRlVXJsOiAnLi9zb3J0aW5nLXBpY2tlci5jb21wb25lbnQuaHRtbCcsXG4gICAgZW5jYXBzdWxhdGlvbjogVmlld0VuY2Fwc3VsYXRpb24uTm9uZSxcbiAgICBob3N0OiB7IGNsYXNzOiAnYWRmLXNvcnRpbmctcGlja2VyJyB9XG59KVxuZXhwb3J0IGNsYXNzIFNvcnRpbmdQaWNrZXJDb21wb25lbnQge1xuXG4gICAgLyoqIEF2YWlsYWJsZSBzb3J0aW5nIG9wdGlvbnMgKi9cbiAgICBASW5wdXQoKVxuICAgIG9wdGlvbnM6IEFycmF5PHtrZXk6IHN0cmluZywgbGFiZWw6IHN0cmluZ30+ID0gW107XG5cbiAgICAvKiogQ3VycmVudGx5IHNlbGVjdGVkIG9wdGlvbiBrZXkgKi9cbiAgICBASW5wdXQoKVxuICAgIHNlbGVjdGVkOiBzdHJpbmc7XG5cbiAgICAvKiogQ3VycmVudCBzb3J0aW5nIGRpcmVjdGlvbiAqL1xuICAgIEBJbnB1dCgpXG4gICAgYXNjZW5kaW5nID0gdHJ1ZTtcblxuICAgIC8qKiBSYWlzZWQgZWFjaCB0aW1lIHNvcnRpbmcga2V5IG9yIGRpcmVjdGlvbiBnZXRzIGNoYW5nZWQuICovXG4gICAgQE91dHB1dCgpXG4gICAgY2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcjx7IGtleTogc3RyaW5nLCBhc2NlbmRpbmc6IGJvb2xlYW4gfT4oKTtcblxuICAgIG9uQ2hhbmdlZChldmVudDogTWF0U2VsZWN0Q2hhbmdlKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWQgPSBldmVudC52YWx1ZTtcbiAgICAgICAgdGhpcy5yYWlzZUNoYW5nZWRFdmVudCgpO1xuICAgIH1cblxuICAgIHRvZ2dsZVNvcnREaXJlY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuYXNjZW5kaW5nID0gIXRoaXMuYXNjZW5kaW5nO1xuICAgICAgICB0aGlzLnJhaXNlQ2hhbmdlZEV2ZW50KCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByYWlzZUNoYW5nZWRFdmVudCgpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2UuZW1pdCh7XG4gICAgICAgICAgICBrZXk6IHRoaXMuc2VsZWN0ZWQsXG4gICAgICAgICAgICBhc2NlbmRpbmc6IHRoaXMuYXNjZW5kaW5nXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVHJhbnNsYXRlTW9kdWxlIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XG5pbXBvcnQgeyBNYXRlcmlhbE1vZHVsZSB9IGZyb20gJy4uL21hdGVyaWFsLm1vZHVsZSc7XG5pbXBvcnQgeyBTb3J0aW5nUGlja2VyQ29tcG9uZW50IH0gZnJvbSAnLi9zb3J0aW5nLXBpY2tlci5jb21wb25lbnQnO1xuXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBNYXRlcmlhbE1vZHVsZSxcbiAgICAgICAgVHJhbnNsYXRlTW9kdWxlLmZvckNoaWxkKClcbiAgICBdLFxuICAgIGRlY2xhcmF0aW9uczogW1xuICAgICAgICBTb3J0aW5nUGlja2VyQ29tcG9uZW50XG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIFNvcnRpbmdQaWNrZXJDb21wb25lbnRcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIFNvcnRpbmdQaWNrZXJNb2R1bGUge31cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7XG4gICAgQ29tcG9uZW50LFxuICAgIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LFxuICAgIElucHV0LFxuICAgIFZpZXdFbmNhcHN1bGF0aW9uLFxuICAgIE9uSW5pdCxcbiAgICBBZnRlckNvbnRlbnRDaGVja2VkXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUGFyYW1zLCBBY3RpdmF0ZWRSb3V0ZSwgUm91dGVyIH0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IFRyYW5zbGF0aW9uU2VydmljZSB9IGZyb20gJy4uLy4uL3NlcnZpY2VzL3RyYW5zbGF0aW9uLnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1lcnJvci1jb250ZW50JyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vZXJyb3ItY29udGVudC5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vZXJyb3ItY29udGVudC5jb21wb25lbnQuc2NzcyddLFxuICAgIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgaG9zdDogeyBjbGFzczogJ2FkZi1lcnJvci1jb250ZW50JyB9XG59KVxuZXhwb3J0IGNsYXNzIEVycm9yQ29udGVudENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgQWZ0ZXJDb250ZW50Q2hlY2tlZCB7XG5cbiAgICAvKiogVGFyZ2V0IFVSTCBmb3IgdGhlIHNlY29uZGFyeSBidXR0b24uICovXG4gICAgQElucHV0KClcbiAgICBzZWNvbmRhcnlCdXR0b25Vcmw6IHN0cmluZyA9ICdyZXBvcnQtaXNzdWUnO1xuXG4gICAgLyoqIFRhcmdldCBVUkwgZm9yIHRoZSByZXR1cm4gYnV0dG9uLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgcmV0dXJuQnV0dG9uVXJsOiBzdHJpbmcgPSAnLyc7XG5cbiAgICAvKiogRXJyb3IgY29kZSBhc3NvY2lhdGVkIHdpdGggdGhpcyBlcnJvci4gKi9cbiAgICBASW5wdXQoKVxuICAgIGVycm9yQ29kZTogc3RyaW5nO1xuXG4gICAgaGFzU2Vjb25kQnV0dG9uOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSByb3V0ZTogQWN0aXZhdGVkUm91dGUsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcbiAgICAgICAgICAgICAgICBwcml2YXRlIHRyYW5zbGF0ZVNlcnZpY2U6IFRyYW5zbGF0aW9uU2VydmljZSkge1xuICAgIH1cblxuICAgIG5nT25Jbml0KCkge1xuICAgICAgICBpZiAodGhpcy5yb3V0ZSkge1xuICAgICAgICAgICAgdGhpcy5yb3V0ZS5wYXJhbXMuZm9yRWFjaCgocGFyYW1zOiBQYXJhbXMpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zWydpZCddICYmICF0aGlzLmVycm9yQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yQ29kZSA9IHBhcmFtc1snaWQnXTtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVua25vd24gPSAnJztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2xhdGVTZXJ2aWNlLmdldCgnRVJST1JfQ09OVEVOVC4nICsgdGhpcy5lcnJvckNvZGUgKyAnLlRJVExFJykuc3Vic2NyaWJlKChlcnJvclRyYW5zbGF0aW9uOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHVua25vd24gPSBlcnJvclRyYW5zbGF0aW9uO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVua25vd24gPT09ICdFUlJPUl9DT05URU5ULicgKyB0aGlzLmVycm9yQ29kZSArICcuVElUTEUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVycm9yQ29kZSA9ICdVTktOT1dOJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0VHJhbnNsYXRpb25zKCkge1xuICAgICAgICB0aGlzLmhhc1NlY29uZEJ1dHRvbiA9IHRoaXMudHJhbnNsYXRlU2VydmljZS5pbnN0YW50KFxuICAgICAgICAgICAgJ0VSUk9SX0NPTlRFTlQuJyArIHRoaXMuZXJyb3JDb2RlICsgJy5TRUNPTkRBUllfQlVUVE9OLlRFWFQnKSA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBuZ0FmdGVyQ29udGVudENoZWNrZWQoKSB7XG4gICAgICAgIHRoaXMuZ2V0VHJhbnNsYXRpb25zKCk7XG4gICAgfVxuXG4gICAgb25TZWNvbmRCdXR0b24oKSB7XG4gICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFsnLycgKyB0aGlzLnNlY29uZGFyeUJ1dHRvblVybF0pO1xuICAgIH1cblxuICAgIG9uUmV0dXJuQnV0dG9uKCkge1xuICAgICAgICB0aGlzLnJvdXRlci5uYXZpZ2F0ZShbJy8nICsgdGhpcy5yZXR1cm5CdXR0b25VcmxdKTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIENoYW5nZURldGVjdGlvblN0cmF0ZWd5LCBWaWV3RW5jYXBzdWxhdGlvbiwgSW5wdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhZGYtZW1wdHktY29udGVudCcsXG4gICAgdGVtcGxhdGVVcmw6ICcuL2VtcHR5LWNvbnRlbnQuY29tcG9uZW50Lmh0bWwnLFxuICAgIHN0eWxlVXJsczogWycuL2VtcHR5LWNvbnRlbnQuY29tcG9uZW50LnNjc3MnXSxcbiAgICBjaGFuZ2VEZXRlY3Rpb246IENoYW5nZURldGVjdGlvblN0cmF0ZWd5Lk9uUHVzaCxcbiAgICBlbmNhcHN1bGF0aW9uOiBWaWV3RW5jYXBzdWxhdGlvbi5Ob25lLFxuICAgIGhvc3Q6IHsgY2xhc3M6ICdhZGYtZW1wdHktY29udGVudCcgfVxufSlcbmV4cG9ydCBjbGFzcyBFbXB0eUNvbnRlbnRDb21wb25lbnQge1xuXG4gICAgLyoqIE1hdGVyaWFsIEljb24gdG8gdXNlLiAqL1xuICAgIEBJbnB1dCgpXG4gICAgaWNvbiA9ICdjYWtlJztcblxuICAgIC8qKiBTdHJpbmcgb3IgUmVzb3VyY2UgS2V5IGZvciB0aGUgdGl0bGUuICovXG4gICAgQElucHV0KClcbiAgICB0aXRsZSA9ICcnO1xuXG4gICAgLyoqIFN0cmluZyBvciBSZXNvdXJjZSBLZXkgZm9yIHRoZSBzdWJ0aXRsZS4gKi9cbiAgICBASW5wdXQoKVxuICAgIHN1YnRpdGxlID0gJyc7XG5cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVHJhbnNsYXRlTW9kdWxlIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XG5pbXBvcnQgeyBNYXRlcmlhbE1vZHVsZSB9IGZyb20gJy4uL21hdGVyaWFsLm1vZHVsZSc7XG5pbXBvcnQgeyBFcnJvckNvbnRlbnRDb21wb25lbnQgfSBmcm9tICcuL2Vycm9yLWNvbnRlbnQvZXJyb3ItY29udGVudC5jb21wb25lbnQnO1xuaW1wb3J0IHsgRW1wdHlDb250ZW50Q29tcG9uZW50IH0gZnJvbSAnLi9lbXB0eS1jb250ZW50L2VtcHR5LWNvbnRlbnQuY29tcG9uZW50JztcblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgTWF0ZXJpYWxNb2R1bGUsXG4gICAgICAgIFRyYW5zbGF0ZU1vZHVsZS5mb3JDaGlsZCgpXG4gICAgXSxcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgRXJyb3JDb250ZW50Q29tcG9uZW50LFxuICAgICAgICBFbXB0eUNvbnRlbnRDb21wb25lbnRcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgRXJyb3JDb250ZW50Q29tcG9uZW50LFxuICAgICAgICBFbXB0eUNvbnRlbnRDb21wb25lbnRcbiAgICBdXG59KVxuZXhwb3J0IGNsYXNzIFRlbXBsYXRlTW9kdWxlIHt9XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICAgIEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIENhbkFjdGl2YXRlLFxuICAgIENhbkFjdGl2YXRlQ2hpbGQsIFJvdXRlclN0YXRlU25hcHNob3QsIFJvdXRlclxufSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgQXV0aGVudGljYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi9hdXRoZW50aWNhdGlvbi5zZXJ2aWNlJztcbmltcG9ydCB7IE9ic2VydmFibGUgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEFwcENvbmZpZ1NlcnZpY2UsIEFwcENvbmZpZ1ZhbHVlcyB9IGZyb20gJy4uL2FwcC1jb25maWcvYXBwLWNvbmZpZy5zZXJ2aWNlJztcbmltcG9ydCB7IE9hdXRoQ29uZmlnTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvb2F1dGgtY29uZmlnLm1vZGVsJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEF1dGhHdWFyZCBpbXBsZW1lbnRzIENhbkFjdGl2YXRlLCBDYW5BY3RpdmF0ZUNoaWxkIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGF1dGhTZXJ2aWNlOiBBdXRoZW50aWNhdGlvblNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSByb3V0ZXI6IFJvdXRlcixcbiAgICAgICAgICAgICAgICBwcml2YXRlIGFwcENvbmZpZzogQXBwQ29uZmlnU2VydmljZSkge1xuICAgIH1cblxuICAgIGNhbkFjdGl2YXRlKHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90LCBzdGF0ZTogUm91dGVyU3RhdGVTbmFwc2hvdCk6IE9ic2VydmFibGU8Ym9vbGVhbj4gfCBQcm9taXNlPGJvb2xlYW4+IHwgYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHJlZGlyZWN0VXJsID0gc3RhdGUudXJsO1xuICAgICAgICByZXR1cm4gdGhpcy5jaGVja0xvZ2luKHJlZGlyZWN0VXJsKTtcbiAgICB9XG5cbiAgICBjYW5BY3RpdmF0ZUNoaWxkKHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90LCBzdGF0ZTogUm91dGVyU3RhdGVTbmFwc2hvdCk6IE9ic2VydmFibGU8Ym9vbGVhbj4gfCBQcm9taXNlPGJvb2xlYW4+IHwgYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbkFjdGl2YXRlKHJvdXRlLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgY2hlY2tMb2dpbihyZWRpcmVjdFVybDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmF1dGhTZXJ2aWNlLmlzTG9nZ2VkSW4oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0aGlzLmF1dGhTZXJ2aWNlLmlzT2F1dGgoKSB8fCB0aGlzLmlzT0F1dGhXaXRob3V0U2lsZW50TG9naW4oKSkge1xuICAgICAgICAgICAgdGhpcy5hdXRoU2VydmljZS5zZXRSZWRpcmVjdCh7IHByb3ZpZGVyOiAnQUxMJywgdXJsOiByZWRpcmVjdFVybCB9KTtcblxuICAgICAgICAgICAgY29uc3QgcGF0aFRvTG9naW4gPSB0aGlzLmdldFJvdXRlRGVzdGluYXRpb25Gb3JMb2dpbigpO1xuICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoWycvJyArIHBhdGhUb0xvZ2luXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaXNPQXV0aFdpdGhvdXRTaWxlbnRMb2dpbigpIHtcbiAgICAgICAgbGV0IG9hdXRoOiBPYXV0aENvbmZpZ01vZGVsID0gdGhpcy5hcHBDb25maWcuZ2V0PE9hdXRoQ29uZmlnTW9kZWw+KEFwcENvbmZpZ1ZhbHVlcy5PQVVUSENPTkZJRywgbnVsbCk7XG4gICAgICAgIHJldHVybiB0aGlzLmF1dGhTZXJ2aWNlLmlzT2F1dGgoKSAmJiBvYXV0aC5zaWxlbnRMb2dpbiA9PT0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHVibGljIGdldFJvdXRlRGVzdGluYXRpb25Gb3JMb2dpbigpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5hcHBDb25maWcgJiZcbiAgICAgICAgdGhpcy5hcHBDb25maWcuZ2V0PHN0cmluZz4oQXBwQ29uZmlnVmFsdWVzLkxPR0lOX1JPVVRFKSA/XG4gICAgICAgICAgICB0aGlzLmFwcENvbmZpZy5nZXQ8c3RyaW5nPihBcHBDb25maWdWYWx1ZXMuTE9HSU5fUk9VVEUpIDogJ2xvZ2luJztcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICAgIEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIENhbkFjdGl2YXRlLCBSb3V0ZXJTdGF0ZVNuYXBzaG90LCBSb3V0ZXJcbn0gZnJvbSAnQGFuZ3VsYXIvcm91dGVyJztcbmltcG9ydCB7IEF1dGhlbnRpY2F0aW9uU2VydmljZSB9IGZyb20gJy4vYXV0aGVudGljYXRpb24uc2VydmljZSc7XG5pbXBvcnQgeyBBcHBDb25maWdTZXJ2aWNlLCBBcHBDb25maWdWYWx1ZXMgfSBmcm9tICcuLi9hcHAtY29uZmlnL2FwcC1jb25maWcuc2VydmljZSc7XG5pbXBvcnQgeyBPYXV0aENvbmZpZ01vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL29hdXRoLWNvbmZpZy5tb2RlbCc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBBdXRoR3VhcmRFY20gaW1wbGVtZW50cyBDYW5BY3RpdmF0ZSB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhdXRoU2VydmljZTogQXV0aGVudGljYXRpb25TZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgcm91dGVyOiBSb3V0ZXIsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBhcHBDb25maWc6IEFwcENvbmZpZ1NlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBjYW5BY3RpdmF0ZShyb3V0ZTogQWN0aXZhdGVkUm91dGVTbmFwc2hvdCwgc3RhdGU6IFJvdXRlclN0YXRlU25hcHNob3QpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2hlY2tMb2dpbihzdGF0ZS51cmwpO1xuICAgIH1cblxuICAgIGNhbkFjdGl2YXRlQ2hpbGQocm91dGU6IEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIHN0YXRlOiBSb3V0ZXJTdGF0ZVNuYXBzaG90KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNhbkFjdGl2YXRlKHJvdXRlLCBzdGF0ZSk7XG4gICAgfVxuXG4gICAgY2hlY2tMb2dpbihyZWRpcmVjdFVybDogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgICAgIGlmICh0aGlzLmF1dGhTZXJ2aWNlLmlzRWNtTG9nZ2VkSW4oKSkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIXRoaXMuYXV0aFNlcnZpY2UuaXNPYXV0aCgpIHx8IHRoaXMuaXNPQXV0aFdpdGhvdXRTaWxlbnRMb2dpbigpKSB7XG4gICAgICAgICAgICB0aGlzLmF1dGhTZXJ2aWNlLnNldFJlZGlyZWN0KHsgcHJvdmlkZXI6ICdFQ00nLCB1cmw6IHJlZGlyZWN0VXJsIH0pO1xuICAgICAgICAgICAgY29uc3QgcGF0aFRvTG9naW4gPSB0aGlzLmdldFJvdXRlRGVzdGluYXRpb25Gb3JMb2dpbigpO1xuICAgICAgICAgICAgdGhpcy5yb3V0ZXIubmF2aWdhdGUoWycvJyArIHBhdGhUb0xvZ2luXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaXNPQXV0aFdpdGhvdXRTaWxlbnRMb2dpbigpIHtcbiAgICAgICAgbGV0IG9hdXRoOiBPYXV0aENvbmZpZ01vZGVsID0gdGhpcy5hcHBDb25maWcuZ2V0PE9hdXRoQ29uZmlnTW9kZWw+KEFwcENvbmZpZ1ZhbHVlcy5PQVVUSENPTkZJRywgbnVsbCk7XG4gICAgICAgIHJldHVybiB0aGlzLmF1dGhTZXJ2aWNlLmlzT2F1dGgoKSAmJiBvYXV0aC5zaWxlbnRMb2dpbiA9PT0gZmFsc2U7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRSb3V0ZURlc3RpbmF0aW9uRm9yTG9naW4oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBwQ29uZmlnICYmXG4gICAgICAgICAgICB0aGlzLmFwcENvbmZpZy5nZXQ8c3RyaW5nPihBcHBDb25maWdWYWx1ZXMuTE9HSU5fUk9VVEUpID9cbiAgICAgICAgICAgIHRoaXMuYXBwQ29uZmlnLmdldDxzdHJpbmc+KEFwcENvbmZpZ1ZhbHVlcy5MT0dJTl9ST1VURSkgOiAnbG9naW4nO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIENhbkFjdGl2YXRlLCBDYW5BY3RpdmF0ZUNoaWxkLCBSb3V0ZXJTdGF0ZVNuYXBzaG90LCBSb3V0ZXIgfSBmcm9tICdAYW5ndWxhci9yb3V0ZXInO1xuaW1wb3J0IHsgQXBwQ29uZmlnU2VydmljZSwgQXBwQ29uZmlnVmFsdWVzIH0gZnJvbSAnLi4vYXBwLWNvbmZpZy9hcHAtY29uZmlnLnNlcnZpY2UnO1xuaW1wb3J0IHsgQXV0aGVudGljYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi9hdXRoZW50aWNhdGlvbi5zZXJ2aWNlJztcbmltcG9ydCB7IE9hdXRoQ29uZmlnTW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvb2F1dGgtY29uZmlnLm1vZGVsJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEF1dGhHdWFyZEJwbSBpbXBsZW1lbnRzIENhbkFjdGl2YXRlLCBDYW5BY3RpdmF0ZUNoaWxkIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGF1dGhTZXJ2aWNlOiBBdXRoZW50aWNhdGlvblNlcnZpY2UsIHByaXZhdGUgcm91dGVyOiBSb3V0ZXIsIHByaXZhdGUgYXBwQ29uZmlnOiBBcHBDb25maWdTZXJ2aWNlKSB7fVxuXG4gICAgY2FuQWN0aXZhdGUocm91dGU6IEFjdGl2YXRlZFJvdXRlU25hcHNob3QsIHN0YXRlOiBSb3V0ZXJTdGF0ZVNuYXBzaG90KTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmNoZWNrTG9naW4oc3RhdGUudXJsKTtcbiAgICB9XG5cbiAgICBjYW5BY3RpdmF0ZUNoaWxkKHJvdXRlOiBBY3RpdmF0ZWRSb3V0ZVNuYXBzaG90LCBzdGF0ZTogUm91dGVyU3RhdGVTbmFwc2hvdCk6IGJvb2xlYW4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jYW5BY3RpdmF0ZShyb3V0ZSwgc3RhdGUpO1xuICAgIH1cblxuICAgIGNoZWNrTG9naW4ocmVkaXJlY3RVcmw6IHN0cmluZyk6IGJvb2xlYW4ge1xuICAgICAgICBpZiAodGhpcy5hdXRoU2VydmljZS5pc0JwbUxvZ2dlZEluKCkpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCF0aGlzLmF1dGhTZXJ2aWNlLmlzT2F1dGgoKSB8fCB0aGlzLmlzT0F1dGhXaXRob3V0U2lsZW50TG9naW4oKSkge1xuICAgICAgICAgICAgdGhpcy5hdXRoU2VydmljZS5zZXRSZWRpcmVjdCh7IHByb3ZpZGVyOiAnQlBNJywgdXJsOiByZWRpcmVjdFVybCB9KTtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhUb0xvZ2luID0gdGhpcy5nZXRSb3V0ZURlc3RpbmF0aW9uRm9yTG9naW4oKTtcbiAgICAgICAgICAgIHRoaXMucm91dGVyLm5hdmlnYXRlKFsnLycgKyBwYXRoVG9Mb2dpbl0pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlzT0F1dGhXaXRob3V0U2lsZW50TG9naW4oKSB7XG4gICAgICAgIGxldCBvYXV0aDogT2F1dGhDb25maWdNb2RlbCA9IHRoaXMuYXBwQ29uZmlnLmdldDxPYXV0aENvbmZpZ01vZGVsPihBcHBDb25maWdWYWx1ZXMuT0FVVEhDT05GSUcsIG51bGwpO1xuICAgICAgICByZXR1cm4gdGhpcy5hdXRoU2VydmljZS5pc09hdXRoKCkgJiYgb2F1dGguc2lsZW50TG9naW4gPT09IGZhbHNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0Um91dGVEZXN0aW5hdGlvbkZvckxvZ2luKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiB0aGlzLmFwcENvbmZpZyAmJiB0aGlzLmFwcENvbmZpZy5nZXQ8c3RyaW5nPihBcHBDb25maWdWYWx1ZXMuTE9HSU5fUk9VVEUpID8gdGhpcy5hcHBDb25maWcuZ2V0PHN0cmluZz4oQXBwQ29uZmlnVmFsdWVzLkxPR0lOX1JPVVRFKSA6ICdsb2dpbic7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQXBwRGVmaW5pdGlvblJlcHJlc2VudGF0aW9uIH0gZnJvbSAnYWxmcmVzY28tanMtYXBpJztcbmltcG9ydCB7IE9ic2VydmFibGUsIGZyb20sIHRocm93RXJyb3IgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEFsZnJlc2NvQXBpU2VydmljZSB9IGZyb20gJy4vYWxmcmVzY28tYXBpLnNlcnZpY2UnO1xuaW1wb3J0IHsgTG9nU2VydmljZSB9IGZyb20gJy4vbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgbWFwLCBjYXRjaEVycm9yIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQXBwc1Byb2Nlc3NTZXJ2aWNlIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgbG9nU2VydmljZTogTG9nU2VydmljZSkge1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBsaXN0IG9mIGRlcGxveWVkIGFwcHMgZm9yIHRoaXMgdXNlci5cbiAgICAgKiBAcmV0dXJucyBUaGUgbGlzdCBvZiBkZXBsb3llZCBhcHBzXG4gICAgICovXG4gICAgZ2V0RGVwbG95ZWRBcHBsaWNhdGlvbnMoKTogT2JzZXJ2YWJsZTxBcHBEZWZpbml0aW9uUmVwcmVzZW50YXRpb25bXT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5hY3Rpdml0aS5hcHBzQXBpLmdldEFwcERlZmluaXRpb25zKCkpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBtYXAoKHJlc3BvbnNlOiBhbnkpID0+IDxBcHBEZWZpbml0aW9uUmVwcmVzZW50YXRpb25bXT4gcmVzcG9uc2UuZGF0YSksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgbGlzdCBvZiBkZXBsb3llZCBhcHBzIGZvciB0aGlzIHVzZXIsIHdoZXJlIHRoZSBhcHAgbmFtZSBpcyBgbmFtZWAuXG4gICAgICogQHBhcmFtIG5hbWUgTmFtZSBvZiB0aGUgYXBwXG4gICAgICogQHJldHVybnMgVGhlIGxpc3Qgb2YgZGVwbG95ZWQgYXBwc1xuICAgICAqL1xuICAgIGdldERlcGxveWVkQXBwbGljYXRpb25zQnlOYW1lKG5hbWU6IHN0cmluZyk6IE9ic2VydmFibGU8QXBwRGVmaW5pdGlvblJlcHJlc2VudGF0aW9uPiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmFjdGl2aXRpLmFwcHNBcGkuZ2V0QXBwRGVmaW5pdGlvbnMoKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCgocmVzcG9uc2U6IGFueSkgPT4gPEFwcERlZmluaXRpb25SZXByZXNlbnRhdGlvbj4gcmVzcG9uc2UuZGF0YS5maW5kKGFwcCA9PiBhcHAubmFtZSA9PT0gbmFtZSkpLFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGV0YWlscyBmb3IgYSBzcGVjaWZpYyBhcHAgSUQgbnVtYmVyLlxuICAgICAqIEBwYXJhbSBhcHBJZCBJRCBvZiB0aGUgdGFyZ2V0IGFwcFxuICAgICAqIEByZXR1cm5zIERldGFpbHMgb2YgdGhlIGFwcFxuICAgICAqL1xuICAgIGdldEFwcGxpY2F0aW9uRGV0YWlsc0J5SWQoYXBwSWQ6IG51bWJlcik6IE9ic2VydmFibGU8QXBwRGVmaW5pdGlvblJlcHJlc2VudGF0aW9uPiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmFjdGl2aXRpLmFwcHNBcGkuZ2V0QXBwRGVmaW5pdGlvbnMoKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIG1hcCgocmVzcG9uc2U6IGFueSkgPT4gcmVzcG9uc2UuZGF0YS5maW5kKGFwcCA9PiBhcHAuaWQgPT09IGFwcElkKSksXG4gICAgICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKGVycm9yOiBhbnkpIHtcbiAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmVycm9yKGVycm9yKTtcbiAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoZXJyb3IgfHwgJ1NlcnZlciBlcnJvcicpO1xuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgVGl0bGUgfSBmcm9tICdAYW5ndWxhci9wbGF0Zm9ybS1icm93c2VyJztcbmltcG9ydCB7IEFwcENvbmZpZ1NlcnZpY2UgfSBmcm9tICcuLi9hcHAtY29uZmlnL2FwcC1jb25maWcuc2VydmljZSc7XG5pbXBvcnQgeyBUcmFuc2xhdGlvblNlcnZpY2UgfSBmcm9tICcuL3RyYW5zbGF0aW9uLnNlcnZpY2UnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgUGFnZVRpdGxlU2VydmljZSB7XG5cbiAgICBwcml2YXRlIG9yaWdpbmFsVGl0bGU6IHN0cmluZyA9ICcnO1xuICAgIHByaXZhdGUgdHJhbnNsYXRlZFRpdGxlOiBzdHJpbmcgPSAnJztcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIHRpdGxlU2VydmljZTogVGl0bGUsXG4gICAgICAgIHByaXZhdGUgYXBwQ29uZmlnOiBBcHBDb25maWdTZXJ2aWNlLFxuICAgICAgICBwcml2YXRlIHRyYW5zbGF0aW9uU2VydmljZTogVHJhbnNsYXRpb25TZXJ2aWNlKSB7XG4gICAgICAgIHRyYW5zbGF0aW9uU2VydmljZS50cmFuc2xhdGUub25MYW5nQ2hhbmdlLnN1YnNjcmliZSgoKSA9PiB0aGlzLm9uTGFuZ3VhZ2VDaGFuZ2VkKCkpO1xuICAgICAgICB0cmFuc2xhdGlvblNlcnZpY2UudHJhbnNsYXRlLm9uVHJhbnNsYXRpb25DaGFuZ2Uuc3Vic2NyaWJlKCgpID0+IHRoaXMub25MYW5ndWFnZUNoYW5nZWQoKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgcGFnZSB0aXRsZS5cbiAgICAgKiBAcGFyYW0gdmFsdWUgVGhlIG5ldyB0aXRsZVxuICAgICAqL1xuICAgIHNldFRpdGxlKHZhbHVlOiBzdHJpbmcgPSAnJykge1xuICAgICAgICB0aGlzLm9yaWdpbmFsVGl0bGUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy50cmFuc2xhdGVkVGl0bGUgPSB0aGlzLnRyYW5zbGF0aW9uU2VydmljZS5pbnN0YW50KHZhbHVlKTtcblxuICAgICAgICB0aGlzLnVwZGF0ZVRpdGxlKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvbkxhbmd1YWdlQ2hhbmdlZCgpIHtcbiAgICAgICAgdGhpcy50cmFuc2xhdGVkVGl0bGUgPSB0aGlzLnRyYW5zbGF0aW9uU2VydmljZS5pbnN0YW50KHRoaXMub3JpZ2luYWxUaXRsZSk7XG4gICAgICAgIHRoaXMudXBkYXRlVGl0bGUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHVwZGF0ZVRpdGxlKCkge1xuICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5hcHBDb25maWcuZ2V0KCdhcHBsaWNhdGlvbi5uYW1lJykgfHwgJ0FsZnJlc2NvIEFERiBBcHBsaWNhdGlvbic7XG5cbiAgICAgICAgY29uc3QgdGl0bGUgPSB0aGlzLnRyYW5zbGF0ZWRUaXRsZSA/IGAke3RoaXMudHJhbnNsYXRlZFRpdGxlfSAtICR7bmFtZX1gIDogYCR7bmFtZX1gO1xuICAgICAgICB0aGlzLnRpdGxlU2VydmljZS5zZXRUaXRsZSh0aXRsZSk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgUmVuZGl0aW9uRW50cnksIFJlbmRpdGlvblBhZ2luZyB9IGZyb20gJ2FsZnJlc2NvLWpzLWFwaSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBmcm9tLCBpbnRlcnZhbCB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQWxmcmVzY29BcGlTZXJ2aWNlIH0gZnJvbSAnLi9hbGZyZXNjby1hcGkuc2VydmljZSc7XG5pbXBvcnQgeyBjb25jYXRNYXAsIHN3aXRjaE1hcCwgdGFrZVdoaWxlIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG4vKipcbiAqIEBkZXByZWNhdGVkXG4gKiBSZW5kaXRpb25zU2VydmljZVxuICogKHRoaXMgc2VydmljZSBpcyBkZXByZWNhdGVkIGluIDIuMi4wIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gZnV0dXJlIHJldmlzaW9ucylcbiAqL1xuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFJlbmRpdGlvbnNTZXJ2aWNlIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlKSB7XG4gICAgfVxuXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgaXNSZW5kaXRpb25BdmFpbGFibGUobm9kZUlkOiBzdHJpbmcsIGVuY29kaW5nOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIE9ic2VydmFibGUuY3JlYXRlKChvYnNlcnZlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5nZXRSZW5kaXRpb24obm9kZUlkLCBlbmNvZGluZykuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgIChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGlzQXZhaWxhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcy5lbnRyeS5zdGF0dXMudG9TdHJpbmcoKSA9PT0gJ05PVF9DUkVBVEVEJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNBdmFpbGFibGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KGlzQXZhaWxhYmxlKTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgaXNDb252ZXJzaW9uUG9zc2libGUobm9kZUlkOiBzdHJpbmcsIGVuY29kaW5nOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGJvb2xlYW4+IHtcbiAgICAgICAgcmV0dXJuIE9ic2VydmFibGUuY3JlYXRlKChvYnNlcnZlcikgPT4ge1xuICAgICAgICAgICAgdGhpcy5nZXRSZW5kaXRpb24obm9kZUlkLCBlbmNvZGluZykuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dCh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIuY29tcGxldGUoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgb2JzZXJ2ZXIubmV4dChmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgZ2V0UmVuZGl0aW9uVXJsKG5vZGVJZDogc3RyaW5nLCBlbmNvZGluZzogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBpU2VydmljZS5jb250ZW50QXBpLmdldFJlbmRpdGlvblVybChub2RlSWQsIGVuY29kaW5nKTtcbiAgICB9XG5cbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBnZXRSZW5kaXRpb24obm9kZUlkOiBzdHJpbmcsIGVuY29kaW5nOiBzdHJpbmcpOiBPYnNlcnZhYmxlPFJlbmRpdGlvbkVudHJ5PiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMuYXBpU2VydmljZS5yZW5kaXRpb25zQXBpLmdldFJlbmRpdGlvbihub2RlSWQsIGVuY29kaW5nKSk7XG4gICAgfVxuXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgZ2V0UmVuZGl0aW9uc0xpc3RCeU5vZGVJZChub2RlSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8UmVuZGl0aW9uUGFnaW5nPiB7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMuYXBpU2VydmljZS5yZW5kaXRpb25zQXBpLmdldFJlbmRpdGlvbnMobm9kZUlkKSk7XG4gICAgfVxuXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgY3JlYXRlUmVuZGl0aW9uKG5vZGVJZDogc3RyaW5nLCBlbmNvZGluZzogc3RyaW5nKTogT2JzZXJ2YWJsZTx7fT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmFwaVNlcnZpY2UucmVuZGl0aW9uc0FwaS5jcmVhdGVSZW5kaXRpb24obm9kZUlkLCB7aWQ6IGVuY29kaW5nfSkpO1xuICAgIH1cblxuICAgIC8qKiBAZGVwcmVjYXRlZCAqL1xuICAgIGNvbnZlcnQobm9kZUlkOiBzdHJpbmcsIGVuY29kaW5nOiBzdHJpbmcsIHBvbGxpbmdJbnRlcnZhbDogbnVtYmVyID0gMTAwMCwgcmV0cmllczogbnVtYmVyID0gNSkge1xuICAgICAgICByZXR1cm4gdGhpcy5jcmVhdGVSZW5kaXRpb24obm9kZUlkLCBlbmNvZGluZylcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIGNvbmNhdE1hcCgoKSA9PiB0aGlzLnBvbGxSZW5kaXRpb24obm9kZUlkLCBlbmNvZGluZywgcG9sbGluZ0ludGVydmFsLCByZXRyaWVzKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqIEBkZXByZWNhdGVkICovXG4gICAgcHJpdmF0ZSBwb2xsUmVuZGl0aW9uKG5vZGVJZDogc3RyaW5nLCBlbmNvZGluZzogc3RyaW5nLCBpbnRlcnZhbFNpemU6IG51bWJlciA9IDEwMDAsIHJldHJpZXM6IG51bWJlciA9IDUpIHtcbiAgICAgICAgbGV0IGF0dGVtcHRzID0gMDtcbiAgICAgICAgcmV0dXJuIGludGVydmFsKGludGVydmFsU2l6ZSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIHN3aXRjaE1hcCgoKSA9PiB0aGlzLmdldFJlbmRpdGlvbihub2RlSWQsIGVuY29kaW5nKSksXG4gICAgICAgICAgICAgICAgdGFrZVdoaWxlKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGF0dGVtcHRzICs9IDE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhdHRlbXB0cyA+IHJldHJpZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGRhdGEuZW50cnkuc3RhdHVzLnRvU3RyaW5nKCkgIT09ICdDUkVBVEVEJyk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0U25hY2tCYXIsIE1hdFNuYWNrQmFyUmVmLCBNYXRTbmFja0JhckNvbmZpZyB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcbmltcG9ydCB7IFRyYW5zbGF0aW9uU2VydmljZSB9IGZyb20gJy4vdHJhbnNsYXRpb24uc2VydmljZSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb25TZXJ2aWNlIHtcblxuICAgIHN0YXRpYyBERUZBVUxUX0RVUkFUSU9OX01FU1NBR0U6IG51bWJlciA9IDUwMDA7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHNuYWNrQmFyOiBNYXRTbmFja0JhcixcbiAgICAgICAgICAgICAgICBwcml2YXRlIHRyYW5zbGF0aW9uU2VydmljZTogVHJhbnNsYXRpb25TZXJ2aWNlKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbnMgYSBTbmFja0JhciBub3RpZmljYXRpb24gdG8gc2hvdyBhIG1lc3NhZ2UuXG4gICAgICogQHBhcmFtIG1lc3NhZ2UgVGhlIG1lc3NhZ2UgKG9yIHJlc291cmNlIGtleSkgdG8gc2hvdy5cbiAgICAgKiBAcGFyYW0gY29uZmlnIFRpbWUgYmVmb3JlIG5vdGlmaWNhdGlvbiBkaXNhcHBlYXJzIGFmdGVyIGJlaW5nIHNob3duIG9yIE1hdFNuYWNrQmFyQ29uZmlnIG9iamVjdFxuICAgICAqIEByZXR1cm5zIEluZm9ybWF0aW9uL2NvbnRyb2wgb2JqZWN0IGZvciB0aGUgU25hY2tCYXJcbiAgICAgKi9cbiAgICBvcGVuU25hY2tNZXNzYWdlKG1lc3NhZ2U6IHN0cmluZywgY29uZmlnOiBudW1iZXIgfCBNYXRTbmFja0JhckNvbmZpZyA9IE5vdGlmaWNhdGlvblNlcnZpY2UuREVGQVVMVF9EVVJBVElPTl9NRVNTQUdFKTogTWF0U25hY2tCYXJSZWY8YW55PiB7XG5cbiAgICAgICAgY29uc3QgdHJhbnNsYXRlZE1lc3NhZ2UgPSB0aGlzLnRyYW5zbGF0aW9uU2VydmljZS5pbnN0YW50KG1lc3NhZ2UpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBjb25maWdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zbmFja0Jhci5vcGVuKHRyYW5zbGF0ZWRNZXNzYWdlLCBudWxsLCBjb25maWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE9wZW5zIGEgU25hY2tCYXIgbm90aWZpY2F0aW9uIHdpdGggYSBtZXNzYWdlIGFuZCBhIHJlc3BvbnNlIGJ1dHRvbi5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZSBUaGUgbWVzc2FnZSAob3IgcmVzb3VyY2Uga2V5KSB0byBzaG93LlxuICAgICAqIEBwYXJhbSBhY3Rpb24gQ2FwdGlvbiBmb3IgdGhlIHJlc3BvbnNlIGJ1dHRvblxuICAgICAqIEBwYXJhbSBjb25maWcgVGltZSBiZWZvcmUgbm90aWZpY2F0aW9uIGRpc2FwcGVhcnMgYWZ0ZXIgYmVpbmcgc2hvd24gb3IgTWF0U25hY2tCYXJDb25maWcgb2JqZWN0XG4gICAgICogQHJldHVybnMgSW5mb3JtYXRpb24vY29udHJvbCBvYmplY3QgZm9yIHRoZSBTbmFja0JhclxuICAgICAqL1xuICAgIG9wZW5TbmFja01lc3NhZ2VBY3Rpb24obWVzc2FnZTogc3RyaW5nLCBhY3Rpb246IHN0cmluZywgY29uZmlnOiBudW1iZXIgfCBNYXRTbmFja0JhckNvbmZpZyA9IE5vdGlmaWNhdGlvblNlcnZpY2UuREVGQVVMVF9EVVJBVElPTl9NRVNTQUdFKTogTWF0U25hY2tCYXJSZWY8YW55PiB7XG5cbiAgICAgICAgY29uc3QgdHJhbnNsYXRlZE1lc3NhZ2UgPSB0aGlzLnRyYW5zbGF0aW9uU2VydmljZS5pbnN0YW50KG1lc3NhZ2UpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgY29uZmlnID09PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgY29uZmlnID0ge1xuICAgICAgICAgICAgICAgIGR1cmF0aW9uOiBjb25maWdcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5zbmFja0Jhci5vcGVuKHRyYW5zbGF0ZWRNZXNzYWdlLCBhY3Rpb24sIGNvbmZpZyk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGNsYXNzIENvbXBvbmVudFRyYW5zbGF0aW9uTW9kZWwge1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBwYXRoOiBzdHJpbmc7XG4gICAganNvbjogc3RyaW5nIFtdO1xuXG4gICAgY29uc3RydWN0b3Iob2JqPzogYW55KSB7XG4gICAgICAgIHRoaXMubmFtZSA9IG9iaiAmJiBvYmoubmFtZTtcbiAgICAgICAgdGhpcy5wYXRoID0gb2JqICYmIG9iai5wYXRoO1xuICAgICAgICB0aGlzLmpzb24gPSBvYmogJiYgb2JqLmpzb24gfHwgW107XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBUcmFuc2xhdGVMb2FkZXIgfSBmcm9tICdAbmd4LXRyYW5zbGF0ZS9jb3JlJztcbmltcG9ydCB7IE9ic2VydmFibGUsIGZvcmtKb2luLCB0aHJvd0Vycm9yLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQ29tcG9uZW50VHJhbnNsYXRpb25Nb2RlbCB9IGZyb20gJy4uL21vZGVscy9jb21wb25lbnQubW9kZWwnO1xuaW1wb3J0IHsgT2JqZWN0VXRpbHMgfSBmcm9tICcuLi91dGlscy9vYmplY3QtdXRpbHMnO1xuaW1wb3J0IHsgbWFwLCBjYXRjaEVycm9yLCByZXRyeSB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFRyYW5zbGF0ZUxvYWRlclNlcnZpY2UgaW1wbGVtZW50cyBUcmFuc2xhdGVMb2FkZXIge1xuXG4gICAgcHJpdmF0ZSBwcmVmaXg6IHN0cmluZyA9ICdpMThuJztcbiAgICBwcml2YXRlIHN1ZmZpeDogc3RyaW5nID0gJy5qc29uJztcbiAgICBwcml2YXRlIHByb3ZpZGVyczogQ29tcG9uZW50VHJhbnNsYXRpb25Nb2RlbFtdID0gW107XG4gICAgcHJpdmF0ZSBxdWV1ZTogc3RyaW5nIFtdW10gPSBbXTtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgaHR0cDogSHR0cENsaWVudCkge1xuICAgIH1cblxuICAgIHJlZ2lzdGVyUHJvdmlkZXIobmFtZTogc3RyaW5nLCBwYXRoOiBzdHJpbmcpIHtcbiAgICAgICAgbGV0IHJlZ2lzdGVyZWQgPSB0aGlzLnByb3ZpZGVycy5maW5kKHByb3ZpZGVyID0+IHByb3ZpZGVyLm5hbWUgPT09IG5hbWUpO1xuICAgICAgICBpZiAocmVnaXN0ZXJlZCkge1xuICAgICAgICAgICAgcmVnaXN0ZXJlZC5wYXRoID0gcGF0aDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXJzLnB1c2gobmV3IENvbXBvbmVudFRyYW5zbGF0aW9uTW9kZWwoeyBuYW1lOiBuYW1lLCBwYXRoOiBwYXRoIH0pKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByb3ZpZGVyUmVnaXN0ZXJlZChuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvdmlkZXJzLmZpbmQoeCA9PiB4Lm5hbWUgPT09IG5hbWUpID8gdHJ1ZSA6IGZhbHNlO1xuICAgIH1cblxuICAgIGdldENvbXBvbmVudFRvRmV0Y2gobGFuZzogc3RyaW5nKTogQXJyYXk8T2JzZXJ2YWJsZTxhbnk+PiB7XG4gICAgICAgIGNvbnN0IG9ic2VydmFibGVCYXRjaCA9IFtdO1xuICAgICAgICBpZiAoIXRoaXMucXVldWVbbGFuZ10pIHtcbiAgICAgICAgICAgIHRoaXMucXVldWVbbGFuZ10gPSBbXTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnByb3ZpZGVycy5mb3JFYWNoKChjb21wb25lbnQpID0+IHtcbiAgICAgICAgICAgIGlmICghdGhpcy5pc0NvbXBvbmVudEluUXVldWUobGFuZywgY29tcG9uZW50Lm5hbWUpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5xdWV1ZVtsYW5nXS5wdXNoKGNvbXBvbmVudC5uYW1lKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHRyYW5zbGF0aW9uVXJsID0gYCR7Y29tcG9uZW50LnBhdGh9LyR7dGhpcy5wcmVmaXh9LyR7bGFuZ30ke3RoaXMuc3VmZml4fT92PSR7RGF0ZS5ub3coKX1gO1xuXG4gICAgICAgICAgICAgICAgb2JzZXJ2YWJsZUJhdGNoLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaHR0cC5nZXQodHJhbnNsYXRpb25VcmwpLnBpcGUoXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXAoKHJlczogUmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wb25lbnQuanNvbltsYW5nXSA9IHJlcztcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0cnkoMyksXG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaEVycm9yKCgpID0+IHRocm93RXJyb3IoYEZhaWxlZCB0byBsb2FkICR7dHJhbnNsYXRpb25Vcmx9YCkpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gb2JzZXJ2YWJsZUJhdGNoO1xuICAgIH1cblxuICAgIGluaXQobGFuZzogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLnF1ZXVlW2xhbmddID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMucXVldWVbbGFuZ10gPSBbXTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzQ29tcG9uZW50SW5RdWV1ZShsYW5nOiBzdHJpbmcsIG5hbWU6IHN0cmluZykge1xuICAgICAgICByZXR1cm4gKHRoaXMucXVldWVbbGFuZ10gfHwgW10pLmZpbmQoeCA9PiB4ID09PSBuYW1lKSA/IHRydWUgOiBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXRGdWxsVHJhbnNsYXRpb25KU09OKGxhbmc6IHN0cmluZyk6IGFueSB7XG4gICAgICAgIGxldCByZXN1bHQgPSB7fTtcblxuICAgICAgICB0aGlzLnByb3ZpZGVyc1xuICAgICAgICAgICAgLnNsaWNlKDApXG4gICAgICAgICAgICAuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChhLm5hbWUgPT09ICdhcHAnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoYi5uYW1lID09PSAnYXBwJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5mb3JFYWNoKG1vZGVsID0+IHtcbiAgICAgICAgICAgICAgICBpZiAobW9kZWwuanNvbiAmJiBtb2RlbC5qc29uW2xhbmddKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IE9iamVjdFV0aWxzLm1lcmdlKHJlc3VsdCwgbW9kZWwuanNvbltsYW5nXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICBnZXRUcmFuc2xhdGlvbihsYW5nOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBsZXQgaGFzRmFpbHVyZXMgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgYmF0Y2ggPSBbXG4gICAgICAgICAgICAuLi50aGlzLmdldENvbXBvbmVudFRvRmV0Y2gobGFuZykubWFwKG9ic2VydmFibGUgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBvYnNlcnZhYmxlLnBpcGUoXG4gICAgICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0ZhaWx1cmVzID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvZihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgIF07XG5cbiAgICAgICAgcmV0dXJuIE9ic2VydmFibGUuY3JlYXRlKG9ic2VydmVyID0+IHtcblxuICAgICAgICAgICAgaWYgKGJhdGNoLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBmb3JrSm9pbihiYXRjaCkuc3Vic2NyaWJlKFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgZnVsbFRyYW5zbGF0aW9uID0gdGhpcy5nZXRGdWxsVHJhbnNsYXRpb25KU09OKGxhbmcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZ1bGxUcmFuc2xhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLm5leHQoZnVsbFRyYW5zbGF0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoYXNGYWlsdXJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmVycm9yKCdGYWlsZWQgdG8gbG9hZCBzb21lIHJlc291cmNlcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5jb21wbGV0ZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5lcnJvcignRmFpbGVkIHRvIGxvYWQgc29tZSByZXNvdXJjZXMnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGxldCBmdWxsVHJhbnNsYXRpb24gPSB0aGlzLmdldEZ1bGxUcmFuc2xhdGlvbkpTT04obGFuZyk7XG4gICAgICAgICAgICAgICAgaWYgKGZ1bGxUcmFuc2xhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBvYnNlcnZlci5uZXh0KGZ1bGxUcmFuc2xhdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIG9ic2VydmVyLmNvbXBsZXRlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBFdmVudEVtaXR0ZXIsIEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1pbmltYXRjaCB9IGZyb20gJ21pbmltYXRjaC1icm93c2VyJztcbmltcG9ydCB7IFN1YmplY3QgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEFwcENvbmZpZ1NlcnZpY2UgfSBmcm9tICcuLi9hcHAtY29uZmlnL2FwcC1jb25maWcuc2VydmljZSc7XG5pbXBvcnQge1xuICAgIEZpbGVVcGxvYWRDb21wbGV0ZUV2ZW50LFxuICAgIEZpbGVVcGxvYWREZWxldGVFdmVudCxcbiAgICBGaWxlVXBsb2FkRXJyb3JFdmVudCxcbiAgICBGaWxlVXBsb2FkRXZlbnRcbn0gZnJvbSAnLi4vZXZlbnRzL2ZpbGUuZXZlbnQnO1xuaW1wb3J0IHsgRmlsZU1vZGVsLCBGaWxlVXBsb2FkUHJvZ3Jlc3MsIEZpbGVVcGxvYWRTdGF0dXMgfSBmcm9tICcuLi9tb2RlbHMvZmlsZS5tb2RlbCc7XG5pbXBvcnQgeyBBbGZyZXNjb0FwaVNlcnZpY2UgfSBmcm9tICcuL2FsZnJlc2NvLWFwaS5zZXJ2aWNlJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFVwbG9hZFNlcnZpY2Uge1xuXG4gICAgcHJpdmF0ZSBjYWNoZTogeyBba2V5OiBzdHJpbmddOiBhbnkgfSA9IHt9O1xuICAgIHByaXZhdGUgdG90YWxDb21wbGV0ZTogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIHRvdGFsQWJvcnRlZDogbnVtYmVyID0gMDtcbiAgICBwcml2YXRlIHRvdGFsRXJyb3I6IG51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBleGNsdWRlZEZpbGVMaXN0OiBzdHJpbmdbXSA9IFtdO1xuICAgIHByaXZhdGUgbWF0Y2hpbmdPcHRpb25zOiBhbnkgPSBudWxsO1xuXG4gICAgYWN0aXZlVGFzazogUHJvbWlzZTxhbnk+ID0gbnVsbDtcbiAgICBxdWV1ZTogRmlsZU1vZGVsW10gPSBbXTtcblxuICAgIHF1ZXVlQ2hhbmdlZDogU3ViamVjdDxGaWxlTW9kZWxbXT4gPSBuZXcgU3ViamVjdDxGaWxlTW9kZWxbXT4oKTtcbiAgICBmaWxlVXBsb2FkOiBTdWJqZWN0PEZpbGVVcGxvYWRFdmVudD4gPSBuZXcgU3ViamVjdDxGaWxlVXBsb2FkRXZlbnQ+KCk7XG4gICAgZmlsZVVwbG9hZFN0YXJ0aW5nOiBTdWJqZWN0PEZpbGVVcGxvYWRFdmVudD4gPSBuZXcgU3ViamVjdDxGaWxlVXBsb2FkRXZlbnQ+KCk7XG4gICAgZmlsZVVwbG9hZENhbmNlbGxlZDogU3ViamVjdDxGaWxlVXBsb2FkRXZlbnQ+ID0gbmV3IFN1YmplY3Q8RmlsZVVwbG9hZEV2ZW50PigpO1xuICAgIGZpbGVVcGxvYWRQcm9ncmVzczogU3ViamVjdDxGaWxlVXBsb2FkRXZlbnQ+ID0gbmV3IFN1YmplY3Q8RmlsZVVwbG9hZEV2ZW50PigpO1xuICAgIGZpbGVVcGxvYWRBYm9ydGVkOiBTdWJqZWN0PEZpbGVVcGxvYWRFdmVudD4gPSBuZXcgU3ViamVjdDxGaWxlVXBsb2FkRXZlbnQ+KCk7XG4gICAgZmlsZVVwbG9hZEVycm9yOiBTdWJqZWN0PEZpbGVVcGxvYWRFcnJvckV2ZW50PiA9IG5ldyBTdWJqZWN0PEZpbGVVcGxvYWRFcnJvckV2ZW50PigpO1xuICAgIGZpbGVVcGxvYWRDb21wbGV0ZTogU3ViamVjdDxGaWxlVXBsb2FkQ29tcGxldGVFdmVudD4gPSBuZXcgU3ViamVjdDxGaWxlVXBsb2FkQ29tcGxldGVFdmVudD4oKTtcbiAgICBmaWxlVXBsb2FkRGVsZXRlZDogU3ViamVjdDxGaWxlVXBsb2FkRGVsZXRlRXZlbnQ+ID0gbmV3IFN1YmplY3Q8RmlsZVVwbG9hZERlbGV0ZUV2ZW50PigpO1xuICAgIGZpbGVEZWxldGVkOiBTdWJqZWN0PHN0cmluZz4gPSBuZXcgU3ViamVjdDxzdHJpbmc+KCk7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgYXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlLCBwcml2YXRlIGFwcENvbmZpZ1NlcnZpY2U6IEFwcENvbmZpZ1NlcnZpY2UpIHtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3Mgd2hldGhlciB0aGUgc2VydmljZSBpcyB1cGxvYWRpbmcgYSBmaWxlLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgYSBmaWxlIGlzIHVwbG9hZGluZywgZmFsc2Ugb3RoZXJ3aXNlXG4gICAgICovXG4gICAgaXNVcGxvYWRpbmcoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0aGlzLmFjdGl2ZVRhc2sgPyB0cnVlIDogZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZmlsZSBRdWV1ZVxuICAgICAqIEByZXR1cm5zIEFycmF5IG9mIGZpbGVzIHRoYXQgZm9ybSB0aGUgcXVldWVcbiAgICAgKi9cbiAgICBnZXRRdWV1ZSgpOiBGaWxlTW9kZWxbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnF1ZXVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFkZHMgZmlsZXMgdG8gdGhlIHVwbG9hZGluZyBxdWV1ZSB0byBiZSB1cGxvYWRlZFxuICAgICAqIEBwYXJhbSBmaWxlcyBPbmUgb3IgbW9yZSBzZXBhcmF0ZSBwYXJhbWV0ZXJzIG9yIGFuIGFycmF5IG9mIGZpbGVzIHRvIHF1ZXVlXG4gICAgICogQHJldHVybnMgQXJyYXkgb2YgZmlsZXMgdGhhdCB3ZXJlIG5vdCBibG9ja2VkIGZyb20gdXBsb2FkIGJ5IHRoZSBpZ25vcmUgbGlzdFxuICAgICAqL1xuICAgIGFkZFRvUXVldWUoLi4uZmlsZXM6IEZpbGVNb2RlbFtdKTogRmlsZU1vZGVsW10ge1xuICAgICAgICBjb25zdCBhbGxvd2VkRmlsZXMgPSBmaWxlcy5maWx0ZXIoY3VycmVudEZpbGUgPT4gdGhpcy5maWx0ZXJFbGVtZW50KGN1cnJlbnRGaWxlKSk7XG4gICAgICAgIHRoaXMucXVldWUgPSB0aGlzLnF1ZXVlLmNvbmNhdChhbGxvd2VkRmlsZXMpO1xuICAgICAgICB0aGlzLnF1ZXVlQ2hhbmdlZC5uZXh0KHRoaXMucXVldWUpO1xuICAgICAgICByZXR1cm4gYWxsb3dlZEZpbGVzO1xuICAgIH1cblxuICAgIHByaXZhdGUgZmlsdGVyRWxlbWVudChmaWxlOiBGaWxlTW9kZWwpIHtcbiAgICAgICAgbGV0IGlzQWxsb3dlZCA9IHRydWU7XG5cbiAgICAgICAgdGhpcy5leGNsdWRlZEZpbGVMaXN0ID0gPHN0cmluZ1tdPiB0aGlzLmFwcENvbmZpZ1NlcnZpY2UuZ2V0KCdmaWxlcy5leGNsdWRlZCcpO1xuICAgICAgICBpZiAodGhpcy5leGNsdWRlZEZpbGVMaXN0KSB7XG5cbiAgICAgICAgICAgIHRoaXMubWF0Y2hpbmdPcHRpb25zID0gdGhpcy5hcHBDb25maWdTZXJ2aWNlLmdldCgnZmlsZXMubWF0Y2gtb3B0aW9ucycpO1xuXG4gICAgICAgICAgICBpc0FsbG93ZWQgPSB0aGlzLmV4Y2x1ZGVkRmlsZUxpc3QuZmlsdGVyKChwYXR0ZXJuKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IG1pbmltYXRjaCA9IG5ldyBNaW5pbWF0Y2gocGF0dGVybiwgdGhpcy5tYXRjaGluZ09wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHJldHVybiBtaW5pbWF0Y2gubWF0Y2goZmlsZS5uYW1lKTtcbiAgICAgICAgICAgIH0pLmxlbmd0aCA9PT0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaXNBbGxvd2VkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEZpbmRzIGFsbCB0aGUgZmlsZXMgaW4gdGhlIHF1ZXVlIHRoYXQgYXJlIG5vdCB5ZXQgdXBsb2FkZWQgYW5kIHVwbG9hZHMgdGhlbSBpbnRvIHRoZSBkaXJlY3RvcnkgZm9sZGVyLlxuICAgICAqIEBwYXJhbSBlbWl0dGVyIChEZXByZWNhdGVkKSBFbWl0dGVyIHRvIGludm9rZSBvbiBmaWxlIHN0YXR1cyBjaGFuZ2VcbiAgICAgKi9cbiAgICB1cGxvYWRGaWxlc0luVGhlUXVldWUoZW1pdHRlcj86IEV2ZW50RW1pdHRlcjxhbnk+KTogdm9pZCB7XG4gICAgICAgIGlmICghdGhpcy5hY3RpdmVUYXNrKSB7XG4gICAgICAgICAgICBsZXQgZmlsZSA9IHRoaXMucXVldWUuZmluZChjdXJyZW50RmlsZSA9PiBjdXJyZW50RmlsZS5zdGF0dXMgPT09IEZpbGVVcGxvYWRTdGF0dXMuUGVuZGluZyk7XG4gICAgICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgICAgICAgIHRoaXMub25VcGxvYWRTdGFydGluZyhmaWxlKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLmJlZ2luVXBsb2FkKGZpbGUsIGVtaXR0ZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuYWN0aXZlVGFzayA9IHByb21pc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5jYWNoZVtmaWxlLmlkXSA9IHByb21pc2U7XG5cbiAgICAgICAgICAgICAgICBsZXQgbmV4dCA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVUYXNrID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB0aGlzLnVwbG9hZEZpbGVzSW5UaGVRdWV1ZShlbWl0dGVyKSwgMTAwKTtcbiAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgcHJvbWlzZS5uZXh0ID0gbmV4dDtcblxuICAgICAgICAgICAgICAgIHByb21pc2UudGhlbihcbiAgICAgICAgICAgICAgICAgICAgKCkgPT4gbmV4dCgpLFxuICAgICAgICAgICAgICAgICAgICAoKSA9PiBuZXh0KClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FuY2VscyB1cGxvYWRpbmcgb2YgZmlsZXMuXG4gICAgICogQHBhcmFtIGZpbGVzIE9uZSBvciBtb3JlIHNlcGFyYXRlIHBhcmFtZXRlcnMgb3IgYW4gYXJyYXkgb2YgZmlsZXMgc3BlY2lmeWluZyB1cGxvYWRzIHRvIGNhbmNlbFxuICAgICAqL1xuICAgIGNhbmNlbFVwbG9hZCguLi5maWxlczogRmlsZU1vZGVsW10pIHtcbiAgICAgICAgZmlsZXMuZm9yRWFjaChmaWxlID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLmNhY2hlW2ZpbGUuaWRdO1xuXG4gICAgICAgICAgICBpZiAocHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHByb21pc2UuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jYWNoZVtmaWxlLmlkXTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGVyZm9ybUFjdGlvbiA9IHRoaXMuZ2V0QWN0aW9uKGZpbGUpO1xuICAgICAgICAgICAgICAgIHBlcmZvcm1BY3Rpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqIENsZWFycyB0aGUgdXBsb2FkIHF1ZXVlICovXG4gICAgY2xlYXJRdWV1ZSgpIHtcbiAgICAgICAgdGhpcy5xdWV1ZSA9IFtdO1xuICAgICAgICB0aGlzLnRvdGFsQ29tcGxldGUgPSAwO1xuICAgICAgICB0aGlzLnRvdGFsQWJvcnRlZCA9IDA7XG4gICAgICAgIHRoaXMudG90YWxFcnJvciA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbiB1cGxvYWQgcHJvbWlzZSBmb3IgYSBmaWxlLlxuICAgICAqIEBwYXJhbSBmaWxlIFRoZSB0YXJnZXQgZmlsZVxuICAgICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCBpcyByZXNvbHZlZCBpZiB0aGUgdXBsb2FkIGlzIHN1Y2Nlc3NmdWwgb3IgZXJyb3Igb3RoZXJ3aXNlXG4gICAgICovXG4gICAgZ2V0VXBsb2FkUHJvbWlzZShmaWxlOiBGaWxlTW9kZWwpIHtcbiAgICAgICAgbGV0IG9wdHM6IGFueSA9IHtcbiAgICAgICAgICAgIHJlbmRpdGlvbnM6ICdkb2NsaWInLFxuICAgICAgICAgICAgaW5jbHVkZTogWydhbGxvd2FibGVPcGVyYXRpb25zJ11cbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoZmlsZS5vcHRpb25zLm5ld1ZlcnNpb24gPT09IHRydWUpIHtcbiAgICAgICAgICAgIG9wdHMub3ZlcndyaXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIG9wdHMubWFqb3JWZXJzaW9uID0gZmlsZS5vcHRpb25zLm1ham9yVmVyc2lvbjtcbiAgICAgICAgICAgIG9wdHMuY29tbWVudCA9IGZpbGUub3B0aW9ucy5jb21tZW50O1xuICAgICAgICAgICAgb3B0cy5uYW1lID0gZmlsZS5uYW1lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgb3B0cy5hdXRvUmVuYW1lID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWxlLm9wdGlvbnMubm9kZVR5cGUpIHtcbiAgICAgICAgICAgIG9wdHMubm9kZVR5cGUgPSBmaWxlLm9wdGlvbnMubm9kZVR5cGU7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmlsZS5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLnVwbG9hZC51cGRhdGVGaWxlKFxuICAgICAgICAgICAgICAgIGZpbGUuZmlsZSxcbiAgICAgICAgICAgICAgICBmaWxlLm9wdGlvbnMucGF0aCxcbiAgICAgICAgICAgICAgICBmaWxlLmlkLFxuICAgICAgICAgICAgICAgIGZpbGUuZmlsZSxcbiAgICAgICAgICAgICAgICBvcHRzXG4gICAgICAgICAgICApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLnVwbG9hZC51cGxvYWRGaWxlKFxuICAgICAgICAgICAgICAgIGZpbGUuZmlsZSxcbiAgICAgICAgICAgICAgICBmaWxlLm9wdGlvbnMucGF0aCxcbiAgICAgICAgICAgICAgICBmaWxlLm9wdGlvbnMucGFyZW50SWQsXG4gICAgICAgICAgICAgICAgZmlsZS5vcHRpb25zLFxuICAgICAgICAgICAgICAgIG9wdHNcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGJlZ2luVXBsb2FkKGZpbGU6IEZpbGVNb2RlbCwgLyogQGRlcHJlY2F0ZWQgKi9lbWl0dGVyOiBFdmVudEVtaXR0ZXI8YW55Pik6IGFueSB7XG5cbiAgICAgICAgbGV0IHByb21pc2UgPSB0aGlzLmdldFVwbG9hZFByb21pc2UoZmlsZSk7XG5cbiAgICAgICAgcHJvbWlzZS5vbigncHJvZ3Jlc3MnLCAocHJvZ3Jlc3M6IEZpbGVVcGxvYWRQcm9ncmVzcykgPT4ge1xuICAgICAgICAgICAgdGhpcy5vblVwbG9hZFByb2dyZXNzKGZpbGUsIHByb2dyZXNzKTtcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5vbignYWJvcnQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vblVwbG9hZEFib3J0ZWQoZmlsZSk7XG4gICAgICAgICAgICAgICAgaWYgKGVtaXR0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KHsgdmFsdWU6ICdGaWxlIGFib3J0ZWQnIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ2Vycm9yJywgZXJyID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVXBsb2FkRXJyb3IoZmlsZSwgZXJyKTtcbiAgICAgICAgICAgICAgICBpZiAoZW1pdHRlcikge1xuICAgICAgICAgICAgICAgICAgICBlbWl0dGVyLmVtaXQoeyB2YWx1ZTogJ0Vycm9yIGZpbGUgdXBsb2FkZWQnIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oJ3N1Y2Nlc3MnLCBkYXRhID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLm9uVXBsb2FkQ29tcGxldGUoZmlsZSwgZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKGVtaXR0ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1pdHRlci5lbWl0KHsgdmFsdWU6IGRhdGEgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBwcm9taXNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgb25VcGxvYWRTdGFydGluZyhmaWxlOiBGaWxlTW9kZWwpOiB2b2lkIHtcbiAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgIGZpbGUuc3RhdHVzID0gRmlsZVVwbG9hZFN0YXR1cy5TdGFydGluZztcbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEZpbGVVcGxvYWRFdmVudChmaWxlLCBGaWxlVXBsb2FkU3RhdHVzLlN0YXJ0aW5nKTtcbiAgICAgICAgICAgIHRoaXMuZmlsZVVwbG9hZC5uZXh0KGV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMuZmlsZVVwbG9hZFN0YXJ0aW5nLm5leHQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblVwbG9hZFByb2dyZXNzKGZpbGU6IEZpbGVNb2RlbCwgcHJvZ3Jlc3M6IEZpbGVVcGxvYWRQcm9ncmVzcyk6IHZvaWQge1xuICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgICAgZmlsZS5wcm9ncmVzcyA9IHByb2dyZXNzO1xuICAgICAgICAgICAgZmlsZS5zdGF0dXMgPSBGaWxlVXBsb2FkU3RhdHVzLlByb2dyZXNzO1xuXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBGaWxlVXBsb2FkRXZlbnQoZmlsZSwgRmlsZVVwbG9hZFN0YXR1cy5Qcm9ncmVzcyk7XG4gICAgICAgICAgICB0aGlzLmZpbGVVcGxvYWQubmV4dChldmVudCk7XG4gICAgICAgICAgICB0aGlzLmZpbGVVcGxvYWRQcm9ncmVzcy5uZXh0KGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25VcGxvYWRFcnJvcihmaWxlOiBGaWxlTW9kZWwsIGVycm9yOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgIGZpbGUuc3RhdHVzID0gRmlsZVVwbG9hZFN0YXR1cy5FcnJvcjtcbiAgICAgICAgICAgIHRoaXMudG90YWxFcnJvcisrO1xuXG4gICAgICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5jYWNoZVtmaWxlLmlkXTtcbiAgICAgICAgICAgIGlmIChwcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuY2FjaGVbZmlsZS5pZF07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGV2ZW50ID0gbmV3IEZpbGVVcGxvYWRFcnJvckV2ZW50KGZpbGUsIGVycm9yLCB0aGlzLnRvdGFsRXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5maWxlVXBsb2FkLm5leHQoZXZlbnQpO1xuICAgICAgICAgICAgdGhpcy5maWxlVXBsb2FkRXJyb3IubmV4dChldmVudCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVXBsb2FkQ29tcGxldGUoZmlsZTogRmlsZU1vZGVsLCBkYXRhOiBhbnkpOiB2b2lkIHtcbiAgICAgICAgaWYgKGZpbGUpIHtcbiAgICAgICAgICAgIGZpbGUuc3RhdHVzID0gRmlsZVVwbG9hZFN0YXR1cy5Db21wbGV0ZTtcbiAgICAgICAgICAgIGZpbGUuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgICB0aGlzLnRvdGFsQ29tcGxldGUrKztcblxuICAgICAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuY2FjaGVbZmlsZS5pZF07XG4gICAgICAgICAgICBpZiAocHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLmNhY2hlW2ZpbGUuaWRdO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjb25zdCBldmVudCA9IG5ldyBGaWxlVXBsb2FkQ29tcGxldGVFdmVudChmaWxlLCB0aGlzLnRvdGFsQ29tcGxldGUsIGRhdGEsIHRoaXMudG90YWxBYm9ydGVkKTtcbiAgICAgICAgICAgIHRoaXMuZmlsZVVwbG9hZC5uZXh0KGV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMuZmlsZVVwbG9hZENvbXBsZXRlLm5leHQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvblVwbG9hZEFib3J0ZWQoZmlsZTogRmlsZU1vZGVsKTogdm9pZCB7XG4gICAgICAgIGlmIChmaWxlKSB7XG4gICAgICAgICAgICBmaWxlLnN0YXR1cyA9IEZpbGVVcGxvYWRTdGF0dXMuQWJvcnRlZDtcbiAgICAgICAgICAgIHRoaXMudG90YWxBYm9ydGVkKys7XG5cbiAgICAgICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLmNhY2hlW2ZpbGUuaWRdO1xuICAgICAgICAgICAgaWYgKHByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5jYWNoZVtmaWxlLmlkXTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRmlsZVVwbG9hZEV2ZW50KGZpbGUsIEZpbGVVcGxvYWRTdGF0dXMuQWJvcnRlZCk7XG4gICAgICAgICAgICB0aGlzLmZpbGVVcGxvYWQubmV4dChldmVudCk7XG4gICAgICAgICAgICB0aGlzLmZpbGVVcGxvYWRBYm9ydGVkLm5leHQoZXZlbnQpO1xuICAgICAgICAgICAgcHJvbWlzZS5uZXh0KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIG9uVXBsb2FkQ2FuY2VsbGVkKGZpbGU6IEZpbGVNb2RlbCk6IHZvaWQge1xuICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgICAgZmlsZS5zdGF0dXMgPSBGaWxlVXBsb2FkU3RhdHVzLkNhbmNlbGxlZDtcblxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRmlsZVVwbG9hZEV2ZW50KGZpbGUsIEZpbGVVcGxvYWRTdGF0dXMuQ2FuY2VsbGVkKTtcbiAgICAgICAgICAgIHRoaXMuZmlsZVVwbG9hZC5uZXh0KGV2ZW50KTtcbiAgICAgICAgICAgIHRoaXMuZmlsZVVwbG9hZENhbmNlbGxlZC5uZXh0KGV2ZW50KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgb25VcGxvYWREZWxldGVkKGZpbGU6IEZpbGVNb2RlbCk6IHZvaWQge1xuICAgICAgICBpZiAoZmlsZSkge1xuICAgICAgICAgICAgZmlsZS5zdGF0dXMgPSBGaWxlVXBsb2FkU3RhdHVzLkRlbGV0ZWQ7XG4gICAgICAgICAgICB0aGlzLnRvdGFsQ29tcGxldGUtLTtcblxuICAgICAgICAgICAgY29uc3QgZXZlbnQgPSBuZXcgRmlsZVVwbG9hZERlbGV0ZUV2ZW50KGZpbGUsIHRoaXMudG90YWxDb21wbGV0ZSk7XG4gICAgICAgICAgICB0aGlzLmZpbGVVcGxvYWQubmV4dChldmVudCk7XG4gICAgICAgICAgICB0aGlzLmZpbGVVcGxvYWREZWxldGVkLm5leHQoZXZlbnQpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBnZXRBY3Rpb24oZmlsZSkge1xuICAgICAgICBjb25zdCBhY3Rpb25zID0ge1xuICAgICAgICAgICAgW0ZpbGVVcGxvYWRTdGF0dXMuUGVuZGluZ106ICgpID0+IHRoaXMub25VcGxvYWRDYW5jZWxsZWQoZmlsZSksXG4gICAgICAgICAgICBbRmlsZVVwbG9hZFN0YXR1cy5EZWxldGVkXTogKCkgPT4gdGhpcy5vblVwbG9hZERlbGV0ZWQoZmlsZSksXG4gICAgICAgICAgICBbRmlsZVVwbG9hZFN0YXR1cy5FcnJvcl06ICgpID0+IHRoaXMub25VcGxvYWRFcnJvcihmaWxlLCBudWxsKVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBhY3Rpb25zW2ZpbGUuc3RhdHVzXTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBmcm9tLCBvZiB9IGZyb20gJ3J4anMnO1xuXG5pbXBvcnQgeyBOb2RlUGFnaW5nIH0gZnJvbSAnYWxmcmVzY28tanMtYXBpJztcbmltcG9ydCB7IEFsZnJlc2NvQXBpU2VydmljZSB9IGZyb20gJy4vYWxmcmVzY28tYXBpLnNlcnZpY2UnO1xuaW1wb3J0IHsgVXNlclByZWZlcmVuY2VzU2VydmljZSB9IGZyb20gJy4vdXNlci1wcmVmZXJlbmNlcy5zZXJ2aWNlJztcbmltcG9ydCB7IGNhdGNoRXJyb3IgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBEZWxldGVkTm9kZXNBcGlTZXJ2aWNlIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcGlTZXJ2aWNlOiBBbGZyZXNjb0FwaVNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgcHJlZmVyZW5jZXM6IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2VcbiAgICApIHt9XG5cbiAgICBwcml2YXRlIGdldCBub2Rlc0FwaSgpIHtcbiAgICAgICByZXR1cm4gdGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuY29yZS5ub2Rlc0FwaTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgbGlzdCBvZiBub2RlcyBpbiB0aGUgdHJhc2guXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBmb3IgSlNBUEkgY2FsbFxuICAgICAqIEByZXR1cm5zIExpc3Qgb2Ygbm9kZXMgaW4gdGhlIHRyYXNoXG4gICAgICovXG4gICAgZ2V0RGVsZXRlZE5vZGVzKG9wdGlvbnM/OiBPYmplY3QpOiBPYnNlcnZhYmxlPE5vZGVQYWdpbmc+IHtcbiAgICAgICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBpbmNsdWRlOiBbICdwYXRoJywgJ3Byb3BlcnRpZXMnIF0sXG4gICAgICAgICAgICBtYXhJdGVtczogdGhpcy5wcmVmZXJlbmNlcy5wYWdpbmF0aW9uU2l6ZSxcbiAgICAgICAgICAgIHNraXBDb3VudDogMFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBxdWVyeU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMubm9kZXNBcGkuZ2V0RGVsZXRlZE5vZGVzKHF1ZXJ5T3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIGZyb20ocHJvbWlzZSkucGlwZShcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IG9mKGVycikpXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTm9kZVBhZ2luZyB9IGZyb20gJ2FsZnJlc2NvLWpzLWFwaSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBmcm9tLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQWxmcmVzY29BcGlTZXJ2aWNlIH0gZnJvbSAnLi9hbGZyZXNjby1hcGkuc2VydmljZSc7XG5pbXBvcnQgeyBVc2VyUHJlZmVyZW5jZXNTZXJ2aWNlIH0gZnJvbSAnLi91c2VyLXByZWZlcmVuY2VzLnNlcnZpY2UnO1xuaW1wb3J0IHsgY2F0Y2hFcnJvciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIEZhdm9yaXRlc0FwaVNlcnZpY2Uge1xuXG4gICAgc3RhdGljIHJlbWFwRW50cnkoeyBlbnRyeSB9OiBhbnkpOiBhbnkge1xuICAgICAgICBlbnRyeS5wcm9wZXJ0aWVzID0ge1xuICAgICAgICAgICAgJ2NtOnRpdGxlJzogZW50cnkudGl0bGUsXG4gICAgICAgICAgICAnY206ZGVzY3JpcHRpb24nOiBlbnRyeS5kZXNjcmlwdGlvblxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiB7IGVudHJ5IH07XG4gICAgfVxuXG4gICAgcmVtYXBGYXZvcml0ZXNEYXRhKGRhdGE6IGFueSA9IHt9KTogTm9kZVBhZ2luZyB7XG4gICAgICAgIGNvbnN0IGxpc3QgPSAoZGF0YS5saXN0IHx8IHt9KTtcbiAgICAgICAgY29uc3QgcGFnaW5hdGlvbiA9IChsaXN0LnBhZ2luYXRpb24gfHwge30pO1xuICAgICAgICBjb25zdCBlbnRyaWVzOiBhbnlbXSA9IHRoaXNcbiAgICAgICAgICAgIC5yZW1hcEZhdm9yaXRlRW50cmllcyhsaXN0LmVudHJpZXMgfHwgW10pO1xuXG4gICAgICAgIHJldHVybiA8Tm9kZVBhZ2luZz4ge1xuICAgICAgICAgICAgbGlzdDogeyBlbnRyaWVzLCBwYWdpbmF0aW9uIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICByZW1hcEZhdm9yaXRlRW50cmllcyhlbnRyaWVzOiBhbnlbXSkge1xuICAgICAgICByZXR1cm4gZW50cmllc1xuICAgICAgICAgICAgLm1hcCgoeyBlbnRyeTogeyB0YXJnZXQgfX06IGFueSkgPT4gKHtcbiAgICAgICAgICAgICAgICBlbnRyeTogdGFyZ2V0LmZpbGUgfHwgdGFyZ2V0LmZvbGRlclxuICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAuZmlsdGVyKCh7IGVudHJ5IH0pID0+ICghIWVudHJ5KSlcbiAgICAgICAgICAgIC5tYXAoRmF2b3JpdGVzQXBpU2VydmljZS5yZW1hcEVudHJ5KTtcbiAgICB9XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcGlTZXJ2aWNlOiBBbGZyZXNjb0FwaVNlcnZpY2UsXG4gICAgICAgIHByaXZhdGUgcHJlZmVyZW5jZXM6IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2VcbiAgICApIHt9XG5cbiAgICBwcml2YXRlIGdldCBmYXZvcml0ZXNBcGkoKSB7XG4gICAgICAgcmV0dXJuIHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmNvcmUuZmF2b3JpdGVzQXBpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZhdm9yaXRlcyBmb3IgYSB1c2VyLlxuICAgICAqIEBwYXJhbSBwZXJzb25JZCBJRCBvZiB0aGUgdXNlclxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgc3VwcG9ydGVkIGJ5IEpTQVBJXG4gICAgICogQHJldHVybnMgTGlzdCBvZiBmYXZvcml0ZXNcbiAgICAgKi9cbiAgICBnZXRGYXZvcml0ZXMocGVyc29uSWQ6IHN0cmluZywgb3B0aW9ucz86IGFueSk6IE9ic2VydmFibGU8Tm9kZVBhZ2luZz4ge1xuICAgICAgICBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICAgICAgICAgIG1heEl0ZW1zOiB0aGlzLnByZWZlcmVuY2VzLnBhZ2luYXRpb25TaXplLFxuICAgICAgICAgICAgc2tpcENvdW50OiAwLFxuICAgICAgICAgICAgd2hlcmU6ICcoRVhJU1RTKHRhcmdldC9maWxlKSBPUiBFWElTVFModGFyZ2V0L2ZvbGRlcikpJyxcbiAgICAgICAgICAgIGluY2x1ZGU6IFsgJ3Byb3BlcnRpZXMnLCAnYWxsb3dhYmxlT3BlcmF0aW9ucycgXVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBxdWVyeU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuZmF2b3JpdGVzQXBpXG4gICAgICAgICAgICAuZ2V0RmF2b3JpdGVzKHBlcnNvbklkLCBxdWVyeU9wdGlvbnMpXG4gICAgICAgICAgICAudGhlbih0aGlzLnJlbWFwRmF2b3JpdGVzRGF0YSk7XG5cbiAgICAgICAgcmV0dXJuIGZyb20ocHJvbWlzZSkucGlwZShcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IG9mKGVycikpXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWluaW1hbE5vZGVFbnRpdHksIE1pbmltYWxOb2RlRW50cnlFbnRpdHksIE5vZGVQYWdpbmcgfSBmcm9tICdhbGZyZXNjby1qcy1hcGknO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgZnJvbSwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgQWxmcmVzY29BcGlTZXJ2aWNlIH0gZnJvbSAnLi9hbGZyZXNjby1hcGkuc2VydmljZSc7XG5pbXBvcnQgeyBVc2VyUHJlZmVyZW5jZXNTZXJ2aWNlIH0gZnJvbSAnLi91c2VyLXByZWZlcmVuY2VzLnNlcnZpY2UnO1xuaW1wb3J0IHsgY2F0Y2hFcnJvciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIE5vZGVzQXBpU2VydmljZSB7XG5cbiAgICBjb25zdHJ1Y3RvcihcbiAgICAgICAgcHJpdmF0ZSBhcGk6IEFsZnJlc2NvQXBpU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBwcmVmZXJlbmNlczogVXNlclByZWZlcmVuY2VzU2VydmljZSkge31cblxuICAgIHByaXZhdGUgZ2V0IG5vZGVzQXBpKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5hcGkuZ2V0SW5zdGFuY2UoKS5jb3JlLm5vZGVzQXBpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0RW50cnlGcm9tRW50aXR5KGVudGl0eTogTWluaW1hbE5vZGVFbnRpdHkpIHtcbiAgICAgICAgcmV0dXJuIGVudGl0eS5lbnRyeTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdG9yZWQgaW5mb3JtYXRpb24gYWJvdXQgYSBub2RlLlxuICAgICAqIEBwYXJhbSBub2RlSWQgSUQgb2YgdGhlIHRhcmdldCBub2RlXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9uYWwgcGFyYW1ldGVycyBzdXBwb3J0ZWQgYnkgSlNBUElcbiAgICAgKiBAcmV0dXJucyBOb2RlIGluZm9ybWF0aW9uXG4gICAgICovXG4gICAgZ2V0Tm9kZShub2RlSWQ6IHN0cmluZywgb3B0aW9uczogYW55ID0ge30pOiBPYnNlcnZhYmxlPE1pbmltYWxOb2RlRW50cnlFbnRpdHk+IHtcbiAgICAgICAgY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgICAgICAgICBpbmNsdWRlOiBbICdwYXRoJywgJ3Byb3BlcnRpZXMnLCAnYWxsb3dhYmxlT3BlcmF0aW9ucycsICdwZXJtaXNzaW9ucycgXVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBxdWVyeU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKGRlZmF1bHRzLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMubm9kZXNBcGlcbiAgICAgICAgICAgIC5nZXROb2RlKG5vZGVJZCwgcXVlcnlPcHRpb25zKVxuICAgICAgICAgICAgLnRoZW4odGhpcy5nZXRFbnRyeUZyb21FbnRpdHkpO1xuXG4gICAgICAgIHJldHVybiBmcm9tKHByb21pc2UpLnBpcGUoXG4gICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB0aHJvd0Vycm9yKGVycikpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaXRlbXMgY29udGFpbmVkIGluIGEgZm9sZGVyIG5vZGUuXG4gICAgICogQHBhcmFtIG5vZGVJZCBJRCBvZiB0aGUgdGFyZ2V0IG5vZGVcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBwYXJhbWV0ZXJzIHN1cHBvcnRlZCBieSBKU0FQSVxuICAgICAqIEByZXR1cm5zIExpc3Qgb2YgY2hpbGQgaXRlbXMgZnJvbSB0aGUgZm9sZGVyXG4gICAgICovXG4gICAgZ2V0Tm9kZUNoaWxkcmVuKG5vZGVJZDogc3RyaW5nLCBvcHRpb25zOiBhbnkgPSB7fSk6IE9ic2VydmFibGU8Tm9kZVBhZ2luZz4ge1xuICAgICAgICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICAgICAgICAgIG1heEl0ZW1zOiB0aGlzLnByZWZlcmVuY2VzLnBhZ2luYXRpb25TaXplLFxuICAgICAgICAgICAgc2tpcENvdW50OiAwLFxuICAgICAgICAgICAgaW5jbHVkZTogWyAncGF0aCcsICdwcm9wZXJ0aWVzJywgJ2FsbG93YWJsZU9wZXJhdGlvbnMnLCAncGVybWlzc2lvbnMnIF1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcXVlcnlPcHRpb25zID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0cywgb3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLm5vZGVzQXBpXG4gICAgICAgICAgICAuZ2V0Tm9kZUNoaWxkcmVuKG5vZGVJZCwgcXVlcnlPcHRpb25zKTtcblxuICAgICAgICByZXR1cm4gZnJvbShwcm9taXNlKS5waXBlKFxuICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhyb3dFcnJvcihlcnIpKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZG9jdW1lbnQgbm9kZSBpbnNpZGUgYSBmb2xkZXIuXG4gICAgICogQHBhcmFtIHBhcmVudE5vZGVJZCBJRCBvZiB0aGUgcGFyZW50IGZvbGRlciBub2RlXG4gICAgICogQHBhcmFtIG5vZGVCb2R5IERhdGEgZm9yIHRoZSBuZXcgbm9kZVxuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbmFsIHBhcmFtZXRlcnMgc3VwcG9ydGVkIGJ5IEpTQVBJXG4gICAgICogQHJldHVybnMgRGV0YWlscyBvZiB0aGUgbmV3IG5vZGVcbiAgICAgKi9cbiAgICBjcmVhdGVOb2RlKHBhcmVudE5vZGVJZDogc3RyaW5nLCBub2RlQm9keTogYW55LCBvcHRpb25zOiBhbnkgPSB7fSk6IE9ic2VydmFibGU8TWluaW1hbE5vZGVFbnRyeUVudGl0eT4ge1xuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5ub2Rlc0FwaVxuICAgICAgICAgICAgLmFkZE5vZGUocGFyZW50Tm9kZUlkLCBub2RlQm9keSwgb3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKHRoaXMuZ2V0RW50cnlGcm9tRW50aXR5KTtcblxuICAgICAgICByZXR1cm4gZnJvbShwcm9taXNlKS5waXBlKFxuICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhyb3dFcnJvcihlcnIpKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBuZXcgZm9sZGVyIG5vZGUgaW5zaWRlIGEgcGFyZW50IGZvbGRlci5cbiAgICAgKiBAcGFyYW0gcGFyZW50Tm9kZUlkIElEIG9mIHRoZSBwYXJlbnQgZm9sZGVyIG5vZGVcbiAgICAgKiBAcGFyYW0gbm9kZUJvZHkgRGF0YSBmb3IgdGhlIG5ldyBmb2xkZXJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBwYXJhbWV0ZXJzIHN1cHBvcnRlZCBieSBKU0FQSVxuICAgICAqIEByZXR1cm5zIERldGFpbHMgb2YgdGhlIG5ldyBmb2xkZXJcbiAgICAgKi9cbiAgICBjcmVhdGVGb2xkZXIocGFyZW50Tm9kZUlkOiBzdHJpbmcsIG5vZGVCb2R5OiBhbnksIG9wdGlvbnM6IGFueSA9IHt9KTogT2JzZXJ2YWJsZTxNaW5pbWFsTm9kZUVudHJ5RW50aXR5PiB7XG4gICAgICAgIGNvbnN0IGJvZHkgPSBPYmplY3QuYXNzaWduKHsgbm9kZVR5cGU6ICdjbTpmb2xkZXInIH0sIG5vZGVCb2R5KTtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3JlYXRlTm9kZShwYXJlbnROb2RlSWQsIGJvZHksIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgdGhlIGluZm9ybWF0aW9uIGFib3V0IGEgbm9kZS5cbiAgICAgKiBAcGFyYW0gbm9kZUlkIElEIG9mIHRoZSB0YXJnZXQgbm9kZVxuICAgICAqIEBwYXJhbSBub2RlQm9keSBOZXcgZGF0YSBmb3IgdGhlIG5vZGVcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBwYXJhbWV0ZXJzIHN1cHBvcnRlZCBieSBKU0FQSVxuICAgICAqIEByZXR1cm5zIFVwZGF0ZWQgbm9kZSBpbmZvcm1hdGlvblxuICAgICAqL1xuICAgIHVwZGF0ZU5vZGUobm9kZUlkOiBzdHJpbmcsIG5vZGVCb2R5OiBhbnksIG9wdGlvbnM6IGFueSA9IHt9KTogT2JzZXJ2YWJsZTxNaW5pbWFsTm9kZUVudHJ5RW50aXR5PiB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRzID0ge1xuICAgICAgICAgICAgaW5jbHVkZTogWyAncGF0aCcsICdwcm9wZXJ0aWVzJywgJ2FsbG93YWJsZU9wZXJhdGlvbnMnLCAncGVybWlzc2lvbnMnIF1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcXVlcnlPcHRpb25zID0gT2JqZWN0LmFzc2lnbihkZWZhdWx0cywgb3B0aW9ucyk7XG5cbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMubm9kZXNBcGlcbiAgICAgICAgICAgIC51cGRhdGVOb2RlKG5vZGVJZCwgbm9kZUJvZHksIHF1ZXJ5T3B0aW9ucylcbiAgICAgICAgICAgIC50aGVuKHRoaXMuZ2V0RW50cnlGcm9tRW50aXR5KTtcblxuICAgICAgICByZXR1cm4gZnJvbShwcm9taXNlKS5waXBlKFxuICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhyb3dFcnJvcihlcnIpKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE1vdmVzIGEgbm9kZSB0byB0aGUgdHJhc2hjYW4uXG4gICAgICogQHBhcmFtIG5vZGVJZCBJRCBvZiB0aGUgdGFyZ2V0IG5vZGVcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBwYXJhbWV0ZXJzIHN1cHBvcnRlZCBieSBKU0FQSVxuICAgICAqIEByZXR1cm5zIEVtcHR5IHJlc3VsdCB0aGF0IG5vdGlmaWVzIHdoZW4gdGhlIGRlbGV0aW9uIGlzIGNvbXBsZXRlXG4gICAgICovXG4gICAgZGVsZXRlTm9kZShub2RlSWQ6IHN0cmluZywgb3B0aW9uczogYW55ID0ge30pOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5ub2Rlc0FwaS5kZWxldGVOb2RlKG5vZGVJZCwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIGZyb20ocHJvbWlzZSkucGlwZShcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRocm93RXJyb3IoZXJyKSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXN0b3JlcyBhIG5vZGUgcHJldmlvdXNseSBtb3ZlZCB0byB0aGUgdHJhc2hjYW4uXG4gICAgICogQHBhcmFtIG5vZGVJZCBJRCBvZiB0aGUgbm9kZSB0byByZXN0b3JlXG4gICAgICogQHJldHVybnMgRGV0YWlscyBvZiB0aGUgcmVzdG9yZWQgbm9kZVxuICAgICAqL1xuICAgIHJlc3RvcmVOb2RlKG5vZGVJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxNaW5pbWFsTm9kZUVudHJ5RW50aXR5PiB7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLm5vZGVzQXBpXG4gICAgICAgICAgICAucmVzdG9yZU5vZGUobm9kZUlkKVxuICAgICAgICAgICAgLnRoZW4odGhpcy5nZXRFbnRyeUZyb21FbnRpdHkpO1xuXG4gICAgICAgIHJldHVybiBmcm9tKHByb21pc2UpLnBpcGUoXG4gICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB0aHJvd0Vycm9yKGVycikpXG4gICAgICAgICk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgT2JzZXJ2YWJsZSwgZnJvbSwgb2YgfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IEFsZnJlc2NvQXBpU2VydmljZSB9IGZyb20gJy4vYWxmcmVzY28tYXBpLnNlcnZpY2UnO1xuaW1wb3J0IHsgY2F0Y2hFcnJvciB9IGZyb20gJ3J4anMvb3BlcmF0b3JzJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIFBlb3BsZUNvbnRlbnRTZXJ2aWNlIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlKSB7fVxuXG4gICAgcHJpdmF0ZSBnZXQgcGVvcGxlQXBpKCkge1xuICAgICAgIHJldHVybiB0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5jb3JlLnBlb3BsZUFwaTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGluZm9ybWF0aW9uIGFib3V0IGEgdXNlciBpZGVudGlmaWVkIGJ5IHRoZWlyIHVzZXJuYW1lLlxuICAgICAqIEBwYXJhbSBwZXJzb25JZCBJRCBvZiB0aGUgdGFyZ2V0IHVzZXJcbiAgICAgKiBAcmV0dXJucyBVc2VyIGluZm9ybWF0aW9uXG4gICAgICovXG4gICAgZ2V0UGVyc29uKHBlcnNvbklkOiBzdHJpbmcpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBjb25zdCBwcm9taXNlID0gdGhpcy5wZW9wbGVBcGkuZ2V0UGVyc29uKHBlcnNvbklkKTtcblxuICAgICAgICByZXR1cm4gZnJvbShwcm9taXNlKS5waXBlKFxuICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gb2YoZXJyKSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGluZm9ybWF0aW9uIGFib3V0IHRoZSB1c2VyIHdobyBpcyBjdXJyZW50bHkgbG9nZ2VkIGluLlxuICAgICAqIEByZXR1cm5zIFVzZXIgaW5mb3JtYXRpb25cbiAgICAgKi9cbiAgICBnZXRDdXJyZW50UGVyc29uKCk6IE9ic2VydmFibGU8YW55PiB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBlcnNvbignLW1lLScpO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFF1ZXJ5Qm9keSB9IGZyb20gJ2FsZnJlc2NvLWpzLWFwaSc7XG5pbXBvcnQgeyBTZWFyY2hDb25maWd1cmF0aW9uSW50ZXJmYWNlIH0gZnJvbSAnLi4vaW50ZXJmYWNlL3NlYXJjaC1jb25maWd1cmF0aW9uLmludGVyZmFjZSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBTZWFyY2hDb25maWd1cmF0aW9uU2VydmljZSBpbXBsZW1lbnRzIFNlYXJjaENvbmZpZ3VyYXRpb25JbnRlcmZhY2Uge1xuXG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgUXVlcnlCb2R5IG9iamVjdCB3aXRoIGN1c3RvbSBzZWFyY2ggcGFyYW1ldGVycy5cbiAgICAgKiBAcGFyYW0gc2VhcmNoVGVybSBUZXJtIHRleHQgdG8gc2VhcmNoIGZvclxuICAgICAqIEBwYXJhbSBtYXhSZXN1bHRzIE1heGltdW0gbnVtYmVyIG9mIHNlYXJjaCByZXN1bHRzIHRvIHNob3cgaW4gYSBwYWdlXG4gICAgICogQHBhcmFtIHNraXBDb3VudCBUaGUgb2Zmc2V0IG9mIHRoZSBzdGFydCBvZiB0aGUgcGFnZSB3aXRoaW4gdGhlIHJlc3VsdHMgbGlzdFxuICAgICAqIEByZXR1cm5zIFF1ZXJ5IGJvZHkgZGVmaW5lZCBieSB0aGUgcGFyYW1ldGVyc1xuICAgICAqL1xuICAgIHB1YmxpYyBnZW5lcmF0ZVF1ZXJ5Qm9keShzZWFyY2hUZXJtOiBzdHJpbmcsIG1heFJlc3VsdHM6IG51bWJlciwgc2tpcENvdW50OiBudW1iZXIpOiBRdWVyeUJvZHkge1xuICAgICAgICBsZXQgZGVmYXVsdFF1ZXJ5Qm9keTogUXVlcnlCb2R5ID0ge1xuICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICBxdWVyeTogc2VhcmNoVGVybSA/IGAke3NlYXJjaFRlcm19KiBPUiBuYW1lOiR7c2VhcmNoVGVybX0qYCA6IHNlYXJjaFRlcm1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbmNsdWRlOiBbJ3BhdGgnLCAnYWxsb3dhYmxlT3BlcmF0aW9ucyddLFxuICAgICAgICAgICAgcGFnaW5nOiB7XG4gICAgICAgICAgICAgICAgbWF4SXRlbXM6IG1heFJlc3VsdHMsXG4gICAgICAgICAgICAgICAgc2tpcENvdW50OiBza2lwQ291bnRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBmaWx0ZXJRdWVyaWVzOiBbXG4gICAgICAgICAgICAgICAgeyBxdWVyeTogXCJUWVBFOidjbTpmb2xkZXInIE9SIFRZUEU6J2NtOmNvbnRlbnQnXCIgfSxcbiAgICAgICAgICAgICAgICB7IHF1ZXJ5OiAnTk9UIGNtOmNyZWF0b3I6U3lzdGVtJyB9XVxuICAgICAgICB9O1xuXG4gICAgICAgIHJldHVybiBkZWZhdWx0UXVlcnlCb2R5O1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE5vZGVQYWdpbmcsIFF1ZXJ5Qm9keSB9IGZyb20gJ2FsZnJlc2NvLWpzLWFwaSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBTdWJqZWN0LCBmcm9tLCB0aHJvd0Vycm9yIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBBbGZyZXNjb0FwaVNlcnZpY2UgfSBmcm9tICcuL2FsZnJlc2NvLWFwaS5zZXJ2aWNlJztcbmltcG9ydCB7IFNlYXJjaENvbmZpZ3VyYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi9zZWFyY2gtY29uZmlndXJhdGlvbi5zZXJ2aWNlJztcbmltcG9ydCB7IGNhdGNoRXJyb3IgfSBmcm9tICdyeGpzL29wZXJhdG9ycyc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBTZWFyY2hTZXJ2aWNlIHtcblxuICAgIGRhdGFMb2FkZWQ6IFN1YmplY3Q8Tm9kZVBhZ2luZz4gPSBuZXcgU3ViamVjdCgpO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBhcGlTZXJ2aWNlOiBBbGZyZXNjb0FwaVNlcnZpY2UsXG4gICAgICAgICAgICAgICAgcHJpdmF0ZSBzZWFyY2hDb25maWd1cmF0aW9uU2VydmljZTogU2VhcmNoQ29uZmlndXJhdGlvblNlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBnZXROb2RlUXVlcnlSZXN1bHRzKHRlcm06IHN0cmluZywgb3B0aW9ucz86IFNlYXJjaE9wdGlvbnMpOiBPYnNlcnZhYmxlPE5vZGVQYWdpbmc+IHtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmNvcmUucXVlcmllc0FwaS5maW5kTm9kZXModGVybSwgb3B0aW9ucyk7XG5cbiAgICAgICAgcHJvbWlzZS50aGVuKChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxvYWRlZC5uZXh0KGRhdGEpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZnJvbShwcm9taXNlKS5waXBlKFxuICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHNlYXJjaChzZWFyY2hUZXJtOiBzdHJpbmcsIG1heFJlc3VsdHM6IG51bWJlciwgc2tpcENvdW50OiBudW1iZXIpOiBPYnNlcnZhYmxlPE5vZGVQYWdpbmc+IHtcbiAgICAgICAgY29uc3Qgc2VhcmNoUXVlcnkgPSBPYmplY3QuYXNzaWduKHRoaXMuc2VhcmNoQ29uZmlndXJhdGlvblNlcnZpY2UuZ2VuZXJhdGVRdWVyeUJvZHkoc2VhcmNoVGVybSwgbWF4UmVzdWx0cywgc2tpcENvdW50KSk7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5zZWFyY2guc2VhcmNoQXBpLnNlYXJjaChzZWFyY2hRdWVyeSk7XG5cbiAgICAgICAgcHJvbWlzZS50aGVuKChkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YUxvYWRlZC5uZXh0KGRhdGEpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZnJvbShwcm9taXNlKS5waXBlKFxuICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gdGhpcy5oYW5kbGVFcnJvcihlcnIpKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIHNlYXJjaEJ5UXVlcnlCb2R5KHF1ZXJ5Qm9keTogUXVlcnlCb2R5KTogT2JzZXJ2YWJsZTxOb2RlUGFnaW5nPiB7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5zZWFyY2guc2VhcmNoQXBpLnNlYXJjaChxdWVyeUJvZHkpO1xuXG4gICAgICAgIHByb21pc2UudGhlbigoZGF0YTogYW55KSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGFMb2FkZWQubmV4dChkYXRhKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGZyb20ocHJvbWlzZSkucGlwZShcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKGVycm9yOiBhbnkpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihlcnJvciB8fCAnU2VydmVyIGVycm9yJyk7XG4gICAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIFNlYXJjaE9wdGlvbnMge1xuICAgIHNraXBDb3VudD86IG51bWJlcjtcbiAgICBtYXhJdGVtcz86IG51bWJlcjtcbiAgICByb290Tm9kZUlkPzogc3RyaW5nO1xuICAgIG5vZGVUeXBlPzogc3RyaW5nO1xuICAgIGluY2x1ZGU/OiBzdHJpbmdbXTtcbiAgICBvcmRlckJ5Pzogc3RyaW5nO1xuICAgIGZpZWxkcz86IHN0cmluZ1tdO1xufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTm9kZVBhZ2luZywgU2hhcmVkTGlua0VudHJ5IH0gZnJvbSAnYWxmcmVzY28tanMtYXBpJztcbmltcG9ydCB7IE9ic2VydmFibGUsIGZyb20sIG9mIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBBbGZyZXNjb0FwaVNlcnZpY2UgfSBmcm9tICcuL2FsZnJlc2NvLWFwaS5zZXJ2aWNlJztcbmltcG9ydCB7IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2UgfSBmcm9tICcuL3VzZXItcHJlZmVyZW5jZXMuc2VydmljZSc7XG5pbXBvcnQgeyBjYXRjaEVycm9yIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgU2hhcmVkTGlua3NBcGlTZXJ2aWNlIHtcblxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgYXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByaXZhdGUgcHJlZmVyZW5jZXM6IFVzZXJQcmVmZXJlbmNlc1NlcnZpY2UpIHtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCBzaGFyZWRMaW5rc0FwaSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmNvcmUuc2hhcmVkbGlua3NBcGk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBzaGFyZWQgbGlua3MgYXZhaWxhYmxlIHRvIHRoZSBjdXJyZW50IHVzZXIuXG4gICAgICogQHBhcmFtIG9wdGlvbnMgT3B0aW9ucyBzdXBwb3J0ZWQgYnkgSlNBUElcbiAgICAgKiBAcmV0dXJucyBMaXN0IG9mIHNoYXJlZCBsaW5rc1xuICAgICAqL1xuICAgIGdldFNoYXJlZExpbmtzKG9wdGlvbnM6IGFueSA9IHt9KTogT2JzZXJ2YWJsZTxOb2RlUGFnaW5nPiB7XG4gICAgICAgIGNvbnN0IGRlZmF1bHRPcHRpb25zID0ge1xuICAgICAgICAgICAgbWF4SXRlbXM6IHRoaXMucHJlZmVyZW5jZXMucGFnaW5hdGlvblNpemUsXG4gICAgICAgICAgICBza2lwQ291bnQ6IDAsXG4gICAgICAgICAgICBpbmNsdWRlOiBbJ3Byb3BlcnRpZXMnLCAnYWxsb3dhYmxlT3BlcmF0aW9ucyddXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHF1ZXJ5T3B0aW9ucyA9IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRPcHRpb25zLCBvcHRpb25zKTtcbiAgICAgICAgY29uc3QgcHJvbWlzZSA9IHRoaXMuc2hhcmVkTGlua3NBcGkuZmluZFNoYXJlZExpbmtzKHF1ZXJ5T3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIGZyb20ocHJvbWlzZSkucGlwZShcbiAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IG9mKGVycikpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNoYXJlZCBsaW5rIGF2YWlsYWJsZSB0byB0aGUgY3VycmVudCB1c2VyLlxuICAgICAqIEBwYXJhbSBub2RlSWQgSUQgb2YgdGhlIG5vZGUgdG8gbGluayB0b1xuICAgICAqIEBwYXJhbSBvcHRpb25zIE9wdGlvbnMgc3VwcG9ydGVkIGJ5IEpTQVBJXG4gICAgICogQHJldHVybnMgVGhlIHNoYXJlZCBsaW5rIGp1c3QgY3JlYXRlZFxuICAgICAqL1xuICAgIGNyZWF0ZVNoYXJlZExpbmtzKG5vZGVJZDogc3RyaW5nLCBvcHRpb25zOiBhbnkgPSB7fSk6IE9ic2VydmFibGU8U2hhcmVkTGlua0VudHJ5PiB7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnNoYXJlZExpbmtzQXBpLmFkZFNoYXJlZExpbmsoeyBub2RlSWQ6IG5vZGVJZCB9KTtcblxuICAgICAgICByZXR1cm4gZnJvbShwcm9taXNlKS5waXBlKFxuICAgICAgICAgICAgY2F0Y2hFcnJvcihlcnIgPT4gb2YoZXJyKSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGEgc2hhcmVkIGxpbmsuXG4gICAgICogQHBhcmFtIHNoYXJlZElkIElEIG9mIHRoZSBsaW5rIHRvIGRlbGV0ZVxuICAgICAqIEByZXR1cm5zIE51bGwgcmVzcG9uc2Ugbm90aWZ5aW5nIHdoZW4gdGhlIG9wZXJhdGlvbiBpcyBjb21wbGV0ZVxuICAgICAqL1xuICAgIGRlbGV0ZVNoYXJlZExpbmsoc2hhcmVkSWQ6IHN0cmluZyk6IE9ic2VydmFibGU8U2hhcmVkTGlua0VudHJ5PiB7XG4gICAgICAgIGNvbnN0IHByb21pc2UgPSB0aGlzLnNoYXJlZExpbmtzQXBpLmRlbGV0ZVNoYXJlZExpbmsoc2hhcmVkSWQpO1xuXG4gICAgICAgIHJldHVybiBmcm9tKHByb21pc2UpLnBpcGUoXG4gICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiBvZihlcnIpKVxuICAgICAgICApO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEluamVjdGFibGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IFJlc3BvbnNlIH0gZnJvbSAnQGFuZ3VsYXIvaHR0cCc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBmcm9tLCB0aHJvd0Vycm9yIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBBbGZyZXNjb0FwaVNlcnZpY2UgfSBmcm9tICcuL2FsZnJlc2NvLWFwaS5zZXJ2aWNlJztcbmltcG9ydCB7IFNpdGVQYWdpbmcsIFNpdGVFbnRyeSB9IGZyb20gJ2FsZnJlc2NvLWpzLWFwaSc7XG5pbXBvcnQgeyBjYXRjaEVycm9yIH0gZnJvbSAncnhqcy9vcGVyYXRvcnMnO1xuXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgU2l0ZXNTZXJ2aWNlIHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBwcml2YXRlIGFwaVNlcnZpY2U6IEFsZnJlc2NvQXBpU2VydmljZSkgeyB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgbGlzdCBvZiBhbGwgc2l0ZXMgaW4gdGhlIHJlcG9zaXRvcnkuXG4gICAgICogQHBhcmFtIG9wdHMgT3B0aW9ucyBzdXBwb3J0ZWQgYnkgSlNBUElcbiAgICAgKiBAcmV0dXJucyBMaXN0IG9mIHNpdGVzXG4gICAgICovXG4gICAgZ2V0U2l0ZXMob3B0czogYW55ID0ge30pOiBPYnNlcnZhYmxlPFNpdGVQYWdpbmc+IHtcbiAgICAgICAgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSB7XG4gICAgICAgICAgICBza2lwQ291bnQ6IDAsXG4gICAgICAgICAgICBpbmNsdWRlOiBbJ3Byb3BlcnRpZXMnXVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBxdWVyeU9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0T3B0aW9ucywgb3B0cyk7XG4gICAgICAgIHJldHVybiBmcm9tKHRoaXMuYXBpU2VydmljZS5nZXRJbnN0YW5jZSgpLmNvcmUuc2l0ZXNBcGkuZ2V0U2l0ZXMocXVlcnlPcHRpb25zKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgZGV0YWlscyBmb3IgYSBzaXRlLlxuICAgICAqIEBwYXJhbSBzaXRlSWQgSUQgb2YgdGhlIHRhcmdldCBzaXRlXG4gICAgICogQHBhcmFtIG9wdHMgT3B0aW9ucyBzdXBwb3J0ZWQgYnkgSlNBUElcbiAgICAgKiBAcmV0dXJucyBJbmZvcm1hdGlvbiBhYm91dCB0aGUgc2l0ZVxuICAgICAqL1xuICAgIGdldFNpdGUoc2l0ZUlkOiBzdHJpbmcsIG9wdHM/OiBhbnkpOiBPYnNlcnZhYmxlPFNpdGVFbnRyeT4ge1xuICAgICAgICByZXR1cm4gZnJvbSh0aGlzLmFwaVNlcnZpY2UuZ2V0SW5zdGFuY2UoKS5jb3JlLnNpdGVzQXBpLmdldFNpdGUoc2l0ZUlkLCBvcHRzKSlcbiAgICAgICAgICAgIC5waXBlKFxuICAgICAgICAgICAgICAgIGNhdGNoRXJyb3IoZXJyID0+IHRoaXMuaGFuZGxlRXJyb3IoZXJyKSlcbiAgICAgICAgICAgICk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhIHNpdGUuXG4gICAgICogQHBhcmFtIHNpdGVJZCBTaXRlIHRvIGRlbGV0ZVxuICAgICAqIEBwYXJhbSBwZXJtYW5lbnRGbGFnIFRydWU6IGRlbGV0aW9uIGlzIHBlcm1hbmVudDsgRmFsc2U6IHNpdGUgaXMgbW92ZWQgdG8gdGhlIHRyYXNoXG4gICAgICogQHJldHVybnMgTnVsbCByZXNwb25zZSBub3RpZnlpbmcgd2hlbiB0aGUgb3BlcmF0aW9uIGlzIGNvbXBsZXRlXG4gICAgICovXG4gICAgZGVsZXRlU2l0ZShzaXRlSWQ6IHN0cmluZywgcGVybWFuZW50RmxhZzogYm9vbGVhbiA9IHRydWUpOiBPYnNlcnZhYmxlPGFueT4ge1xuICAgICAgICBsZXQgb3B0aW9uczogYW55ID0ge307XG4gICAgICAgIG9wdGlvbnMucGVybWFuZW50ID0gcGVybWFuZW50RmxhZztcbiAgICAgICAgcmV0dXJuIGZyb20odGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuY29yZS5zaXRlc0FwaS5kZWxldGVTaXRlKHNpdGVJZCwgb3B0aW9ucykpXG4gICAgICAgICAgICAucGlwZShcbiAgICAgICAgICAgICAgICBjYXRjaEVycm9yKGVyciA9PiB0aGlzLmhhbmRsZUVycm9yKGVycikpXG4gICAgICAgICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSBzaXRlJ3MgY29udGVudC5cbiAgICAgKiBAcGFyYW0gc2l0ZUlkIElEIG9mIHRoZSB0YXJnZXQgc2l0ZVxuICAgICAqIEByZXR1cm5zIFNpdGUgY29udGVudFxuICAgICAqL1xuICAgIGdldFNpdGVDb250ZW50KHNpdGVJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxTaXRlRW50cnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2l0ZShzaXRlSWQsIHsgcmVsYXRpb25zOiBbJ2NvbnRhaW5lcnMnXSB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGEgbGlzdCBvZiBhbGwgYSBzaXRlJ3MgbWVtYmVycy5cbiAgICAgKiBAcGFyYW0gc2l0ZUlkIElEIG9mIHRoZSB0YXJnZXQgc2l0ZVxuICAgICAqIEByZXR1cm5zIFNpdGUgbWVtYmVyc1xuICAgICAqL1xuICAgIGdldFNpdGVNZW1iZXJzKHNpdGVJZDogc3RyaW5nKTogT2JzZXJ2YWJsZTxTaXRlRW50cnk+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0U2l0ZShzaXRlSWQsIHsgcmVsYXRpb25zOiBbJ21lbWJlcnMnXSB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSB1c2VybmFtZSBvZiB0aGUgdXNlciBjdXJyZW50bHkgbG9nZ2VkIGludG8gQUNTLlxuICAgICAqIEByZXR1cm5zIFVzZXJuYW1lIHN0cmluZ1xuICAgICAqL1xuICAgIGdldEVjbUN1cnJlbnRMb2dnZWRVc2VyTmFtZSgpOiBzdHJpbmcge1xuICAgICAgICByZXR1cm4gdGhpcy5hcGlTZXJ2aWNlLmdldEluc3RhbmNlKCkuZ2V0RWNtVXNlcm5hbWUoKTtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZUVycm9yKGVycm9yOiBSZXNwb25zZSk6IGFueSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgICAgICByZXR1cm4gdGhyb3dFcnJvcihlcnJvciB8fCAnU2VydmVyIGVycm9yJyk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgTWF0RGlhbG9nIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU3ViamVjdCwgT2JzZXJ2YWJsZSB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgTG9naW5EaWFsb2dDb21wb25lbnQgfSBmcm9tICcuLi9sb2dpbi9jb21wb25lbnRzL2xvZ2luLWRpYWxvZy5jb21wb25lbnQnO1xuaW1wb3J0IHsgTG9naW5EaWFsb2dDb21wb25lbnREYXRhIH0gZnJvbSAnLi4vbG9naW4vY29tcG9uZW50cy9sb2dpbi1kaWFsb2ctY29tcG9uZW50LWRhdGEuaW50ZXJmYWNlJztcblxuQEluamVjdGFibGUoKVxuZXhwb3J0IGNsYXNzIExvZ2luRGlhbG9nU2VydmljZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIGRpYWxvZzogTWF0RGlhbG9nKSB7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogT3BlbnMgYSBkaWFsb2cgdG8gY2hvb3NlIGEgZmlsZSB0byB1cGxvYWQuXG4gICAgICogQHBhcmFtIGFjdGlvbiBOYW1lIG9mIHRoZSBhY3Rpb24gdG8gc2hvdyBpbiB0aGUgdGl0bGVcbiAgICAgKiBAcGFyYW0gY29udGVudEVudHJ5IEl0ZW0gdG8gdXBsb2FkXG4gICAgICogQHJldHVybnMgSW5mb3JtYXRpb24gYWJvdXQgdGhlIGNob3NlbiBmaWxlKHMpXG4gICAgICovXG4gICAgb3BlbkxvZ2luKGFjdGlvbk5hbWU6IHN0cmluZywgdGl0bGU6IHN0cmluZyk6IE9ic2VydmFibGU8c3RyaW5nPiB7XG4gICAgICAgIGNvbnN0IGxvZ2dlZCA9IG5ldyBTdWJqZWN0PHN0cmluZz4oKTtcbiAgICAgICAgbG9nZ2VkLnN1YnNjcmliZSh7XG4gICAgICAgICAgICBjb21wbGV0ZTogdGhpcy5jbG9zZS5iaW5kKHRoaXMpXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IExvZ2luRGlhbG9nQ29tcG9uZW50RGF0YSA9IHtcbiAgICAgICAgICAgIHRpdGxlLFxuICAgICAgICAgICAgYWN0aW9uTmFtZSxcbiAgICAgICAgICAgIGxvZ2dlZFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMub3BlbkxvZ2luRGlhbG9nKGRhdGEsICdhZGYtbG9naW4tZGlhbG9nJywgJzYzMHB4Jyk7XG4gICAgICAgIHJldHVybiBsb2dnZWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBvcGVuTG9naW5EaWFsb2coZGF0YTogTG9naW5EaWFsb2dDb21wb25lbnREYXRhLCBjdXJyZW50UGFuZWxDbGFzczogc3RyaW5nLCBjaG9zZW5XaWR0aDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuZGlhbG9nLm9wZW4oTG9naW5EaWFsb2dDb21wb25lbnQsIHsgZGF0YSwgcGFuZWxDbGFzczogY3VycmVudFBhbmVsQ2xhc3MsIHdpZHRoOiBjaG9zZW5XaWR0aCB9KTtcbiAgICB9XG5cbiAgICAvKiogQ2xvc2VzIHRoZSBjdXJyZW50bHkgb3BlbiBkaWFsb2cuICovXG4gICAgY2xvc2UoKSB7XG4gICAgICAgIHRoaXMuZGlhbG9nLmNsb3NlQWxsKCk7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge1xuICAgIEFsZnJlc2NvQXBpLFxuICAgIENvbnRlbnRBcGksXG4gICAgTm9kZXNBcGlcbn0gZnJvbSAnYWxmcmVzY28tanMtYXBpJztcbmltcG9ydCAqIGFzIGFsZnJlc2NvQXBpIGZyb20gJ2FsZnJlc2NvLWpzLWFwaSc7XG4vKiB0c2xpbnQ6ZGlzYWJsZTphZGYtZmlsZS1uYW1lICovXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBFeHRlcm5hbEFsZnJlc2NvQXBpU2VydmljZSB7XG5cbiAgICBwcm90ZWN0ZWQgYWxmcmVzY29BcGk6IEFsZnJlc2NvQXBpO1xuXG4gICAgZ2V0SW5zdGFuY2UoKTogQWxmcmVzY29BcGkge1xuICAgICAgICByZXR1cm4gdGhpcy5hbGZyZXNjb0FwaTtcbiAgICB9XG5cbiAgICBnZXQgY29udGVudEFwaSgpOiBDb250ZW50QXBpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0SW5zdGFuY2UoKS5jb250ZW50O1xuICAgIH1cblxuICAgIGdldCBub2Rlc0FwaSgpOiBOb2Rlc0FwaSB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldEluc3RhbmNlKCkubm9kZXM7XG4gICAgfVxuXG4gICAgaW5pdChlY21Ib3N0OiBzdHJpbmcsIGNvbnRleHRSb290OiBzdHJpbmcpIHtcblxuICAgICAgICBsZXQgZG9tYWluUHJlZml4ID0gdGhpcy5jcmVhdGVQcmVmaXhGcm9tSG9zdChlY21Ib3N0KTtcblxuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICBwcm92aWRlcjogJ0VDTScsXG4gICAgICAgICAgICBob3N0RWNtOiBlY21Ib3N0LFxuICAgICAgICAgICAgYXV0aFR5cGU6ICdCQVNJQycsXG4gICAgICAgICAgICBjb250ZXh0Um9vdDogY29udGV4dFJvb3QsXG4gICAgICAgICAgICBkb21haW5QcmVmaXhcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5pbml0QWxmcmVzY29BcGkoY29uZmlnKTtcbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW5pdEFsZnJlc2NvQXBpKGNvbmZpZykge1xuICAgICAgICBpZiAodGhpcy5hbGZyZXNjb0FwaSkge1xuICAgICAgICAgICAgdGhpcy5hbGZyZXNjb0FwaS5jb25maWd1cmVKc0FwaShjb25maWcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5hbGZyZXNjb0FwaSA9IDxBbGZyZXNjb0FwaT4gbmV3IGFsZnJlc2NvQXBpKGNvbmZpZyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVByZWZpeEZyb21Ib3N0KHVybDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgbGV0IG1hdGNoID0gdXJsLm1hdGNoKC86XFwvXFwvKHd3d1swLTldP1xcLik/KC5bXi86XSspL2kpO1xuICAgICAgICBsZXQgcmVzdWx0ID0gbnVsbDtcbiAgICAgICAgaWYgKG1hdGNoICE9IG51bGwgJiYgbWF0Y2gubGVuZ3RoID4gMiAmJiB0eXBlb2YgbWF0Y2hbMl0gPT09ICdzdHJpbmcnICYmIG1hdGNoWzJdLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG1hdGNoWzJdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSwgSW5qZWN0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBET0NVTUVOVCB9IGZyb20gJ0Bhbmd1bGFyL3BsYXRmb3JtLWJyb3dzZXInO1xuaW1wb3J0IHsgTG9nU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2xvZy5zZXJ2aWNlJztcbmltcG9ydCB7IE5vdGlmaWNhdGlvblNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9ub3RpZmljYXRpb24uc2VydmljZSc7XG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBDbGlwYm9hcmRTZXJ2aWNlIHtcblxuICAgIGNvbnN0cnVjdG9yKFxuICAgICAgICBASW5qZWN0KERPQ1VNRU5UKSBwcml2YXRlIGRvY3VtZW50OiBhbnksXG4gICAgICAgIHByaXZhdGUgbG9nU2VydmljZTogTG9nU2VydmljZSxcbiAgICAgICAgcHJpdmF0ZSBub3RpZmljYXRpb25TZXJ2aWNlOiBOb3RpZmljYXRpb25TZXJ2aWNlKSB7fVxuXG4gICAgaXNUYXJnZXRWYWxpZCh0YXJnZXQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50KSB7XG4gICAgICAgIGlmICh0YXJnZXQgaW5zdGFuY2VvZiBIVE1MSW5wdXRFbGVtZW50IHx8IHRhcmdldCBpbnN0YW5jZW9mIEhUTUxUZXh0QXJlYUVsZW1lbnQpIHtcbiAgICAgICAgICAgIGlmICh0YXJnZXQuaGFzQXR0cmlidXRlKCdkaXNhYmxlZCcpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmxvZ1NlcnZpY2UuZXJyb3IoYCR7dGFyZ2V0fSBzaG91bGQgYmUgaW5wdXQgb3IgdGV4dGFyZWFgKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGNvcHlUb0NsaXBib2FyZCh0YXJnZXQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50LCBtZXNzYWdlPzogc3RyaW5nKSB7XG4gICAgICAgIGlmICh0aGlzLmlzVGFyZ2V0VmFsaWQodGFyZ2V0KSkge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0YXJnZXQuc2VsZWN0KCk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0LnNldFNlbGVjdGlvblJhbmdlKDAsIHRhcmdldC52YWx1ZS5sZW5ndGgpO1xuICAgICAgICAgICAgICAgIHRoaXMuZG9jdW1lbnQuZXhlY0NvbW1hbmQoJ2NvcHknKTtcbiAgICAgICAgICAgICAgICB0aGlzLm5vdGlmeShtZXNzYWdlKTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5sb2dTZXJ2aWNlLmVycm9yKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgbm90aWZ5KG1lc3NhZ2UpIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIHRoaXMubm90aWZpY2F0aW9uU2VydmljZS5vcGVuU25hY2tNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBEaXJlY3RpdmUsIElucHV0LCBIb3N0TGlzdGVuZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENsaXBib2FyZFNlcnZpY2UgfSBmcm9tICcuL2NsaXBib2FyZC5zZXJ2aWNlJztcblxuQERpcmVjdGl2ZSh7XG4gICAgc2VsZWN0b3I6ICdbYWRmLWNsaXBib2FyZF0nLFxuICAgIGV4cG9ydEFzOiAnYWRmQ2xpcGJvYXJkJ1xufSlcbmV4cG9ydCBjbGFzcyBDbGlwYm9hcmREaXJlY3RpdmUge1xuICAgIC8vIHRzbGludDpkaXNhYmxlLW5leHQtbGluZTpuby1pbnB1dC1yZW5hbWVcbiAgICBASW5wdXQoJ2FkZi1jbGlwYm9hcmQnKSB0YXJnZXQ6IEhUTUxJbnB1dEVsZW1lbnQgfCBIVE1MVGV4dEFyZWFFbGVtZW50O1xuXG4gICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOm5vLWlucHV0LXJlbmFtZVxuICAgIEBJbnB1dCgnY2xpcGJvYXJkLW5vdGlmaWNhdGlvbicpIG1lc3NhZ2U6IHN0cmluZztcblxuICAgIEBIb3N0TGlzdGVuZXIoJ2NsaWNrJywgWyckZXZlbnQnXSlcbiAgICBoYW5kbGVDbGlja0V2ZW50KGV2ZW50OiBNb3VzZUV2ZW50KSB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgIHRoaXMuY29weVRvQ2xpcGJvYXJkKCk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBjbGlwYm9hcmRTZXJ2aWNlOiBDbGlwYm9hcmRTZXJ2aWNlKSB7fVxuXG4gICAgcHJpdmF0ZSBjb3B5VG9DbGlwYm9hcmQoKSB7XG4gICAgICAgIGNvbnN0IGlzVmFsaWRUYXJnZXQgPSB0aGlzLmNsaXBib2FyZFNlcnZpY2UuaXNUYXJnZXRWYWxpZCh0aGlzLnRhcmdldCk7XG5cbiAgICAgICAgaWYgKGlzVmFsaWRUYXJnZXQpIHtcbiAgICAgICAgICAgIHRoaXMuY2xpcGJvYXJkU2VydmljZS5jb3B5VG9DbGlwYm9hcmQodGhpcy50YXJnZXQsIHRoaXMubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgTmdNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IENsaXBib2FyZERpcmVjdGl2ZSB9IGZyb20gJy4vY2xpcGJvYXJkLmRpcmVjdGl2ZSc7XG5pbXBvcnQgeyBDbGlwYm9hcmRTZXJ2aWNlIH0gZnJvbSAnLi9jbGlwYm9hcmQuc2VydmljZSc7XG5cbkBOZ01vZHVsZSh7XG4gICAgaW1wb3J0czogW1xuICAgICAgICBDb21tb25Nb2R1bGVcbiAgICBdLFxuICAgIHByb3ZpZGVyczogW1xuICAgICAgICBDbGlwYm9hcmRTZXJ2aWNlXG4gICAgXSxcbiAgICBkZWNsYXJhdGlvbnM6IFtcbiAgICAgICAgQ2xpcGJvYXJkRGlyZWN0aXZlXG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIENsaXBib2FyZERpcmVjdGl2ZVxuICAgIF1cbn0pXG5cbmV4cG9ydCBjbGFzcyBDbGlwYm9hcmRNb2R1bGUge31cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBjbGFzcyBFY21Db21wYW55TW9kZWwge1xuICAgICAgb3JnYW5pemF0aW9uOiBzdHJpbmc7XG4gICAgICBhZGRyZXNzMTogc3RyaW5nO1xuICAgICAgYWRkcmVzczI6IHN0cmluZztcbiAgICAgIGFkZHJlc3MzOiBzdHJpbmc7XG4gICAgICBwb3N0Y29kZTogc3RyaW5nO1xuICAgICAgdGVsZXBob25lOiBzdHJpbmc7XG4gICAgICBmYXg6IHN0cmluZztcbiAgICAgIGVtYWlsOiBzdHJpbmc7XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKipcbiAqIFRoaXMgb2JqZWN0IHJlcHJlc2VudCB0aGUgdXNlciByZWRpcmVjdGlvbiBndWFyZC4qXG4gKi9cblxuZXhwb3J0IGNsYXNzIFJlZGlyZWN0aW9uTW9kZWwge1xuICAgIHByb3ZpZGVyOiBzdHJpbmc7XG4gICAgdXJsPzogc3RyaW5nO1xuXG4gICAgY29uc3RydWN0b3Iob2JqPzogYW55KSB7XG4gICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgIHRoaXMucHJvdmlkZXIgPSBvYmoucHJvdmlkZXI7XG4gICAgICAgICAgICB0aGlzLnVybCA9IG9iai51cmwgfHwgbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tbWVudFJlcHJlc2VudGF0aW9uLCBMaWdodFVzZXJSZXByZXNlbnRhdGlvbiB9IGZyb20gJ2FsZnJlc2NvLWpzLWFwaSc7XG5cbi8qKlxuICogQGRlcHJlY2F0ZWRcbiAqIENvbW1lbnRQcm9jZXNzTW9kZWxcbiAqICh0aGlzIG1vZGVsIGlzIGRlcHJlY2F0ZWQgaW4gMi4zLjAgaW4gZmF2b3VyIG9mIENvbW1lbnRNb2RlbCBhbmQgd2lsbCBiZSByZW1vdmVkIGluIGZ1dHVyZSByZXZpc2lvbnMpXG4gKi9cbmV4cG9ydCBjbGFzcyBDb21tZW50UHJvY2Vzc01vZGVsIGltcGxlbWVudHMgQ29tbWVudFJlcHJlc2VudGF0aW9uIHtcbiAgICBpZDogbnVtYmVyO1xuICAgIG1lc3NhZ2U6IHN0cmluZztcbiAgICBjcmVhdGVkOiBEYXRlO1xuICAgIGNyZWF0ZWRCeTogTGlnaHRVc2VyUmVwcmVzZW50YXRpb247XG4gICAgaXNTZWxlY3RlZDogYm9vbGVhbjtcblxuICAgIGNvbnN0cnVjdG9yKG9iaj86IGFueSkge1xuICAgICAgICBpZiAob2JqKSB7XG4gICAgICAgICAgICB0aGlzLmlkID0gb2JqLmlkO1xuICAgICAgICAgICAgdGhpcy5tZXNzYWdlID0gb2JqLm1lc3NhZ2U7XG4gICAgICAgICAgICB0aGlzLmNyZWF0ZWQgPSBvYmouY3JlYXRlZDtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlZEJ5ID0gb2JqLmNyZWF0ZWRCeTtcbiAgICAgICAgICAgIHRoaXMuaXNTZWxlY3RlZCA9IG9iai5pc1NlbGVjdGVkID8gIG9iai5pc1NlbGVjdGVkIDogZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBQYWdpbmF0aW9uIH0gZnJvbSAnYWxmcmVzY28tanMtYXBpJztcblxuZXhwb3J0IGNsYXNzIFBhZ2luYXRpb25Nb2RlbCBpbXBsZW1lbnRzIFBhZ2luYXRpb24ge1xuICAgIGNvdW50PzogbnVtYmVyO1xuICAgIGhhc01vcmVJdGVtcz86IGJvb2xlYW47XG4gICAgbWVyZ2U/OiBib29sZWFuO1xuICAgIHRvdGFsSXRlbXM/OiBudW1iZXI7XG4gICAgc2tpcENvdW50PzogbnVtYmVyO1xuICAgIG1heEl0ZW1zPzogbnVtYmVyO1xuXG4gICAgY29uc3RydWN0b3Iob2JqPzogYW55KSB7XG4gICAgICAgIGlmIChvYmopIHtcbiAgICAgICAgICAgIHRoaXMuY291bnQgPSBvYmouY291bnQ7XG4gICAgICAgICAgICB0aGlzLmhhc01vcmVJdGVtcyA9IG9iai5oYXNNb3JlSXRlbXMgPyBvYmouaGFzTW9yZUl0ZW1zIDogZmFsc2U7XG4gICAgICAgICAgICB0aGlzLm1lcmdlID0gb2JqLm1lcmdlID8gb2JqLm1lcmdlIDogZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnRvdGFsSXRlbXMgPSBvYmoudG90YWxJdGVtcztcbiAgICAgICAgICAgIHRoaXMuc2tpcENvdW50ID0gb2JqLnNraXBDb3VudDtcbiAgICAgICAgICAgIHRoaXMubWF4SXRlbXMgPSBvYmoubWF4SXRlbXM7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTphZGYtZmlsZS1uYW1lICAqL1xuZXhwb3J0IGNsYXNzIEFsZnJlc2NvQXBpTW9jayB7XG5cbiAgICBsb2dpbih1c2VybmFtZTogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSgnVElDS0VUXzQ0NzlmNGQzYmIxNTUxOTU4NzliZmJiOGQ1MjA2ZjQzMzQ4OGExYjEnKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgbG9nb3V0KCkge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUoJ2xvZ291dCcpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBjaGFuZ2VDb25maWcoKSB7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgSW5qZWN0YWJsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQXBwQ29uZmlnU2VydmljZSB9IGZyb20gJy4uL2FwcC1jb25maWcvYXBwLWNvbmZpZy5zZXJ2aWNlJztcbmltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQXBwQ29uZmlnU2VydmljZU1vY2sgZXh0ZW5kcyBBcHBDb25maWdTZXJ2aWNlIHtcblxuICAgIGNvbmZpZzogYW55ID0ge1xuICAgICAgICBhcHBsaWNhdGlvbjoge1xuICAgICAgICAgICAgbmFtZTogJ0FsZnJlc2NvIEFERiBBcHBsaWNhdGlvbidcbiAgICAgICAgfSxcbiAgICAgICAgZWNtSG9zdDogJ2h0dHA6Ly97aG9zdG5hbWV9ezpwb3J0fS9lY20nLFxuICAgICAgICBicG1Ib3N0OiAnaHR0cDovL3tob3N0bmFtZX17OnBvcnR9L2JwbScsXG4gICAgICAgIGxvZ0xldmVsOiAnc2lsZW50J1xuICAgIH07XG5cbiAgICBjb25zdHJ1Y3RvcihodHRwOiBIdHRwQ2xpZW50KSB7XG4gICAgICAgIHN1cGVyKGh0dHApO1xuICAgIH1cblxuICAgIGxvYWQoKTogUHJvbWlzZTxhbnk+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLmNvbmZpZyk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBsZXQgZmFrZUFwcHMgPSB7XG4gICAgc2l6ZTogMiwgdG90YWw6IDIsIHN0YXJ0OiAwLFxuICAgIGRhdGE6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6IDEsIGRlZmF1bHRBcHBJZDogbnVsbCwgbmFtZTogJ1NhbGVzLUZha2VzLUFwcCcsIGRlc2NyaXB0aW9uOiAnZGVzYy1mYWtlMScsIG1vZGVsSWQ6IDIyLFxuICAgICAgICAgICAgdGhlbWU6ICd0aGVtZS0xLWZha2UnLCBpY29uOiAnZ2x5cGhpY29uLWFzdGVyaXNrJywgJ2RlcGxveW1lbnRJZCc6ICcxMTEnLCAndGVuYW50SWQnOiBudWxsXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAyLCBkZWZhdWx0QXBwSWQ6IG51bGwsIG5hbWU6ICdoZWFsdGgtY2FyZS1GYWtlJywgZGVzY3JpcHRpb246ICdkZXNjLWZha2UyJywgbW9kZWxJZDogMzMsXG4gICAgICAgICAgICB0aGVtZTogJ3RoZW1lLTItZmFrZScsIGljb246ICdnbHlwaGljb24tYXN0ZXJpc2snLCAnZGVwbG95bWVudElkJzogJzQ0NCcsICd0ZW5hbnRJZCc6IG51bGxcbiAgICAgICAgfVxuICAgIF1cbn07XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiwgdGhyb3dFcnJvciB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgUmVkaXJlY3Rpb25Nb2RlbCB9IGZyb20gJy4uL21vZGVscy9yZWRpcmVjdGlvbi5tb2RlbCc7XG5cbi8vIFRPRE86IHNob3VsZCBiZSBleHRlbmRpbmcgQXV0aGVudGljYXRpb25TZXJ2aWNlXG5leHBvcnQgY2xhc3MgQXV0aGVudGljYXRpb25Nb2NrIC8qZXh0ZW5kcyBBdXRoZW50aWNhdGlvblNlcnZpY2UqLyB7XG4gICAgcHJpdmF0ZSByZWRpcmVjdFVybDogUmVkaXJlY3Rpb25Nb2RlbCA9IG51bGw7XG5cbiAgICBzZXRSZWRpcmVjdFVybCh1cmw6IFJlZGlyZWN0aW9uTW9kZWwpIHtcbiAgICAgICAgdGhpcy5yZWRpcmVjdFVybCA9IHVybDtcbiAgICB9XG5cbiAgICBnZXRSZWRpcmVjdFVybCgpOiBzdHJpbmd8bnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlZGlyZWN0VXJsID8gdGhpcy5yZWRpcmVjdFVybC51cmwgOiBudWxsO1xuICAgIH1cblxuICAgIC8vIFRPRE86IHJlYWwgYXV0aCBzZXJ2aWNlIHJldHVybnMgT2JzZXJ2YWJsZTxzdHJpbmc+XG4gICAgbG9naW4odXNlcm5hbWU6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZyk6IE9ic2VydmFibGU8eyB0eXBlOiBzdHJpbmcsIHRpY2tldDogYW55IH0+IHtcbiAgICAgICAgaWYgKHVzZXJuYW1lID09PSAnZmFrZS11c2VybmFtZScgJiYgcGFzc3dvcmQgPT09ICdmYWtlLXBhc3N3b3JkJykge1xuICAgICAgICAgICAgcmV0dXJuIG9mKHsgdHlwZTogJ3R5cGUnLCB0aWNrZXQ6ICd0aWNrZXQnfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodXNlcm5hbWUgPT09ICdmYWtlLXVzZXJuYW1lLUNPUlMtZXJyb3InICYmIHBhc3N3b3JkID09PSAnZmFrZS1wYXNzd29yZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aHJvd0Vycm9yKHtcbiAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICBjcm9zc0RvbWFpbjogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogJ0VSUk9SOiB0aGUgbmV0d29yayBpcyBvZmZsaW5lLCBPcmlnaW4gaXMgbm90IGFsbG93ZWQgYnkgQWNjZXNzLUNvbnRyb2wtQWxsb3ctT3JpZ2luJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVzZXJuYW1lID09PSAnZmFrZS11c2VybmFtZS1DU1JGLWVycm9yJyAmJiBwYXNzd29yZCA9PT0gJ2Zha2UtcGFzc3dvcmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcih7bWVzc2FnZTogJ0VSUk9SOiBJbnZhbGlkIENTUkYtdG9rZW4nLCBzdGF0dXM6IDQwM30pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHVzZXJuYW1lID09PSAnZmFrZS11c2VybmFtZS1FQ00tYWNjZXNzLWVycm9yJyAmJiBwYXNzd29yZCA9PT0gJ2Zha2UtcGFzc3dvcmQnKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhyb3dFcnJvcih7bWVzc2FnZTogJ0VSUk9SOiAwMDE3MDcyOCBBY2Nlc3MgRGVuaWVkLiAgVGhlIHN5c3RlbSBpcyBjdXJyZW50bHkgaW4gcmVhZC1vbmx5IG1vZGUnLCBzdGF0dXM6IDQwM30pO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRocm93RXJyb3IoJ0Zha2Ugc2VydmVyIGVycm9yJyk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGxldCBmYWtlQnBtVXNlck5vSW1hZ2UgPSB7XG4gICAgYXBwczogW10sXG4gICAgY2FwYWJpbGl0aWVzOiAnZmFrZS1jYXBhYmlsaXR5JyxcbiAgICBjb21wYW55OiAnZmFrZS1jb21wYW55JyxcbiAgICBjcmVhdGVkOiAnZmFrZS1jcmVhdGUtZGF0ZScsXG4gICAgZW1haWw6ICdmYWtlQnBtQGZha2UuY29tJyxcbiAgICBleHRlcm5hbElkOiAnZmFrZS1leHRlcm5hbC1pZCcsXG4gICAgZmlyc3ROYW1lOiAnZmFrZS1maXJzdC1uYW1lJyxcbiAgICBsYXN0TmFtZTogJ2Zha2UtbGFzdC1uYW1lJyxcbiAgICBmdWxsbmFtZTogJ2Zha2UtZnVsbC1uYW1lJyxcbiAgICBncm91cHM6IFtdLFxuICAgIGlkOiAnZmFrZS1pZCcsXG4gICAgbGFzdFVwZGF0ZTogJ2Zha2UtdXBkYXRlLWRhdGUnLFxuICAgIGxhdGVzdFN5bmNUaW1lU3RhbXA6ICdmYWtlLXRpbWVzdGFtcCcsXG4gICAgcGFzc3dvcmQ6ICdmYWtlLXBhc3N3b3JkJyxcbiAgICBwaWN0dXJlSWQ6IHVuZGVmaW5lZCxcbiAgICBzdGF0dXM6ICdmYWtlLXN0YXR1cycsXG4gICAgdGVuYW50SWQ6ICdmYWtlLXRlbmFudC1pZCcsXG4gICAgdGVuYW50TmFtZTogJ2Zha2UtdGVuYW50LW5hbWUnLFxuICAgIHRlbmFudFBpY3R1cmVJZDogJ2Zha2UtdGVuYW50LXBpY3R1cmUtaWQnLFxuICAgIHR5cGU6ICdmYWtlLXR5cGUnXG59O1xuXG5leHBvcnQgbGV0IGZha2VCcG1Vc2VyID0ge1xuICAgIGFwcHM6IFtdLFxuICAgIGNhcGFiaWxpdGllczogbnVsbCxcbiAgICBjb21wYW55OiAnZmFrZS1jb21wYW55JyxcbiAgICBjcmVhdGVkOiAnZmFrZS1jcmVhdGUtZGF0ZScsXG4gICAgZW1haWw6ICdmYWtlQnBtQGZha2UuY29tJyxcbiAgICBleHRlcm5hbElkOiAnZmFrZS1leHRlcm5hbC1pZCcsXG4gICAgZmlyc3ROYW1lOiAnZmFrZS1icG0tZmlyc3QtbmFtZScsXG4gICAgbGFzdE5hbWU6ICdmYWtlLWJwbS1sYXN0LW5hbWUnLFxuICAgIGZ1bGxuYW1lOiAnZmFrZS1icG0tZnVsbC1uYW1lJyxcbiAgICBncm91cHM6IFtdLFxuICAgIGlkOiAnZmFrZS1pZCcsXG4gICAgbGFzdFVwZGF0ZTogJ2Zha2UtdXBkYXRlLWRhdGUnLFxuICAgIGxhdGVzdFN5bmNUaW1lU3RhbXA6ICdmYWtlLXRpbWVzdGFtcCcsXG4gICAgcGFzc3dvcmQ6ICdmYWtlLXBhc3N3b3JkJyxcbiAgICBwaWN0dXJlSWQ6IDEyLFxuICAgIHN0YXR1czogJ2Zha2Utc3RhdHVzJyxcbiAgICB0ZW5hbnRJZDogJ2Zha2UtdGVuYW50LWlkJyxcbiAgICB0ZW5hbnROYW1lOiAnZmFrZS10ZW5hbnQtbmFtZScsXG4gICAgdGVuYW50UGljdHVyZUlkOiAnZmFrZS10ZW5hbnQtcGljdHVyZS1pZCcsXG4gICAgdHlwZTogJ2Zha2UtdHlwZSdcbn07XG5cbmV4cG9ydCBsZXQgZmFrZUJwbUVkaXRlZFVzZXIgPSB7XG4gICAgYXBwczogW10sXG4gICAgY2FwYWJpbGl0aWVzOiAnZmFrZS1jYXBhYmlsaXR5JyxcbiAgICBjb21wYW55OiAnZmFrZS1jb21wYW55JyxcbiAgICBjcmVhdGVkOiAnZmFrZS1jcmVhdGUtZGF0ZScsXG4gICAgZW1haWw6ICdmYWtlQnBtQGZha2UuY29tJyxcbiAgICBleHRlcm5hbElkOiAnZmFrZS1leHRlcm5hbC1pZCcsXG4gICAgZmlyc3ROYW1lOiAnZmFrZS1maXJzdC1uYW1lJyxcbiAgICBsYXN0TmFtZTogJ2Zha2UtbGFzdC1uYW1lJyxcbiAgICBmdWxsbmFtZTogJ2Zha2UtZnVsbC1uYW1lJyxcbiAgICBncm91cHM6IFtdLFxuICAgIGlkOiAnZmFrZS1pZCcsXG4gICAgbGFzdFVwZGF0ZTogJ2Zha2UtdXBkYXRlLWRhdGUnLFxuICAgIGxhdGVzdFN5bmNUaW1lU3RhbXA6ICdmYWtlLXRpbWVzdGFtcCcsXG4gICAgcGFzc3dvcmQ6ICdmYWtlLXBhc3N3b3JkJyxcbiAgICBwaWN0dXJlSWQ6ICdzcmMvYXNzZXRzL2ltYWdlcy9icG1JbWcuZ2lmJyxcbiAgICBzdGF0dXM6ICdmYWtlLXN0YXR1cycsXG4gICAgdGVuYW50SWQ6ICdmYWtlLXRlbmFudC1pZCcsXG4gICAgdGVuYW50TmFtZTogJ2Zha2UtdGVuYW50LW5hbWUnLFxuICAgIHRlbmFudFBpY3R1cmVJZDogJ2Zha2UtdGVuYW50LXBpY3R1cmUtaWQnLFxuICAgIHR5cGU6ICdmYWtlLXR5cGUnXG59O1xuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tbWVudE1vZGVsIH0gZnJvbSAnLi4vbW9kZWxzL2NvbW1lbnQubW9kZWwnO1xuaW1wb3J0IHsgVXNlclByb2Nlc3NNb2RlbCB9IGZyb20gJy4uL21vZGVscy91c2VyLXByb2Nlc3MubW9kZWwnO1xuXG5leHBvcnQgbGV0IGZha2VVc2VyMSA9IHsgaWQ6IDEsIGVtYWlsOiAnZmFrZS1lbWFpbEBkb20uY29tJywgZmlyc3ROYW1lOiAnZmlyc3ROYW1lJywgbGFzdE5hbWU6ICdsYXN0TmFtZScgfTtcblxuZXhwb3J0IGxldCBmYWtlVXNlcjIgPSB7IGlkOiAxMDAxLCBlbWFpbDogJ3NvbWUtb25lQHNvbWVncm91cC5jb20nLCBmaXJzdE5hbWU6ICdzb21lJywgbGFzdE5hbWU6ICdvbmUnIH07XG5cbmV4cG9ydCBsZXQgZmFrZVRhc2tzQ29tbWVudCA9IHtcbiAgICBzaXplOiAyLCB0b3RhbDogMiwgc3RhcnQ6IDAsXG4gICAgZGF0YTogW1xuICAgICAgICB7XG4gICAgICAgICAgICBpZDogMSwgbWVzc2FnZTogJ2Zha2UtbWVzc2FnZS0xJywgY3JlYXRlZDogJycsIGNyZWF0ZWRCeTogZmFrZVVzZXIxXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAyLCBtZXNzYWdlOiAnZmFrZS1tZXNzYWdlLTInLCBjcmVhdGVkOiAnJywgY3JlYXRlZEJ5OiBmYWtlVXNlcjFcbiAgICAgICAgfVxuICAgIF1cbn07XG5cbmV4cG9ydCBsZXQgZmFrZVByb2Nlc3NDb21tZW50ID0gbmV3IENvbW1lbnRNb2RlbCh7aWQ6IDEsIG1lc3NhZ2U6ICdUZXN0JywgY3JlYXRlZDogbmV3IERhdGUoJzIwMTYtMTEtMTBUMDM6Mzc6MzAuMDEwKzAwMDAnKSwgY3JlYXRlZEJ5OiBuZXcgVXNlclByb2Nlc3NNb2RlbCh7XG4gICAgaWQ6IDEzLFxuICAgIGZpcnN0TmFtZTogJ1dpbGJ1cicsXG4gICAgbGFzdE5hbWU6ICdBZGFtcycsXG4gICAgZW1haWw6ICd3aWxidXJAYXBwLmNvbSdcbn0pfSk7XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb29raWVTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29va2llLnNlcnZpY2UnO1xuXG5leHBvcnQgY2xhc3MgQ29va2llU2VydmljZU1vY2sgZXh0ZW5kcyBDb29raWVTZXJ2aWNlIHtcblxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBpc0VuYWJsZWQoKTogYm9vbGVhbiB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKiBAb3ZlcnJpZGUgKi9cbiAgICBnZXRJdGVtKGtleTogc3RyaW5nKTogc3RyaW5nIHwgbnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzW2tleV0gJiYgdGhpc1trZXldLmRhdGEgfHwgbnVsbDtcbiAgICB9XG5cbiAgICAvKiogQG92ZXJyaWRlICovXG4gICAgc2V0SXRlbShrZXk6IHN0cmluZywgZGF0YTogc3RyaW5nLCBleHBpcmF0aW9uOiBEYXRlIHwgbnVsbCwgcGF0aDogc3RyaW5nIHwgbnVsbCk6IHZvaWQge1xuICAgICAgICB0aGlzW2tleV0gPSB7ZGF0YSwgZXhwaXJhdGlvbiwgcGF0aH07XG4gICAgfVxuXG4gICAgLyoqIEBvdmVycmlkZSAqL1xuICAgIGNsZWFyKCkge1xuICAgICAgICBPYmplY3Qua2V5cyh0aGlzKS5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICBpZiAodGhpcy5oYXNPd25Qcm9wZXJ0eShrZXkpICYmIHR5cGVvZih0aGlzW2tleV0pICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgdGhpc1trZXldID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBFY21Db21wYW55TW9kZWwgfSBmcm9tICcuLi9tb2RlbHMvZWNtLWNvbXBhbnkubW9kZWwnO1xuXG5leHBvcnQgbGV0IGZha2VFY21Db21wYW55OiBFY21Db21wYW55TW9kZWwgPSB7XG4gICAgb3JnYW5pemF0aW9uOiAnY29tcGFueS1mYWtlLW5hbWUnLFxuICAgIGFkZHJlc3MxOiAnZmFrZS1hZGRyZXNzLTEnLFxuICAgIGFkZHJlc3MyOiAnZmFrZS1hZGRyZXNzLTInLFxuICAgIGFkZHJlc3MzOiAnZmFrZS1hZGRyZXNzLTMnLFxuICAgIHBvc3Rjb2RlOiAnZkFrMScsXG4gICAgdGVsZXBob25lOiAnMDAwMDAwMDAnLFxuICAgIGZheDogJzExMTExMTExJyxcbiAgICBlbWFpbDogJ2Zha2VDb21wYW55QGZha2UuY29tJ1xufTtcblxuZXhwb3J0IGxldCBmYWtlRWNtVXNlciA9IHtcbiAgICBpZDogJ2Zha2UtaWQnLFxuICAgIGZpcnN0TmFtZTogJ2Zha2UtZWNtLWZpcnN0LW5hbWUnLFxuICAgIGxhc3ROYW1lOiAnZmFrZS1lY20tbGFzdC1uYW1lJyxcbiAgICBkZXNjcmlwdGlvbjogJ2kgYW0gYSBmYWtlIHVzZXIgZm9yIHRlc3QnLFxuICAgIGF2YXRhcklkOiAnZmFrZS1hdmF0YXItaWQnLFxuICAgIGVtYWlsOiAnZmFrZUVjbUBlY21Vc2VyLmNvbScsXG4gICAgc2t5cGVJZDogJ2Zha2Utc2t5cGUtaWQnLFxuICAgIGdvb2dsZUlkOiAnZmFrZS1nb29nbGVJZC1pZCcsXG4gICAgaW5zdGFudE1lc3NhZ2VJZDogJ2Zha2UtaW5zdGFudE1lc3NhZ2VJZC1pZCcsXG4gICAgY29tcGFueTogbnVsbCxcbiAgICBqb2JUaXRsZTogJ2pvYi1lY20tdGVzdCcsXG4gICAgbG9jYXRpb246ICdmYWtlIGxvY2F0aW9uJyxcbiAgICBtb2JpbGU6ICcwMDAwMDAwMDAnLFxuICAgIHRlbGVwaG9uZTogJzExMTExMTExJyxcbiAgICBzdGF0dXNVcGRhdGVkQXQ6ICdmYWtlLWRhdGUnLFxuICAgIHVzZXJTdGF0dXM6ICdhY3RpdmUnLFxuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgZW1haWxOb3RpZmljYXRpb25zRW5hYmxlZDogdHJ1ZVxufTtcblxuZXhwb3J0IGxldCBmYWtlRWNtVXNlck5vSW1hZ2UgPSB7XG4gICAgaWQ6ICdmYWtlLWlkJyxcbiAgICBmaXJzdE5hbWU6ICdmYWtlLWZpcnN0LW5hbWUnLFxuICAgIGxhc3ROYW1lOiAnZmFrZS1sYXN0LW5hbWUnLFxuICAgIGRlc2NyaXB0aW9uOiAnaSBhbSBhIGZha2UgdXNlciBmb3IgdGVzdCcsXG4gICAgYXZhdGFySWQ6IG51bGwsXG4gICAgZW1haWw6ICdmYWtlRWNtQGVjbVVzZXIuY29tJyxcbiAgICBza3lwZUlkOiAnZmFrZS1za3lwZS1pZCcsXG4gICAgZ29vZ2xlSWQ6ICdmYWtlLWdvb2dsZUlkLWlkJyxcbiAgICBpbnN0YW50TWVzc2FnZUlkOiAnZmFrZS1pbnN0YW50TWVzc2FnZUlkLWlkJyxcbiAgICBjb21wYW55OiBudWxsLFxuICAgIGpvYlRpdGxlOiBudWxsLFxuICAgIGxvY2F0aW9uOiAnZmFrZSBsb2NhdGlvbicsXG4gICAgbW9iaWxlOiAnMDAwMDAwMDAwJyxcbiAgICB0ZWxlcGhvbmU6ICcxMTExMTExMScsXG4gICAgc3RhdHVzVXBkYXRlZEF0OiAnZmFrZS1kYXRlJyxcbiAgICB1c2VyU3RhdHVzOiAnYWN0aXZlJyxcbiAgICBlbmFibGVkOiB0cnVlLFxuICAgIGVtYWlsTm90aWZpY2F0aW9uc0VuYWJsZWQ6IHRydWVcbn07XG5cbmV4cG9ydCBsZXQgZmFrZUVjbUVkaXRlZFVzZXIgPSB7XG4gICAgaWQ6ICdmYWtlLWlkJyxcbiAgICBmaXJzdE5hbWU6IG51bGwsXG4gICAgbGFzdE5hbWU6ICdmYWtlLWxhc3QtbmFtZScsXG4gICAgZGVzY3JpcHRpb246ICdpIGFtIGEgZmFrZSB1c2VyIGZvciB0ZXN0JyxcbiAgICBhdmF0YXJJZDogJ2Zha2UtYXZhdGFyLWlkJyxcbiAgICBlbWFpbDogJ2Zha2VFY21AZWNtVXNlci5jb20nLFxuICAgIHNreXBlSWQ6ICdmYWtlLXNreXBlLWlkJyxcbiAgICBnb29nbGVJZDogJ2Zha2UtZ29vZ2xlSWQtaWQnLFxuICAgIGluc3RhbnRNZXNzYWdlSWQ6ICdmYWtlLWluc3RhbnRNZXNzYWdlSWQtaWQnLFxuICAgIGNvbXBhbnk6IG51bGwsXG4gICAgam9iVGl0bGU6ICd0ZXN0IGpvYicsXG4gICAgbG9jYXRpb246ICdmYWtlIGxvY2F0aW9uJyxcbiAgICBtb2JpbGU6ICcwMDAwMDAwMDAnLFxuICAgIHRlbGVwaG9uZTogJzExMTExMTExJyxcbiAgICBzdGF0dXNVcGRhdGVkQXQ6ICdmYWtlLWRhdGUnLFxuICAgIHVzZXJTdGF0dXM6ICdhY3RpdmUnLFxuICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgZW1haWxOb3RpZmljYXRpb25zRW5hYmxlZDogdHJ1ZVxufTtcbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBjbGFzcyBFdmVudE1vY2sge1xuXG4gICAgc3RhdGljIGtleURvd24oa2V5OiBhbnkpIHtcbiAgICAgICAgbGV0IGV2ZW50OiBhbnkgPSBkb2N1bWVudC5jcmVhdGVFdmVudCgnRXZlbnQnKTtcbiAgICAgICAgZXZlbnQua2V5Q29kZSA9IGtleTtcbiAgICAgICAgZXZlbnQuaW5pdEV2ZW50KCdrZXlkb3duJyk7XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBrZXlVcChrZXk6IGFueSkge1xuICAgICAgICBsZXQgZXZlbnQ6IGFueSA9IGRvY3VtZW50LmNyZWF0ZUV2ZW50KCdFdmVudCcpO1xuICAgICAgICBldmVudC5rZXlDb2RlID0ga2V5O1xuICAgICAgICBldmVudC5pbml0RXZlbnQoJ2tleXVwJyk7XG4gICAgICAgIGRvY3VtZW50LmRpc3BhdGNoRXZlbnQoZXZlbnQpO1xuICAgIH1cblxuICAgIHN0YXRpYyByZXNpemVNb2JpbGVWaWV3KCkge1xuICAgICAgICAvLyB0b2RvOiBubyBsb25nZXIgY29tcGlsZXMgd2l0aCBUUyAyLjAuMiBhcyBpbm5lcldpZHRoL2lubmVySGVpZ2h0IGFyZSByZWFkb25seSBmaWVsZHNcbiAgICAgICAgLypcbiAgICAgICAgd2luZG93LmlubmVyV2lkdGggPSAzMjA7XG4gICAgICAgIHdpbmRvdy5pbm5lckhlaWdodCA9IDU2ODtcbiAgICAgICAgKi9cbiAgICAgICAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCdyZXNpemUnKSk7XG4gICAgfVxufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGxldCBmYWtlUmVkaXRpb24gPSB7XG4gICAgJ2VudHJ5Jzoge1xuICAgICAgICAnaWQnOiAncGRmJyxcbiAgICAgICAgJ2NvbnRlbnQnOiB7J21pbWVUeXBlJzogJ2FwcGxpY2F0aW9uL3BkZicsICdtaW1lVHlwZU5hbWUnOiAnQWRvYmUgUERGIERvY3VtZW50J30sXG4gICAgICAgICdzdGF0dXMnOiAnTk9UX0NSRUFURUQnXG4gICAgfVxufTtcblxuZXhwb3J0IGxldCBmYWtlUmVkaXRpb25DcmVhdGVkID0ge1xuICAgICdlbnRyeSc6IHtcbiAgICAgICAgJ2lkJzogJ3BkZicsXG4gICAgICAgICdjb250ZW50JzogeydtaW1lVHlwZSc6ICdhcHBsaWNhdGlvbi9wZGYnLCAnbWltZVR5cGVOYW1lJzogJ0Fkb2JlIFBERiBEb2N1bWVudCd9LFxuICAgICAgICAnc3RhdHVzJzogJ0NSRUFURUQnXG4gICAgfVxufTtcblxuZXhwb3J0IGxldCBmYWtlUmVkaXRpb25zTGlzdCA9IHtcbiAgICAnbGlzdCc6IHtcbiAgICAgICAgJ3BhZ2luYXRpb24nOiB7XG4gICAgICAgICAgICAnY291bnQnOiA2LFxuICAgICAgICAgICAgJ2hhc01vcmVJdGVtcyc6IGZhbHNlLFxuICAgICAgICAgICAgJ3RvdGFsSXRlbXMnOiA2LFxuICAgICAgICAgICAgJ3NraXBDb3VudCc6IDAsXG4gICAgICAgICAgICAnbWF4SXRlbXMnOiAxMDBcbiAgICAgICAgfSxcbiAgICAgICAgJ2VudHJpZXMnOiBbe1xuICAgICAgICAgICAgJ2VudHJ5Jzoge1xuICAgICAgICAgICAgICAgICdpZCc6ICdhdmF0YXInLFxuICAgICAgICAgICAgICAgICdjb250ZW50JzogeydtaW1lVHlwZSc6ICdpbWFnZS9wbmcnLCAnbWltZVR5cGVOYW1lJzogJ1BORyBJbWFnZSd9LFxuICAgICAgICAgICAgICAgICdzdGF0dXMnOiAnTk9UX0NSRUFURUQnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICdlbnRyeSc6IHtcbiAgICAgICAgICAgICAgICAnaWQnOiAnYXZhdGFyMzInLFxuICAgICAgICAgICAgICAgICdjb250ZW50JzogeydtaW1lVHlwZSc6ICdpbWFnZS9wbmcnLCAnbWltZVR5cGVOYW1lJzogJ1BORyBJbWFnZSd9LFxuICAgICAgICAgICAgICAgICdzdGF0dXMnOiAnTk9UX0NSRUFURUQnXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgICdlbnRyeSc6IHtcbiAgICAgICAgICAgICAgICAnaWQnOiAnZG9jbGliJyxcbiAgICAgICAgICAgICAgICAnY29udGVudCc6IHsnbWltZVR5cGUnOiAnaW1hZ2UvcG5nJywgJ21pbWVUeXBlTmFtZSc6ICdQTkcgSW1hZ2UnfSxcbiAgICAgICAgICAgICAgICAnc3RhdHVzJzogJ05PVF9DUkVBVEVEJ1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICAnZW50cnknOiB7XG4gICAgICAgICAgICAgICAgJ2lkJzogJ2ltZ3ByZXZpZXcnLFxuICAgICAgICAgICAgICAgICdjb250ZW50JzogeydtaW1lVHlwZSc6ICdpbWFnZS9qcGVnJywgJ21pbWVUeXBlTmFtZSc6ICdKUEVHIEltYWdlJ30sXG4gICAgICAgICAgICAgICAgJ3N0YXR1cyc6ICdOT1RfQ1JFQVRFRCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgJ2VudHJ5Jzoge1xuICAgICAgICAgICAgICAgICdpZCc6ICdtZWRpdW0nLFxuICAgICAgICAgICAgICAgICdjb250ZW50JzogeydtaW1lVHlwZSc6ICdpbWFnZS9qcGVnJywgJ21pbWVUeXBlTmFtZSc6ICdKUEVHIEltYWdlJ30sXG4gICAgICAgICAgICAgICAgJ3N0YXR1cyc6ICdOT1RfQ1JFQVRFRCdcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAgJ2VudHJ5Jzoge1xuICAgICAgICAgICAgICAgICdpZCc6ICdwZGYnLFxuICAgICAgICAgICAgICAgICdjb250ZW50JzogeydtaW1lVHlwZSc6ICdhcHBsaWNhdGlvbi9wZGYnLCAnbWltZVR5cGVOYW1lJzogJ0Fkb2JlIFBERiBEb2N1bWVudCd9LFxuICAgICAgICAgICAgICAgICdzdGF0dXMnOiAnTk9UX0NSRUFURUQnXG4gICAgICAgICAgICB9XG4gICAgICAgIH1dXG4gICAgfVxufTtcbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBsZXQgZmFrZVNlYXJjaCA9IHtcbiAgICBsaXN0OiB7XG4gICAgICAgIHBhZ2luYXRpb246IHtcbiAgICAgICAgICAgIGNvdW50OiAxLFxuICAgICAgICAgICAgaGFzTW9yZUl0ZW1zOiBmYWxzZSxcbiAgICAgICAgICAgIHRvdGFsSXRlbXM6IDEsXG4gICAgICAgICAgICBza2lwQ291bnQ6IDAsXG4gICAgICAgICAgICBtYXhJdGVtczogMTAwXG4gICAgICAgIH0sXG4gICAgICAgIGVudHJpZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBlbnRyeToge1xuICAgICAgICAgICAgICAgICAgICBpZDogJzEyMycsXG4gICAgICAgICAgICAgICAgICAgIG5hbWU6ICdNeURvYycsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbWV0eXBlOiAndGV4dC9wbGFpbidcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlZEJ5VXNlcjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheU5hbWU6ICdKb2huIERvZSdcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgbW9kaWZpZWRCeVVzZXI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlOYW1lOiAnSm9obiBEb2UnXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICB9XG59O1xuXG5leHBvcnQgbGV0IG1vY2tFcnJvciA9IHtcbiAgICBlcnJvcjoge1xuICAgICAgICBlcnJvcktleTogJ1NlYXJjaCBmYWlsZWQnLFxuICAgICAgICBzdGF0dXNDb2RlOiA0MDAsXG4gICAgICAgIGJyaWVmU3VtbWFyeTogJzA4MjIwMDgyIHNlYXJjaCBmYWlsZWQnLFxuICAgICAgICBzdGFja1RyYWNlOiAnRm9yIHNlY3VyaXR5IHJlYXNvbnMgdGhlIHN0YWNrIHRyYWNlIGlzIG5vIGxvbmdlciBkaXNwbGF5ZWQsIGJ1dCB0aGUgcHJvcGVydHkgaXMga2VwdCBmb3IgcHJldmlvdXMgdmVyc2lvbnMuJyxcbiAgICAgICAgZGVzY3JpcHRpb25VUkw6ICdodHRwczovL2FwaS1leHBsb3Jlci5hbGZyZXNjby5jb20nXG4gICAgfVxufTtcblxuZXhwb3J0IGxldCBzZWFyY2hNb2NrQXBpID0ge1xuICAgIGNvcmU6IHtcbiAgICAgICAgcXVlcmllc0FwaToge1xuICAgICAgICAgICAgZmluZE5vZGVzOiAodGVybSwgb3B0cykgPT4gUHJvbWlzZS5yZXNvbHZlKGZha2VTZWFyY2gpXG4gICAgICAgIH1cbiAgICB9XG59O1xuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBPYnNlcnZhYmxlLCBvZiB9IGZyb20gJ3J4anMnO1xuaW1wb3J0IHsgVHJhbnNsYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvdHJhbnNsYXRpb24uc2VydmljZSc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgTGFuZ0NoYW5nZUV2ZW50IHtcbiAgICBsYW5nOiBzdHJpbmc7XG4gICAgdHJhbnNsYXRpb25zOiBhbnk7XG59XG5cbmV4cG9ydCBjbGFzcyBUcmFuc2xhdGlvbk1vY2sgaW1wbGVtZW50cyBUcmFuc2xhdGlvblNlcnZpY2Uge1xuXG4gICAgZGVmYXVsdExhbmc6IHN0cmluZyA9ICdlbic7XG4gICAgdXNlckxhbmc6IHN0cmluZztcbiAgICBjdXN0b21Mb2FkZXI6IGFueTtcblxuICAgIHRyYW5zbGF0ZTogYW55ID0ge1xuICAgICAgICBvbkxhbmdDaGFuZ2U6IG5ldyBFdmVudEVtaXR0ZXI8TGFuZ0NoYW5nZUV2ZW50PigpXG4gICAgfTtcblxuICAgIGFkZFRyYW5zbGF0aW9uRm9sZGVyKCkge31cblxuICAgIG9uVHJhbnNsYXRpb25DaGFuZ2VkKCkge31cblxuICAgIHVzZSgpOiBhbnkge31cblxuICAgIGxvYWRUcmFuc2xhdGlvbigpIHt9XG5cbiAgICBnZXQoa2V5OiBzdHJpbmcgfCBBcnJheTxzdHJpbmc+LCBpbnRlcnBvbGF0ZVBhcmFtcz86IE9iamVjdCk6IE9ic2VydmFibGU8c3RyaW5nIHwgYW55PiB7XG4gICAgICAgIHJldHVybiBvZihrZXkpO1xuICAgIH1cblxuICAgIGluc3RhbnQoa2V5OiBzdHJpbmcgfCBBcnJheTxzdHJpbmc+LCBpbnRlcnBvbGF0ZVBhcmFtcz86IE9iamVjdCk6IHN0cmluZyB8IGFueSB7XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgfVxuXG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBBcHBDb25maWdTZXJ2aWNlIH0gZnJvbSAnLi4vYXBwLWNvbmZpZy9hcHAtY29uZmlnLnNlcnZpY2UnO1xuaW1wb3J0IHsgU3RvcmFnZVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9zdG9yYWdlLnNlcnZpY2UnO1xuaW1wb3J0IHsgQWxmcmVzY29BcGlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvYWxmcmVzY28tYXBpLnNlcnZpY2UnO1xuXG4vKiB0c2xpbnQ6ZGlzYWJsZTphZGYtZmlsZS1uYW1lICovXG5ASW5qZWN0YWJsZSgpXG5leHBvcnQgY2xhc3MgQWxmcmVzY29BcGlTZXJ2aWNlTW9jayBleHRlbmRzIEFsZnJlc2NvQXBpU2VydmljZSB7XG5cbiAgICBjb25zdHJ1Y3Rvcihwcm90ZWN0ZWQgYXBwQ29uZmlnOiBBcHBDb25maWdTZXJ2aWNlLFxuICAgICAgICAgICAgICAgIHByb3RlY3RlZCBzdG9yYWdlOiBTdG9yYWdlU2VydmljZSkge1xuICAgICAgICBzdXBlcihhcHBDb25maWcsIHN0b3JhZ2UpO1xuICAgICAgICBpZiAoIXRoaXMuYWxmcmVzY29BcGkpIHtcbiAgICAgICAgICAgIHRoaXMuaW5pdEFsZnJlc2NvQXBpKCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgbGV0IGZha2VGb3JtID0ge1xuICAgIGlkOiAxMDAxLFxuICAgIG5hbWU6ICdJU1NVRV9GT1JNJyxcbiAgICBwcm9jZXNzRGVmaW5pdGlvbklkOiAnSVNTVUVfQVBQOjE6MjUwNCcsXG4gICAgcHJvY2Vzc0RlZmluaXRpb25OYW1lOiAnSVNTVUVfQVBQJyxcbiAgICBwcm9jZXNzRGVmaW5pdGlvbktleTogJ0lTU1VFX0FQUCcsXG4gICAgdGFza0lkOiAnNzUwNicsXG4gICAgdGFza0RlZmluaXRpb25LZXk6ICdzaWQtRjY3QTI5OTYtMTY4NC00Nzc0LTg1NUEtNDU5MTQ5MDA4MUZEJyxcbiAgICB0YWJzOiBbXSxcbiAgICBmaWVsZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnQ29udGFpbmVyUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgaWQ6ICcxNDk4MjEyMzk4NDE3JyxcbiAgICAgICAgICAgIG5hbWU6ICdMYWJlbCcsXG4gICAgICAgICAgICB0eXBlOiAnY29udGFpbmVyJyxcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IG51bGwsXG4gICAgICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICAgICAgcmVzdFVybDogbnVsbCxcbiAgICAgICAgICAgIHJlc3RSZXNwb25zZVBhdGg6IG51bGwsXG4gICAgICAgICAgICByZXN0SWRQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgIHJlc3RMYWJlbFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgdGFiOiBudWxsLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBudWxsLFxuICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICBsYXlvdXQ6IG51bGwsXG4gICAgICAgICAgICBzaXplWDogMixcbiAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsLFxuICAgICAgICAgICAgbnVtYmVyT2ZDb2x1bW5zOiAyLFxuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgMTogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdSZXN0RmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2xhYmVsJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdMYWJlbCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZHJvcGRvd24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdDaG9vc2Ugb25lLi4uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlSWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdlbXB0eScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDaG9vc2Ugb25lLi4uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ29wdGlvbl8xJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3Rlc3QxJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ29wdGlvbl8yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3Rlc3QyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ29wdGlvbl8zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3Rlc3QzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0VXJsOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdExhYmVsUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0NvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Q29sc3BhbjogMlxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW46IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SGVhZGVyczogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAyOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVHlwZTogJ1Jlc3RGaWVsZFJlcHJlc2VudGF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAncmFkaW8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3JhZGlvJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyYWRpby1idXR0b25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ29wdGlvbl8xJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ09wdGlvbiAxJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ29wdGlvbl8yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ09wdGlvbiAyJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ29wdGlvbl8zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ09wdGlvbiAzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0VXJsOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdExhYmVsUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0NvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Q29sc3BhbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW46IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVZOiAyLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SGVhZGVyczogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdDb250YWluZXJSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICBpZDogJzE0OTgyMTI0MTMwNjInLFxuICAgICAgICAgICAgbmFtZTogJ0xhYmVsJyxcbiAgICAgICAgICAgIHR5cGU6ICdjb250YWluZXInLFxuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbHNwYW46IDEsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogbnVsbCxcbiAgICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICAgIG1heExlbmd0aDogMCxcbiAgICAgICAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgICAgICByZWdleFBhdHRlcm46IG51bGwsXG4gICAgICAgICAgICBvcHRpb25UeXBlOiBudWxsLFxuICAgICAgICAgICAgaGFzRW1wdHlWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIG9wdGlvbnM6IG51bGwsXG4gICAgICAgICAgICByZXN0VXJsOiBudWxsLFxuICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgcmVzdExhYmVsUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICBkYXRlRGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgIGxheW91dDogbnVsbCxcbiAgICAgICAgICAgIHNpemVYOiAyLFxuICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGwsXG4gICAgICAgICAgICBudW1iZXJPZkNvbHVtbnM6IDIsXG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICAxOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVHlwZTogJ0Zvcm1GaWVsZFJlcHJlc2VudGF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlSWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhDb2xzcGFuOiAyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbjogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVYOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgMjogW11cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIF0sXG4gICAgb3V0Y29tZXM6IFtdLFxuICAgIGphdmFzY3JpcHRFdmVudHM6IFtdLFxuICAgIGNsYXNzTmFtZTogJycsXG4gICAgc3R5bGU6ICcnLFxuICAgIGN1c3RvbUZpZWxkVGVtcGxhdGVzOiB7fSxcbiAgICBtZXRhZGF0YToge30sXG4gICAgdmFyaWFibGVzOiBbXSxcbiAgICBjdXN0b21GaWVsZHNWYWx1ZUluZm86IHt9LFxuICAgIGdyaWRzdGVyRm9ybTogZmFsc2UsXG4gICAgZ2xvYmFsRGF0ZUZvcm1hdDogJ0QtTS1ZWVlZJ1xufTtcbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBsZXQgZm9ybURlZmluaXRpb25Ud29UZXh0RmllbGRzID0ge1xuICAgIGlkOiAyMCxcbiAgICBuYW1lOiAnZm9ybVRleHREZWZpbml0aW9uJyxcbiAgICBwcm9jZXNzRGVmaW5pdGlvbklkOiAndGV4dERlZmluaXRpb246MToxNTMnLFxuICAgIHByb2Nlc3NEZWZpbml0aW9uTmFtZTogJ3RleHREZWZpbml0aW9uJyxcbiAgICBwcm9jZXNzRGVmaW5pdGlvbktleTogJ3RleHREZWZpbml0aW9uJyxcbiAgICB0YXNrSWQ6ICcxNTknLFxuICAgIHRhc2tEZWZpbml0aW9uS2V5OiAnc2lkLUQ5NDFGNDlGLTJCMDQtNEZCQi05QjQ5LTlFOTU5OTE5OTNFOCcsXG4gICAgdGFiczogW10sXG4gICAgZmllbGRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZpZWxkVHlwZTogJ0NvbnRhaW5lclJlcHJlc2VudGF0aW9uJyxcbiAgICAgICAgICAgIGlkOiAnMTUwNzA0NDM5OTI2MCcsXG4gICAgICAgICAgICBuYW1lOiAnTGFiZWwnLFxuICAgICAgICAgICAgdHlwZTogJ2NvbnRhaW5lcicsXG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgIG92ZXJyaWRlSWQ6IGZhbHNlLFxuICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgbGF5b3V0OiBudWxsLFxuICAgICAgICAgICAgc2l6ZVg6IDIsXG4gICAgICAgICAgICBzaXplWTogMSxcbiAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICBjb2w6IC0xLFxuICAgICAgICAgICAgdmlzaWJpbGl0eUNvbmRpdGlvbjogbnVsbCxcbiAgICAgICAgICAgIG51bWJlck9mQ29sdW1uczogMixcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgICcxJzogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdGb3JtRmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2ZpcnN0bmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZmlyc3ROYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdFVybDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RSZXNwb25zZVBhdGg6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0SWRQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RMYWJlbFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heENvbHNwYW46IDJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlRGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2w6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eUNvbmRpdGlvbjogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnMic6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRUeXBlOiAnRm9ybUZpZWxkUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdsYXN0bmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbGFzdE5hbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heExlbmd0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdleFBhdHRlcm46IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25UeXBlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRW1wdHlWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0VXJsOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdExhYmVsUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0NvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Q29sc3BhbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW46IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBdLFxuICAgIG91dGNvbWVzOiBbXSxcbiAgICBqYXZhc2NyaXB0RXZlbnRzOiBbXSxcbiAgICBjbGFzc05hbWU6ICcnLFxuICAgIHN0eWxlOiAnJyxcbiAgICBjdXN0b21GaWVsZFRlbXBsYXRlczoge30sXG4gICAgbWV0YWRhdGE6IHt9LFxuICAgIHZhcmlhYmxlczogW10sXG4gICAgY3VzdG9tRmllbGRzVmFsdWVJbmZvOiB7fSxcbiAgICBncmlkc3RlckZvcm06IGZhbHNlLFxuICAgIGdsb2JhbERhdGVGb3JtYXQ6ICdELU0tWVlZWSdcbn07XG5cbmV4cG9ydCBsZXQgZm9ybURlZmluaXRpb25Ecm9wZG93bkZpZWxkID0ge1xuICAgIGlkOiAyMSxcbiAgICBuYW1lOiAnZHJvcGRvd25EZWZpbml0aW9uJyxcbiAgICBwcm9jZXNzRGVmaW5pdGlvbklkOiAndGV4dERlZmluaXRpb246MjoxNjMnLFxuICAgIHByb2Nlc3NEZWZpbml0aW9uTmFtZTogJ3RleHREZWZpbml0aW9uJyxcbiAgICBwcm9jZXNzRGVmaW5pdGlvbktleTogJ3RleHREZWZpbml0aW9uJyxcbiAgICB0YXNrSWQ6ICcxNjknLFxuICAgIHRhc2tEZWZpbml0aW9uS2V5OiAnc2lkLUQ5NDFGNDlGLTJCMDQtNEZCQi05QjQ5LTlFOTU5OTE5OTNFOCcsXG4gICAgdGFiczogW10sXG4gICAgZmllbGRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZpZWxkVHlwZTogJ0NvbnRhaW5lclJlcHJlc2VudGF0aW9uJyxcbiAgICAgICAgICAgIGlkOiAnMTUwNzA0NjAyNjk0MCcsXG4gICAgICAgICAgICBuYW1lOiAnTGFiZWwnLFxuICAgICAgICAgICAgdHlwZTogJ2NvbnRhaW5lcicsXG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgIG92ZXJyaWRlSWQ6IGZhbHNlLFxuICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgbGF5b3V0OiBudWxsLFxuICAgICAgICAgICAgc2l6ZVg6IDIsXG4gICAgICAgICAgICBzaXplWTogMSxcbiAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICBjb2w6IC0xLFxuICAgICAgICAgICAgdmlzaWJpbGl0eUNvbmRpdGlvbjogbnVsbCxcbiAgICAgICAgICAgIG51bWJlck9mQ29sdW1uczogMixcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgICcxJzogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdSZXN0RmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2NvdW50cnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2NvdW50cnknLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Ryb3Bkb3duJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnQ2hvb3NlIG9uZS4uLicsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heExlbmd0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdleFBhdHRlcm46IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25UeXBlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRW1wdHlWYWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnZW1wdHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQ2hvb3NlIG9uZS4uLidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdvcHRpb25fMScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICd1bml0ZWQga2luZ2RvbSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdvcHRpb25fMicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdpdGFseSdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdvcHRpb25fMycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdmcmFuY2UnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhDb2xzcGFuOiAyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbjogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVYOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRwb2ludDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzOiBudWxsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICcyJzogW11cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIF0sXG4gICAgb3V0Y29tZXM6IFtdLFxuICAgIGphdmFzY3JpcHRFdmVudHM6IFtdLFxuICAgIGNsYXNzTmFtZTogJycsXG4gICAgc3R5bGU6ICcnLFxuICAgIGN1c3RvbUZpZWxkVGVtcGxhdGVzOiB7fSxcbiAgICBtZXRhZGF0YToge30sXG4gICAgdmFyaWFibGVzOiBbXSxcbiAgICBjdXN0b21GaWVsZHNWYWx1ZUluZm86IHt9LFxuICAgIGdyaWRzdGVyRm9ybTogZmFsc2UsXG4gICAgZ2xvYmFsRGF0ZUZvcm1hdDogJ0QtTS1ZWVlZJ1xufTtcblxuZXhwb3J0IGxldCBmb3JtRGVmaW5pdGlvblJlcXVpcmVkRmllbGQgPSB7XG4gICAgaWQ6IDIxLFxuICAgIG5hbWU6ICdkcm9wZG93bkRlZmluaXRpb24nLFxuICAgIHByb2Nlc3NEZWZpbml0aW9uSWQ6ICd0ZXh0RGVmaW5pdGlvbjoyOjE2MycsXG4gICAgcHJvY2Vzc0RlZmluaXRpb25OYW1lOiAndGV4dERlZmluaXRpb24nLFxuICAgIHByb2Nlc3NEZWZpbml0aW9uS2V5OiAndGV4dERlZmluaXRpb24nLFxuICAgIHRhc2tJZDogJzE2OScsXG4gICAgdGFza0RlZmluaXRpb25LZXk6ICdzaWQtRDk0MUY0OUYtMkIwNC00RkJCLTlCNDktOUU5NTk5MTk5M0U4JyxcbiAgICB0YWJzOiBbXSxcbiAgICBmaWVsZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnQ29udGFpbmVyUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgaWQ6ICcxNTA3MDQ2MDI2OTQwJyxcbiAgICAgICAgICAgIG5hbWU6ICdMYWJlbCcsXG4gICAgICAgICAgICB0eXBlOiAnY29udGFpbmVyJyxcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IG51bGwsXG4gICAgICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICAgICAgcmVzdFVybDogbnVsbCxcbiAgICAgICAgICAgIHJlc3RSZXNwb25zZVBhdGg6IG51bGwsXG4gICAgICAgICAgICByZXN0SWRQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgIHJlc3RMYWJlbFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgdGFiOiBudWxsLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBudWxsLFxuICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICBsYXlvdXQ6IG51bGwsXG4gICAgICAgICAgICBzaXplWDogMixcbiAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsLFxuICAgICAgICAgICAgbnVtYmVyT2ZDb2x1bW5zOiAyLFxuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgJzEnOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVHlwZTogJ1Jlc3RGaWVsZFJlcHJlc2VudGF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnY291bnRyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnY291bnRyeScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZHJvcGRvd24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdDaG9vc2Ugb25lLi4uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2VtcHR5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0Nob29zZSBvbmUuLi4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnb3B0aW9uXzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAndW5pdGVkIGtpbmdkb20nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnb3B0aW9uXzInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnaXRhbHknXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnb3B0aW9uXzMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZnJhbmNlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0VXJsOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdExhYmVsUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0NvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Q29sc3BhbjogMlxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW46IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgZW5kcG9pbnQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1ZXN0SGVhZGVyczogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnMic6IFtdXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICBdLFxuICAgIG91dGNvbWVzOiBbXSxcbiAgICBqYXZhc2NyaXB0RXZlbnRzOiBbXSxcbiAgICBjbGFzc05hbWU6ICcnLFxuICAgIHN0eWxlOiAnJyxcbiAgICBjdXN0b21GaWVsZFRlbXBsYXRlczoge30sXG4gICAgbWV0YWRhdGE6IHt9LFxuICAgIHZhcmlhYmxlczogW10sXG4gICAgY3VzdG9tRmllbGRzVmFsdWVJbmZvOiB7fSxcbiAgICBncmlkc3RlckZvcm06IGZhbHNlLFxuICAgIGdsb2JhbERhdGVGb3JtYXQ6ICdELU0tWVlZWSdcbn07XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5leHBvcnQgbGV0IGZvcm1SZWFkb25seVR3b1RleHRGaWVsZHMgPSB7XG4gICAgaWQ6IDIyLFxuICAgIG5hbWU6ICdmb3JtVGV4dERlZmluaXRpb24nLFxuICAgIHByb2Nlc3NEZWZpbml0aW9uSWQ6ICd0ZXh0RGVmaW5pdGlvbjozOjE4MicsXG4gICAgcHJvY2Vzc0RlZmluaXRpb25OYW1lOiAndGV4dERlZmluaXRpb24nLFxuICAgIHByb2Nlc3NEZWZpbml0aW9uS2V5OiAndGV4dERlZmluaXRpb24nLFxuICAgIHRhc2tJZDogJzE4OCcsXG4gICAgdGFza0RlZmluaXRpb25LZXk6ICdzaWQtRDk0MUY0OUYtMkIwNC00RkJCLTlCNDktOUU5NTk5MTk5M0U4JyxcbiAgICB0YWJzOiBbXSxcbiAgICBmaWVsZHM6IFtcbiAgICAgIHtcbiAgICAgICAgZmllbGRUeXBlOiAnQ29udGFpbmVyUmVwcmVzZW50YXRpb24nLFxuICAgICAgICBpZDogJzE1MDcwNDQzOTkyNjAnLFxuICAgICAgICBuYW1lOiAnTGFiZWwnLFxuICAgICAgICB0eXBlOiAnY29udGFpbmVyJyxcbiAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgaGFzRW1wdHlWYWx1ZTogbnVsbCxcbiAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgcmVzdFVybDogbnVsbCxcbiAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgIHJlc3RMYWJlbFByb3BlcnR5OiBudWxsLFxuICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgIGxheW91dDogbnVsbCxcbiAgICAgICAgc2l6ZVg6IDIsXG4gICAgICAgIHNpemVZOiAxLFxuICAgICAgICByb3c6IC0xLFxuICAgICAgICBjb2w6IC0xLFxuICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsLFxuICAgICAgICBudW1iZXJPZkNvbHVtbnM6IDIsXG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICcxJzogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdGb3JtRmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgIGlkOiAnZmlyc3RuYW1lJyxcbiAgICAgICAgICAgICAgbmFtZTogJ2ZpcnN0TmFtZScsXG4gICAgICAgICAgICAgIHR5cGU6ICdyZWFkb25seScsXG4gICAgICAgICAgICAgIHZhbHVlOiAnZmFrZUZpcnN0TmFtZScsXG4gICAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgaGFzRW1wdHlWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICAgICAgcmVzdFVybDogbnVsbCxcbiAgICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgIHJlc3RMYWJlbFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgZXhpc3RpbmdDb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgIG1heENvbHNwYW46IDIsXG4gICAgICAgICAgICAgICAgZmllbGQ6IHtcbiAgICAgICAgICAgICAgICAgIGlkOiAnZmlyc3RuYW1lJyxcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICdmaXJzdE5hbWUnLFxuICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICAgICAgICAgIG1heExlbmd0aDogMCxcbiAgICAgICAgICAgICAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICByZWdleFBhdHRlcm46IG51bGwsXG4gICAgICAgICAgICAgICAgICBvcHRpb25UeXBlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgaGFzRW1wdHlWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG51bGwsXG4gICAgICAgICAgICAgICAgICByZXN0VXJsOiBudWxsLFxuICAgICAgICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgcmVzdExhYmVsUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICBkYXRlRGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgIGxheW91dDogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHNpemVYOiAwLFxuICAgICAgICAgICAgICAgICAgc2l6ZVk6IDAsXG4gICAgICAgICAgICAgICAgICByb3c6IDAsXG4gICAgICAgICAgICAgICAgICBjb2w6IDAsXG4gICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBkYXRlRGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICBjb2x1bW46IC0xLFxuICAgICAgICAgICAgICAgIGNvbHNwYW46IDFcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgc2l6ZVg6IDEsXG4gICAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICBjb2w6IC0xLFxuICAgICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXSxcbiAgICAgICAgICAnMic6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZmllbGRUeXBlOiAnRm9ybUZpZWxkUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICBpZDogJ2xhc3RuYW1lJyxcbiAgICAgICAgICAgICAgbmFtZTogJ2xhc3ROYW1lJyxcbiAgICAgICAgICAgICAgdHlwZTogJ3JlYWRvbmx5JyxcbiAgICAgICAgICAgICAgdmFsdWU6ICdmYWtlTGFzdE5hbWUnLFxuICAgICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICAgIGNvbHNwYW46IDEsXG4gICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICAgIG1heExlbmd0aDogMCxcbiAgICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICByZWdleFBhdHRlcm46IG51bGwsXG4gICAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgIG9wdGlvbnM6IG51bGwsXG4gICAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICAgIHJlc3RSZXNwb25zZVBhdGg6IG51bGwsXG4gICAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgdGFiOiBudWxsLFxuICAgICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICBtYXhDb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgIGZpZWxkOiB7XG4gICAgICAgICAgICAgICAgICBpZDogJ2xhc3RuYW1lJyxcbiAgICAgICAgICAgICAgICAgIG5hbWU6ICdsYXN0TmFtZScsXG4gICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgIG92ZXJyaWRlSWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgbGF5b3V0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgc2l6ZVg6IDAsXG4gICAgICAgICAgICAgICAgICBzaXplWTogMCxcbiAgICAgICAgICAgICAgICAgIHJvdzogMCxcbiAgICAgICAgICAgICAgICAgIGNvbDogMCxcbiAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgIGNvbHVtbjogLTEsXG4gICAgICAgICAgICAgICAgY29sc3BhbjogMVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBzaXplWDogMSxcbiAgICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdLFxuICAgIG91dGNvbWVzOiBbXSxcbiAgICBqYXZhc2NyaXB0RXZlbnRzOiBbXSxcbiAgICBjbGFzc05hbWU6ICcnLFxuICAgIHN0eWxlOiAnJyxcbiAgICBjdXN0b21GaWVsZFRlbXBsYXRlczoge30sXG4gICAgbWV0YWRhdGE6IHt9LFxuICAgIHZhcmlhYmxlczogW10sXG4gICAgY3VzdG9tRmllbGRzVmFsdWVJbmZvOiB7fSxcbiAgICBncmlkc3RlckZvcm06IGZhbHNlLFxuICAgIGdsb2JhbERhdGVGb3JtYXQ6ICdELU0tWVlZWSdcbiAgfTtcbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBsZXQgZm9ybURlZlZpc2liaWxpdGlGaWVsZERlcGVuZHNPbk5leHRPbmUgPSB7XG4gICAgaWQ6IDE5LFxuICAgIHByb2Nlc3NEZWZpbml0aW9uSWQ6ICd2aXNpYmlsaXR5OjE6MTQ4JyxcbiAgICBwcm9jZXNzRGVmaW5pdGlvbk5hbWU6ICd2aXNpYmlsaXR5JyxcbiAgICBwcm9jZXNzRGVmaW5pdGlvbktleTogJ3Zpc2liaWxpdHknLFxuICAgIHRhYnM6IFtdLFxuICAgIGZpZWxkczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdDb250YWluZXJSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICBpZDogJzE1MDY5NjA4NDc1NzknLFxuICAgICAgICAgICAgbmFtZTogJ0xhYmVsJyxcbiAgICAgICAgICAgIHR5cGU6ICdjb250YWluZXInLFxuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbHNwYW46IDEsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogbnVsbCxcbiAgICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICAgIG1heExlbmd0aDogMCxcbiAgICAgICAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgICAgICByZWdleFBhdHRlcm46IG51bGwsXG4gICAgICAgICAgICBvcHRpb25UeXBlOiBudWxsLFxuICAgICAgICAgICAgaGFzRW1wdHlWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIG9wdGlvbnM6IG51bGwsXG4gICAgICAgICAgICByZXN0VXJsOiBudWxsLFxuICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgcmVzdExhYmVsUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICBkYXRlRGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgIGxheW91dDogbnVsbCxcbiAgICAgICAgICAgIHNpemVYOiAyLFxuICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGwsXG4gICAgICAgICAgICBudW1iZXJPZkNvbHVtbnM6IDIsXG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICAnMSc6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRUeXBlOiAnUmVzdEZpZWxkUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdjb3VudHJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjb3VudHJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkcm9wZG93bicsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ0Nob29zZSBvbmUuLi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2VtcHR5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0Nob29zZSBvbmUuLi4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnb3B0aW9uXzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZnJhbmNlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ29wdGlvbl8yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3VrJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0VXJsOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdExhYmVsUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0NvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Q29sc3BhbjogMlxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW46IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdEZvcm1GaWVsZElkOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdFJlc3RSZXNwb25zZUlkOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiAnPT0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0VmFsdWU6ICdpdGFseScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRUeXBlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0Rm9ybUZpZWxkSWQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0UmVzdFJlc3BvbnNlSWQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRDb25kaXRpb25PcGVyYXRvcjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dENvbmRpdGlvbjogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZHBvaW50OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnM6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgJzInOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVHlwZTogJ0Zvcm1GaWVsZFJlcHJlc2VudGF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlSWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhDb2xzcGFuOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbjogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVYOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIF0sXG4gICAgb3V0Y29tZXM6IFtdLFxuICAgIGphdmFzY3JpcHRFdmVudHM6IFtdLFxuICAgIGNsYXNzTmFtZTogJycsXG4gICAgc3R5bGU6ICcnLFxuICAgIGN1c3RvbUZpZWxkVGVtcGxhdGVzOiB7fSxcbiAgICBtZXRhZGF0YToge30sXG4gICAgdmFyaWFibGVzOiBbXSxcbiAgICBjdXN0b21GaWVsZHNWYWx1ZUluZm86IHt9LFxuICAgIGdyaWRzdGVyRm9ybTogZmFsc2UsXG4gICAgZ2xvYmFsRGF0ZUZvcm1hdDogJ0QtTS1ZWVlZJ1xufTtcblxuZXhwb3J0IGxldCBmb3JtRGVmVmlzaWJpbGl0aUZpZWxkRGVwZW5kc09uUHJldmlvdXNPbmUgPSB7XG4gICAgaWQ6IDE5LFxuICAgIHByb2Nlc3NEZWZpbml0aW9uSWQ6ICd2aXNpYmlsaXR5OjE6MTQ4JyxcbiAgICBwcm9jZXNzRGVmaW5pdGlvbk5hbWU6ICd2aXNpYmlsaXR5JyxcbiAgICBwcm9jZXNzRGVmaW5pdGlvbktleTogJ3Zpc2liaWxpdHknLFxuICAgIHRhYnM6IFtdLFxuICAgIGZpZWxkczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdDb250YWluZXJSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICBpZDogJzE1MDY5NjA4NDc1NzknLFxuICAgICAgICAgICAgbmFtZTogJ0xhYmVsJyxcbiAgICAgICAgICAgIHR5cGU6ICdjb250YWluZXInLFxuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbHNwYW46IDEsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogbnVsbCxcbiAgICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICAgIG1heExlbmd0aDogMCxcbiAgICAgICAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgICAgICByZWdleFBhdHRlcm46IG51bGwsXG4gICAgICAgICAgICBvcHRpb25UeXBlOiBudWxsLFxuICAgICAgICAgICAgaGFzRW1wdHlWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIG9wdGlvbnM6IG51bGwsXG4gICAgICAgICAgICByZXN0VXJsOiBudWxsLFxuICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgcmVzdExhYmVsUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICBkYXRlRGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgIGxheW91dDogbnVsbCxcbiAgICAgICAgICAgIHNpemVYOiAyLFxuICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGwsXG4gICAgICAgICAgICBudW1iZXJPZkNvbHVtbnM6IDIsXG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICAnMSc6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRUeXBlOiAnRm9ybUZpZWxkUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICduYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdFVybDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RSZXNwb25zZVBhdGg6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0SWRQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RMYWJlbFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heENvbHNwYW46IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlRGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2w6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eUNvbmRpdGlvbjogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAnMic6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRUeXBlOiAnUmVzdEZpZWxkUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdjb3VudHJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdjb3VudHJ5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkcm9wZG93bicsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ0Nob29zZSBvbmUuLi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2VtcHR5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0Nob29zZSBvbmUuLi4nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnb3B0aW9uXzEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnZnJhbmNlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ29wdGlvbl8yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ3VrJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0VXJsOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdExhYmVsUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0NvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Q29sc3BhbjogMlxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW46IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdEZvcm1GaWVsZElkOiAnbmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdFJlc3RSZXNwb25zZUlkOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wZXJhdG9yOiAnPT0nLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0VmFsdWU6ICdpdGFseScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHRUeXBlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0Rm9ybUZpZWxkSWQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0UmVzdFJlc3BvbnNlSWQ6ICcnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5leHRDb25kaXRpb25PcGVyYXRvcjogJycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV4dENvbmRpdGlvbjogbnVsbFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZHBvaW50OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnM6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIF0sXG4gICAgb3V0Y29tZXM6IFtdLFxuICAgIGphdmFzY3JpcHRFdmVudHM6IFtdLFxuICAgIGNsYXNzTmFtZTogJycsXG4gICAgc3R5bGU6ICcnLFxuICAgIGN1c3RvbUZpZWxkVGVtcGxhdGVzOiB7fSxcbiAgICBtZXRhZGF0YToge30sXG4gICAgdmFyaWFibGVzOiBbXSxcbiAgICBjdXN0b21GaWVsZHNWYWx1ZUluZm86IHt9LFxuICAgIGdyaWRzdGVyRm9ybTogZmFsc2UsXG4gICAgZ2xvYmFsRGF0ZUZvcm1hdDogJ0QtTS1ZWVlZJ1xufTtcbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmV4cG9ydCBsZXQgc3RhcnRGb3JtRGF0ZVdpZGdldE1vY2sgPSB7XG4gICAgaWQ6IDQsXG4gICAgbmFtZTogJ0NsYWltIFJldmlldyBQcm9jZXNzJyxcbiAgICBwcm9jZXNzRGVmaW5pdGlvbklkOiAnQ2xhaW1SZXZpZXdQcm9jZXNzOjI6IDkzJyxcbiAgICBmaWVsZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnQ29udGFpbmVyUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgaWQ6IDE0OTc5NTMyNTM3ODQsXG4gICAgICAgICAgICBuYW1lOiAnTGFiZWwnLFxuICAgICAgICAgICAgdHlwZTogJ2NvbnRhaW5lcicsXG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIDE6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdGb3JtRmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2RhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ2RhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2RhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfV19XG4gICAgICAgIH1dXG59O1xuXG5leHBvcnQgbGV0IHN0YXJ0Rm9ybU51bWJlcldpZGdldE1vY2sgPSB7XG4gICAgaWQ6IDQsXG4gICAgbmFtZTogJ0NsYWltIFJldmlldyBQcm9jZXNzJyxcbiAgICBwcm9jZXNzRGVmaW5pdGlvbklkOiAnQ2xhaW1SZXZpZXdQcm9jZXNzOjI6IDkzJyxcbiAgICBmaWVsZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnQ29udGFpbmVyUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgaWQ6IDE0OTc5NTMyNTM3ODQsXG4gICAgICAgICAgICBuYW1lOiAnTGFiZWwnLFxuICAgICAgICAgICAgdHlwZTogJ2NvbnRhaW5lcicsXG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIDE6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdGb3JtRmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ251bWJlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnbnVtYmVyIHdpZGdldCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XX1cbiAgICAgICAgfV1cbn07XG5cbmV4cG9ydCBsZXQgc3RhcnRGb3JtQW1vdW50V2lkZ2V0TW9jayA9IHtcbiAgICBpZDogNCxcbiAgICBuYW1lOiAnQ2xhaW0gUmV2aWV3IFByb2Nlc3MnLFxuICAgIHByb2Nlc3NEZWZpbml0aW9uSWQ6ICdDbGFpbVJldmlld1Byb2Nlc3M6MjogOTMnLFxuICAgIGZpZWxkczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdDb250YWluZXJSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICBpZDogMTQ5Nzk1MzI1Mzc4NCxcbiAgICAgICAgICAgIG5hbWU6ICdMYWJlbCcsXG4gICAgICAgICAgICB0eXBlOiAnY29udGFpbmVyJyxcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgMTogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVHlwZTogJ0Zvcm1GaWVsZFJlcHJlc2VudGF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnYW1vdW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdhbW91bnQgd2lkZ2V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdhbW91bnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfV19XG4gICAgICAgIH1dXG59O1xuXG5leHBvcnQgbGV0IHN0YXJ0Rm9ybVJhZGlvQnV0dG9uV2lkZ2V0TW9jayA9IHtcbiAgICBpZDogNCxcbiAgICBuYW1lOiAnQ2xhaW0gUmV2aWV3IFByb2Nlc3MnLFxuICAgIHByb2Nlc3NEZWZpbml0aW9uSWQ6ICdDbGFpbVJldmlld1Byb2Nlc3M6MjogOTMnLFxuICAgIGZpZWxkczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdDb250YWluZXJSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICBpZDogMTQ5Nzk1MzI1Mzc4NCxcbiAgICAgICAgICAgIG5hbWU6ICdMYWJlbCcsXG4gICAgICAgICAgICB0eXBlOiAnY29udGFpbmVyJyxcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgMTogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVHlwZTogJ1Jlc3RGaWVsZFJlcHJlc2VudGF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAncmFkaW8tYnV0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdyYWRpby1idXR0b25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyYWRpby1idXR0b25zJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsXG4gICAgICAgICAgICAgICAgICAgIH1dfVxuICAgICAgICB9XVxufTtcblxuZXhwb3J0IGxldCBzdGFydEZvcm1UZXh0RGVmaW5pdGlvbk1vY2sgPSB7XG4gICAgaWQ6IDQsXG4gICAgbmFtZTogJ0NsYWltIFJldmlldyBQcm9jZXNzJyxcbiAgICBwcm9jZXNzRGVmaW5pdGlvbklkOiAnQ2xhaW1SZXZpZXdQcm9jZXNzOjI6IDkzJyxcbiAgICBmaWVsZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnQ29udGFpbmVyUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgaWQ6IDE0OTc5NTMyNTM3ODQsXG4gICAgICAgICAgICBuYW1lOiAnTGFiZWwnLFxuICAgICAgICAgICAgdHlwZTogJ2NvbnRhaW5lcicsXG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIDE6IFt7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdGb3JtRmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ21vY2t0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdtb2NrVGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XX1cbiAgICAgICAgfV1cbn07XG5cbmV4cG9ydCBsZXQgc3RhcnRGb3JtRHJvcGRvd25EZWZpbml0aW9uTW9jayA9IHtcbiAgICBpZDogNCxcbiAgICBuYW1lOiAnQ2xhaW0gUmV2aWV3IFByb2Nlc3MnLFxuICAgIHByb2Nlc3NEZWZpbml0aW9uSWQ6ICdDbGFpbVJldmlld1Byb2Nlc3M6MjogOTMnLFxuICAgIGZpZWxkczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdDb250YWluZXJSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICBpZDogMTQ5Nzk1MzI1Mzc4NCxcbiAgICAgICAgICAgIG5hbWU6ICdMYWJlbCcsXG4gICAgICAgICAgICB0eXBlOiAnY29udGFpbmVyJyxcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgMTogW3tcblxuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRUeXBlOiAnUmVzdEZpZWxkUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdtb2NrVHlwZURyb3BEb3duJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdtb2NrIERyb3BEb3duJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkcm9wZG93bicsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ0Nob29zZW9uZS4uLicsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnZW1wdHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQ2hvb3Nlb25lLi4uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ29wdDEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnT3B0aW9uLTEnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnb3B0MicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdPcHRpb24tMidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdvcHQzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ09wdGlvbi0zJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ29wdDInLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnT3B0aW9uLTMnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgICAgICAgICB9XX1cbiAgICAgICAgfV1cbn07XG5cbmV4cG9ydCBsZXQgc3RhcnRNb2NrRm9ybSA9IHtcbiAgICBpZDogNCxcbiAgICBuYW1lOiAnQ2xhaW0gUmV2aWV3IFByb2Nlc3MnLFxuICAgIHByb2Nlc3NEZWZpbml0aW9uSWQ6ICdDbGFpbVJldmlld1Byb2Nlc3M6MjogOTMnLFxuICAgIHByb2Nlc3NEZWZpbml0aW9uTmFtZTogJ0NsYWltUmV2aWV3UHJvY2VzcycsXG4gICAgcHJvY2Vzc0RlZmluaXRpb25LZXk6ICdDbGFpbVJldmlld1Byb2Nlc3MnLFxuICAgIHRhYnM6IFtdLFxuICAgIGZpZWxkczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdDb250YWluZXJSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICBpZDogMTQ5Nzk1MzI1Mzc4NCxcbiAgICAgICAgICAgIG5hbWU6ICdMYWJlbCcsXG4gICAgICAgICAgICB0eXBlOiAnY29udGFpbmVyJyxcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IG51bGwsXG4gICAgICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICAgICAgcmVzdFVybDogbnVsbCxcbiAgICAgICAgICAgIHJlc3RSZXNwb25zZVBhdGg6IG51bGwsXG4gICAgICAgICAgICByZXN0SWRQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgIHJlc3RMYWJlbFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgdGFiOiBudWxsLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBudWxsLFxuICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICBsYXlvdXQ6IG51bGwsXG4gICAgICAgICAgICBzaXplWDogMixcbiAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsLFxuICAgICAgICAgICAgbnVtYmVyT2ZDb2x1bW5zOiAyLFxuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgMTogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdGb3JtRmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2NsaWVudG5hbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0NsaWVudE5hbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ3RleHQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlSWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhDb2xzcGFuOiAyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbjogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVYOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgMjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdGb3JtRmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3BvbGljeW5vJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdQb2xpY3lObycsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdFbnRlclBvbGljeU5hbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhDb2xzcGFuOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbjogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVYOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnQ29udGFpbmVyUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgaWQ6IDE0OTc5NTMyNzAyNjksXG4gICAgICAgICAgICBuYW1lOiAnTGFiZWwnLFxuICAgICAgICAgICAgdHlwZTogJ2NvbnRhaW5lcicsXG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgIG92ZXJyaWRlSWQ6IGZhbHNlLFxuICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgbGF5b3V0OiBudWxsLFxuICAgICAgICAgICAgc2l6ZVg6IDIsXG4gICAgICAgICAgICBzaXplWTogMSxcbiAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICBjb2w6IC0xLFxuICAgICAgICAgICAgdmlzaWJpbGl0eUNvbmRpdGlvbjogbnVsbCxcbiAgICAgICAgICAgIG51bWJlck9mQ29sdW1uczogMixcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIDE6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRUeXBlOiAnRm9ybUZpZWxkUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdiaWxsYW1vdW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdCaWxsQW1vdW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdpbnRlZ2VyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogJ0VudGVyQmlsbEFtb3VudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdFVybDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RSZXNwb25zZVBhdGg6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0SWRQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RMYWJlbFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heENvbHNwYW46IDJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlRGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2w6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eUNvbmRpdGlvbjogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAyOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVHlwZTogJ0Zvcm1GaWVsZFJlcHJlc2VudGF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnYmlsbGRhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0JpbGxEYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdFVybDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RSZXNwb25zZVBhdGg6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0SWRQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RMYWJlbFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiAnYmlsbGRhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heENvbHNwYW46IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlRGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2w6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eUNvbmRpdGlvbjogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBmaWVsZFR5cGU6ICdDb250YWluZXJSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICBpZDogMTQ5Nzk1MzI4MDkzMCxcbiAgICAgICAgICAgIG5hbWU6ICdMYWJlbCcsXG4gICAgICAgICAgICB0eXBlOiAnY29udGFpbmVyJyxcbiAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IG51bGwsXG4gICAgICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICAgICAgcmVzdFVybDogbnVsbCxcbiAgICAgICAgICAgIHJlc3RSZXNwb25zZVBhdGg6IG51bGwsXG4gICAgICAgICAgICByZXN0SWRQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgIHJlc3RMYWJlbFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgdGFiOiBudWxsLFxuICAgICAgICAgICAgY2xhc3NOYW1lOiBudWxsLFxuICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICBsYXlvdXQ6IG51bGwsXG4gICAgICAgICAgICBzaXplWDogMixcbiAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsLFxuICAgICAgICAgICAgbnVtYmVyT2ZDb2x1bW5zOiAyLFxuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgMTogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdSZXN0RmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2NsYWltdHlwZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQ2xhaW1UeXBlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdkcm9wZG93bicsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ0Nob29zZW9uZS4uLicsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heExlbmd0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdleFBhdHRlcm46IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25UeXBlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRW1wdHlWYWx1ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnZW1wdHknLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQ2hvb3Nlb25lLi4uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2Nhc2hsZXNzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0Nhc2hsZXNzJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ3JlaW1idXJzZW1lbnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnUmVpbWJ1cnNlbWVudCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdFVybDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RSZXNwb25zZVBhdGg6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0SWRQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RMYWJlbFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heENvbHNwYW46IDJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlRGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2w6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eUNvbmRpdGlvbjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZHBvaW50OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEhlYWRlcnM6IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgMjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdGb3JtRmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2hvc3BpdGFsbmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnSG9zcGl0YWxOYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdFbnRlckhvc3BpdGFsTmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdFVybDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RSZXNwb25zZVBhdGg6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0SWRQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RMYWJlbFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGFiOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1heENvbHNwYW46IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlRGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGxheW91dDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sdW1uOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVg6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWTogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2w6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eUNvbmRpdGlvbjogbnVsbFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXSxcbiAgICBvdXRjb21lczogW1xuICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ2FwcHJvdmUnLFxuICAgICAgICAgICAgbmFtZTogJ0FwcHJvdmUnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnY29tcGxldGUnLFxuICAgICAgICAgICAgbmFtZTogJ0NvbXBsZXRlJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ3N0YXJ0X3Byb2Nlc3MnLFxuICAgICAgICAgICAgbmFtZTogJ1N0YXJ0IFByb2Nlc3MnXG4gICAgICAgIH1cbiAgICBdLFxuICAgIGphdmFzY3JpcHRFdmVudHM6IFtdLFxuICAgIGNsYXNzTmFtZTogJycsXG4gICAgc3R5bGU6ICcnLFxuICAgIG1ldGFkYXRhOiB7fSxcbiAgICB2YXJpYWJsZXM6IFtdLFxuICAgIGN1c3RvbUZpZWxkc1ZhbHVlSW5mbzoge30sXG4gICAgZ3JpZHN0ZXJGb3JtOiBmYWxzZSxcbiAgICBnbG9iYWxEYXRlRm9ybWF0OiAnRCAtIE0gLSBZWVlZJ1xufTtcblxuZXhwb3J0IGxldCBzdGFydE1vY2tGb3JtV2l0aFRhYiA9IHtcbiAgICBpZDogNCxcbiAgICB0YXNrTmFtZTogJ01vY2sgVGl0bGUnLFxuICAgIHByb2Nlc3NEZWZpbml0aW9uSWQ6ICdDbGFpbVJldmlld1Byb2Nlc3M6MjogOTMnLFxuICAgIHByb2Nlc3NEZWZpbml0aW9uTmFtZTogJ0NsYWltUmV2aWV3UHJvY2VzcycsXG4gICAgcHJvY2Vzc0RlZmluaXRpb25LZXk6ICdDbGFpbVJldmlld1Byb2Nlc3MnLFxuICAgIHRhYnM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdmb3JtMScsXG4gICAgICAgICAgICBuYW1lOiAnVGFiIDEnXG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlkOiAnZm9ybTInLFxuICAgICAgICAgICAgbmFtZTogJ1RhYiAyJ1xuICAgICAgICB9XG4gICAgXSxcbiAgICBmaWVsZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnQ29udGFpbmVyUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgaWQ6IDE0OTc5NTMyNTM3ODQsXG4gICAgICAgICAgICBuYW1lOiAnTGFiZWwnLFxuICAgICAgICAgICAgdHlwZTogJ2NvbnRhaW5lcicsXG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgIG92ZXJyaWRlSWQ6IGZhbHNlLFxuICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgbGF5b3V0OiBudWxsLFxuICAgICAgICAgICAgc2l6ZVg6IDIsXG4gICAgICAgICAgICBzaXplWTogMSxcbiAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICBjb2w6IC0xLFxuICAgICAgICAgICAgdmlzaWJpbGl0eUNvbmRpdGlvbjogbnVsbCxcbiAgICAgICAgICAgIG51bWJlck9mQ29sdW1uczogMixcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIDE6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRUeXBlOiAnRm9ybUZpZWxkUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdjbGllbnRuYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDbGllbnROYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heExlbmd0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdleFBhdHRlcm46IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25UeXBlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRW1wdHlWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0VXJsOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdExhYmVsUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0NvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Q29sc3BhbjogMlxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW46IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIDI6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRUeXBlOiAnRm9ybUZpZWxkUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdwb2xpY3lubycsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnUG9saWN5Tm8nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2ludGVnZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXF1aXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlSWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnRW50ZXJQb2xpY3lOYW1lJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heExlbmd0aDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWdleFBhdHRlcm46IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25UeXBlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzRW1wdHlWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbnM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0VXJsOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdExhYmVsUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZ0NvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4Q29sc3BhbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2x1bW46IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDFcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBzaXplWDogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZpZWxkVHlwZTogJ0NvbnRhaW5lclJlcHJlc2VudGF0aW9uJyxcbiAgICAgICAgICAgIGlkOiAxNDk3OTUzMjcwMjY5LFxuICAgICAgICAgICAgbmFtZTogJ0xhYmVsJyxcbiAgICAgICAgICAgIHR5cGU6ICdjb250YWluZXInLFxuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICAgIGNvbHNwYW46IDEsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogbnVsbCxcbiAgICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICAgIG1heExlbmd0aDogMCxcbiAgICAgICAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgICAgICByZWdleFBhdHRlcm46IG51bGwsXG4gICAgICAgICAgICBvcHRpb25UeXBlOiBudWxsLFxuICAgICAgICAgICAgaGFzRW1wdHlWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIG9wdGlvbnM6IG51bGwsXG4gICAgICAgICAgICByZXN0VXJsOiBudWxsLFxuICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgcmVzdExhYmVsUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICBkYXRlRGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgIGxheW91dDogbnVsbCxcbiAgICAgICAgICAgIHNpemVYOiAyLFxuICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGwsXG4gICAgICAgICAgICBudW1iZXJPZkNvbHVtbnM6IDIsXG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICAxOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVHlwZTogJ0Zvcm1GaWVsZFJlcHJlc2VudGF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnYmlsbGFtb3VudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnQmlsbEFtb3VudCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaW50ZWdlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6ICdFbnRlckJpbGxBbW91bnQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhDb2xzcGFuOiAyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbjogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVYOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgMjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdGb3JtRmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2JpbGxkYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdCaWxsRGF0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZGF0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlSWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogJ2JpbGxkYXRlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhDb2xzcGFuOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbjogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVYOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnQ29udGFpbmVyUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgaWQ6IDE0OTc5NTMyODA5MzAsXG4gICAgICAgICAgICBuYW1lOiAnTGFiZWwnLFxuICAgICAgICAgICAgdHlwZTogJ2NvbnRhaW5lcicsXG4gICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgIG92ZXJyaWRlSWQ6IGZhbHNlLFxuICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiBudWxsLFxuICAgICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgICAgbGF5b3V0OiBudWxsLFxuICAgICAgICAgICAgc2l6ZVg6IDIsXG4gICAgICAgICAgICBzaXplWTogMSxcbiAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICBjb2w6IC0xLFxuICAgICAgICAgICAgdmlzaWJpbGl0eUNvbmRpdGlvbjogbnVsbCxcbiAgICAgICAgICAgIG51bWJlck9mQ29sdW1uczogMixcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIDE6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRUeXBlOiAnUmVzdEZpZWxkUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdjbGFpbXR5cGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0NsYWltVHlwZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZHJvcGRvd24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6ICdDaG9vc2VvbmUuLi4nLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcHRpb25zOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZDogJ2VtcHR5JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0Nob29zZW9uZS4uLidcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdjYXNobGVzcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdDYXNobGVzcydcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdyZWltYnVyc2VtZW50JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1JlaW1idXJzZW1lbnQnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhDb2xzcGFuOiAyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbjogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVYOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBlbmRwb2ludDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzOiBudWxsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLFxuICAgICAgICAgICAgICAgIDI6IFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRUeXBlOiAnRm9ybUZpZWxkUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdob3NwaXRhbG5hbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0hvc3BpdGFsTmFtZScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG92ZXJyaWRlSWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiAnRW50ZXJIb3NwaXRhbE5hbWUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nQ29sc3BhbjogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhDb2xzcGFuOiAxXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbHVtbjogLTEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29sc3BhbjogMVxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNpemVYOiAxLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGxcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIF0sXG4gICAgb3V0Y29tZXM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgaWQ6ICdhcHByb3ZlJyxcbiAgICAgICAgICAgIG5hbWU6ICdBcHByb3ZlJ1xuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgICBpZDogJ2NvbXBsZXRlJyxcbiAgICAgICAgICAgIG5hbWU6ICdDb21wbGV0ZSdcbiAgICAgICAgfVxuICAgIF0sXG4gICAgamF2YXNjcmlwdEV2ZW50czogW10sXG4gICAgY2xhc3NOYW1lOiAnJyxcbiAgICBzdHlsZTogJycsXG4gICAgbWV0YWRhdGE6IHt9LFxuICAgIHZhcmlhYmxlczogW10sXG4gICAgY3VzdG9tRmllbGRzVmFsdWVJbmZvOiB7fSxcbiAgICBncmlkc3RlckZvcm06IGZhbHNlLFxuICAgIGdsb2JhbERhdGVGb3JtYXQ6ICdEIC0gTSAtIFlZWVknXG59O1xuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuZXhwb3J0IGxldCBmb3JtTW9kZWxUYWJzID0ge1xuICAgIGlkOiAxNixcbiAgICBuYW1lOiAnc3RhcnQgZXZlbnQnLFxuICAgIGRlc2NyaXB0aW9uOiAnJyxcbiAgICB2ZXJzaW9uOiAyLFxuICAgIGxhc3RVcGRhdGVkQnk6IDQsXG4gICAgbGFzdFVwZGF0ZWRCeUZ1bGxOYW1lOiAnVXNlciBUZXN0JyxcbiAgICBsYXN0VXBkYXRlZDogJzIwMTctMTAtMDRUMTM6MDA6MDMuMDMwKzAwMDAnLFxuICAgIHN0ZW5jaWxTZXRJZDogbnVsbCxcbiAgICByZWZlcmVuY2VJZDogbnVsbCxcbiAgICBmb3JtRGVmaW5pdGlvbjoge1xuICAgICAgdGFiczogW10sXG4gICAgICBmaWVsZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgIGZpZWxkVHlwZTogJ0NvbnRhaW5lclJlcHJlc2VudGF0aW9uJyxcbiAgICAgICAgICBpZDogJzE1MDcwMzc2Njg2NTMnLFxuICAgICAgICAgIG5hbWU6ICdMYWJlbCcsXG4gICAgICAgICAgdHlwZTogJ2NvbnRhaW5lcicsXG4gICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgaGFzRW1wdHlWYWx1ZTogbnVsbCxcbiAgICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICByZXN0SWRQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgY2xhc3NOYW1lOiBudWxsLFxuICAgICAgICAgIGRhdGVEaXNwbGF5Rm9ybWF0OiBudWxsLFxuICAgICAgICAgIGxheW91dDogbnVsbCxcbiAgICAgICAgICBzaXplWDogMixcbiAgICAgICAgICBzaXplWTogMSxcbiAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgIGNvbDogLTEsXG4gICAgICAgICAgdmlzaWJpbGl0eUNvbmRpdGlvbjogbnVsbCxcbiAgICAgICAgICBudW1iZXJPZkNvbHVtbnM6IDIsXG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAnMSc6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGZpZWxkVHlwZTogJ0Ftb3VudEZpZWxkUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgIGlkOiAnbGFiZWwnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdMYWJlbCcsXG4gICAgICAgICAgICAgICAgdHlwZTogJ2Ftb3VudCcsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgaGFzRW1wdHlWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgICAgICByZXN0SWRQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgbWF4Q29sc3BhbjogMlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgY29sdW1uOiAtMSxcbiAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNpemVYOiAxLFxuICAgICAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsLFxuICAgICAgICAgICAgICAgIGVuYWJsZUZyYWN0aW9uczogZmFsc2UsXG4gICAgICAgICAgICAgICAgY3VycmVuY3k6IG51bGxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICcyJzogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZmllbGRUeXBlOiAnRm9ybUZpZWxkUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgIGlkOiAnbGFiZWwxJyxcbiAgICAgICAgICAgICAgICBuYW1lOiAnTGFiZWwxJyxcbiAgICAgICAgICAgICAgICB0eXBlOiAnZGF0ZScsXG4gICAgICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgcmVxdWlyZWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHJlYWRPbmx5OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBvdmVycmlkZUlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBudWxsLFxuICAgICAgICAgICAgICAgIG1pbkxlbmd0aDogMCxcbiAgICAgICAgICAgICAgICBtYXhMZW5ndGg6IDAsXG4gICAgICAgICAgICAgICAgbWluVmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgbWF4VmFsdWU6IG51bGwsXG4gICAgICAgICAgICAgICAgcmVnZXhQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgICAgIG9wdGlvblR5cGU6IG51bGwsXG4gICAgICAgICAgICAgICAgaGFzRW1wdHlWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICBvcHRpb25zOiBudWxsLFxuICAgICAgICAgICAgICAgIHJlc3RVcmw6IG51bGwsXG4gICAgICAgICAgICAgICAgcmVzdFJlc3BvbnNlUGF0aDogbnVsbCxcbiAgICAgICAgICAgICAgICByZXN0SWRQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICByZXN0TGFiZWxQcm9wZXJ0eTogbnVsbCxcbiAgICAgICAgICAgICAgICB0YWI6IG51bGwsXG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lOiBudWxsLFxuICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgZXhpc3RpbmdDb2xzcGFuOiAxLFxuICAgICAgICAgICAgICAgICAgbWF4Q29sc3BhbjogMVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZGF0ZURpc3BsYXlGb3JtYXQ6IG51bGwsXG4gICAgICAgICAgICAgICAgbGF5b3V0OiB7XG4gICAgICAgICAgICAgICAgICByb3c6IC0xLFxuICAgICAgICAgICAgICAgICAgY29sdW1uOiAtMSxcbiAgICAgICAgICAgICAgICAgIGNvbHNwYW46IDFcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHNpemVYOiAxLFxuICAgICAgICAgICAgICAgIHNpemVZOiAxLFxuICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgY29sOiAtMSxcbiAgICAgICAgICAgICAgICB2aXNpYmlsaXR5Q29uZGl0aW9uOiBudWxsXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHtcbiAgICAgICAgICBmaWVsZFR5cGU6ICdDb250YWluZXJSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgaWQ6ICcxNTA3MDM3NjcwMTY3JyxcbiAgICAgICAgICBuYW1lOiAnTGFiZWwnLFxuICAgICAgICAgIHR5cGU6ICdjb250YWluZXInLFxuICAgICAgICAgIHZhbHVlOiBudWxsLFxuICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSxcbiAgICAgICAgICByZWFkT25seTogZmFsc2UsXG4gICAgICAgICAgb3ZlcnJpZGVJZDogZmFsc2UsXG4gICAgICAgICAgY29sc3BhbjogMSxcbiAgICAgICAgICBwbGFjZWhvbGRlcjogbnVsbCxcbiAgICAgICAgICBtaW5MZW5ndGg6IDAsXG4gICAgICAgICAgbWF4TGVuZ3RoOiAwLFxuICAgICAgICAgIG1pblZhbHVlOiBudWxsLFxuICAgICAgICAgIG1heFZhbHVlOiBudWxsLFxuICAgICAgICAgIHJlZ2V4UGF0dGVybjogbnVsbCxcbiAgICAgICAgICBvcHRpb25UeXBlOiBudWxsLFxuICAgICAgICAgIGhhc0VtcHR5VmFsdWU6IG51bGwsXG4gICAgICAgICAgb3B0aW9uczogbnVsbCxcbiAgICAgICAgICByZXN0VXJsOiBudWxsLFxuICAgICAgICAgIHJlc3RSZXNwb25zZVBhdGg6IG51bGwsXG4gICAgICAgICAgcmVzdElkUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgcmVzdExhYmVsUHJvcGVydHk6IG51bGwsXG4gICAgICAgICAgdGFiOiBudWxsLFxuICAgICAgICAgIGNsYXNzTmFtZTogbnVsbCxcbiAgICAgICAgICBkYXRlRGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICBsYXlvdXQ6IG51bGwsXG4gICAgICAgICAgc2l6ZVg6IDIsXG4gICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICBjb2w6IC0xLFxuICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGwsXG4gICAgICAgICAgbnVtYmVyT2ZDb2x1bW5zOiAyLFxuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgJzEnOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdGb3JtRmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgaWQ6ICdsYWJlbDInLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdMYWJlbDInLFxuICAgICAgICAgICAgICAgIHR5cGU6ICdib29sZWFuJyxcbiAgICAgICAgICAgICAgICB2YWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICByZXF1aXJlZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgcmVhZE9ubHk6IGZhbHNlLFxuICAgICAgICAgICAgICAgIG92ZXJyaWRlSWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGNvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgICAgICAgICAgbWluTGVuZ3RoOiAwLFxuICAgICAgICAgICAgICAgIG1heExlbmd0aDogMCxcbiAgICAgICAgICAgICAgICBtaW5WYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICBtYXhWYWx1ZTogbnVsbCxcbiAgICAgICAgICAgICAgICByZWdleFBhdHRlcm46IG51bGwsXG4gICAgICAgICAgICAgICAgb3B0aW9uVHlwZTogbnVsbCxcbiAgICAgICAgICAgICAgICBoYXNFbXB0eVZhbHVlOiBudWxsLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IG51bGwsXG4gICAgICAgICAgICAgICAgcmVzdFVybDogbnVsbCxcbiAgICAgICAgICAgICAgICByZXN0UmVzcG9uc2VQYXRoOiBudWxsLFxuICAgICAgICAgICAgICAgIHJlc3RJZFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgIHJlc3RMYWJlbFByb3BlcnR5OiBudWxsLFxuICAgICAgICAgICAgICAgIHRhYjogbnVsbCxcbiAgICAgICAgICAgICAgICBjbGFzc05hbWU6IG51bGwsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICBleGlzdGluZ0NvbHNwYW46IDEsXG4gICAgICAgICAgICAgICAgICBtYXhDb2xzcGFuOiAyXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBkYXRlRGlzcGxheUZvcm1hdDogbnVsbCxcbiAgICAgICAgICAgICAgICBsYXlvdXQ6IHtcbiAgICAgICAgICAgICAgICAgIHJvdzogLTEsXG4gICAgICAgICAgICAgICAgICBjb2x1bW46IC0xLFxuICAgICAgICAgICAgICAgICAgY29sc3BhbjogMVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2l6ZVg6IDEsXG4gICAgICAgICAgICAgICAgc2l6ZVk6IDEsXG4gICAgICAgICAgICAgICAgcm93OiAtMSxcbiAgICAgICAgICAgICAgICBjb2w6IC0xLFxuICAgICAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGxcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcbiAgICAgICAgICAgICcyJzogW11cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIF0sXG4gICAgICBvdXRjb21lczogW10sXG4gICAgICBqYXZhc2NyaXB0RXZlbnRzOiBbXSxcbiAgICAgIGNsYXNzTmFtZTogJycsXG4gICAgICBzdHlsZTogJycsXG4gICAgICBjdXN0b21GaWVsZFRlbXBsYXRlczoge30sXG4gICAgICBtZXRhZGF0YToge30sXG4gICAgICB2YXJpYWJsZXM6IFtdLFxuICAgICAgY3VzdG9tRmllbGRzVmFsdWVJbmZvOiB7fSxcbiAgICAgIGdyaWRzdGVyRm9ybTogZmFsc2VcbiAgICB9XG4gIH07XG4iLCIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBGb3JtTW9kZWwsIEZvcm1WYWx1ZXMgfSBmcm9tICcuLi8uLi9mb3JtL2NvbXBvbmVudHMvd2lkZ2V0cy9jb3JlL2luZGV4JztcblxuZXhwb3J0IGxldCBmb3JtVGVzdCA9IG5ldyBGb3JtTW9kZWwoe30pO1xuXG5leHBvcnQgbGV0IGZha2VUYXNrUHJvY2Vzc1ZhcmlhYmxlTW9kZWxzID0gW1xuICAgIHtpZDogJ1RFU1RfVkFSXzEnLCB0eXBlOiAnc3RyaW5nJywgdmFsdWU6ICd0ZXN0X3ZhbHVlXzEnfSxcbiAgICB7aWQ6ICdURVNUX1ZBUl8yJywgdHlwZTogJ3N0cmluZycsIHZhbHVlOiAndGVzdF92YWx1ZV8yJ30sXG4gICAge2lkOiAnVEVTVF9WQVJfMycsIHR5cGU6ICdzdHJpbmcnLCB2YWx1ZTogJ3Rlc3RfdmFsdWVfMyd9XG5dO1xuXG5leHBvcnQgbGV0IGZvcm1WYWx1ZXM6IEZvcm1WYWx1ZXMgPSB7XG4gICAgJ3Rlc3RfMSc6ICd2YWx1ZV8xJyxcbiAgICAndGVzdF8yJzogJ3ZhbHVlXzInLFxuICAgICd0ZXN0XzMnOiAndmFsdWVfMScsXG4gICAgJ3Rlc3RfNCc6ICdkcm9wZG93bl9pZCcsXG4gICAgJ3Rlc3RfNSc6ICdkcm9wZG93bl9sYWJlbCcsXG4gICAgJ2Ryb3Bkb3duJzogeydpZCc6ICdkcm9wZG93bl9pZCcsICduYW1lJzogJ2Ryb3Bkb3duX2xhYmVsJ31cbn07XG5cbmV4cG9ydCBsZXQgZmFrZUZvcm1Kc29uID0ge1xuICAgIGlkOiAnOTk5OScsXG4gICAgbmFtZTogJ0ZPUk1fVklTSUJJTElUWScsXG4gICAgcHJvY2Vzc0RlZmluaXRpb25JZDogJ1BST0NFU1NfVEVTVDo5Ojk5OTknLFxuICAgIHByb2Nlc3NEZWZpbml0aW9uTmFtZTogJ1BST0NFU1NfVEVTVCcsXG4gICAgcHJvY2Vzc0RlZmluaXRpb25LZXk6ICdQUk9DRVNTX1RFU1QnLFxuICAgIHRhc2tJZDogJzk5OScsXG4gICAgdGFza05hbWU6ICdURVNUJyxcbiAgICBmaWVsZHM6IFtcbiAgICAgICAge1xuICAgICAgICAgICAgZmllbGRUeXBlOiAnQ29udGFpbmVyUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgaWQ6ICcwMDAwMDAwMDAwMDAwMDAwMDAnLFxuICAgICAgICAgICAgbmFtZTogJ0xhYmVsJyxcbiAgICAgICAgICAgIHR5cGU6ICdjb250YWluZXInLFxuICAgICAgICAgICAgdmFsdWU6IG51bGwsXG4gICAgICAgICAgICBudW1iZXJPZkNvbHVtbnM6IDIsXG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICAxOiBbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpZWxkVHlwZTogJ0Zvcm1GaWVsZFJlcHJlc2VudGF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiAnRklFTERfVEVTVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiAnRklFTERfVEVTVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ1JJR0hUX0ZPUk1fRklFTERfVkFMVUUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eUNvbmRpdGlvbjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdGb3JtRmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ0ZJRUxEX1dJVEhfQ09ORElUSU9OJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU6ICdGSUVMRF9XSVRIX0NPTkRJVElPTicsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ2ZpZWxkX3dpdGhfY29uZGl0aW9uX3ZhbHVlJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1Zpc2libGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmllbGRUeXBlOiAnRm9ybUZpZWxkUmVwcmVzZW50YXRpb24nLFxuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6ICdMRUZUX0ZPUk1fRklFTERfSUQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ0xFRlRfRk9STV9GSUVMRF9OQU1FJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICd0ZXh0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlOiAnTEVGVF9GT1JNX0ZJRUxEX1ZBTFVFJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpc2liaWxpdHlDb25kaXRpb246IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBpc1Zpc2libGU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgMjogW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWVsZFR5cGU6ICdGb3JtRmllbGRSZXByZXNlbnRhdGlvbicsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogJ1JJR0hUX0ZPUk1fRklFTERfSUQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogJ1JJR0hUX0ZPUk1fRklFTERfTkFNRScsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogJ1JJR0hUX0ZPUk1fRklFTERfVkFMVUUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmlzaWJpbGl0eUNvbmRpdGlvbjogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzVmlzaWJsZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgXVxufTtcbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IFRlc3RCZWQsIFRlc3RNb2R1bGVNZXRhZGF0YSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUvdGVzdGluZyc7XG5cbmludGVyZmFjZSBEb25lRm4gZXh0ZW5kcyBGdW5jdGlvbiB7XG4gICAgKCk6IHZvaWQ7XG4gICAgZmFpbDogKG1lc3NhZ2U/OiBFcnJvciB8IHN0cmluZykgPT4gdm9pZDtcbn1cblxuZGVjbGFyZSBmdW5jdGlvbiBiZWZvcmVBbGwoYWN0aW9uOiAoZG9uZTogRG9uZUZuKSA9PiB2b2lkLCB0aW1lb3V0PzogbnVtYmVyKTogdm9pZDtcbmRlY2xhcmUgZnVuY3Rpb24gYWZ0ZXJBbGwoYWN0aW9uOiAoZG9uZTogRG9uZUZuKSA9PiB2b2lkLCB0aW1lb3V0PzogbnVtYmVyKTogdm9pZDtcblxuY29uc3QgcmVzZXRUZXN0aW5nTW9kdWxlID0gVGVzdEJlZC5yZXNldFRlc3RpbmdNb2R1bGU7XG5jb25zdCBwcmV2ZW50QW5ndWxhckZyb21SZXNldHRpbmcgPSAoKSA9PiAoVGVzdEJlZC5yZXNldFRlc3RpbmdNb2R1bGUgPSAoKSA9PiBUZXN0QmVkKTtcbmNvbnN0IGFsbG93QW5ndWxhclRvUmVzZXQgPSAoKSA9PiAoVGVzdEJlZC5yZXNldFRlc3RpbmdNb2R1bGUgPSByZXNldFRlc3RpbmdNb2R1bGUpO1xuXG5leHBvcnQgY29uc3Qgc2V0dXBUZXN0QmVkID0gKG1vZHVsZURlZjogVGVzdE1vZHVsZU1ldGFkYXRhKSA9PiB7XG4gICAgYmVmb3JlQWxsKGRvbmUgPT5cbiAgICAgICAgKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpO1xuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UuY2xlYXIoKTtcbiAgICAgICAgICAgIHJlc2V0VGVzdGluZ01vZHVsZSgpO1xuICAgICAgICAgICAgcHJldmVudEFuZ3VsYXJGcm9tUmVzZXR0aW5nKCk7XG4gICAgICAgICAgICBUZXN0QmVkLmNvbmZpZ3VyZVRlc3RpbmdNb2R1bGUobW9kdWxlRGVmKTtcbiAgICAgICAgICAgIGF3YWl0IFRlc3RCZWQuY29tcGlsZUNvbXBvbmVudHMoKTtcblxuICAgICAgICAgICAgLy8gcHJldmVudCBBbmd1bGFyIGZyb20gcmVzZXR0aW5nIHRlc3RpbmcgbW9kdWxlXG4gICAgICAgICAgICBUZXN0QmVkLnJlc2V0VGVzdGluZ01vZHVsZSA9ICgpID0+IFRlc3RCZWQ7XG4gICAgICAgIH0pKClcbiAgICAgICAgICAgIC50aGVuKGRvbmUpXG4gICAgICAgICAgICAuY2F0Y2goZG9uZS5mYWlsKVxuICAgICk7XG5cbiAgICBhZnRlckFsbCgoKSA9PiBhbGxvd0FuZ3VsYXJUb1Jlc2V0KCkpO1xufTtcbiIsIi8qIVxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE2IEFsZnJlc2NvIFNvZnR3YXJlLCBMdGQuXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5cbmltcG9ydCB7IEFsZnJlc2NvQXBpU2VydmljZSB9IGZyb20gJy4vYWxmcmVzY28tYXBpLnNlcnZpY2UnO1xuXG5leHBvcnQgZnVuY3Rpb24gc3RhcnR1cFNlcnZpY2VGYWN0b3J5KGFsZnJlc2NvQXBpU2VydmljZTogQWxmcmVzY29BcGlTZXJ2aWNlKTogRnVuY3Rpb24ge1xuICAgIHJldHVybiAoKSA9PiBhbGZyZXNjb0FwaVNlcnZpY2UubG9hZCgpO1xufVxuIiwiLyohXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTYgQWxmcmVzY28gU29mdHdhcmUsIEx0ZC5cbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cblxuaW1wb3J0IHsgQ29tbW9uTW9kdWxlLCBEYXRlUGlwZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwQ2xpZW50TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5pbXBvcnQgeyBBUFBfSU5JVElBTElaRVIsIE5nTW9kdWxlLCBNb2R1bGVXaXRoUHJvdmlkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3Jtc01vZHVsZSwgUmVhY3RpdmVGb3Jtc01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcbmltcG9ydCB7IFRyYW5zbGF0ZU1vZHVsZSwgVHJhbnNsYXRlTG9hZGVyIH0gZnJvbSAnQG5neC10cmFuc2xhdGUvY29yZSc7XG5cbmltcG9ydCB7IE1hdGVyaWFsTW9kdWxlIH0gZnJvbSAnLi9tYXRlcmlhbC5tb2R1bGUnO1xuaW1wb3J0IHsgQWJvdXRNb2R1bGUgfSBmcm9tICcuL2Fib3V0L2Fib3V0Lm1vZHVsZSc7XG5pbXBvcnQgeyBBcHBDb25maWdNb2R1bGUgfSBmcm9tICcuL2FwcC1jb25maWcvYXBwLWNvbmZpZy5tb2R1bGUnO1xuaW1wb3J0IHsgQ2FyZFZpZXdNb2R1bGUgfSBmcm9tICcuL2NhcmQtdmlldy9jYXJkLXZpZXcubW9kdWxlJztcbmltcG9ydCB7IENvbGxhcHNhYmxlTW9kdWxlIH0gZnJvbSAnLi9jb2xsYXBzYWJsZS9jb2xsYXBzYWJsZS5tb2R1bGUnO1xuaW1wb3J0IHsgQ29udGV4dE1lbnVNb2R1bGUgfSBmcm9tICcuL2NvbnRleHQtbWVudS9jb250ZXh0LW1lbnUubW9kdWxlJztcbmltcG9ydCB7IERhdGFDb2x1bW5Nb2R1bGUgfSBmcm9tICcuL2RhdGEtY29sdW1uL2RhdGEtY29sdW1uLm1vZHVsZSc7XG5pbXBvcnQgeyBEYXRhVGFibGVNb2R1bGUgfSBmcm9tICcuL2RhdGF0YWJsZS9kYXRhdGFibGUubW9kdWxlJztcbmltcG9ydCB7IEluZm9EcmF3ZXJNb2R1bGUgfSBmcm9tICcuL2luZm8tZHJhd2VyL2luZm8tZHJhd2VyLm1vZHVsZSc7XG5pbXBvcnQgeyBMYW5ndWFnZU1lbnVNb2R1bGUgfSBmcm9tICcuL2xhbmd1YWdlLW1lbnUvbGFuZ3VhZ2UtbWVudS5tb2R1bGUnO1xuaW1wb3J0IHsgTG9naW5Nb2R1bGUgfSBmcm9tICcuL2xvZ2luL2xvZ2luLm1vZHVsZSc7XG5pbXBvcnQgeyBQYWdpbmF0aW9uTW9kdWxlIH0gZnJvbSAnLi9wYWdpbmF0aW9uL3BhZ2luYXRpb24ubW9kdWxlJztcbmltcG9ydCB7IEhvc3RTZXR0aW5nc01vZHVsZSB9IGZyb20gJy4vc2V0dGluZ3MvaG9zdC1zZXR0aW5ncy5tb2R1bGUnO1xuaW1wb3J0IHsgVG9vbGJhck1vZHVsZSB9IGZyb20gJy4vdG9vbGJhci90b29sYmFyLm1vZHVsZSc7XG5pbXBvcnQgeyBVc2VySW5mb01vZHVsZSB9IGZyb20gJy4vdXNlcmluZm8vdXNlcmluZm8ubW9kdWxlJztcbmltcG9ydCB7IFZpZXdlck1vZHVsZSB9IGZyb20gJy4vdmlld2VyL3ZpZXdlci5tb2R1bGUnO1xuaW1wb3J0IHsgRm9ybU1vZHVsZSB9IGZyb20gJy4vZm9ybS9mb3JtLm1vZHVsZSc7XG5pbXBvcnQgeyBTaWRlbmF2TGF5b3V0TW9kdWxlIH0gZnJvbSAnLi9sYXlvdXQvbGF5b3V0Lm1vZHVsZSc7XG5pbXBvcnQgeyBDb21tZW50c01vZHVsZSB9IGZyb20gJy4vY29tbWVudHMvY29tbWVudHMubW9kdWxlJztcbmltcG9ydCB7IEJ1dHRvbnNNZW51TW9kdWxlIH0gZnJvbSAnLi9idXR0b25zLW1lbnUvYnV0dG9ucy1tZW51Lm1vZHVsZSc7XG5pbXBvcnQgeyBUZW1wbGF0ZU1vZHVsZSB9IGZyb20gJy4vdGVtcGxhdGVzL3RlbXBsYXRlLm1vZHVsZSc7XG5pbXBvcnQgeyBDbGlwYm9hcmRNb2R1bGUgfSBmcm9tICcuL2NsaXBib2FyZC9jbGlwYm9hcmQubW9kdWxlJztcblxuaW1wb3J0IHsgRGlyZWN0aXZlTW9kdWxlIH0gZnJvbSAnLi9kaXJlY3RpdmVzL2RpcmVjdGl2ZS5tb2R1bGUnO1xuaW1wb3J0IHsgUGlwZU1vZHVsZSB9IGZyb20gJy4vcGlwZXMvcGlwZS5tb2R1bGUnO1xuXG5pbXBvcnQgeyBBbGZyZXNjb0FwaVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2FsZnJlc2NvLWFwaS5zZXJ2aWNlJztcbmltcG9ydCB7IEFwcHNQcm9jZXNzU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvYXBwcy1wcm9jZXNzLnNlcnZpY2UnO1xuaW1wb3J0IHsgQXV0aEd1YXJkQnBtIH0gZnJvbSAnLi9zZXJ2aWNlcy9hdXRoLWd1YXJkLWJwbS5zZXJ2aWNlJztcbmltcG9ydCB7IEF1dGhHdWFyZEVjbSB9IGZyb20gJy4vc2VydmljZXMvYXV0aC1ndWFyZC1lY20uc2VydmljZSc7XG5pbXBvcnQgeyBBdXRoR3VhcmQgfSBmcm9tICcuL3NlcnZpY2VzL2F1dGgtZ3VhcmQuc2VydmljZSc7XG5pbXBvcnQgeyBBdXRoZW50aWNhdGlvblNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2F1dGhlbnRpY2F0aW9uLnNlcnZpY2UnO1xuaW1wb3J0IHsgQ2FyZEl0ZW1UeXBlU2VydmljZSB9IGZyb20gJy4vY2FyZC12aWV3L3NlcnZpY2VzL2NhcmQtaXRlbS10eXBlcy5zZXJ2aWNlJztcbmltcG9ydCB7IENhcmRWaWV3VXBkYXRlU2VydmljZSB9IGZyb20gJy4vY2FyZC12aWV3L3NlcnZpY2VzL2NhcmQtdmlldy11cGRhdGUuc2VydmljZSc7XG5pbXBvcnQgeyBDb21tZW50UHJvY2Vzc1NlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2NvbW1lbnQtcHJvY2Vzcy5zZXJ2aWNlJztcbmltcG9ydCB7IENvbW1lbnRDb250ZW50U2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvY29tbWVudC1jb250ZW50LnNlcnZpY2UnO1xuaW1wb3J0IHsgQ29udGVudFNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2NvbnRlbnQuc2VydmljZSc7XG5pbXBvcnQgeyBDb29raWVTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9jb29raWUuc2VydmljZSc7XG5pbXBvcnQgeyBEZWxldGVkTm9kZXNBcGlTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9kZWxldGVkLW5vZGVzLWFwaS5zZXJ2aWNlJztcbmltcG9ydCB7IERpc2NvdmVyeUFwaVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2Rpc2NvdmVyeS1hcGkuc2VydmljZSc7XG5pbXBvcnQgeyBGYXZvcml0ZXNBcGlTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9mYXZvcml0ZXMtYXBpLnNlcnZpY2UnO1xuaW1wb3J0IHsgSGlnaGxpZ2h0VHJhbnNmb3JtU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvaGlnaGxpZ2h0LXRyYW5zZm9ybS5zZXJ2aWNlJztcbmltcG9ydCB7IExvZ1NlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2xvZy5zZXJ2aWNlJztcbmltcG9ydCB7IE5vZGVzQXBpU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvbm9kZXMtYXBpLnNlcnZpY2UnO1xuaW1wb3J0IHsgTm90aWZpY2F0aW9uU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvbm90aWZpY2F0aW9uLnNlcnZpY2UnO1xuaW1wb3J0IHsgUGFnZVRpdGxlU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvcGFnZS10aXRsZS5zZXJ2aWNlJztcbmltcG9ydCB7IFBlb3BsZUNvbnRlbnRTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9wZW9wbGUtY29udGVudC5zZXJ2aWNlJztcbmltcG9ydCB7IFBlb3BsZVByb2Nlc3NTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9wZW9wbGUtcHJvY2Vzcy5zZXJ2aWNlJztcbmltcG9ydCB7IFJlbmRpdGlvbnNTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9yZW5kaXRpb25zLnNlcnZpY2UnO1xuaW1wb3J0IHsgU2VhcmNoU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvc2VhcmNoLnNlcnZpY2UnO1xuaW1wb3J0IHsgU2V0dGluZ3NTZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9zZXR0aW5ncy5zZXJ2aWNlJztcbmltcG9ydCB7IFNoYXJlZExpbmtzQXBpU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvc2hhcmVkLWxpbmtzLWFwaS5zZXJ2aWNlJztcbmltcG9ydCB7IFNpdGVzU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvc2l0ZXMuc2VydmljZSc7XG5pbXBvcnQgeyBTdG9yYWdlU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvc3RvcmFnZS5zZXJ2aWNlJztcbmltcG9ydCB7IFRodW1ibmFpbFNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL3RodW1ibmFpbC5zZXJ2aWNlJztcbmltcG9ydCB7IFRyYW5zbGF0ZUxvYWRlclNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL3RyYW5zbGF0ZS1sb2FkZXIuc2VydmljZSc7XG5pbXBvcnQgeyBUcmFuc2xhdGlvblNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL3RyYW5zbGF0aW9uLnNlcnZpY2UnO1xuaW1wb3J0IHsgVXBsb2FkU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvdXBsb2FkLnNlcnZpY2UnO1xuaW1wb3J0IHsgVXNlclByZWZlcmVuY2VzU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvdXNlci1wcmVmZXJlbmNlcy5zZXJ2aWNlJztcbmltcG9ydCB7IFNlYXJjaENvbmZpZ3VyYXRpb25TZXJ2aWNlIH0gZnJvbSAnLi9zZXJ2aWNlcy9zZWFyY2gtY29uZmlndXJhdGlvbi5zZXJ2aWNlJztcbmltcG9ydCB7IHN0YXJ0dXBTZXJ2aWNlRmFjdG9yeSB9IGZyb20gJy4vc2VydmljZXMvc3RhcnR1cC1zZXJ2aWNlLWZhY3RvcnknO1xuaW1wb3J0IHsgU29ydGluZ1BpY2tlck1vZHVsZSB9IGZyb20gJy4vc29ydGluZy1waWNrZXIvc29ydGluZy1waWNrZXIubW9kdWxlJztcbmltcG9ydCB7IEFwcENvbmZpZ1NlcnZpY2UgfSBmcm9tICcuL2FwcC1jb25maWcvYXBwLWNvbmZpZy5zZXJ2aWNlJztcbmltcG9ydCB7IENvbnRleHRNZW51U2VydmljZSB9IGZyb20gJy4vY29udGV4dC1tZW51L2NvbnRleHQtbWVudS5zZXJ2aWNlJztcbmltcG9ydCB7IENvbnRleHRNZW51T3ZlcmxheVNlcnZpY2UgfSBmcm9tICcuL2NvbnRleHQtbWVudS9jb250ZXh0LW1lbnUtb3ZlcmxheS5zZXJ2aWNlJztcbmltcG9ydCB7IEFjdGl2aXRpQ29udGVudFNlcnZpY2UgfSBmcm9tICcuL2Zvcm0vc2VydmljZXMvYWN0aXZpdGktYWxmcmVzY28uc2VydmljZSc7XG5pbXBvcnQgeyBFY21Nb2RlbFNlcnZpY2UgfSBmcm9tICcuL2Zvcm0vc2VydmljZXMvZWNtLW1vZGVsLnNlcnZpY2UnO1xuaW1wb3J0IHsgRm9ybVJlbmRlcmluZ1NlcnZpY2UgfSBmcm9tICcuL2Zvcm0vc2VydmljZXMvZm9ybS1yZW5kZXJpbmcuc2VydmljZSc7XG5pbXBvcnQgeyBGb3JtU2VydmljZSB9IGZyb20gJy4vZm9ybS9zZXJ2aWNlcy9mb3JtLnNlcnZpY2UnO1xuaW1wb3J0IHsgTm9kZVNlcnZpY2UgfSBmcm9tICcuL2Zvcm0vc2VydmljZXMvbm9kZS5zZXJ2aWNlJztcbmltcG9ydCB7IFByb2Nlc3NDb250ZW50U2VydmljZSB9IGZyb20gJy4vZm9ybS9zZXJ2aWNlcy9wcm9jZXNzLWNvbnRlbnQuc2VydmljZSc7XG5pbXBvcnQgeyBXaWRnZXRWaXNpYmlsaXR5U2VydmljZSB9IGZyb20gJy4vZm9ybS9zZXJ2aWNlcy93aWRnZXQtdmlzaWJpbGl0eS5zZXJ2aWNlJztcbmltcG9ydCB7IEVjbVVzZXJTZXJ2aWNlIH0gZnJvbSAnLi91c2VyaW5mby9zZXJ2aWNlcy9lY20tdXNlci5zZXJ2aWNlJztcbmltcG9ydCB7IEJwbVVzZXJTZXJ2aWNlIH0gZnJvbSAnLi91c2VyaW5mby9zZXJ2aWNlcy9icG0tdXNlci5zZXJ2aWNlJztcbmltcG9ydCB7IFZpZXdVdGlsU2VydmljZSB9IGZyb20gJy4vdmlld2VyL3NlcnZpY2VzL3ZpZXctdXRpbC5zZXJ2aWNlJztcbmltcG9ydCB7IExvZ2luRGlhbG9nU2VydmljZSB9IGZyb20gJy4vc2VydmljZXMvbG9naW4tZGlhbG9nLnNlcnZpY2UnO1xuaW1wb3J0IHsgRXh0ZXJuYWxBbGZyZXNjb0FwaVNlcnZpY2UgfSBmcm9tICcuL3NlcnZpY2VzL2V4dGVybmFsLWFsZnJlc2NvLWFwaS5zZXJ2aWNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zbGF0ZUxvYWRlcihodHRwOiBIdHRwQ2xpZW50KSB7XG4gICAgcmV0dXJuIG5ldyBUcmFuc2xhdGVMb2FkZXJTZXJ2aWNlKGh0dHApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcHJvdmlkZXJzKCkge1xuICAgIHJldHVybiBbXG4gICAgICAgIEF1dGhlbnRpY2F0aW9uU2VydmljZSxcbiAgICAgICAgQWxmcmVzY29BcGlTZXJ2aWNlLFxuICAgICAgICBTZXR0aW5nc1NlcnZpY2UsXG4gICAgICAgIENvbnRlbnRTZXJ2aWNlLFxuICAgICAgICBBdXRoR3VhcmQsXG4gICAgICAgIEF1dGhHdWFyZEVjbSxcbiAgICAgICAgQXV0aEd1YXJkQnBtLFxuICAgICAgICBBcHBzUHJvY2Vzc1NlcnZpY2UsXG4gICAgICAgIFBhZ2VUaXRsZVNlcnZpY2UsXG4gICAgICAgIFN0b3JhZ2VTZXJ2aWNlLFxuICAgICAgICBDb29raWVTZXJ2aWNlLFxuICAgICAgICBSZW5kaXRpb25zU2VydmljZSxcbiAgICAgICAgTm90aWZpY2F0aW9uU2VydmljZSxcbiAgICAgICAgTG9nU2VydmljZSxcbiAgICAgICAgVHJhbnNsYXRpb25TZXJ2aWNlLFxuICAgICAgICBUcmFuc2xhdGVMb2FkZXJTZXJ2aWNlLFxuICAgICAgICBUaHVtYm5haWxTZXJ2aWNlLFxuICAgICAgICBVcGxvYWRTZXJ2aWNlLFxuICAgICAgICBDYXJkSXRlbVR5cGVTZXJ2aWNlLFxuICAgICAgICBDYXJkVmlld1VwZGF0ZVNlcnZpY2UsXG4gICAgICAgIFVzZXJQcmVmZXJlbmNlc1NlcnZpY2UsXG4gICAgICAgIEhpZ2hsaWdodFRyYW5zZm9ybVNlcnZpY2UsXG4gICAgICAgIERlbGV0ZWROb2Rlc0FwaVNlcnZpY2UsXG4gICAgICAgIEZhdm9yaXRlc0FwaVNlcnZpY2UsXG4gICAgICAgIE5vZGVzQXBpU2VydmljZSxcbiAgICAgICAgUGVvcGxlQ29udGVudFNlcnZpY2UsXG4gICAgICAgIFBlb3BsZVByb2Nlc3NTZXJ2aWNlLFxuICAgICAgICBTZWFyY2hTZXJ2aWNlLFxuICAgICAgICBTaGFyZWRMaW5rc0FwaVNlcnZpY2UsXG4gICAgICAgIFNpdGVzU2VydmljZSxcbiAgICAgICAgRGlzY292ZXJ5QXBpU2VydmljZSxcbiAgICAgICAgQ29tbWVudFByb2Nlc3NTZXJ2aWNlLFxuICAgICAgICBDb21tZW50Q29udGVudFNlcnZpY2UsXG4gICAgICAgIFNlYXJjaENvbmZpZ3VyYXRpb25TZXJ2aWNlLFxuICAgICAgICBEYXRlUGlwZSxcbiAgICAgICAgQXBwQ29uZmlnU2VydmljZSxcbiAgICAgICAgQ29udGV4dE1lbnVTZXJ2aWNlLFxuICAgICAgICBDb250ZXh0TWVudU92ZXJsYXlTZXJ2aWNlLFxuICAgICAgICBBY3Rpdml0aUNvbnRlbnRTZXJ2aWNlLFxuICAgICAgICBFY21Nb2RlbFNlcnZpY2UsXG4gICAgICAgIEZvcm1SZW5kZXJpbmdTZXJ2aWNlLFxuICAgICAgICBGb3JtU2VydmljZSxcbiAgICAgICAgTm9kZVNlcnZpY2UsXG4gICAgICAgIFByb2Nlc3NDb250ZW50U2VydmljZSxcbiAgICAgICAgV2lkZ2V0VmlzaWJpbGl0eVNlcnZpY2UsXG4gICAgICAgIEVjbVVzZXJTZXJ2aWNlLFxuICAgICAgICBCcG1Vc2VyU2VydmljZSxcbiAgICAgICAgVmlld1V0aWxTZXJ2aWNlLFxuICAgICAgICBMb2dpbkRpYWxvZ1NlcnZpY2UsXG4gICAgICAgIEV4dGVybmFsQWxmcmVzY29BcGlTZXJ2aWNlXG4gICAgXTtcbn1cblxuQE5nTW9kdWxlKHtcbiAgICBpbXBvcnRzOiBbXG4gICAgICAgIEFib3V0TW9kdWxlLFxuICAgICAgICBWaWV3ZXJNb2R1bGUsXG4gICAgICAgIFNpZGVuYXZMYXlvdXRNb2R1bGUsXG4gICAgICAgIFBpcGVNb2R1bGUsXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgRGlyZWN0aXZlTW9kdWxlLFxuICAgICAgICBDbGlwYm9hcmRNb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBIdHRwQ2xpZW50TW9kdWxlLFxuICAgICAgICBIb3N0U2V0dGluZ3NNb2R1bGUsXG4gICAgICAgIFVzZXJJbmZvTW9kdWxlLFxuICAgICAgICBNYXRlcmlhbE1vZHVsZSxcbiAgICAgICAgQXBwQ29uZmlnTW9kdWxlLFxuICAgICAgICBQYWdpbmF0aW9uTW9kdWxlLFxuICAgICAgICBUb29sYmFyTW9kdWxlLFxuICAgICAgICBDb250ZXh0TWVudU1vZHVsZSxcbiAgICAgICAgQ2FyZFZpZXdNb2R1bGUsXG4gICAgICAgIENvbGxhcHNhYmxlTW9kdWxlLFxuICAgICAgICBGb3JtTW9kdWxlLFxuICAgICAgICBDb21tZW50c01vZHVsZSxcbiAgICAgICAgTG9naW5Nb2R1bGUsXG4gICAgICAgIExhbmd1YWdlTWVudU1vZHVsZSxcbiAgICAgICAgSW5mb0RyYXdlck1vZHVsZSxcbiAgICAgICAgRGF0YUNvbHVtbk1vZHVsZSxcbiAgICAgICAgRGF0YVRhYmxlTW9kdWxlLFxuICAgICAgICBCdXR0b25zTWVudU1vZHVsZSxcbiAgICAgICAgVGVtcGxhdGVNb2R1bGUsXG4gICAgICAgIFRyYW5zbGF0ZU1vZHVsZS5mb3JDaGlsZCh7XG4gICAgICAgICAgICBsb2FkZXI6IHtcbiAgICAgICAgICAgICAgICBwcm92aWRlOiBUcmFuc2xhdGVMb2FkZXIsXG4gICAgICAgICAgICAgICAgdXNlRmFjdG9yeTogKGNyZWF0ZVRyYW5zbGF0ZUxvYWRlciksXG4gICAgICAgICAgICAgICAgZGVwczogW0h0dHBDbGllbnQsIExvZ1NlcnZpY2VdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBTb3J0aW5nUGlja2VyTW9kdWxlXG4gICAgXSxcbiAgICBleHBvcnRzOiBbXG4gICAgICAgIEFib3V0TW9kdWxlLFxuICAgICAgICBWaWV3ZXJNb2R1bGUsXG4gICAgICAgIFNpZGVuYXZMYXlvdXRNb2R1bGUsXG4gICAgICAgIFBpcGVNb2R1bGUsXG4gICAgICAgIENvbW1vbk1vZHVsZSxcbiAgICAgICAgRGlyZWN0aXZlTW9kdWxlLFxuICAgICAgICBDbGlwYm9hcmRNb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBIdHRwQ2xpZW50TW9kdWxlLFxuICAgICAgICBIb3N0U2V0dGluZ3NNb2R1bGUsXG4gICAgICAgIFVzZXJJbmZvTW9kdWxlLFxuICAgICAgICBNYXRlcmlhbE1vZHVsZSxcbiAgICAgICAgQXBwQ29uZmlnTW9kdWxlLFxuICAgICAgICBQYWdpbmF0aW9uTW9kdWxlLFxuICAgICAgICBUb29sYmFyTW9kdWxlLFxuICAgICAgICBDb250ZXh0TWVudU1vZHVsZSxcbiAgICAgICAgQ2FyZFZpZXdNb2R1bGUsXG4gICAgICAgIENvbGxhcHNhYmxlTW9kdWxlLFxuICAgICAgICBGb3JtTW9kdWxlLFxuICAgICAgICBDb21tZW50c01vZHVsZSxcbiAgICAgICAgTG9naW5Nb2R1bGUsXG4gICAgICAgIExhbmd1YWdlTWVudU1vZHVsZSxcbiAgICAgICAgSW5mb0RyYXdlck1vZHVsZSxcbiAgICAgICAgRGF0YUNvbHVtbk1vZHVsZSxcbiAgICAgICAgRGF0YVRhYmxlTW9kdWxlLFxuICAgICAgICBUcmFuc2xhdGVNb2R1bGUsXG4gICAgICAgIEJ1dHRvbnNNZW51TW9kdWxlLFxuICAgICAgICBUZW1wbGF0ZU1vZHVsZSxcbiAgICAgICAgU29ydGluZ1BpY2tlck1vZHVsZVxuICAgIF1cbn0pXG5leHBvcnQgY2xhc3MgQ29yZU1vZHVsZUxhenkge1xufVxuXG5ATmdNb2R1bGUoe1xuICAgIGltcG9ydHM6IFtcbiAgICAgICAgQWJvdXRNb2R1bGUsXG4gICAgICAgIFZpZXdlck1vZHVsZSxcbiAgICAgICAgU2lkZW5hdkxheW91dE1vZHVsZSxcbiAgICAgICAgUGlwZU1vZHVsZSxcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBEaXJlY3RpdmVNb2R1bGUsXG4gICAgICAgIEZvcm1zTW9kdWxlLFxuICAgICAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgICAgICBIdHRwQ2xpZW50TW9kdWxlLFxuICAgICAgICBIb3N0U2V0dGluZ3NNb2R1bGUsXG4gICAgICAgIFVzZXJJbmZvTW9kdWxlLFxuICAgICAgICBNYXRlcmlhbE1vZHVsZSxcbiAgICAgICAgQXBwQ29uZmlnTW9kdWxlLFxuICAgICAgICBQYWdpbmF0aW9uTW9kdWxlLFxuICAgICAgICBUb29sYmFyTW9kdWxlLFxuICAgICAgICBDb250ZXh0TWVudU1vZHVsZSxcbiAgICAgICAgQ2FyZFZpZXdNb2R1bGUsXG4gICAgICAgIENvbGxhcHNhYmxlTW9kdWxlLFxuICAgICAgICBGb3JtTW9kdWxlLFxuICAgICAgICBDb21tZW50c01vZHVsZSxcbiAgICAgICAgTG9naW5Nb2R1bGUsXG4gICAgICAgIExhbmd1YWdlTWVudU1vZHVsZSxcbiAgICAgICAgSW5mb0RyYXdlck1vZHVsZSxcbiAgICAgICAgRGF0YUNvbHVtbk1vZHVsZSxcbiAgICAgICAgRGF0YVRhYmxlTW9kdWxlLFxuICAgICAgICBCdXR0b25zTWVudU1vZHVsZSxcbiAgICAgICAgVGVtcGxhdGVNb2R1bGUsXG4gICAgICAgIFRyYW5zbGF0ZU1vZHVsZS5mb3JSb290KHtcbiAgICAgICAgICAgIGxvYWRlcjoge1xuICAgICAgICAgICAgICAgIHByb3ZpZGU6IFRyYW5zbGF0ZUxvYWRlcixcbiAgICAgICAgICAgICAgICB1c2VGYWN0b3J5OiAoY3JlYXRlVHJhbnNsYXRlTG9hZGVyKSxcbiAgICAgICAgICAgICAgICBkZXBzOiBbSHR0cENsaWVudCwgTG9nU2VydmljZV1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIFNvcnRpbmdQaWNrZXJNb2R1bGVcbiAgICBdLFxuICAgIGV4cG9ydHM6IFtcbiAgICAgICAgQWJvdXRNb2R1bGUsXG4gICAgICAgIFZpZXdlck1vZHVsZSxcbiAgICAgICAgU2lkZW5hdkxheW91dE1vZHVsZSxcbiAgICAgICAgUGlwZU1vZHVsZSxcbiAgICAgICAgQ29tbW9uTW9kdWxlLFxuICAgICAgICBEaXJlY3RpdmVNb2R1bGUsXG4gICAgICAgIENsaXBib2FyZE1vZHVsZSxcbiAgICAgICAgRm9ybXNNb2R1bGUsXG4gICAgICAgIFJlYWN0aXZlRm9ybXNNb2R1bGUsXG4gICAgICAgIEh0dHBDbGllbnRNb2R1bGUsXG4gICAgICAgIEhvc3RTZXR0aW5nc01vZHVsZSxcbiAgICAgICAgVXNlckluZm9Nb2R1bGUsXG4gICAgICAgIE1hdGVyaWFsTW9kdWxlLFxuICAgICAgICBBcHBDb25maWdNb2R1bGUsXG4gICAgICAgIFBhZ2luYXRpb25Nb2R1bGUsXG4gICAgICAgIFRvb2xiYXJNb2R1bGUsXG4gICAgICAgIENvbnRleHRNZW51TW9kdWxlLFxuICAgICAgICBDYXJkVmlld01vZHVsZSxcbiAgICAgICAgQ29sbGFwc2FibGVNb2R1bGUsXG4gICAgICAgIEZvcm1Nb2R1bGUsXG4gICAgICAgIENvbW1lbnRzTW9kdWxlLFxuICAgICAgICBMb2dpbk1vZHVsZSxcbiAgICAgICAgTGFuZ3VhZ2VNZW51TW9kdWxlLFxuICAgICAgICBJbmZvRHJhd2VyTW9kdWxlLFxuICAgICAgICBEYXRhQ29sdW1uTW9kdWxlLFxuICAgICAgICBEYXRhVGFibGVNb2R1bGUsXG4gICAgICAgIFRyYW5zbGF0ZU1vZHVsZSxcbiAgICAgICAgQnV0dG9uc01lbnVNb2R1bGUsXG4gICAgICAgIFRlbXBsYXRlTW9kdWxlLFxuICAgICAgICBTb3J0aW5nUGlja2VyTW9kdWxlXG4gICAgXSxcbiAgICBwcm92aWRlcnM6IFtcbiAgICAgICAgLi4ucHJvdmlkZXJzKCksXG4gICAgICAgIHtcbiAgICAgICAgICAgIHByb3ZpZGU6IEFQUF9JTklUSUFMSVpFUixcbiAgICAgICAgICAgIHVzZUZhY3Rvcnk6IHN0YXJ0dXBTZXJ2aWNlRmFjdG9yeSxcbiAgICAgICAgICAgIGRlcHM6IFtcbiAgICAgICAgICAgICAgICBBbGZyZXNjb0FwaVNlcnZpY2VcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgICBtdWx0aTogdHJ1ZVxuICAgICAgICB9XG4gICAgXVxufSlcbmV4cG9ydCBjbGFzcyBDb3JlTW9kdWxlIHtcbiAgICBzdGF0aWMgZm9yUm9vdCgpOiBNb2R1bGVXaXRoUHJvdmlkZXJzIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5nTW9kdWxlOiBDb3JlTW9kdWxlLFxuICAgICAgICAgICAgcHJvdmlkZXJzOiBbXG4gICAgICAgICAgICAgICAgLi4ucHJvdmlkZXJzKCksXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBwcm92aWRlOiBBUFBfSU5JVElBTElaRVIsXG4gICAgICAgICAgICAgICAgICAgIHVzZUZhY3Rvcnk6IHN0YXJ0dXBTZXJ2aWNlRmFjdG9yeSxcbiAgICAgICAgICAgICAgICAgICAgZGVwczogW1xuICAgICAgICAgICAgICAgICAgICAgICAgQWxmcmVzY29BcGlTZXJ2aWNlXG4gICAgICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgICAgICAgIG11bHRpOiB0cnVlXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHN0YXRpYyBmb3JDaGlsZCgpOiBNb2R1bGVXaXRoUHJvdmlkZXJzIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5nTW9kdWxlOiBDb3JlTW9kdWxlTGF6eVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHRyYW5zbGF0aW9uOiBUcmFuc2xhdGlvblNlcnZpY2UpIHtcbiAgICAgICAgdHJhbnNsYXRpb24uYWRkVHJhbnNsYXRpb25Gb2xkZXIoJ2FkZi1jb3JlJywgJ2Fzc2V0cy9hZGYtY29yZScpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJodHRwIiwiU3ViamVjdCIsIm1hcCIsImRpc3RpbmN0VW50aWxDaGFuZ2VkIiwiSW5qZWN0YWJsZSIsIkh0dHBDbGllbnQiLCJ0c2xpYl8xLl9fZXh0ZW5kcyIsImFsZnJlc2NvQXBpIiwiZnJvbSIsImNhdGNoRXJyb3IiLCJ0YXAiLCJ0aHJvd0Vycm9yIiwiT2JzZXJ2YWJsZSIsIkh0dHBIZWFkZXJzIiwibW9tZW50IiwiaXNNb21lbnQiLCJEYXRlQWRhcHRlciIsIkNvbXBvbmVudCIsIlZpZXdFbmNhcHN1bGF0aW9uIiwiTWF0QXV0b2NvbXBsZXRlTW9kdWxlIiwiTWF0QnV0dG9uTW9kdWxlIiwiTWF0Q2FyZE1vZHVsZSIsIk1hdENoZWNrYm94TW9kdWxlIiwiTWF0Q2hpcHNNb2R1bGUiLCJNYXREYXRlcGlja2VyTW9kdWxlIiwiTWF0RGlhbG9nTW9kdWxlIiwiTWF0R3JpZExpc3RNb2R1bGUiLCJNYXRJY29uTW9kdWxlIiwiTWF0SW5wdXRNb2R1bGUiLCJNYXRMaXN0TW9kdWxlIiwiTWF0TmF0aXZlRGF0ZU1vZHVsZSIsIk1hdE9wdGlvbk1vZHVsZSIsIk1hdFByb2dyZXNzU3Bpbm5lck1vZHVsZSIsIk1hdFJhZGlvTW9kdWxlIiwiTWF0UmlwcGxlTW9kdWxlIiwiTWF0U2VsZWN0TW9kdWxlIiwiTWF0U2xpZGVUb2dnbGVNb2R1bGUiLCJNYXRUYWJsZU1vZHVsZSIsIk1hdFRhYnNNb2R1bGUiLCJNYXRNZW51TW9kdWxlIiwiTWF0UHJvZ3Jlc3NCYXJNb2R1bGUiLCJNYXRTaWRlbmF2TW9kdWxlIiwiTWF0U25hY2tCYXJNb2R1bGUiLCJNYXRUb29sYmFyTW9kdWxlIiwiTWF0VG9vbHRpcE1vZHVsZSIsIk1hdERhdGV0aW1lcGlja2VyTW9kdWxlIiwiTWF0TmF0aXZlRGF0ZXRpbWVNb2R1bGUiLCJNYXRFeHBhbnNpb25Nb2R1bGUiLCJOZ01vZHVsZSIsIlZpZXdwb3J0UnVsZXIiLCJPdmVybGF5Q29udGFpbmVyIiwiUmVuZGVyZXIyIiwiSW5wdXQiLCJWaWV3Q2hpbGQiLCJNYXRNZW51VHJpZ2dlciIsIkhvc3RMaXN0ZW5lciIsIkluamVjdGlvblRva2VuIiwic3RhdGUiLCJzdHlsZSIsInRyYW5zaXRpb24iLCJzZXF1ZW5jZSIsInF1ZXJ5IiwiYW5pbWF0ZSIsImdyb3VwIiwiVVBfQVJST1ciLCJET1dOX0FSUk9XIiwiRm9jdXNLZXlNYW5hZ2VyIiwidHJpZ2dlciIsIkluamVjdCIsIk9wdGlvbmFsIiwiVmlld0NoaWxkcmVuIiwiTWF0TWVudUl0ZW0iLCJvdmVybGF5IiwiQ29tcG9uZW50UG9ydGFsIiwiUG9ydGFsSW5qZWN0b3IiLCJFbGVtZW50UmVmIiwiT3ZlcmxheUNvbmZpZyIsIkluamVjdG9yIiwiT3ZlcmxheSIsIkRpcmVjdGl2ZSIsIkNvbW1vbk1vZHVsZSIsIlRyYW5zbGF0ZU1vZHVsZSIsIkJlaGF2aW9yU3ViamVjdCIsIlRyYW5zbGF0ZVNlcnZpY2UiLCJ0c2xpYl8xLl9fdmFsdWVzIiwiUGlwZSIsIkRvbVNhbml0aXplciIsIk1hdEljb25SZWdpc3RyeSIsInJvdXRlciIsIlJvdXRlciIsIkV2ZW50RW1pdHRlciIsImZvcmtKb2luIiwib2YiLCJPdXRwdXQiLCJDaGFuZ2VEZXRlY3RvclJlZiIsIkhvc3QiLCJtZXJnZU1hcCIsIk5nWm9uZSIsIkNoYW5nZURldGVjdGlvblN0cmF0ZWd5IiwiQ29udGVudENoaWxkIiwiVGVtcGxhdGVSZWYiLCJDb250ZW50Q2hpbGRyZW4iLCJzaGFyZSIsImJ1ZmZlciIsImRlYm91bmNlVGltZSIsImZpbHRlciIsIkl0ZXJhYmxlRGlmZmVycyIsIlJvdXRlck1vZHVsZSIsIkxvY2F0aW9uIiwiRm9ybUNvbnRyb2wiLCJWYWxpZGF0b3JzIiwiTWF0RGlhbG9nUmVmIiwiTUFUX0RJQUxPR19EQVRBIiwiTWF0RGlhbG9nIiwiRm9ybXNNb2R1bGUiLCJSZWFjdGl2ZUZvcm1zTW9kdWxlIiwiRmxleExheW91dE1vZHVsZSIsIkZvcm1CdWlsZGVyIiwiSG9zdEJpbmRpbmciLCJNQVRfTU9NRU5UX0RBVEVUSU1FX0ZPUk1BVFMiLCJNQVRfREFURV9GT1JNQVRTIiwiRGF0ZXRpbWVBZGFwdGVyIiwiTW9tZW50RGF0ZXRpbWVBZGFwdGVyIiwiTUFUX0RBVEVUSU1FX0ZPUk1BVFMiLCJNYXRUYWJsZURhdGFTb3VyY2UiLCJWaWV3Q29udGFpbmVyUmVmIiwiQ29tcG9uZW50RmFjdG9yeVJlc29sdmVyIiwic3dpdGNoTWFwIiwiSHR0cENsaWVudE1vZHVsZSIsImZvcm1zIiwiY29tYmluZUFsbCIsImRlZmF1bHRJZkVtcHR5IiwiRVNDQVBFIiwiRU5URVIiLCJOR19WQUxVRV9BQ0NFU1NPUiIsImZvcndhcmRSZWYiLCJDb21waWxlciIsIk1lZGlhTWF0Y2hlciIsIk1hdFNpZGVuYXYiLCJBY3RpdmF0ZWRSb3V0ZSIsIlRpdGxlIiwiY29uY2F0TWFwIiwiaW50ZXJ2YWwiLCJ0YWtlV2hpbGUiLCJNYXRTbmFja0JhciIsInJldHJ5IiwiTWluaW1hdGNoIiwiRE9DVU1FTlQiLCJUZXN0QmVkIiwiRGF0ZVBpcGUiLCJTaWRlbmF2TGF5b3V0TW9kdWxlIiwiVHJhbnNsYXRlTG9hZGVyIiwiQVBQX0lOSVRJQUxJWkVSIl0sIm1hcHBpbmdzIjoiOzs7Ozs7OztJQUFBOzs7Ozs7Ozs7Ozs7OztJQWNBO0lBRUEsSUFBSSxhQUFhLEdBQUcsVUFBUyxDQUFDLEVBQUUsQ0FBQztRQUM3QixhQUFhLEdBQUcsTUFB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LElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE1BQU0sR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLENBQUMsRUFBRTtnQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dDQUFDLFNBQVM7NkJBQUU7NEJBQzVHLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO2dDQUFFLENBQUMsQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDLENBQUMsQ0FBQyxDQUFDO2dDQUFDLE1BQU07NkJBQUU7NEJBQ3RGLElBQUksRUFBRSxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsRUFBRTtnQ0FBRSxDQUFDLENBQUMsS0FBSyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQztnQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDO2dDQUFDLE1BQU07NkJBQUU7NEJBQ3JFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxFQUFFO2dDQUFFLENBQUMsQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO2dDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO2dDQUFDLE1BQU07NkJBQUU7NEJBQ25FLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztnQ0FBRSxD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