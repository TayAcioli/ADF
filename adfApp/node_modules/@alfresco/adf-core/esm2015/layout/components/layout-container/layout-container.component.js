/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,uselessCode} checked by tsc
 */
/*!
 * @license
 * Copyright 2016 Alfresco Software, Ltd.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
import { Component, Input, ViewChild, ViewEncapsulation } from '@angular/core';
import { MatSidenav } from '@angular/material';
import { sidenavAnimation, contentAnimationLeft, contentAnimationRight } from '../../helpers/animations';
export class LayoutContainerComponent {
    constructor() {
        this.hideSidenav = false;
        this.expandedSidenav = true;
        /**
         * The side that the drawer is attached to 'start' | 'end' page
         */
        this.position = 'start';
        this.SIDENAV_STATES = { MOBILE: {}, EXPANDED: {}, COMPACT: {} };
        this.CONTENT_STATES = { MOBILE: {}, EXPANDED: {}, COMPACT: {} };
        this.onMediaQueryChange = this.onMediaQueryChange.bind(this);
    }
    /**
     * @return {?}
     */
    ngOnInit() {
        this.SIDENAV_STATES.MOBILE = { value: 'expanded', params: { width: this.sidenavMax } };
        this.SIDENAV_STATES.EXPANDED = { value: 'expanded', params: { width: this.sidenavMax } };
        this.SIDENAV_STATES.COMPACT = { value: 'compact', params: { width: this.sidenavMin } };
        this.CONTENT_STATES.MOBILE = { value: 'expanded', params: { margin: 0 } };
        this.CONTENT_STATES.EXPANDED = { value: 'expanded', params: { margin: this.sidenavMin } };
        this.CONTENT_STATES.COMPACT = { value: 'compact', params: { margin: this.sidenavMax } };
        this.mediaQueryList.addListener(this.onMediaQueryChange);
        if (this.isMobileScreenSize) {
            this.sidenavAnimationState = this.SIDENAV_STATES.MOBILE;
            this.contentAnimationState = this.CONTENT_STATES.MOBILE;
        }
        else if (this.expandedSidenav) {
            this.sidenavAnimationState = this.SIDENAV_STATES.EXPANDED;
            this.contentAnimationState = this.CONTENT_STATES.COMPACT;
        }
        else {
            this.sidenavAnimationState = this.SIDENAV_STATES.COMPACT;
            this.contentAnimationState = this.CONTENT_STATES.EXPANDED;
        }
    }
    /**
     * @return {?}
     */
    ngOnDestroy() {
        this.mediaQueryList.removeListener(this.onMediaQueryChange);
    }
    /**
     * @return {?}
     */
    toggleMenu() {
        if (this.isMobileScreenSize) {
            this.sidenav.toggle();
        }
        else {
            this.sidenavAnimationState = this.toggledSidenavAnimation;
            this.contentAnimationState = this.toggledContentAnimation;
        }
    }
    /**
     * @return {?}
     */
    get toggledSidenavAnimation() {
        return this.sidenavAnimationState === this.SIDENAV_STATES.EXPANDED
            ? this.SIDENAV_STATES.COMPACT
            : this.SIDENAV_STATES.EXPANDED;
    }
    /**
     * @return {?}
     */
    get toggledContentAnimation() {
        if (this.isMobileScreenSize) {
            return this.CONTENT_STATES.MOBILE;
        }
        if (this.sidenavAnimationState === this.SIDENAV_STATES.EXPANDED) {
            return this.CONTENT_STATES.COMPACT;
        }
        else {
            return this.CONTENT_STATES.EXPANDED;
        }
    }
    /**
     * @return {?}
     */
    get isMobileScreenSize() {
        return this.mediaQueryList.matches;
    }
    /**
     * @return {?}
     */
    onMediaQueryChange() {
        this.sidenavAnimationState = this.SIDENAV_STATES.EXPANDED;
        this.contentAnimationState = this.toggledContentAnimation;
    }
    /**
     * @return {?}
     */
    getContentAnimationStateLeft() {
        if (this.position === 'start') {
            return this.contentAnimationState;
        }
        else {
            return { value: 'compact', params: { width: this.sidenavMin } };
        }
    }
    /**
     * @return {?}
     */
    getContentAnimationStateRight() {
        if (this.position === 'end') {
            return this.contentAnimationState;
        }
        else {
            return { value: 'compact', params: { width: this.sidenavMin } };
        }
    }
}
LayoutContainerComponent.decorators = [
    { type: Component, args: [{
                selector: 'adf-layout-container',
                template: "<mat-sidenav-container>\n    <mat-sidenav\n        [position]=\"position\"\n        [disableClose]=\"!isMobileScreenSize\"\n        [ngClass]=\"{ 'sidenav--hidden': hideSidenav }\"\n        [@sidenavAnimation]=\"sidenavAnimationState\"\n        [opened]=\"!isMobileScreenSize\"\n        [mode]=\"isMobileScreenSize ? 'over' : 'side'\">\n        <ng-content sidenav select=\"[app-layout-navigation]\"></ng-content>\n    </mat-sidenav>\n\n    <div>\n        <div [@contentAnimationLeft]=\"getContentAnimationStateLeft()\" [@contentAnimationRight]=\"getContentAnimationStateRight()\">\n            <ng-content select=\"[app-layout-content]\"></ng-content>\n        </div>\n    </div>\n</mat-sidenav-container>\n",
                encapsulation: ViewEncapsulation.None,
                animations: [sidenavAnimation, contentAnimationLeft, contentAnimationRight],
                styles: [""]
            }] }
];
/** @nocollapse */
LayoutContainerComponent.ctorParameters = () => [];
LayoutContainerComponent.propDecorators = {
    sidenavMin: [{ type: Input }],
    sidenavMax: [{ type: Input }],
    mediaQueryList: [{ type: Input }],
    hideSidenav: [{ type: Input }],
    expandedSidenav: [{ type: Input }],
    position: [{ type: Input }],
    sidenav: [{ type: ViewChild, args: [MatSidenav,] }]
};
if (false) {
    /** @type {?} */
    LayoutContainerComponent.prototype.sidenavMin;
    /** @type {?} */
    LayoutContainerComponent.prototype.sidenavMax;
    /** @type {?} */
    LayoutContainerComponent.prototype.mediaQueryList;
    /** @type {?} */
    LayoutContainerComponent.prototype.hideSidenav;
    /** @type {?} */
    LayoutContainerComponent.prototype.expandedSidenav;
    /**
     * The side that the drawer is attached to 'start' | 'end' page
     * @type {?}
     */
    LayoutContainerComponent.prototype.position;
    /** @type {?} */
    LayoutContainerComponent.prototype.sidenav;
    /** @type {?} */
    LayoutContainerComponent.prototype.sidenavAnimationState;
    /** @type {?} */
    LayoutContainerComponent.prototype.contentAnimationState;
    /** @type {?} */
    LayoutContainerComponent.prototype.SIDENAV_STATES;
    /** @type {?} */
    LayoutContainerComponent.prototype.CONTENT_STATES;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGF5b3V0LWNvbnRhaW5lci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9AYWxmcmVzY28vYWRmLWNvcmUvIiwic291cmNlcyI6WyJsYXlvdXQvY29tcG9uZW50cy9sYXlvdXQtY29udGFpbmVyL2xheW91dC1jb250YWluZXIuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBaUJBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFFLFNBQVMsRUFBcUIsaUJBQWlCLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFDbEcsT0FBTyxFQUFFLFVBQVUsRUFBRSxNQUFNLG1CQUFtQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxnQkFBZ0IsRUFBRSxvQkFBb0IsRUFBRSxxQkFBcUIsRUFBRSxNQUFNLDBCQUEwQixDQUFDO0FBU3pHLE1BQU07SUFxQkY7MkJBZHVCLEtBQUs7K0JBQ0QsSUFBSTs7Ozt3QkFHWCxPQUFPOzhCQU9WLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7OEJBQ3pDLEVBQUUsTUFBTSxFQUFFLEVBQUUsRUFBRSxRQUFRLEVBQUUsRUFBRSxFQUFFLE9BQU8sRUFBRSxFQUFFLEVBQUU7UUFHdEQsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7S0FDaEU7Ozs7SUFFRCxRQUFRO1FBQ0osSUFBSSxDQUFDLGNBQWMsQ0FBQyxNQUFNLEdBQUcsRUFBRSxLQUFLLEVBQUUsVUFBVSxFQUFFLE1BQU0sRUFBRSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsVUFBVSxFQUFFLEVBQUUsQ0FBQztRQUN2RixJQUFJLENBQUMsY0FBYyxDQUFDLFFBQVEsR0FBRyxFQUFFLEtBQUssRUFBRSxVQUFVLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FB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QUMsY0FBYyxDQUFDLFFBQVEsQ0FBQztRQUMxRCxJQUFJLENBQUMscUJBQXFCLEdBQUcsSUFBSSxDQUFDLHVCQUF1QixDQUFDOzs7OztJQUc5RCw0QkFBNEI7UUFDeEIsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLE9BQU8sRUFBRTtZQUMzQixPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztTQUNyQzthQUFNO1lBQ0gsT0FBTyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDO1NBQ25FO0tBQ0o7Ozs7SUFFRCw2QkFBNkI7UUFDekIsSUFBSSxJQUFJLENBQUMsUUFBUSxLQUFLLEtBQUssRUFBRTtZQUN6QixPQUFPLElBQUksQ0FBQyxxQkFBcUIsQ0FBQztTQUVyQzthQUFNO1lBQ0gsT0FBTyxFQUFFLEtBQUssRUFBRSxTQUFTLEVBQUUsTUFBTSxFQUFFLEVBQUUsS0FBSyxFQUFFLElBQUksQ0FBQyxVQUFVLEVBQUUsRUFBRSxDQUFDO1NBQ25FO0tBQ0o7OztZQTlHSixTQUFTLFNBQUM7Z0JBQ1AsUUFBUSxFQUFFLHNCQUFzQjtnQkFDaEMsZ3RCQUFnRDtnQkFFaEQsYUFBYSxFQUFFLGlCQUFpQixDQUFDLElBQUk7Z0JBQ3JDLFVBQVUsRUFBRSxDQUFDLGdCQUFnQixFQUFFLG9CQUFvQixFQUFFLHFCQUFxQixDQUFDOzthQUM5RTs7Ozs7eUJBRUksS0FBSzt5QkFDTCxLQUFLOzZCQUdMLEtBQUs7MEJBRUwsS0FBSzs4QkFDTCxLQUFLO3VCQUdMLEtBQUs7c0JBRUwsU0FBUyxTQUFDLFVBQVUiLCJzb3VyY2VzQ29udGVudCI6WyIvKiFcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNiBBbGZyZXNjbyBTb2Z0d2FyZSwgTHRkLlxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuXG5pbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3Q2hpbGQsIE9uSW5pdCwgT25EZXN0cm95LCBWaWV3RW5jYXBzdWxhdGlvbiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0U2lkZW5hdiB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcbmltcG9ydCB7IHNpZGVuYXZBbmltYXRpb24sIGNvbnRlbnRBbmltYXRpb25MZWZ0LCBjb250ZW50QW5pbWF0aW9uUmlnaHQgfSBmcm9tICcuLi8uLi9oZWxwZXJzL2FuaW1hdGlvbnMnO1xuXG5AQ29tcG9uZW50KHtcbiAgICBzZWxlY3RvcjogJ2FkZi1sYXlvdXQtY29udGFpbmVyJyxcbiAgICB0ZW1wbGF0ZVVybDogJy4vbGF5b3V0LWNvbnRhaW5lci5jb21wb25lbnQuaHRtbCcsXG4gICAgc3R5bGVVcmxzOiBbJy4vbGF5b3V0LWNvbnRhaW5lci5jb21wb25lbnQuc2NzcyddLFxuICAgIGVuY2Fwc3VsYXRpb246IFZpZXdFbmNhcHN1bGF0aW9uLk5vbmUsXG4gICAgYW5pbWF0aW9uczogW3NpZGVuYXZBbmltYXRpb24sIGNvbnRlbnRBbmltYXRpb25MZWZ0LCBjb250ZW50QW5pbWF0aW9uUmlnaHRdXG59KVxuZXhwb3J0IGNsYXNzIExheW91dENvbnRhaW5lckNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCwgT25EZXN0cm95IHtcbiAgICBASW5wdXQoKSBzaWRlbmF2TWluOiBudW1iZXI7XG4gICAgQElucHV0KCkgc2lkZW5hdk1heDogbnVtYmVyO1xuXG4gICAgLy8gXCIgfCBhbnlcIiwgYmVjYXVzZSBTYWZhcmkgdGhyb3dzIGFuIGVycm9yIG90aGVyd2lzZS4uLlxuICAgIEBJbnB1dCgpIG1lZGlhUXVlcnlMaXN0OiBNZWRpYVF1ZXJ5TGlzdCB8IGFueTtcblxuICAgIEBJbnB1dCgpIGhpZGVTaWRlbmF2ID0gZmFsc2U7XG4gICAgQElucHV0KCkgZXhwYW5kZWRTaWRlbmF2ID0gdHJ1ZTtcblxuICAgIC8qKiBUaGUgc2lkZSB0aGF0IHRoZSBkcmF3ZXIgaXMgYXR0YWNoZWQgdG8gJ3N0YXJ0JyB8ICdlbmQnIHBhZ2UgKi9cbiAgICBASW5wdXQoKSBwb3NpdGlvbiA9ICdzdGFydCc7XG5cbiAgICBAVmlld0NoaWxkKE1hdFNpZGVuYXYpIHNpZGVuYXY6IE1hdFNpZGVuYXY7XG5cbiAgICBzaWRlbmF2QW5pbWF0aW9uU3RhdGU6IGFueTtcbiAgICBjb250ZW50QW5pbWF0aW9uU3RhdGU6IGFueTtcblxuICAgIFNJREVOQVZfU1RBVEVTID0geyBNT0JJTEU6IHt9LCBFWFBBTkRFRDoge30sIENPTVBBQ1Q6IHt9IH07XG4gICAgQ09OVEVOVF9TVEFURVMgPSB7IE1PQklMRToge30sIEVYUEFOREVEOiB7fSwgQ09NUEFDVDoge30gfTtcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm9uTWVkaWFRdWVyeUNoYW5nZSA9IHRoaXMub25NZWRpYVF1ZXJ5Q2hhbmdlLmJpbmQodGhpcyk7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG4gICAgICAgIHRoaXMuU0lERU5BVl9TVEFURVMuTU9CSUxFID0geyB2YWx1ZTogJ2V4cGFuZGVkJywgcGFyYW1zOiB7IHdpZHRoOiB0aGlzLnNpZGVuYXZNYXggfSB9O1xuICAgICAgICB0aGlzLlNJREVOQVZfU1RBVEVTLkVYUEFOREVEID0geyB2YWx1ZTogJ2V4cGFuZGVkJywgcGFyYW1zOiB7IHdpZHRoOiB0aGlzLnNpZGVuYXZNYXggfSB9O1xuICAgICAgICB0aGlzLlNJREVOQVZfU1RBVEVTLkNPTVBBQ1QgPSB7IHZhbHVlOiAnY29tcGFjdCcsIHBhcmFtczogeyB3aWR0aDogdGhpcy5zaWRlbmF2TWluIH0gfTtcblxuICAgICAgICB0aGlzLkNPTlRFTlRfU1RBVEVTLk1PQklMRSA9IHsgdmFsdWU6ICdleHBhbmRlZCcsIHBhcmFtczogeyBtYXJnaW46IDAgfSB9O1xuICAgICAgICB0aGlzLkNPTlRFTlRfU1RBVEVTLkVYUEFOREVEID0geyB2YWx1ZTogJ2V4cGFuZGVkJywgcGFyYW1zOiB7IG1hcmdpbjogdGhpcy5zaWRlbmF2TWluIH0gfTtcbiAgICAgICAgdGhpcy5DT05URU5UX1NUQVRFUy5DT01QQUNUID0geyB2YWx1ZTogJ2NvbXBhY3QnLCBwYXJhbXM6IHsgbWFyZ2luOiB0aGlzLnNpZGVuYXZNYXggfSB9O1xuXG4gICAgICAgIHRoaXMubWVkaWFRdWVyeUxpc3QuYWRkTGlzdGVuZXIodGhpcy5vbk1lZGlhUXVlcnlDaGFuZ2UpO1xuXG4gICAgICAgIGlmICh0aGlzLmlzTW9iaWxlU2NyZWVuU2l6ZSkge1xuICAgICAgICAgICAgdGhpcy5zaWRlbmF2QW5pbWF0aW9uU3RhdGUgPSB0aGlzLlNJREVOQVZfU1RBVEVTLk1PQklMRTtcbiAgICAgICAgICAgIHRoaXMuY29udGVudEFuaW1hdGlvblN0YXRlID0gdGhpcy5DT05URU5UX1NUQVRFUy5NT0JJTEU7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5leHBhbmRlZFNpZGVuYXYpIHtcbiAgICAgICAgICAgIHRoaXMuc2lkZW5hdkFuaW1hdGlvblN0YXRlID0gdGhpcy5TSURFTkFWX1NUQVRFUy5FWFBBTkRFRDtcbiAgICAgICAgICAgIHRoaXMuY29udGVudEFuaW1hdGlvblN0YXRlID0gdGhpcy5DT05URU5UX1NUQVRFUy5DT01QQUNUO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5zaWRlbmF2QW5pbWF0aW9uU3RhdGUgPSB0aGlzLlNJREVOQVZfU1RBVEVTLkNPTVBBQ1Q7XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRBbmltYXRpb25TdGF0ZSA9IHRoaXMuQ09OVEVOVF9TVEFURVMuRVhQQU5ERUQ7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBuZ09uRGVzdHJveSgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5tZWRpYVF1ZXJ5TGlzdC5yZW1vdmVMaXN0ZW5lcih0aGlzLm9uTWVkaWFRdWVyeUNoYW5nZSk7XG4gICAgfVxuXG4gICAgdG9nZ2xlTWVudSgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNNb2JpbGVTY3JlZW5TaXplKSB7XG4gICAgICAgICAgICB0aGlzLnNpZGVuYXYudG9nZ2xlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNpZGVuYXZBbmltYXRpb25TdGF0ZSA9IHRoaXMudG9nZ2xlZFNpZGVuYXZBbmltYXRpb247XG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRBbmltYXRpb25TdGF0ZSA9IHRoaXMudG9nZ2xlZENvbnRlbnRBbmltYXRpb247XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGdldCB0b2dnbGVkU2lkZW5hdkFuaW1hdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2lkZW5hdkFuaW1hdGlvblN0YXRlID09PSB0aGlzLlNJREVOQVZfU1RBVEVTLkVYUEFOREVEXG4gICAgICAgICAgICA/IHRoaXMuU0lERU5BVl9TVEFURVMuQ09NUEFDVFxuICAgICAgICAgICAgOiB0aGlzLlNJREVOQVZfU1RBVEVTLkVYUEFOREVEO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0IHRvZ2dsZWRDb250ZW50QW5pbWF0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy5pc01vYmlsZVNjcmVlblNpemUpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkNPTlRFTlRfU1RBVEVTLk1PQklMRTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnNpZGVuYXZBbmltYXRpb25TdGF0ZSA9PT0gdGhpcy5TSURFTkFWX1NUQVRFUy5FWFBBTkRFRCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuQ09OVEVOVF9TVEFURVMuQ09NUEFDVDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLkNPTlRFTlRfU1RBVEVTLkVYUEFOREVEO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZ2V0IGlzTW9iaWxlU2NyZWVuU2l6ZSgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWVkaWFRdWVyeUxpc3QubWF0Y2hlcztcbiAgICB9XG5cbiAgICBwcml2YXRlIG9uTWVkaWFRdWVyeUNoYW5nZSgpIHtcbiAgICAgICAgdGhpcy5zaWRlbmF2QW5pbWF0aW9uU3RhdGUgPSB0aGlzLlNJREVOQVZfU1RBVEVTLkVYUEFOREVEO1xuICAgICAgICB0aGlzLmNvbnRlbnRBbmltYXRpb25TdGF0ZSA9IHRoaXMudG9nZ2xlZENvbnRlbnRBbmltYXRpb247XG4gICAgfVxuXG4gICAgZ2V0Q29udGVudEFuaW1hdGlvblN0YXRlTGVmdCgpIHtcbiAgICAgICAgaWYgKHRoaXMucG9zaXRpb24gPT09ICdzdGFydCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRBbmltYXRpb25TdGF0ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiAnY29tcGFjdCcsIHBhcmFtczogeyB3aWR0aDogdGhpcy5zaWRlbmF2TWluIH0gfTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENvbnRlbnRBbmltYXRpb25TdGF0ZVJpZ2h0KCkge1xuICAgICAgICBpZiAodGhpcy5wb3NpdGlvbiA9PT0gJ2VuZCcpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbnRlbnRBbmltYXRpb25TdGF0ZTtcblxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6ICdjb21wYWN0JywgcGFyYW1zOiB7IHdpZHRoOiB0aGlzLnNpZGVuYXZNaW4gfSB9O1xuICAgICAgICB9XG4gICAgfVxufVxuIl19